!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="/assets/bundles/",__webpack_require__(__webpack_require__.s=1134)}([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.opUiComponentsModule=angular.module("openproject.uiComponents",["ui.select","ui.router","ui.router.state.events","openproject.workPackages.services"]).run(["$rootScope",function($rootScope){$rootScope.I18n=I18n}]),exports.animationsModule=angular.module("openproject.animations",["ngAnimate"]),exports.opConfigModule=angular.module("openproject.config",[]),exports.opServicesModule=angular.module("openproject.services",["openproject.uiComponents","openproject.config","openproject.helpers","openproject.workPackages.config","openproject.workPackages.helpers","openproject.api","angular-cache","openproject.filters"]),angular.module("openproject.helpers",["openproject.services"]),exports.opModelsModule=angular.module("openproject.models",["openproject.workPackages.config","openproject.services"]),exports.opViewModelsModule=angular.module("openproject.viewModels",["openproject.services"]),angular.module("openproject.timelines",["openproject.timelines.controllers","openproject.timelines.directives","openproject.uiComponents"]),angular.module("openproject.timelines.models",["openproject.helpers"]),angular.module("openproject.timelines.helpers",[]),angular.module("openproject.timelines.controllers",["openproject.timelines.models"]),angular.module("openproject.timelines.services",["openproject.timelines.models","openproject.timelines.helpers"]),angular.module("openproject.timelines.directives",["openproject.timelines.models","openproject.timelines.services","openproject.uiComponents","openproject.helpers"]),exports.opWorkPackagesModule=angular.module("openproject.workPackages",["openproject.workPackages.activities","openproject.workPackages.controllers","openproject.workPackages.filters","openproject.workPackages.directives","openproject.workPackages.tabs","openproject.uiComponents","ng-context-menu","ngFileUpload"]),exports.wpServicesModule=angular.module("openproject.workPackages.services",["openproject.inplace-edit"]),angular.module("openproject.workPackages.helpers",["openproject.helpers","openproject.workPackages.services"]),angular.module("openproject.workPackages.filters",["openproject.workPackages.helpers"]),angular.module("openproject.workPackages.config",[]),exports.wpControllersModule=angular.module("openproject.workPackages.controllers",["openproject.models","openproject.viewModels","openproject.workPackages.helpers","openproject.services","openproject.workPackages.config","openproject.layout","btford.modal"]),angular.module("openproject.workPackages.models",[]),exports.wpDirectivesModule=angular.module("openproject.workPackages.directives",["openproject.uiComponents","openproject.services","openproject.workPackages.services","openproject.workPackages.models"]),exports.wpTabsModule=angular.module("openproject.workPackages.tabs",[]),angular.module("openproject.workPackages.activities",[]),angular.module("openproject.messages",["openproject.messages.controllers"]),angular.module("openproject.messages.controllers",[]),angular.module("openproject.timeEntries",["openproject.timeEntries.controllers"]),angular.module("openproject.timeEntries.controllers",[]),angular.module("openproject.layout",["openproject.layout.controllers","ui.router","ui.router.state.events"]),angular.module("openproject.layout.controllers",[]),exports.opApiModule=angular.module("openproject.api",["openproject.workPackages","openproject.services"]),exports.opTemplatesModule=angular.module("openproject.templates",[]),exports.opNotificationsModule=angular.module("openproject.notifications",["openproject.config"]),angular.module("openproject.inplace-edit",[]),angular.module("openproject.responsive",[]),exports.filtersModule=angular.module("openproject.filters",["openproject.models"]),exports.wpButtonsModule=angular.module("openproject.wpButtons",["ui.router","ui.router.state.events","openproject.services"]);var angularDragula=__webpack_require__(611);exports.openprojectModule=angular.module("openproject",["ui.router","ui.router.state.events","openproject.animations","openproject.config","openproject.uiComponents","openproject.timelines","openproject.workPackages","openproject.messages","openproject.timeEntries","ngAnimate","ngAria","ngSanitize",angularDragula(angular),"ngDialog","truncate","openproject.layout","openproject.api","openproject.templates","monospaced.elastic","openproject.inplace-edit",exports.wpButtonsModule.name,"openproject.responsive",exports.filtersModule.name]),exports.default=exports.openprojectModule},function(module,exports,__webpack_require__){"use strict";var root_1=__webpack_require__(15),toSubscriber_1=__webpack_require__(1015),observable_1=__webpack_require__(81),Observable=function(){function Observable(subscribe){this._isScalar=!1,subscribe&&(this._subscribe=subscribe)}return Observable.prototype.lift=function(operator){var observable=new Observable;return observable.source=this,observable.operator=operator,observable},Observable.prototype.subscribe=function(observerOrNext,error,complete){var operator=this.operator,sink=toSubscriber_1.toSubscriber(observerOrNext,error,complete);if(operator?operator.call(sink,this.source):sink.add(this._subscribe(sink)),sink.syncErrorThrowable&&(sink.syncErrorThrowable=!1,sink.syncErrorThrown))throw sink.syncErrorValue;return sink},Observable.prototype.forEach=function(next,PromiseCtor){var _this=this;if(PromiseCtor||(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise?PromiseCtor=root_1.root.Rx.config.Promise:root_1.root.Promise&&(PromiseCtor=root_1.root.Promise)),!PromiseCtor)throw new Error("no Promise impl found");return new PromiseCtor(function(resolve,reject){var subscription=_this.subscribe(function(value){if(subscription)try{next(value)}catch(err){reject(err),subscription.unsubscribe()}else next(value)},reject,resolve)})},Observable.prototype._subscribe=function(subscriber){return this.source.subscribe(subscriber)},Observable.prototype[observable_1.$$observable]=function(){return this},Observable.create=function(subscribe){return new Observable(subscribe)},Observable}();exports.Observable=Observable},function(module,exports,__webpack_require__){(function(global,module){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){function n(n,t){return n.set(t[0],t[1]),n}function t(n,t){return n.add(t),n}function r(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function e(n,t,r,e){for(var u=-1,i=null==n?0:n.length;++u<i;){var o=n[u];t(e,o,r(o),n)}return e}function u(n,t){for(var r=-1,e=null==n?0:n.length;++r<e&&!1!==t(n[r],r,n););return n}function i(n,t){for(var r=null==n?0:n.length;r--&&!1!==t(n[r],r,n););return n}function o(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function f(n,t){for(var r=-1,e=null==n?0:n.length,u=0,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[u++]=o)}return i}function c(n,t){return!(null==n||!n.length)&&-1<d(n,t,0)}function a(n,t,r){for(var e=-1,u=null==n?0:n.length;++e<u;)if(r(t,n[e]))return!0;return!1}function l(n,t){for(var r=-1,e=null==n?0:n.length,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function s(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function h(n,t,r,e){var u=-1,i=null==n?0:n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function p(n,t,r,e){var u=null==n?0:n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function _(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function v(n,t,r){var e;return r(n,function(n,r,u){if(t(n,r,u))return e=r,!1}),e}function g(n,t,r,e){var u=n.length;for(r+=e?1:-1;e?r--:++r<u;)if(t(n[r],r,n))return r;return-1}function d(n,t,r){if(t===t)n:{--r;for(var e=n.length;++r<e;)if(n[r]===t){n=r;break n}n=-1}else n=g(n,b,r);return n}function y(n,t,r,e){--r;for(var u=n.length;++r<u;)if(e(n[r],t))return r;return-1}function b(n){return n!==n}function x(n,t){var r=null==n?0:n.length;return r?k(n,t)/r:P}function j(n){return function(t){return null==t?F:t[n]}}function w(n){return function(t){return null==n?F:n[t]}}function m(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function A(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].c;return n}function k(n,t){for(var r,e=-1,u=n.length;++e<u;){var i=t(n[e]);i!==F&&(r=r===F?i:r+i)}return r}function E(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function O(n,t){return l(t,function(t){return[t,n[t]]})}function S(n){return function(t){return n(t)}}function I(n,t){return l(t,function(t){return n[t]})}function R(n,t){return n.has(t)}function z(n,t){for(var r=-1,e=n.length;++r<e&&-1<d(t,n[r],0););return r}function W(n,t){for(var r=n.length;r--&&-1<d(t,n[r],0););return r}function B(n){return"\\"+Tn[n]}function L(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function U(n,t){return function(r){return n(t(r))}}function C(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r];o!==t&&"__lodash_placeholder__"!==o||(n[r]="__lodash_placeholder__",i[u++]=r)}return i}function D(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=n}),r}function M(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=[n,n]}),r}function T(n){if(Bn.test(n)){for(var t=zn.lastIndex=0;zn.test(n);)++t;n=t}else n=tt(n);return n}function $(n){return Bn.test(n)?n.match(zn)||[]:n.split("")}var F,N=1/0,P=NaN,Z=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],q=/\b__p\+='';/g,V=/\b(__p\+=)''\+/g,K=/(__e\(.*?\)|\b__t\))\+'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,J=RegExp(G.source),Y=RegExp(H.source),Q=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,nn=/<%=([\s\S]+?)%>/g,tn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rn=/^\w*$/,en=/^\./,un=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,on=/[\\^$.*+?()[\]{}|]/g,fn=RegExp(on.source),cn=/^\s+|\s+$/g,an=/^\s+/,ln=/\s+$/,sn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,hn=/\{\n\/\* \[wrapped with (.+)\] \*/,pn=/,? & /,_n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,vn=/\\(\\)?/g,gn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dn=/\w*$/,yn=/^[-+]0x[0-9a-f]+$/i,bn=/^0b[01]+$/i,xn=/^\[object .+?Constructor\]$/,jn=/^0o[0-7]+$/i,wn=/^(?:0|[1-9]\d*)$/,mn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,An=/($^)/,kn=/['\n\r\u2028\u2029\\]/g,En="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?)*",On="(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+En,Sn="(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]?|[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])",In=RegExp("['’]","g"),Rn=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g"),zn=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+Sn+En,"g"),Wn=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)|\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)|\\d+",On].join("|"),"g"),Bn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Ln=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Un="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),Cn={};Cn["[object Float32Array]"]=Cn["[object Float64Array]"]=Cn["[object Int8Array]"]=Cn["[object Int16Array]"]=Cn["[object Int32Array]"]=Cn["[object Uint8Array]"]=Cn["[object Uint8ClampedArray]"]=Cn["[object Uint16Array]"]=Cn["[object Uint32Array]"]=!0,Cn["[object Arguments]"]=Cn["[object Array]"]=Cn["[object ArrayBuffer]"]=Cn["[object Boolean]"]=Cn["[object DataView]"]=Cn["[object Date]"]=Cn["[object Error]"]=Cn["[object Function]"]=Cn["[object Map]"]=Cn["[object Number]"]=Cn["[object Object]"]=Cn["[object RegExp]"]=Cn["[object Set]"]=Cn["[object String]"]=Cn["[object WeakMap]"]=!1;var Dn={};Dn["[object Arguments]"]=Dn["[object Array]"]=Dn["[object ArrayBuffer]"]=Dn["[object DataView]"]=Dn["[object Boolean]"]=Dn["[object Date]"]=Dn["[object Float32Array]"]=Dn["[object Float64Array]"]=Dn["[object Int8Array]"]=Dn["[object Int16Array]"]=Dn["[object Int32Array]"]=Dn["[object Map]"]=Dn["[object Number]"]=Dn["[object Object]"]=Dn["[object RegExp]"]=Dn["[object Set]"]=Dn["[object String]"]=Dn["[object Symbol]"]=Dn["[object Uint8Array]"]=Dn["[object Uint8ClampedArray]"]=Dn["[object Uint16Array]"]=Dn["[object Uint32Array]"]=!0,Dn["[object Error]"]=Dn["[object Function]"]=Dn["[object WeakMap]"]=!1;var Mn,Tn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$n=parseFloat,Fn=parseInt,Nn="object"==typeof global&&global&&global.Object===Object&&global,Pn="object"==typeof self&&self&&self.Object===Object&&self,Zn=Nn||Pn||Function("return this")(),qn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Vn=qn&&"object"==typeof module&&module&&!module.nodeType&&module,Kn=Vn&&Vn.exports===qn,Gn=Kn&&Nn.process;n:{try{Mn=Gn&&Gn.binding&&Gn.binding("util");break n}catch(n){}Mn=void 0}var Hn=Mn&&Mn.isArrayBuffer,Jn=Mn&&Mn.isDate,Yn=Mn&&Mn.isMap,Qn=Mn&&Mn.isRegExp,Xn=Mn&&Mn.isSet,nt=Mn&&Mn.isTypedArray,tt=j("length"),rt=w({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),et=w({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),ut=w({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),it=function w(En){function On(n){if(xu(n)&&!af(n)&&!(n instanceof Mn)){if(n instanceof zn)return n;if(ci.call(n,"__wrapped__"))return Pe(n)}return new zn(n)}function Sn(){}function zn(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=F}function Mn(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Tn(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Nn(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Pn(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function qn(n){var t=-1,r=null==n?0:n.length;for(this.__data__=new Pn;++t<r;)this.add(n[t])}function Vn(n){this.size=(this.__data__=new Nn(n)).size}function Gn(n,t){var r,e=af(n),u=!e&&cf(n),i=!e&&!u&&sf(n),o=!e&&!u&&!i&&gf(n),u=(e=e||u||i||o)?E(n.length,ri):[],f=u.length;for(r in n)!t&&!ci.call(n,r)||e&&("length"==r||i&&("offset"==r||"parent"==r)||o&&("buffer"==r||"byteLength"==r||"byteOffset"==r)||Re(r,f))||u.push(r);return u}function tt(n){var t=n.length;return t?n[cr(0,t-1)]:F}function ot(n,t){return Te(Mr(n),gt(t,0,n.length))}function ft(n){return Te(Mr(n))}function ct(n,t,r){(r===F||hu(n[t],r))&&(r!==F||t in n)||_t(n,t,r)}function at(n,t,r){var e=n[t];ci.call(n,t)&&hu(e,r)&&(r!==F||t in n)||_t(n,t,r)}function lt(n,t){for(var r=n.length;r--;)if(hu(n[r][0],t))return r;return-1}function st(n,t,r,e){return oo(n,function(n,u,i){t(e,n,r(n),i)}),e}function ht(n,t){return n&&Tr(t,Lu(t),n)}function pt(n,t){return n&&Tr(t,Uu(t),n)}function _t(n,t,r){"__proto__"==t&&Ei?Ei(n,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[t]=r}function vt(n,t){for(var r=-1,e=t.length,u=Hu(e),i=null==n;++r<e;)u[r]=i?F:Wu(n,t[r]);return u}function gt(n,t,r){return n===n&&(r!==F&&(n=n<=r?n:r),t!==F&&(n=n>=t?n:t)),n}function dt(n,t,r,e,i,o){var f,c=1&t,a=2&t,l=4&t;if(r&&(f=i?r(n,e,i,o):r(n)),f!==F)return f;if(!bu(n))return n;if(e=af(n)){if(f=Ee(n),!c)return Mr(n,f)}else{var s=yo(n),h="[object Function]"==s||"[object GeneratorFunction]"==s;if(sf(n))return Wr(n,c);if("[object Object]"==s||"[object Arguments]"==s||h&&!i){if(f=a||h?{}:Oe(n),!c)return a?Fr(n,pt(f,n)):$r(n,ht(f,n))}else{if(!Dn[s])return i?n:{};f=Se(n,s,dt,c)}}if(o||(o=new Vn),i=o.get(n))return i;o.set(n,f);var a=l?a?ye:de:a?Uu:Lu,p=e?F:a(n);return u(p||n,function(e,u){p&&(u=e,e=n[u]),at(f,u,dt(e,t,r,u,n,o))}),f}function yt(n){var t=Lu(n);return function(r){return bt(r,n,t)}}function bt(n,t,r){var e=r.length;if(null==n)return!e;for(n=ni(n);e--;){var u=r[e],i=t[u],o=n[u];if(o===F&&!(u in n)||!i(o))return!1}return!0}function xt(n,t,r){if("function"!=typeof n)throw new ei("Expected a function");return jo(function(){n.apply(F,r)},t)}function jt(n,t,r,e){var u=-1,i=c,o=!0,f=n.length,s=[],h=t.length;if(!f)return s;r&&(t=l(t,S(r))),e?(i=a,o=!1):200<=t.length&&(i=R,o=!1,t=new qn(t));n:for(;++u<f;){var p=n[u],_=null==r?p:r(p),p=e||0!==p?p:0;if(o&&_===_){for(var v=h;v--;)if(t[v]===_)continue n;s.push(p)}else i(t,_,e)||s.push(p)}return s}function wt(n,t){var r=!0;return oo(n,function(n,e,u){return r=!!t(n,e,u)}),r}function mt(n,t,r){for(var e=-1,u=n.length;++e<u;){var i=n[e],o=t(i);if(null!=o&&(f===F?o===o&&!Au(o):r(o,f)))var f=o,c=i}return c}function At(n,t){var r=[];return oo(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function kt(n,t,r,e,u){var i=-1,o=n.length;for(r||(r=Ie),u||(u=[]);++i<o;){var f=n[i];0<t&&r(f)?1<t?kt(f,t-1,r,e,u):s(u,f):e||(u[u.length]=f)}return u}function Et(n,t){return n&&co(n,t,Lu)}function Ot(n,t){return n&&ao(n,t,Lu)}function St(n,t){return f(t,function(t){return gu(n[t])})}function It(n,t){t=Rr(t,n);for(var r=0,e=t.length;null!=n&&r<e;)n=n[$e(t[r++])];return r&&r==e?n:F}function Rt(n,t,r){return t=t(n),af(n)?t:s(t,r(n))}function zt(n){if(null==n)n=n===F?"[object Undefined]":"[object Null]";else if(ki&&ki in ni(n)){var t=ci.call(n,ki),r=n[ki];try{n[ki]=F;var e=!0}catch(n){}var u=si.call(n);e&&(t?n[ki]=r:delete n[ki]),n=u}else n=si.call(n);return n}function Wt(n,t){return n>t}function Bt(n,t){return null!=n&&ci.call(n,t)}function Lt(n,t){return null!=n&&t in ni(n)}function Ut(n,t,r){for(var e=r?a:c,u=n[0].length,i=n.length,o=i,f=Hu(i),s=1/0,h=[];o--;){var p=n[o];o&&t&&(p=l(p,S(t))),s=Mi(p.length,s),f[o]=!r&&(t||120<=u&&120<=p.length)?new qn(o&&p):F}var p=n[0],_=-1,v=f[0];n:for(;++_<u&&h.length<s;){var g=p[_],d=t?t(g):g,g=r||0!==g?g:0;if(v?!R(v,d):!e(h,d,r)){for(o=i;--o;){var y=f[o];if(y?!R(y,d):!e(n[o],d,r))continue n}v&&v.push(d),h.push(g)}}return h}function Ct(n,t,r){var e={};return Et(n,function(n,u,i){t(e,r(n),u,i)}),e}function Dt(n,t,e){return t=Rr(t,n),n=2>t.length?n:It(n,vr(t,0,-1)),t=null==n?n:n[$e(Ge(t))],null==t?F:r(t,n,e)}function Mt(n){return xu(n)&&"[object Arguments]"==zt(n)}function Tt(n){return xu(n)&&"[object ArrayBuffer]"==zt(n)}function $t(n){return xu(n)&&"[object Date]"==zt(n)}function Ft(n,t,r,e,u){if(n===t)t=!0;else if(null==n||null==t||!xu(n)&&!xu(t))t=n!==n&&t!==t;else n:{var i=af(n),o=af(t),f=i?"[object Array]":yo(n),c=o?"[object Array]":yo(t),f="[object Arguments]"==f?"[object Object]":f,c="[object Arguments]"==c?"[object Object]":c,a="[object Object]"==f,o="[object Object]"==c;if((c=f==c)&&sf(n)){if(!sf(t)){t=!1;break n}i=!0,a=!1}if(c&&!a)u||(u=new Vn),t=i||gf(n)?_e(n,t,r,e,Ft,u):ve(n,t,f,r,e,Ft,u);else{if(!(1&r)&&(i=a&&ci.call(n,"__wrapped__"),f=o&&ci.call(t,"__wrapped__"),i||f)){n=i?n.value():n,t=f?t.value():t,u||(u=new Vn),t=Ft(n,t,r,e,u);break n}if(c)t:if(u||(u=new Vn),i=1&r,f=de(n),o=f.length,c=de(t).length,o==c||i){for(a=o;a--;){var l=f[a];if(!(i?l in t:ci.call(t,l))){t=!1;break t}}if((c=u.get(n))&&u.get(t))t=c==t;else{c=!0,u.set(n,t),u.set(t,n);for(var s=i;++a<o;){var l=f[a],h=n[l],p=t[l];if(e)var _=i?e(p,h,l,t,n,u):e(h,p,l,n,t,u);if(_===F?h!==p&&!Ft(h,p,r,e,u):!_){c=!1;break}s||(s="constructor"==l)}c&&!s&&(r=n.constructor,e=t.constructor,r!=e&&"constructor"in n&&"constructor"in t&&!("function"==typeof r&&r instanceof r&&"function"==typeof e&&e instanceof e)&&(c=!1)),u.delete(n),u.delete(t),t=c}}else t=!1;else t=!1}}return t}function Nt(n){return xu(n)&&"[object Map]"==yo(n)}function Pt(n,t,r,e){var u=r.length,i=u,o=!e;if(null==n)return!i;for(n=ni(n);u--;){var f=r[u];if(o&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++u<i;){var f=r[u],c=f[0],a=n[c],l=f[1];if(o&&f[2]){if(a===F&&!(c in n))return!1}else{if(f=new Vn,e)var s=e(a,l,c,n,t,f);if(s===F?!Ft(l,a,3,e,f):!s)return!1}}return!0}function Zt(n){return!(!bu(n)||li&&li in n)&&(gu(n)?_i:xn).test(Fe(n))}function qt(n){return xu(n)&&"[object RegExp]"==zt(n)}function Vt(n){return xu(n)&&"[object Set]"==yo(n)}function Kt(n){return xu(n)&&yu(n.length)&&!!Cn[zt(n)]}function Gt(n){return"function"==typeof n?n:null==n?Nu:"object"==typeof n?af(n)?Xt(n[0],n[1]):Qt(n):Vu(n)}function Ht(n){if(!Le(n))return Ci(n);var t,r=[];for(t in ni(n))ci.call(n,t)&&"constructor"!=t&&r.push(t);return r}function Jt(n,t){return n<t}function Yt(n,t){var r=-1,e=pu(n)?Hu(n.length):[];return oo(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function Qt(n){var t=me(n);return 1==t.length&&t[0][2]?Ue(t[0][0],t[0][1]):function(r){return r===n||Pt(r,n,t)}}function Xt(n,t){return We(n)&&t===t&&!bu(t)?Ue($e(n),t):function(r){var e=Wu(r,n);return e===F&&e===t?Bu(r,n):Ft(t,e,3)}}function nr(n,t,r,e,u){n!==t&&co(t,function(i,o){if(bu(i)){u||(u=new Vn);var f=u,c=n[o],a=t[o],l=f.get(a);if(l)ct(n,o,l);else{var l=e?e(c,a,o+"",n,t,f):F,s=l===F;if(s){var h=af(a),p=!h&&sf(a),_=!h&&!p&&gf(a),l=a;h||p||_?af(c)?l=c:_u(c)?l=Mr(c):p?(s=!1,l=Wr(a,!0)):_?(s=!1,l=Lr(a,!0)):l=[]:wu(a)||cf(a)?(l=c,cf(c)?l=Ru(c):(!bu(c)||r&&gu(c))&&(l=Oe(a))):s=!1}s&&(f.set(a,l),nr(l,a,r,e,f),f.delete(a)),ct(n,o,l)}}else f=e?e(n[o],i,o+"",n,t,u):F,f===F&&(f=i),ct(n,o,f)},Uu)}function tr(n,t){var r=n.length;if(r)return t+=0>t?r:0,Re(t,r)?n[t]:F}function rr(n,t,r){var e=-1;return t=l(t.length?t:[Nu],S(je())),n=Yt(n,function(n){return{a:l(t,function(t){return t(n)}),b:++e,c:n}}),A(n,function(n,t){var e;n:{e=-1;for(var u=n.a,i=t.a,o=u.length,f=r.length;++e<o;){var c=Ur(u[e],i[e]);if(c){e=e>=f?c:c*("desc"==r[e]?-1:1);break n}}e=n.b-t.b}return e})}function er(n,t){return ur(n,t,function(t,r){return Bu(n,r)})}function ur(n,t,r){for(var e=-1,u=t.length,i={};++e<u;){var o=t[e],f=It(n,o);r(f,o)&&pr(i,Rr(o,n),f)}return i}function ir(n){return function(t){return It(t,n)}}function or(n,t,r,e){var u=e?y:d,i=-1,o=t.length,f=n;for(n===t&&(t=Mr(t)),r&&(f=l(n,S(r)));++i<o;)for(var c=0,a=t[i],a=r?r(a):a;-1<(c=u(f,a,c,e));)f!==n&&wi.call(f,c,1),wi.call(n,c,1);return n}function fr(n,t){for(var r=n?t.length:0,e=r-1;r--;){var u=t[r];if(r==e||u!==i){var i=u;Re(u)?wi.call(n,u,1):mr(n,u)}}}function cr(n,t){return n+zi(Fi()*(t-n+1))}function ar(n,t){var r="";if(!n||1>t||9007199254740991<t)return r;do t%2&&(r+=n),(t=zi(t/2))&&(n+=n);while(t);return r}function lr(n,t){return wo(Ce(n,t,Nu),n+"")}function sr(n){return tt(Du(n))}function hr(n,t){var r=Du(n);return Te(r,gt(t,0,r.length))}function pr(n,t,r,e){if(!bu(n))return n;t=Rr(t,n);for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var c=$e(t[u]),a=r;if(u!=o){var l=f[c],a=e?e(l,c,f):F;a===F&&(a=bu(l)?l:Re(t[u+1])?[]:{})}at(f,c,a),f=f[c]}return n}function _r(n){return Te(Du(n))}function vr(n,t,r){var e=-1,u=n.length;for(0>t&&(t=-t>u?0:u+t),r=r>u?u:r,0>r&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0,r=Hu(u);++e<u;)r[e]=n[e+t];return r}function gr(n,t){var r;return oo(n,function(n,e,u){return r=t(n,e,u),!r}),!!r}function dr(n,t,r){var e=0,u=null==n?e:n.length;if("number"==typeof t&&t===t&&2147483647>=u){for(;e<u;){var i=e+u>>>1,o=n[i];null!==o&&!Au(o)&&(r?o<=t:o<t)?e=i+1:u=i}return u}return yr(n,t,Nu,r)}function yr(n,t,r,e){t=r(t);for(var u=0,i=null==n?0:n.length,o=t!==t,f=null===t,c=Au(t),a=t===F;u<i;){var l=zi((u+i)/2),s=r(n[l]),h=s!==F,p=null===s,_=s===s,v=Au(s);(o?e||_:a?_&&(e||h):f?_&&h&&(e||!p):c?_&&h&&!p&&(e||!v):p||v?0:e?s<=t:s<t)?u=l+1:i=l}return Mi(i,4294967294)}function br(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r],f=t?t(o):o;if(!r||!hu(f,c)){var c=f;i[u++]=0===o?0:o}}return i}function xr(n){return"number"==typeof n?n:Au(n)?P:+n}function jr(n){if("string"==typeof n)return n;if(af(n))return l(n,jr)+"";if(Au(n))return uo?uo.call(n):"";var t=n+"";return"0"==t&&1/n==-N?"-0":t}function wr(n,t,r){var e=-1,u=c,i=n.length,o=!0,f=[],l=f;if(r)o=!1,u=a;else if(200<=i){if(u=t?null:po(n))return D(u);o=!1,u=R,l=new qn}else l=t?[]:f;n:for(;++e<i;){var s=n[e],h=t?t(s):s,s=r||0!==s?s:0;if(o&&h===h){for(var p=l.length;p--;)if(l[p]===h)continue n;t&&l.push(h),f.push(s)}else u(l,h,r)||(l!==f&&l.push(h),f.push(s))}return f}function mr(n,t){return t=Rr(t,n),n=2>t.length?n:It(n,vr(t,0,-1)),null==n||delete n[$e(Ge(t))]}function Ar(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?vr(n,e?0:i,e?i+1:u):vr(n,e?i+1:0,e?u:i)}function kr(n,t){var r=n;return r instanceof Mn&&(r=r.value()),h(t,function(n,t){return t.func.apply(t.thisArg,s([n],t.args))},r)}function Er(n,t,r){var e=n.length;if(2>e)return e?wr(n[0]):[];for(var u=-1,i=Hu(e);++u<e;)for(var o=n[u],f=-1;++f<e;)f!=u&&(i[u]=jt(i[u]||o,n[f],t,r));return wr(kt(i,1),t,r)}function Or(n,t,r){for(var e=-1,u=n.length,i=t.length,o={};++e<u;)r(o,n[e],e<i?t[e]:F);return o}function Sr(n){return _u(n)?n:[]}function Ir(n){return"function"==typeof n?n:Nu}function Rr(n,t){return af(n)?n:We(n,t)?[n]:mo(zu(n))}function zr(n,t,r){var e=n.length;return r=r===F?e:r,!t&&r>=e?n:vr(n,t,r)}function Wr(n,t){if(t)return n.slice();var r=n.length,r=yi?yi(r):new n.constructor(r);return n.copy(r),r}function Br(n){var t=new n.constructor(n.byteLength);return new di(t).set(new di(n)),t}function Lr(n,t){return new n.constructor(t?Br(n.buffer):n.buffer,n.byteOffset,n.length)}function Ur(n,t){if(n!==t){var r=n!==F,e=null===n,u=n===n,i=Au(n),o=t!==F,f=null===t,c=t===t,a=Au(t);if(!f&&!a&&!i&&n>t||i&&o&&c&&!f&&!a||e&&o&&c||!r&&c||!u)return 1;if(!e&&!i&&!a&&n<t||a&&r&&u&&!e&&!i||f&&r&&u||!o&&u||!c)return-1}return 0}function Cr(n,t,r,e){var u=-1,i=n.length,o=r.length,f=-1,c=t.length,a=Di(i-o,0),l=Hu(c+a);for(e=!e;++f<c;)l[f]=t[f];for(;++u<o;)(e||u<i)&&(l[r[u]]=n[u]);for(;a--;)l[f++]=n[u++];return l}function Dr(n,t,r,e){var u=-1,i=n.length,o=-1,f=r.length,c=-1,a=t.length,l=Di(i-f,0),s=Hu(l+a);for(e=!e;++u<l;)s[u]=n[u];for(l=u;++c<a;)s[l+c]=t[c];for(;++o<f;)(e||u<i)&&(s[l+r[o]]=n[u++]);return s}function Mr(n,t){var r=-1,e=n.length;for(t||(t=Hu(e));++r<e;)t[r]=n[r];return t}function Tr(n,t,r,e){var u=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var f=t[i],c=e?e(r[f],n[f],f,r,n):F;c===F&&(c=n[f]),u?_t(r,f,c):at(r,f,c)}return r}function $r(n,t){return Tr(n,vo(n),t)}function Fr(n,t){return Tr(n,go(n),t)}function Nr(n,t){return function(r,u){var i=af(r)?e:st,o=t?t():{};return i(r,n,je(u,2),o)}}function Pr(n){return lr(function(t,r){var e=-1,u=r.length,i=1<u?r[u-1]:F,o=2<u?r[2]:F,i=3<n.length&&"function"==typeof i?(u--,i):F;for(o&&ze(r[0],r[1],o)&&(i=3>u?F:i,u=1),t=ni(t);++e<u;)(o=r[e])&&n(t,o,e,i);return t})}function Zr(n,t){return function(r,e){if(null==r)return r;if(!pu(r))return n(r,e);for(var u=r.length,i=t?u:-1,o=ni(r);(t?i--:++i<u)&&!1!==e(o[i],i,o););return r}}function qr(n){return function(t,r,e){var u=-1,i=ni(t);e=e(t);for(var o=e.length;o--;){var f=e[n?o:++u];if(!1===r(i[f],f,i))break}return t}}function Vr(n,t,r){function e(){return(this&&this!==Zn&&this instanceof e?i:n).apply(u?r:this,arguments)}var u=1&t,i=Hr(n);return e}function Kr(n){return function(t){t=zu(t);var r=Bn.test(t)?$(t):F,e=r?r[0]:t.charAt(0);return t=r?zr(r,1).join(""):t.slice(1),e[n]()+t}}function Gr(n){return function(t){return h($u(Tu(t).replace(In,"")),n,"")}}function Hr(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:
return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=io(n.prototype),t=n.apply(r,t);return bu(t)?t:r}}function Jr(n,t,e){function u(){for(var o=arguments.length,f=Hu(o),c=o,a=xe(u);c--;)f[c]=arguments[c];return c=3>o&&f[0]!==a&&f[o-1]!==a?[]:C(f,a),o-=c.length,o<e?fe(n,t,Xr,u.placeholder,F,f,c,F,F,e-o):r(this&&this!==Zn&&this instanceof u?i:n,this,f)}var i=Hr(n);return u}function Yr(n){return function(t,r,e){var u=ni(t);if(!pu(t)){var i=je(r,3);t=Lu(t),r=function(n){return i(u[n],n,u)}}return r=n(t,r,e),-1<r?u[i?t[r]:r]:F}}function Qr(n){return ge(function(t){var r=t.length,e=r,u=zn.prototype.thru;for(n&&t.reverse();e--;){var i=t[e];if("function"!=typeof i)throw new ei("Expected a function");if(u&&!o&&"wrapper"==be(i))var o=new zn([],!0)}for(e=o?e:r;++e<r;)var i=t[e],u=be(i),f="wrapper"==u?_o(i):F,o=f&&Be(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?o[be(f[0])].apply(o,f[3]):1==i.length&&Be(i)?o[u]():o.thru(i);return function(){var n=arguments,e=n[0];if(o&&1==n.length&&af(e))return o.plant(e).value();for(var u=0,n=r?t[u].apply(this,n):e;++u<r;)n=t[u].call(this,n);return n}})}function Xr(n,t,r,e,u,i,o,f,c,a){function l(){for(var d=arguments.length,y=Hu(d),b=d;b--;)y[b]=arguments[b];if(_){var x,j=xe(l),b=y.length;for(x=0;b--;)y[b]===j&&++x}if(e&&(y=Cr(y,e,u,_)),i&&(y=Dr(y,i,o,_)),d-=x,_&&d<a)return j=C(y,j),fe(n,t,Xr,l.placeholder,r,y,j,f,c,a-d);if(j=h?r:this,b=p?j[n]:n,d=y.length,f){x=y.length;for(var w=Mi(f.length,x),m=Mr(y);w--;){var A=f[w];y[w]=Re(A,x)?m[A]:F}}else v&&1<d&&y.reverse();return s&&c<d&&(y.length=c),this&&this!==Zn&&this instanceof l&&(b=g||Hr(b)),b.apply(j,y)}var s=128&t,h=1&t,p=2&t,_=24&t,v=512&t,g=p?F:Hr(n);return l}function ne(n,t){return function(r,e){return Ct(r,n,t(e))}}function te(n,t){return function(r,e){var u;if(r===F&&e===F)return t;if(r!==F&&(u=r),e!==F){if(u===F)return e;"string"==typeof r||"string"==typeof e?(r=jr(r),e=jr(e)):(r=xr(r),e=xr(e)),u=n(r,e)}return u}}function re(n){return ge(function(t){return t=l(t,S(je())),lr(function(e){var u=this;return n(t,function(n){return r(n,u,e)})})})}function ee(n,t){t=t===F?" ":jr(t);var r=t.length;return 2>r?r?ar(t,n):t:(r=ar(t,Ri(n/T(t))),Bn.test(t)?zr($(r),0,n).join(""):r.slice(0,n))}function ue(n,t,e,u){function i(){for(var t=-1,c=arguments.length,a=-1,l=u.length,s=Hu(l+c),h=this&&this!==Zn&&this instanceof i?f:n;++a<l;)s[a]=u[a];for(;c--;)s[a++]=arguments[++t];return r(h,o?e:this,s)}var o=1&t,f=Hr(n);return i}function ie(n){return function(t,r,e){e&&"number"!=typeof e&&ze(t,r,e)&&(r=e=F),t=Eu(t),r===F?(r=t,t=0):r=Eu(r),e=e===F?t<r?1:-1:Eu(e);var u=-1;r=Di(Ri((r-t)/(e||1)),0);for(var i=Hu(r);r--;)i[n?r:++u]=t,t+=e;return i}}function oe(n){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=Iu(t),r=Iu(r)),n(t,r)}}function fe(n,t,r,e,u,i,o,f,c,a){var l=8&t,s=l?o:F;o=l?F:o;var h=l?i:F;return i=l?F:i,t=(t|(l?32:64))&~(l?64:32),4&t||(t&=-4),u=[n,t,u,h,s,i,o,f,c,a],r=r.apply(F,u),Be(n)&&xo(r,u),r.placeholder=e,De(r,n,t)}function ce(n){var t=Xu[n];return function(n,r){if(n=Iu(n),r=null==r?0:Mi(Ou(r),292)){var e=(zu(n)+"e").split("e"),e=t(e[0]+"e"+(+e[1]+r)),e=(zu(e)+"e").split("e");return+(e[0]+"e"+(+e[1]-r))}return t(n)}}function ae(n){return function(t){var r=yo(t);return"[object Map]"==r?L(t):"[object Set]"==r?M(t):O(t,n(t))}}function le(n,t,r,e,u,i,o,f){var c=2&t;if(!c&&"function"!=typeof n)throw new ei("Expected a function");var a=e?e.length:0;if(a||(t&=-97,e=u=F),o=o===F?o:Di(Ou(o),0),f=f===F?f:Ou(f),a-=u?u.length:0,64&t){var l=e,s=u;e=u=F}var h=c?F:_o(n);return i=[n,t,r,e,u,l,s,i,o,f],h&&(r=i[1],n=h[1],t=r|n,e=128==n&&8==r||128==n&&256==r&&i[7].length<=h[8]||384==n&&h[7].length<=h[8]&&8==r,131>t||e)&&(1&n&&(i[2]=h[2],t|=1&r?0:4),(r=h[3])&&(e=i[3],i[3]=e?Cr(e,r,h[4]):r,i[4]=e?C(i[3],"__lodash_placeholder__"):h[4]),(r=h[5])&&(e=i[5],i[5]=e?Dr(e,r,h[6]):r,i[6]=e?C(i[5],"__lodash_placeholder__"):h[6]),(r=h[7])&&(i[7]=r),128&n&&(i[8]=null==i[8]?h[8]:Mi(i[8],h[8])),null==i[9]&&(i[9]=h[9]),i[0]=h[0],i[1]=t),n=i[0],t=i[1],r=i[2],e=i[3],u=i[4],f=i[9]=i[9]===F?c?0:n.length:Di(i[9]-a,0),!f&&24&t&&(t&=-25),De((h?lo:xo)(t&&1!=t?8==t||16==t?Jr(n,t,f):32!=t&&33!=t||u.length?Xr.apply(F,i):ue(n,t,r,e):Vr(n,t,r),i),n,t)}function se(n,t,r,e){return n===F||hu(n,ii[r])&&!ci.call(e,r)?t:n}function he(n,t,r,e,u,i){return bu(n)&&bu(t)&&(i.set(t,n),nr(n,t,F,he,i),i.delete(t)),n}function pe(n){return wu(n)?F:n}function _e(n,t,r,e,u,i){var o=1&r,f=n.length,c=t.length;if(f!=c&&!(o&&c>f))return!1;if((c=i.get(n))&&i.get(t))return c==t;var c=-1,a=!0,l=2&r?new qn:F;for(i.set(n,t),i.set(t,n);++c<f;){var s=n[c],h=t[c];if(e)var p=o?e(h,s,c,t,n,i):e(s,h,c,n,t,i);if(p!==F){if(p)continue;a=!1;break}if(l){if(!_(t,function(n,t){if(!R(l,t)&&(s===n||u(s,n,r,e,i)))return l.push(t)})){a=!1;break}}else if(s!==h&&!u(s,h,r,e,i)){a=!1;break}}return i.delete(n),i.delete(t),a}function ve(n,t,r,e,u,i,o){switch(r){case"[object DataView]":if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)break;n=n.buffer,t=t.buffer;case"[object ArrayBuffer]":if(n.byteLength!=t.byteLength||!i(new di(n),new di(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return hu(+n,+t);case"[object Error]":return n.name==t.name&&n.message==t.message;case"[object RegExp]":case"[object String]":return n==t+"";case"[object Map]":var f=L;case"[object Set]":if(f||(f=D),n.size!=t.size&&!(1&e))break;return(r=o.get(n))?r==t:(e|=2,o.set(n,t),t=_e(f(n),f(t),e,u,i,o),o.delete(n),t);case"[object Symbol]":if(eo)return eo.call(n)==eo.call(t)}return!1}function ge(n){return wo(Ce(n,F,Ve),n+"")}function de(n){return Rt(n,Lu,vo)}function ye(n){return Rt(n,Uu,go)}function be(n){for(var t=n.name+"",r=Ji[t],e=ci.call(Ji,t)?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function xe(n){return(ci.call(On,"placeholder")?On:n).placeholder}function je(){var n=On.iteratee||Pu,n=n===Pu?Gt:n;return arguments.length?n(arguments[0],arguments[1]):n}function we(n,t){var r=n.__data__,e=typeof t;return("string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t)?r["string"==typeof t?"string":"hash"]:r.map}function me(n){for(var t=Lu(n),r=t.length;r--;){var e=t[r],u=n[e];t[r]=[e,u,u===u&&!bu(u)]}return t}function Ae(n,t){var r=null==n?F:n[t];return Zt(r)?r:F}function ke(n,t,r){t=Rr(t,n);for(var e=-1,u=t.length,i=!1;++e<u;){var o=$e(t[e]);if(!(i=null!=n&&r(n,o)))break;n=n[o]}return i||++e!=u?i:(u=null==n?0:n.length,!!u&&yu(u)&&Re(o,u)&&(af(n)||cf(n)))}function Ee(n){var t=n.length,r=n.constructor(t);return t&&"string"==typeof n[0]&&ci.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function Oe(n){return"function"!=typeof n.constructor||Le(n)?{}:io(bi(n))}function Se(r,e,u,i){var o=r.constructor;switch(e){case"[object ArrayBuffer]":return Br(r);case"[object Boolean]":case"[object Date]":return new o(+r);case"[object DataView]":return e=i?Br(r.buffer):r.buffer,new r.constructor(e,r.byteOffset,r.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Lr(r,i);case"[object Map]":return e=i?u(L(r),1):L(r),h(e,n,new r.constructor);case"[object Number]":case"[object String]":return new o(r);case"[object RegExp]":return e=new r.constructor(r.source,dn.exec(r)),e.lastIndex=r.lastIndex,e;case"[object Set]":return e=i?u(D(r),1):D(r),h(e,t,new r.constructor);case"[object Symbol]":return eo?ni(eo.call(r)):{}}}function Ie(n){return af(n)||cf(n)||!!(mi&&n&&n[mi])}function Re(n,t){return t=null==t?9007199254740991:t,!!t&&("number"==typeof n||wn.test(n))&&-1<n&&0==n%1&&n<t}function ze(n,t,r){if(!bu(r))return!1;var e=typeof t;return!!("number"==e?pu(r)&&Re(t,r.length):"string"==e&&t in r)&&hu(r[t],n)}function We(n,t){if(af(n))return!1;var r=typeof n;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=n&&!Au(n))||rn.test(n)||!tn.test(n)||null!=t&&n in ni(t)}function Be(n){var t=be(n),r=On[t];return"function"==typeof r&&t in Mn.prototype&&(n===r||(t=_o(r),!!t&&n===t[0]))}function Le(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||ii)}function Ue(n,t){return function(r){return null!=r&&r[n]===t&&(t!==F||n in ni(r))}}function Ce(n,t,e){return t=Di(t===F?n.length-1:t,0),function(){for(var u=arguments,i=-1,o=Di(u.length-t,0),f=Hu(o);++i<o;)f[i]=u[t+i];for(i=-1,o=Hu(t+1);++i<t;)o[i]=u[i];return o[t]=e(f),r(n,this,o)}}function De(n,t,r){var e=t+"";t=wo;var u,i=Ne;return u=(u=e.match(hn))?u[1].split(pn):[],r=i(u,r),(i=r.length)&&(u=i-1,r[u]=(1<i?"& ":"")+r[u],r=r.join(2<i?", ":" "),e=e.replace(sn,"{\n/* [wrapped with "+r+"] */\n")),t(n,e)}function Me(n){var t=0,r=0;return function(){var e=Ti(),u=16-(e-r);if(r=e,0<u){if(800<=++t)return arguments[0]}else t=0;return n.apply(F,arguments)}}function Te(n,t){var r=-1,e=n.length,u=e-1;for(t=t===F?e:t;++r<t;){var e=cr(r,u),i=n[e];n[e]=n[r],n[r]=i}return n.length=t,n}function $e(n){if("string"==typeof n||Au(n))return n;var t=n+"";return"0"==t&&1/n==-N?"-0":t}function Fe(n){if(null!=n){try{return fi.call(n)}catch(n){}return n+""}return""}function Ne(n,t){return u(Z,function(r){var e="_."+r[0];t&r[1]&&!c(n,e)&&n.push(e)}),n.sort()}function Pe(n){if(n instanceof Mn)return n.clone();var t=new zn(n.__wrapped__,n.__chain__);return t.__actions__=Mr(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function Ze(n,t,r){var e=null==n?0:n.length;return e?(r=null==r?0:Ou(r),0>r&&(r=Di(e+r,0)),g(n,je(t,3),r)):-1}function qe(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e-1;return r!==F&&(u=Ou(r),u=0>r?Di(e+u,0):Mi(u,e-1)),g(n,je(t,3),u,!0)}function Ve(n){return(null==n?0:n.length)?kt(n,1):[]}function Ke(n){return n&&n.length?n[0]:F}function Ge(n){var t=null==n?0:n.length;return t?n[t-1]:F}function He(n,t){return n&&n.length&&t&&t.length?or(n,t):n}function Je(n){return null==n?n:Ni.call(n)}function Ye(n){if(!n||!n.length)return[];var t=0;return n=f(n,function(n){if(_u(n))return t=Di(n.length,t),!0}),E(t,function(t){return l(n,j(t))})}function Qe(n,t){if(!n||!n.length)return[];var e=Ye(n);return null==t?e:l(e,function(n){return r(t,F,n)})}function Xe(n){return n=On(n),n.__chain__=!0,n}function nu(n,t){return t(n)}function tu(){return this}function ru(n,t){return(af(n)?u:oo)(n,je(t,3))}function eu(n,t){return(af(n)?i:fo)(n,je(t,3))}function uu(n,t){return(af(n)?l:Yt)(n,je(t,3))}function iu(n,t,r){return t=r?F:t,t=n&&null==t?n.length:t,le(n,128,F,F,F,F,t)}function ou(n,t){var r;if("function"!=typeof t)throw new ei("Expected a function");return n=Ou(n),function(){return 0<--n&&(r=t.apply(this,arguments)),1>=n&&(t=F),r}}function fu(n,t,r){return t=r?F:t,n=le(n,8,F,F,F,F,F,t),n.placeholder=fu.placeholder,n}function cu(n,t,r){return t=r?F:t,n=le(n,16,F,F,F,F,F,t),n.placeholder=cu.placeholder,n}function au(n,t,r){function e(t){var r=c,e=a;return c=a=F,_=t,s=n.apply(e,r)}function u(n){var r=n-p;return n-=_,p===F||r>=t||0>r||g&&n>=l}function i(){var n=Jo();if(u(n))return o(n);var r,e=jo;r=n-_,n=t-(n-p),r=g?Mi(n,l-r):n,h=e(i,r)}function o(n){return h=F,d&&c?e(n):(c=a=F,s)}function f(){var n=Jo(),r=u(n);if(c=arguments,a=this,p=n,r){if(h===F)return _=n=p,h=jo(i,t),v?e(n):s;if(g)return h=jo(i,t),e(p)}return h===F&&(h=jo(i,t)),s}var c,a,l,s,h,p,_=0,v=!1,g=!1,d=!0;if("function"!=typeof n)throw new ei("Expected a function");return t=Iu(t)||0,bu(r)&&(v=!!r.leading,l=(g="maxWait"in r)?Di(Iu(r.maxWait)||0,t):l,d="trailing"in r?!!r.trailing:d),f.cancel=function(){h!==F&&ho(h),_=0,c=p=a=h=F},f.flush=function(){return h===F?s:o(Jo())},f}function lu(n,t){function r(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;return i.has(u)?i.get(u):(e=n.apply(this,e),r.cache=i.set(u,e)||i,e)}if("function"!=typeof n||null!=t&&"function"!=typeof t)throw new ei("Expected a function");return r.cache=new(lu.Cache||Pn),r}function su(n){if("function"!=typeof n)throw new ei("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function hu(n,t){return n===t||n!==n&&t!==t}function pu(n){return null!=n&&yu(n.length)&&!gu(n)}function _u(n){return xu(n)&&pu(n)}function vu(n){if(!xu(n))return!1;var t=zt(n);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof n.message&&"string"==typeof n.name&&!wu(n)}function gu(n){return!!bu(n)&&(n=zt(n),"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n)}function du(n){return"number"==typeof n&&n==Ou(n)}function yu(n){return"number"==typeof n&&-1<n&&0==n%1&&9007199254740991>=n}function bu(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}function xu(n){return null!=n&&"object"==typeof n}function ju(n){return"number"==typeof n||xu(n)&&"[object Number]"==zt(n)}function wu(n){return!(!xu(n)||"[object Object]"!=zt(n))&&(n=bi(n),null===n||(n=ci.call(n,"constructor")&&n.constructor,"function"==typeof n&&n instanceof n&&fi.call(n)==hi))}function mu(n){return"string"==typeof n||!af(n)&&xu(n)&&"[object String]"==zt(n)}function Au(n){return"symbol"==typeof n||xu(n)&&"[object Symbol]"==zt(n)}function ku(n){if(!n)return[];if(pu(n))return mu(n)?$(n):Mr(n);if(Ai&&n[Ai]){n=n[Ai]();for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}return t=yo(n),("[object Map]"==t?L:"[object Set]"==t?D:Du)(n)}function Eu(n){return n?(n=Iu(n),n===N||n===-N?1.7976931348623157e308*(0>n?-1:1):n===n?n:0):0===n?n:0}function Ou(n){n=Eu(n);var t=n%1;return n===n?t?n-t:n:0}function Su(n){return n?gt(Ou(n),0,4294967295):0}function Iu(n){if("number"==typeof n)return n;if(Au(n))return P;if(bu(n)&&(n="function"==typeof n.valueOf?n.valueOf():n,n=bu(n)?n+"":n),"string"!=typeof n)return 0===n?n:+n;n=n.replace(cn,"");var t=bn.test(n);return t||jn.test(n)?Fn(n.slice(2),t?2:8):yn.test(n)?P:+n}function Ru(n){return Tr(n,Uu(n))}function zu(n){return null==n?"":jr(n)}function Wu(n,t,r){return n=null==n?F:It(n,t),n===F?r:n}function Bu(n,t){return null!=n&&ke(n,t,Lt)}function Lu(n){return pu(n)?Gn(n):Ht(n)}function Uu(n){if(pu(n))n=Gn(n,!0);else if(bu(n)){var t,r=Le(n),e=[];for(t in n)("constructor"!=t||!r&&ci.call(n,t))&&e.push(t);n=e}else{if(t=[],null!=n)for(r in ni(n))t.push(r);n=t}return n}function Cu(n,t){if(null==n)return{};var r=l(ye(n),function(n){return[n]});return t=je(t),ur(n,r,function(n,r){return t(n,r[0])})}function Du(n){return null==n?[]:I(n,Lu(n))}function Mu(n){return Nf(zu(n).toLowerCase())}function Tu(n){return(n=zu(n))&&n.replace(mn,rt).replace(Rn,"")}function $u(n,t,r){return n=zu(n),t=r?F:t,t===F?Ln.test(n)?n.match(Wn)||[]:n.match(_n)||[]:n.match(t)||[]}function Fu(n){return function(){return n}}function Nu(n){return n}function Pu(n){return Gt("function"==typeof n?n:dt(n,1))}function Zu(n,t,r){var e=Lu(t),i=St(t,e);null!=r||bu(t)&&(i.length||!e.length)||(r=t,t=n,n=this,i=St(t,Lu(t)));var o=!(bu(r)&&"chain"in r&&!r.chain),f=gu(n);return u(i,function(r){var e=t[r];n[r]=e,f&&(n.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=n(this.__wrapped__);return(r.__actions__=Mr(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,s([this.value()],arguments))})}),n}function qu(){}function Vu(n){return We(n)?j($e(n)):ir(n)}function Ku(){return[]}function Gu(){return!1}En=null==En?Zn:it.defaults(Zn.Object(),En,it.pick(Zn,Un));var Hu=En.Array,Ju=En.Date,Yu=En.Error,Qu=En.Function,Xu=En.Math,ni=En.Object,ti=En.RegExp,ri=En.String,ei=En.TypeError,ui=Hu.prototype,ii=ni.prototype,oi=En["__core-js_shared__"],fi=Qu.prototype.toString,ci=ii.hasOwnProperty,ai=0,li=function(){var n=/[^.]+$/.exec(oi&&oi.keys&&oi.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),si=ii.toString,hi=fi.call(ni),pi=Zn._,_i=ti("^"+fi.call(ci).replace(on,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vi=Kn?En.Buffer:F,gi=En.Symbol,di=En.Uint8Array,yi=vi?vi.f:F,bi=U(ni.getPrototypeOf,ni),xi=ni.create,ji=ii.propertyIsEnumerable,wi=ui.splice,mi=gi?gi.isConcatSpreadable:F,Ai=gi?gi.iterator:F,ki=gi?gi.toStringTag:F,Ei=function(){try{var n=Ae(ni,"defineProperty");return n({},"",{}),n}catch(n){}}(),Oi=En.clearTimeout!==Zn.clearTimeout&&En.clearTimeout,Si=Ju&&Ju.now!==Zn.Date.now&&Ju.now,Ii=En.setTimeout!==Zn.setTimeout&&En.setTimeout,Ri=Xu.ceil,zi=Xu.floor,Wi=ni.getOwnPropertySymbols,Bi=vi?vi.isBuffer:F,Li=En.isFinite,Ui=ui.join,Ci=U(ni.keys,ni),Di=Xu.max,Mi=Xu.min,Ti=Ju.now,$i=En.parseInt,Fi=Xu.random,Ni=ui.reverse,Pi=Ae(En,"DataView"),Zi=Ae(En,"Map"),qi=Ae(En,"Promise"),Vi=Ae(En,"Set"),Ki=Ae(En,"WeakMap"),Gi=Ae(ni,"create"),Hi=Ki&&new Ki,Ji={},Yi=Fe(Pi),Qi=Fe(Zi),Xi=Fe(qi),no=Fe(Vi),to=Fe(Ki),ro=gi?gi.prototype:F,eo=ro?ro.valueOf:F,uo=ro?ro.toString:F,io=function(){function n(){}return function(t){return bu(t)?xi?xi(t):(n.prototype=t,t=new n,n.prototype=F,t):{}}}();On.templateSettings={escape:Q,evaluate:X,interpolate:nn,variable:"",imports:{_:On}},On.prototype=Sn.prototype,On.prototype.constructor=On,zn.prototype=io(Sn.prototype),zn.prototype.constructor=zn,Mn.prototype=io(Sn.prototype),Mn.prototype.constructor=Mn,Tn.prototype.clear=function(){this.__data__=Gi?Gi(null):{},this.size=0},Tn.prototype.delete=function(n){return n=this.has(n)&&delete this.__data__[n],this.size-=n?1:0,n},Tn.prototype.get=function(n){var t=this.__data__;return Gi?(n=t[n],"__lodash_hash_undefined__"===n?F:n):ci.call(t,n)?t[n]:F},Tn.prototype.has=function(n){var t=this.__data__;return Gi?t[n]!==F:ci.call(t,n)},Tn.prototype.set=function(n,t){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=Gi&&t===F?"__lodash_hash_undefined__":t,this},Nn.prototype.clear=function(){this.__data__=[],this.size=0},Nn.prototype.delete=function(n){var t=this.__data__;return n=lt(t,n),!(0>n||(n==t.length-1?t.pop():wi.call(t,n,1),--this.size,0))},Nn.prototype.get=function(n){var t=this.__data__;return n=lt(t,n),0>n?F:t[n][1]},Nn.prototype.has=function(n){return-1<lt(this.__data__,n)},Nn.prototype.set=function(n,t){var r=this.__data__,e=lt(r,n);return 0>e?(++this.size,r.push([n,t])):r[e][1]=t,this},Pn.prototype.clear=function(){this.size=0,this.__data__={hash:new Tn,map:new(Zi||Nn),string:new Tn}},Pn.prototype.delete=function(n){return n=we(this,n).delete(n),this.size-=n?1:0,n},Pn.prototype.get=function(n){return we(this,n).get(n)},Pn.prototype.has=function(n){return we(this,n).has(n)},Pn.prototype.set=function(n,t){var r=we(this,n),e=r.size;return r.set(n,t),this.size+=r.size==e?0:1,this},qn.prototype.add=qn.prototype.push=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this},qn.prototype.has=function(n){return this.__data__.has(n)},Vn.prototype.clear=function(){this.__data__=new Nn,this.size=0},Vn.prototype.delete=function(n){var t=this.__data__;return n=t.delete(n),this.size=t.size,n},Vn.prototype.get=function(n){return this.__data__.get(n)},Vn.prototype.has=function(n){return this.__data__.has(n)},Vn.prototype.set=function(n,t){var r=this.__data__;if(r instanceof Nn){var e=r.__data__;if(!Zi||199>e.length)return e.push([n,t]),this.size=++r.size,this;r=this.__data__=new Pn(e)}return r.set(n,t),this.size=r.size,this};var oo=Zr(Et),fo=Zr(Ot,!0),co=qr(),ao=qr(!0),lo=Hi?function(n,t){return Hi.set(n,t),n}:Nu,so=Ei?function(n,t){return Ei(n,"toString",{configurable:!0,enumerable:!1,value:Fu(t),writable:!0})}:Nu,ho=Oi||function(n){return Zn.clearTimeout(n)},po=Vi&&1/D(new Vi([,-0]))[1]==N?function(n){return new Vi(n)}:qu,_o=Hi?function(n){return Hi.get(n)}:qu,vo=Wi?function(n){return null==n?[]:(n=ni(n),f(Wi(n),function(t){return ji.call(n,t)}))}:Ku,go=Wi?function(n){for(var t=[];n;)s(t,vo(n)),n=bi(n);return t}:Ku,yo=zt;(Pi&&"[object DataView]"!=yo(new Pi(new ArrayBuffer(1)))||Zi&&"[object Map]"!=yo(new Zi)||qi&&"[object Promise]"!=yo(qi.resolve())||Vi&&"[object Set]"!=yo(new Vi)||Ki&&"[object WeakMap]"!=yo(new Ki))&&(yo=function(n){var t=zt(n);if(n=(n="[object Object]"==t?n.constructor:F)?Fe(n):"")switch(n){case Yi:return"[object DataView]";case Qi:return"[object Map]";case Xi:return"[object Promise]";case no:return"[object Set]";case to:return"[object WeakMap]"}return t});var bo=oi?gu:Gu,xo=Me(lo),jo=Ii||function(n,t){return Zn.setTimeout(n,t)},wo=Me(so),mo=function(n){n=lu(n,function(n){return 500===t.size&&t.clear(),n});var t=n.cache;return n}(function(n){var t=[];return en.test(n)&&t.push(""),n.replace(un,function(n,r,e,u){t.push(e?u.replace(vn,"$1"):r||n)}),t}),Ao=lr(function(n,t){return _u(n)?jt(n,kt(t,1,_u,!0)):[]}),ko=lr(function(n,t){var r=Ge(t);return _u(r)&&(r=F),_u(n)?jt(n,kt(t,1,_u,!0),je(r,2)):[]}),Eo=lr(function(n,t){var r=Ge(t);return _u(r)&&(r=F),_u(n)?jt(n,kt(t,1,_u,!0),F,r):[]}),Oo=lr(function(n){var t=l(n,Sr);return t.length&&t[0]===n[0]?Ut(t):[]}),So=lr(function(n){var t=Ge(n),r=l(n,Sr);return t===Ge(r)?t=F:r.pop(),r.length&&r[0]===n[0]?Ut(r,je(t,2)):[]}),Io=lr(function(n){var t=Ge(n),r=l(n,Sr);return(t="function"==typeof t?t:F)&&r.pop(),r.length&&r[0]===n[0]?Ut(r,F,t):[]}),Ro=lr(He),zo=ge(function(n,t){var r=null==n?0:n.length,e=vt(n,t);return fr(n,l(t,function(n){return Re(n,r)?+n:n}).sort(Ur)),e}),Wo=lr(function(n){return wr(kt(n,1,_u,!0))}),Bo=lr(function(n){var t=Ge(n);return _u(t)&&(t=F),wr(kt(n,1,_u,!0),je(t,2))}),Lo=lr(function(n){var t=Ge(n),t="function"==typeof t?t:F;return wr(kt(n,1,_u,!0),F,t)}),Uo=lr(function(n,t){return _u(n)?jt(n,t):[]}),Co=lr(function(n){return Er(f(n,_u))}),Do=lr(function(n){var t=Ge(n);return _u(t)&&(t=F),Er(f(n,_u),je(t,2))}),Mo=lr(function(n){var t=Ge(n),t="function"==typeof t?t:F;return Er(f(n,_u),F,t)}),To=lr(Ye),$o=lr(function(n){var t=n.length,t=1<t?n[t-1]:F,t="function"==typeof t?(n.pop(),t):F;return Qe(n,t)}),Fo=ge(function(n){function t(t){return vt(t,n)}var r=n.length,e=r?n[0]:0,u=this.__wrapped__;return!(1<r||this.__actions__.length)&&u instanceof Mn&&Re(e)?(u=u.slice(e,+e+(r?1:0)),u.__actions__.push({func:nu,args:[t],thisArg:F}),new zn(u,this.__chain__).thru(function(n){return r&&!n.length&&n.push(F),n})):this.thru(t)}),No=Nr(function(n,t,r){ci.call(n,r)?++n[r]:_t(n,r,1)}),Po=Yr(Ze),Zo=Yr(qe),qo=Nr(function(n,t,r){ci.call(n,r)?n[r].push(t):_t(n,r,[t])}),Vo=lr(function(n,t,e){var u=-1,i="function"==typeof t,o=pu(n)?Hu(n.length):[];return oo(n,function(n){o[++u]=i?r(t,n,e):Dt(n,t,e)}),o}),Ko=Nr(function(n,t,r){_t(n,r,t)}),Go=Nr(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),Ho=lr(function(n,t){if(null==n)return[];var r=t.length;return 1<r&&ze(n,t[0],t[1])?t=[]:2<r&&ze(t[0],t[1],t[2])&&(t=[t[0]]),rr(n,kt(t,1),[])}),Jo=Si||function(){return Zn.Date.now()},Yo=lr(function(n,t,r){var e=1;if(r.length)var u=C(r,xe(Yo)),e=32|e;return le(n,e,t,r,u)}),Qo=lr(function(n,t,r){var e=3;if(r.length)var u=C(r,xe(Qo)),e=32|e;return le(t,e,n,r,u)}),Xo=lr(function(n,t){return xt(n,1,t)}),nf=lr(function(n,t,r){return xt(n,Iu(t)||0,r)});lu.Cache=Pn;var tf=lr(function(n,t){t=1==t.length&&af(t[0])?l(t[0],S(je())):l(kt(t,1),S(je()));var e=t.length;return lr(function(u){for(var i=-1,o=Mi(u.length,e);++i<o;)u[i]=t[i].call(this,u[i]);return r(n,this,u)})}),rf=lr(function(n,t){return le(n,32,F,t,C(t,xe(rf)))}),ef=lr(function(n,t){return le(n,64,F,t,C(t,xe(ef)))}),uf=ge(function(n,t){return le(n,256,F,F,F,t)}),of=oe(Wt),ff=oe(function(n,t){return n>=t}),cf=Mt(function(){return arguments}())?Mt:function(n){return xu(n)&&ci.call(n,"callee")&&!ji.call(n,"callee")},af=Hu.isArray,lf=Hn?S(Hn):Tt,sf=Bi||Gu,hf=Jn?S(Jn):$t,pf=Yn?S(Yn):Nt,_f=Qn?S(Qn):qt,vf=Xn?S(Xn):Vt,gf=nt?S(nt):Kt,df=oe(Jt),yf=oe(function(n,t){return n<=t}),bf=Pr(function(n,t){if(Le(t)||pu(t))Tr(t,Lu(t),n);else for(var r in t)ci.call(t,r)&&at(n,r,t[r])}),xf=Pr(function(n,t){Tr(t,Uu(t),n)}),jf=Pr(function(n,t,r,e){Tr(t,Uu(t),n,e)}),wf=Pr(function(n,t,r,e){Tr(t,Lu(t),n,e)}),mf=ge(vt),Af=lr(function(n){return n.push(F,se),r(jf,F,n)}),kf=lr(function(n){return n.push(F,he),r(Rf,F,n)}),Ef=ne(function(n,t,r){n[t]=r},Fu(Nu)),Of=ne(function(n,t,r){ci.call(n,t)?n[t].push(r):n[t]=[r]},je),Sf=lr(Dt),If=Pr(function(n,t,r){nr(n,t,r)}),Rf=Pr(function(n,t,r,e){nr(n,t,r,e)}),zf=ge(function(n,t){var r={};if(null==n)return r;var e=!1;t=l(t,function(t){return t=Rr(t,n),e||(e=1<t.length),t}),Tr(n,ye(n),r),e&&(r=dt(r,7,pe));for(var u=t.length;u--;)mr(r,t[u]);return r}),Wf=ge(function(n,t){return null==n?{}:er(n,t)}),Bf=ae(Lu),Lf=ae(Uu),Uf=Gr(function(n,t,r){return t=t.toLowerCase(),n+(r?Mu(t):t)}),Cf=Gr(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Df=Gr(function(n,t,r){return n+(r?" ":"")+t.toLowerCase()}),Mf=Kr("toLowerCase"),Tf=Gr(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),$f=Gr(function(n,t,r){return n+(r?" ":"")+Nf(t)}),Ff=Gr(function(n,t,r){return n+(r?" ":"")+t.toUpperCase()}),Nf=Kr("toUpperCase"),Pf=lr(function(n,t){try{return r(n,F,t)}catch(n){return vu(n)?n:new Yu(n)}}),Zf=ge(function(n,t){return u(t,function(t){t=$e(t),_t(n,t,Yo(n[t],n))}),n}),qf=Qr(),Vf=Qr(!0),Kf=lr(function(n,t){return function(r){return Dt(r,n,t)}}),Gf=lr(function(n,t){return function(r){return Dt(n,r,t)}}),Hf=re(l),Jf=re(o),Yf=re(_),Qf=ie(),Xf=ie(!0),nc=te(function(n,t){return n+t},0),tc=ce("ceil"),rc=te(function(n,t){return n/t},1),ec=ce("floor"),uc=te(function(n,t){return n*t},1),ic=ce("round"),oc=te(function(n,t){return n-t},0);return On.after=function(n,t){if("function"!=typeof t)throw new ei("Expected a function");return n=Ou(n),function(){if(1>--n)return t.apply(this,arguments)}},On.ary=iu,On.assign=bf,On.assignIn=xf,On.assignInWith=jf,On.assignWith=wf,On.at=mf,On.before=ou,On.bind=Yo,On.bindAll=Zf,On.bindKey=Qo,On.castArray=function(){if(!arguments.length)return[];var n=arguments[0];return af(n)?n:[n]},On.chain=Xe,On.chunk=function(n,t,r){if(t=(r?ze(n,t,r):t===F)?1:Di(Ou(t),0),r=null==n?0:n.length,!r||1>t)return[];for(var e=0,u=0,i=Hu(Ri(r/t));e<r;)i[u++]=vr(n,e,e+=t);return i},On.compact=function(n){for(var t=-1,r=null==n?0:n.length,e=0,u=[];++t<r;){var i=n[t];i&&(u[e++]=i)}return u},On.concat=function(){var n=arguments.length;if(!n)return[];for(var t=Hu(n-1),r=arguments[0];n--;)t[n-1]=arguments[n];return s(af(r)?Mr(r):[r],kt(t,1))},On.cond=function(n){var t=null==n?0:n.length,e=je();return n=t?l(n,function(n){if("function"!=typeof n[1])throw new ei("Expected a function");return[e(n[0]),n[1]]}):[],lr(function(e){for(var u=-1;++u<t;){var i=n[u];if(r(i[0],this,e))return r(i[1],this,e)}})},On.conforms=function(n){return yt(dt(n,1))},On.constant=Fu,On.countBy=No,On.create=function(n,t){var r=io(n);return null==t?r:ht(r,t)},On.curry=fu,On.curryRight=cu,On.debounce=au,On.defaults=Af,On.defaultsDeep=kf,On.defer=Xo,On.delay=nf,On.difference=Ao,On.differenceBy=ko,On.differenceWith=Eo,On.drop=function(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===F?1:Ou(t),vr(n,0>t?0:t,e)):[]},On.dropRight=function(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===F?1:Ou(t),t=e-t,vr(n,0,0>t?0:t)):[]},On.dropRightWhile=function(n,t){return n&&n.length?Ar(n,je(t,3),!0,!0):[]},On.dropWhile=function(n,t){return n&&n.length?Ar(n,je(t,3),!0):[]},On.fill=function(n,t,r,e){var u=null==n?0:n.length;if(!u)return[];for(r&&"number"!=typeof r&&ze(n,t,r)&&(r=0,e=u),u=n.length,r=Ou(r),0>r&&(r=-r>u?0:u+r),e=e===F||e>u?u:Ou(e),0>e&&(e+=u),e=r>e?0:Su(e);r<e;)n[r++]=t;return n},On.filter=function(n,t){return(af(n)?f:At)(n,je(t,3))},On.flatMap=function(n,t){return kt(uu(n,t),1)},On.flatMapDeep=function(n,t){return kt(uu(n,t),N)},On.flatMapDepth=function(n,t,r){return r=r===F?1:Ou(r),kt(uu(n,t),r)},On.flatten=Ve,On.flattenDeep=function(n){return(null==n?0:n.length)?kt(n,N):[]},On.flattenDepth=function(n,t){return null!=n&&n.length?(t=t===F?1:Ou(t),kt(n,t)):[]},On.flip=function(n){return le(n,512)},On.flow=qf,On.flowRight=Vf,On.fromPairs=function(n){for(var t=-1,r=null==n?0:n.length,e={};++t<r;){var u=n[t];e[u[0]]=u[1]}return e},On.functions=function(n){return null==n?[]:St(n,Lu(n))},On.functionsIn=function(n){return null==n?[]:St(n,Uu(n))},On.groupBy=qo,On.initial=function(n){return(null==n?0:n.length)?vr(n,0,-1):[]},On.intersection=Oo,On.intersectionBy=So,On.intersectionWith=Io,On.invert=Ef,On.invertBy=Of,On.invokeMap=Vo,On.iteratee=Pu,On.keyBy=Ko,On.keys=Lu,On.keysIn=Uu,On.map=uu,On.mapKeys=function(n,t){var r={};return t=je(t,3),Et(n,function(n,e,u){_t(r,t(n,e,u),n)}),r},On.mapValues=function(n,t){var r={};return t=je(t,3),Et(n,function(n,e,u){_t(r,e,t(n,e,u))}),r},On.matches=function(n){return Qt(dt(n,1))},On.matchesProperty=function(n,t){return Xt(n,dt(t,1))},On.memoize=lu,On.merge=If,On.mergeWith=Rf,On.method=Kf,On.methodOf=Gf,On.mixin=Zu,On.negate=su,On.nthArg=function(n){return n=Ou(n),lr(function(t){return tr(t,n)})},On.omit=zf,On.omitBy=function(n,t){return Cu(n,su(je(t)))},On.once=function(n){return ou(2,n)},On.orderBy=function(n,t,r,e){return null==n?[]:(af(t)||(t=null==t?[]:[t]),r=e?F:r,af(r)||(r=null==r?[]:[r]),rr(n,t,r))},On.over=Hf,On.overArgs=tf,On.overEvery=Jf,On.overSome=Yf,On.partial=rf,On.partialRight=ef,On.partition=Go,On.pick=Wf,On.pickBy=Cu,On.property=Vu,On.propertyOf=function(n){return function(t){return null==n?F:It(n,t)}},On.pull=Ro,On.pullAll=He,On.pullAllBy=function(n,t,r){return n&&n.length&&t&&t.length?or(n,t,je(r,2)):n},On.pullAllWith=function(n,t,r){return n&&n.length&&t&&t.length?or(n,t,F,r):n},On.pullAt=zo,On.range=Qf,On.rangeRight=Xf,On.rearg=uf,On.reject=function(n,t){return(af(n)?f:At)(n,su(je(t,3)))},On.remove=function(n,t){var r=[];if(!n||!n.length)return r;var e=-1,u=[],i=n.length;for(t=je(t,3);++e<i;){var o=n[e];t(o,e,n)&&(r.push(o),u.push(e))}return fr(n,u),r},On.rest=function(n,t){if("function"!=typeof n)throw new ei("Expected a function");return t=t===F?t:Ou(t),lr(n,t)},On.reverse=Je,On.sampleSize=function(n,t,r){return t=(r?ze(n,t,r):t===F)?1:Ou(t),(af(n)?ot:hr)(n,t)},On.set=function(n,t,r){return null==n?n:pr(n,t,r)},On.setWith=function(n,t,r,e){return e="function"==typeof e?e:F,null==n?n:pr(n,t,r,e)},On.shuffle=function(n){return(af(n)?ft:_r)(n)},On.slice=function(n,t,r){var e=null==n?0:n.length;return e?(r&&"number"!=typeof r&&ze(n,t,r)?(t=0,r=e):(t=null==t?0:Ou(t),r=r===F?e:Ou(r)),vr(n,t,r)):[]},On.sortBy=Ho,On.sortedUniq=function(n){return n&&n.length?br(n):[]},On.sortedUniqBy=function(n,t){return n&&n.length?br(n,je(t,2)):[]},On.split=function(n,t,r){return r&&"number"!=typeof r&&ze(n,t,r)&&(t=r=F),r=r===F?4294967295:r>>>0,r?(n=zu(n))&&("string"==typeof t||null!=t&&!_f(t))&&(t=jr(t),!t&&Bn.test(n))?zr($(n),0,r):n.split(t,r):[]},On.spread=function(n,t){if("function"!=typeof n)throw new ei("Expected a function");return t=null==t?0:Di(Ou(t),0),lr(function(e){var u=e[t];return e=zr(e,0,t),u&&s(e,u),r(n,this,e)})},On.tail=function(n){var t=null==n?0:n.length;return t?vr(n,1,t):[]},On.take=function(n,t,r){return n&&n.length?(t=r||t===F?1:Ou(t),vr(n,0,0>t?0:t)):[]},On.takeRight=function(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===F?1:Ou(t),t=e-t,vr(n,0>t?0:t,e)):[]},On.takeRightWhile=function(n,t){return n&&n.length?Ar(n,je(t,3),!1,!0):[]},On.takeWhile=function(n,t){return n&&n.length?Ar(n,je(t,3)):[]},On.tap=function(n,t){return t(n),n},On.throttle=function(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new ei("Expected a function");return bu(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),au(n,t,{leading:e,maxWait:t,trailing:u})},On.thru=nu,On.toArray=ku,On.toPairs=Bf,On.toPairsIn=Lf,On.toPath=function(n){return af(n)?l(n,$e):Au(n)?[n]:Mr(mo(zu(n)))},On.toPlainObject=Ru,On.transform=function(n,t,r){var e=af(n),i=e||sf(n)||gf(n);if(t=je(t,4),null==r){var o=n&&n.constructor;r=i?e?new o:[]:bu(n)&&gu(o)?io(bi(n)):{}}return(i?u:Et)(n,function(n,e,u){return t(r,n,e,u)}),r},On.unary=function(n){return iu(n,1)},On.union=Wo,On.unionBy=Bo,On.unionWith=Lo,On.uniq=function(n){return n&&n.length?wr(n):[]},On.uniqBy=function(n,t){return n&&n.length?wr(n,je(t,2)):[]},On.uniqWith=function(n,t){return t="function"==typeof t?t:F,n&&n.length?wr(n,F,t):[]},On.unset=function(n,t){return null==n||mr(n,t)},On.unzip=Ye,On.unzipWith=Qe,On.update=function(n,t,r){
return null==n?n:pr(n,t,Ir(r)(It(n,t)),void 0)},On.updateWith=function(n,t,r,e){return e="function"==typeof e?e:F,null!=n&&(n=pr(n,t,Ir(r)(It(n,t)),e)),n},On.values=Du,On.valuesIn=function(n){return null==n?[]:I(n,Uu(n))},On.without=Uo,On.words=$u,On.wrap=function(n,t){return rf(Ir(t),n)},On.xor=Co,On.xorBy=Do,On.xorWith=Mo,On.zip=To,On.zipObject=function(n,t){return Or(n||[],t||[],at)},On.zipObjectDeep=function(n,t){return Or(n||[],t||[],pr)},On.zipWith=$o,On.entries=Bf,On.entriesIn=Lf,On.extend=xf,On.extendWith=jf,Zu(On,On),On.add=nc,On.attempt=Pf,On.camelCase=Uf,On.capitalize=Mu,On.ceil=tc,On.clamp=function(n,t,r){return r===F&&(r=t,t=F),r!==F&&(r=Iu(r),r=r===r?r:0),t!==F&&(t=Iu(t),t=t===t?t:0),gt(Iu(n),t,r)},On.clone=function(n){return dt(n,4)},On.cloneDeep=function(n){return dt(n,5)},On.cloneDeepWith=function(n,t){return t="function"==typeof t?t:F,dt(n,5,t)},On.cloneWith=function(n,t){return t="function"==typeof t?t:F,dt(n,4,t)},On.conformsTo=function(n,t){return null==t||bt(n,t,Lu(t))},On.deburr=Tu,On.defaultTo=function(n,t){return null==n||n!==n?t:n},On.divide=rc,On.endsWith=function(n,t,r){n=zu(n),t=jr(t);var e=n.length,e=r=r===F?e:gt(Ou(r),0,e);return r-=t.length,0<=r&&n.slice(r,e)==t},On.eq=hu,On.escape=function(n){return(n=zu(n))&&Y.test(n)?n.replace(H,et):n},On.escapeRegExp=function(n){return(n=zu(n))&&fn.test(n)?n.replace(on,"\\$&"):n},On.every=function(n,t,r){var e=af(n)?o:wt;return r&&ze(n,t,r)&&(t=F),e(n,je(t,3))},On.find=Po,On.findIndex=Ze,On.findKey=function(n,t){return v(n,je(t,3),Et)},On.findLast=Zo,On.findLastIndex=qe,On.findLastKey=function(n,t){return v(n,je(t,3),Ot)},On.floor=ec,On.forEach=ru,On.forEachRight=eu,On.forIn=function(n,t){return null==n?n:co(n,je(t,3),Uu)},On.forInRight=function(n,t){return null==n?n:ao(n,je(t,3),Uu)},On.forOwn=function(n,t){return n&&Et(n,je(t,3))},On.forOwnRight=function(n,t){return n&&Ot(n,je(t,3))},On.get=Wu,On.gt=of,On.gte=ff,On.has=function(n,t){return null!=n&&ke(n,t,Bt)},On.hasIn=Bu,On.head=Ke,On.identity=Nu,On.includes=function(n,t,r,e){return n=pu(n)?n:Du(n),r=r&&!e?Ou(r):0,e=n.length,0>r&&(r=Di(e+r,0)),mu(n)?r<=e&&-1<n.indexOf(t,r):!!e&&-1<d(n,t,r)},On.indexOf=function(n,t,r){var e=null==n?0:n.length;return e?(r=null==r?0:Ou(r),0>r&&(r=Di(e+r,0)),d(n,t,r)):-1},On.inRange=function(n,t,r){return t=Eu(t),r===F?(r=t,t=0):r=Eu(r),n=Iu(n),n>=Mi(t,r)&&n<Di(t,r)},On.invoke=Sf,On.isArguments=cf,On.isArray=af,On.isArrayBuffer=lf,On.isArrayLike=pu,On.isArrayLikeObject=_u,On.isBoolean=function(n){return!0===n||!1===n||xu(n)&&"[object Boolean]"==zt(n)},On.isBuffer=sf,On.isDate=hf,On.isElement=function(n){return xu(n)&&1===n.nodeType&&!wu(n)},On.isEmpty=function(n){if(null==n)return!0;if(pu(n)&&(af(n)||"string"==typeof n||"function"==typeof n.splice||sf(n)||gf(n)||cf(n)))return!n.length;var t=yo(n);if("[object Map]"==t||"[object Set]"==t)return!n.size;if(Le(n))return!Ht(n).length;for(var r in n)if(ci.call(n,r))return!1;return!0},On.isEqual=function(n,t){return Ft(n,t)},On.isEqualWith=function(n,t,r){var e=(r="function"==typeof r?r:F)?r(n,t):F;return e===F?Ft(n,t,F,r):!!e},On.isError=vu,On.isFinite=function(n){return"number"==typeof n&&Li(n)},On.isFunction=gu,On.isInteger=du,On.isLength=yu,On.isMap=pf,On.isMatch=function(n,t){return n===t||Pt(n,t,me(t))},On.isMatchWith=function(n,t,r){return r="function"==typeof r?r:F,Pt(n,t,me(t),r)},On.isNaN=function(n){return ju(n)&&n!=+n},On.isNative=function(n){if(bo(n))throw new Yu("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Zt(n)},On.isNil=function(n){return null==n},On.isNull=function(n){return null===n},On.isNumber=ju,On.isObject=bu,On.isObjectLike=xu,On.isPlainObject=wu,On.isRegExp=_f,On.isSafeInteger=function(n){return du(n)&&-9007199254740991<=n&&9007199254740991>=n},On.isSet=vf,On.isString=mu,On.isSymbol=Au,On.isTypedArray=gf,On.isUndefined=function(n){return n===F},On.isWeakMap=function(n){return xu(n)&&"[object WeakMap]"==yo(n)},On.isWeakSet=function(n){return xu(n)&&"[object WeakSet]"==zt(n)},On.join=function(n,t){return null==n?"":Ui.call(n,t)},On.kebabCase=Cf,On.last=Ge,On.lastIndexOf=function(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e;if(r!==F&&(u=Ou(r),u=0>u?Di(e+u,0):Mi(u,e-1)),t===t){for(r=u+1;r--&&n[r]!==t;);n=r}else n=g(n,b,u,!0);return n},On.lowerCase=Df,On.lowerFirst=Mf,On.lt=df,On.lte=yf,On.max=function(n){return n&&n.length?mt(n,Nu,Wt):F},On.maxBy=function(n,t){return n&&n.length?mt(n,je(t,2),Wt):F},On.mean=function(n){return x(n,Nu)},On.meanBy=function(n,t){return x(n,je(t,2))},On.min=function(n){return n&&n.length?mt(n,Nu,Jt):F},On.minBy=function(n,t){return n&&n.length?mt(n,je(t,2),Jt):F},On.stubArray=Ku,On.stubFalse=Gu,On.stubObject=function(){return{}},On.stubString=function(){return""},On.stubTrue=function(){return!0},On.multiply=uc,On.nth=function(n,t){return n&&n.length?tr(n,Ou(t)):F},On.noConflict=function(){return Zn._===this&&(Zn._=pi),this},On.noop=qu,On.now=Jo,On.pad=function(n,t,r){n=zu(n);var e=(t=Ou(t))?T(n):0;return!t||e>=t?n:(t=(t-e)/2,ee(zi(t),r)+n+ee(Ri(t),r))},On.padEnd=function(n,t,r){n=zu(n);var e=(t=Ou(t))?T(n):0;return t&&e<t?n+ee(t-e,r):n},On.padStart=function(n,t,r){n=zu(n);var e=(t=Ou(t))?T(n):0;return t&&e<t?ee(t-e,r)+n:n},On.parseInt=function(n,t,r){return r||null==t?t=0:t&&(t=+t),$i(zu(n).replace(an,""),t||0)},On.random=function(n,t,r){if(r&&"boolean"!=typeof r&&ze(n,t,r)&&(t=r=F),r===F&&("boolean"==typeof t?(r=t,t=F):"boolean"==typeof n&&(r=n,n=F)),n===F&&t===F?(n=0,t=1):(n=Eu(n),t===F?(t=n,n=0):t=Eu(t)),n>t){var e=n;n=t,t=e}return r||n%1||t%1?(r=Fi(),Mi(n+r*(t-n+$n("1e-"+((r+"").length-1))),t)):cr(n,t)},On.reduce=function(n,t,r){var e=af(n)?h:m,u=3>arguments.length;return e(n,je(t,4),r,u,oo)},On.reduceRight=function(n,t,r){var e=af(n)?p:m,u=3>arguments.length;return e(n,je(t,4),r,u,fo)},On.repeat=function(n,t,r){return t=(r?ze(n,t,r):t===F)?1:Ou(t),ar(zu(n),t)},On.replace=function(){var n=arguments,t=zu(n[0]);return 3>n.length?t:t.replace(n[1],n[2])},On.result=function(n,t,r){t=Rr(t,n);var e=-1,u=t.length;for(u||(u=1,n=F);++e<u;){var i=null==n?F:n[$e(t[e])];i===F&&(e=u,i=r),n=gu(i)?i.call(n):i}return n},On.round=ic,On.runInContext=w,On.sample=function(n){return(af(n)?tt:sr)(n)},On.size=function(n){if(null==n)return 0;if(pu(n))return mu(n)?T(n):n.length;var t=yo(n);return"[object Map]"==t||"[object Set]"==t?n.size:Ht(n).length},On.snakeCase=Tf,On.some=function(n,t,r){var e=af(n)?_:gr;return r&&ze(n,t,r)&&(t=F),e(n,je(t,3))},On.sortedIndex=function(n,t){return dr(n,t)},On.sortedIndexBy=function(n,t,r){return yr(n,t,je(r,2))},On.sortedIndexOf=function(n,t){var r=null==n?0:n.length;if(r){var e=dr(n,t);if(e<r&&hu(n[e],t))return e}return-1},On.sortedLastIndex=function(n,t){return dr(n,t,!0)},On.sortedLastIndexBy=function(n,t,r){return yr(n,t,je(r,2),!0)},On.sortedLastIndexOf=function(n,t){if(null==n?0:n.length){var r=dr(n,t,!0)-1;if(hu(n[r],t))return r}return-1},On.startCase=$f,On.startsWith=function(n,t,r){return n=zu(n),r=null==r?0:gt(Ou(r),0,n.length),t=jr(t),n.slice(r,r+t.length)==t},On.subtract=oc,On.sum=function(n){return n&&n.length?k(n,Nu):0},On.sumBy=function(n,t){return n&&n.length?k(n,je(t,2)):0},On.template=function(n,t,r){var e=On.templateSettings;r&&ze(n,t,r)&&(t=F),n=zu(n),t=jf({},t,e,se),r=jf({},t.imports,e.imports,se);var u,i,o=Lu(r),f=I(r,o),c=0;r=t.interpolate||An;var a="__p+='";r=ti((t.escape||An).source+"|"+r.source+"|"+(r===nn?gn:An).source+"|"+(t.evaluate||An).source+"|$","g");var l="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";if(n.replace(r,function(t,r,e,o,f,l){return e||(e=o),a+=n.slice(c,l).replace(kn,B),r&&(u=!0,a+="'+__e("+r+")+'"),f&&(i=!0,a+="';"+f+";\n__p+='"),e&&(a+="'+((__t=("+e+"))==null?'':__t)+'"),c=l+t.length,t}),a+="';",(t=t.variable)||(a="with(obj){"+a+"}"),a=(i?a.replace(q,""):a).replace(V,"$1").replace(K,"$1;"),a="function("+(t||"obj")+"){"+(t?"":"obj||(obj={});")+"var __t,__p=''"+(u?",__e=_.escape":"")+(i?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+a+"return __p}",t=Pf(function(){return Qu(o,l+"return "+a).apply(F,f)}),t.source=a,vu(t))throw t;return t},On.times=function(n,t){if(n=Ou(n),1>n||9007199254740991<n)return[];var r=4294967295,e=Mi(n,4294967295);for(t=je(t),n-=4294967295,e=E(e,t);++r<n;)t(r);return e},On.toFinite=Eu,On.toInteger=Ou,On.toLength=Su,On.toLower=function(n){return zu(n).toLowerCase()},On.toNumber=Iu,On.toSafeInteger=function(n){return n?gt(Ou(n),-9007199254740991,9007199254740991):0===n?n:0},On.toString=zu,On.toUpper=function(n){return zu(n).toUpperCase()},On.trim=function(n,t,r){return(n=zu(n))&&(r||t===F)?n.replace(cn,""):n&&(t=jr(t))?(n=$(n),r=$(t),t=z(n,r),r=W(n,r)+1,zr(n,t,r).join("")):n},On.trimEnd=function(n,t,r){return(n=zu(n))&&(r||t===F)?n.replace(ln,""):n&&(t=jr(t))?(n=$(n),t=W(n,$(t))+1,zr(n,0,t).join("")):n},On.trimStart=function(n,t,r){return(n=zu(n))&&(r||t===F)?n.replace(an,""):n&&(t=jr(t))?(n=$(n),t=z(n,$(t)),zr(n,t).join("")):n},On.truncate=function(n,t){var r=30,e="...";if(bu(t))var u="separator"in t?t.separator:u,r="length"in t?Ou(t.length):r,e="omission"in t?jr(t.omission):e;n=zu(n);var i=n.length;if(Bn.test(n))var o=$(n),i=o.length;if(r>=i)return n;if(i=r-T(e),1>i)return e;if(r=o?zr(o,0,i).join(""):n.slice(0,i),u===F)return r+e;if(o&&(i+=r.length-i),_f(u)){if(n.slice(i).search(u)){var f=r;for(u.global||(u=ti(u.source,zu(dn.exec(u))+"g")),u.lastIndex=0;o=u.exec(f);)var c=o.index;r=r.slice(0,c===F?i:c)}}else n.indexOf(jr(u),i)!=i&&(u=r.lastIndexOf(u),-1<u&&(r=r.slice(0,u)));return r+e},On.unescape=function(n){return(n=zu(n))&&J.test(n)?n.replace(G,ut):n},On.uniqueId=function(n){var t=++ai;return zu(n)+t},On.upperCase=Ff,On.upperFirst=Nf,On.each=ru,On.eachRight=eu,On.first=Ke,Zu(On,function(){var n={};return Et(On,function(t,r){ci.call(On.prototype,r)||(n[r]=t)}),n}(),{chain:!1}),On.VERSION="4.17.4",u("bind bindKey curry curryRight partial partialRight".split(" "),function(n){On[n].placeholder=On}),u(["drop","take"],function(n,t){Mn.prototype[n]=function(r){r=r===F?1:Di(Ou(r),0);var e=this.__filtered__&&!t?new Mn(this):this.clone();return e.__filtered__?e.__takeCount__=Mi(r,e.__takeCount__):e.__views__.push({size:Mi(r,4294967295),type:n+(0>e.__dir__?"Right":"")}),e},Mn.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),u(["filter","map","takeWhile"],function(n,t){var r=t+1,e=1==r||3==r;Mn.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:je(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),u(["head","last"],function(n,t){var r="take"+(t?"Right":"");Mn.prototype[n]=function(){return this[r](1).value()[0]}}),u(["initial","tail"],function(n,t){var r="drop"+(t?"":"Right");Mn.prototype[n]=function(){return this.__filtered__?new Mn(this):this[r](1)}}),Mn.prototype.compact=function(){return this.filter(Nu)},Mn.prototype.find=function(n){return this.filter(n).head()},Mn.prototype.findLast=function(n){return this.reverse().find(n)},Mn.prototype.invokeMap=lr(function(n,t){return"function"==typeof n?new Mn(this):this.map(function(r){return Dt(r,n,t)})}),Mn.prototype.reject=function(n){return this.filter(su(je(n)))},Mn.prototype.slice=function(n,t){n=Ou(n);var r=this;return r.__filtered__&&(0<n||0>t)?new Mn(r):(0>n?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==F&&(t=Ou(t),r=0>t?r.dropRight(-t):r.take(t-n)),r)},Mn.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Mn.prototype.toArray=function(){return this.take(4294967295)},Et(Mn.prototype,function(n,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),e=/^(?:head|last)$/.test(t),u=On[e?"take"+("last"==t?"Right":""):t],i=e||/^find/.test(t);u&&(On.prototype[t]=function(){function t(n){return n=u.apply(On,s([n],f)),e&&h?n[0]:n}var o=this.__wrapped__,f=e?[1]:arguments,c=o instanceof Mn,a=f[0],l=c||af(o);l&&r&&"function"==typeof a&&1!=a.length&&(c=l=!1);var h=this.__chain__,p=!!this.__actions__.length,a=i&&!h,c=c&&!p;return!i&&l?(o=c?o:new Mn(this),o=n.apply(o,f),o.__actions__.push({func:nu,args:[t],thisArg:F}),new zn(o,h)):a&&c?n.apply(this,f):(o=this.thru(t),a?e?o.value()[0]:o.value():o)})}),u("pop push shift sort splice unshift".split(" "),function(n){var t=ui[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:pop|shift)$/.test(n);On.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var u=this.value();return t.apply(af(u)?u:[],n)}return this[r](function(r){return t.apply(af(r)?r:[],n)})}}),Et(Mn.prototype,function(n,t){var r=On[t];if(r){var e=r.name+"";(Ji[e]||(Ji[e]=[])).push({name:t,func:r})}}),Ji[Xr(F,2).name]=[{name:"wrapper",func:F}],Mn.prototype.clone=function(){var n=new Mn(this.__wrapped__);return n.__actions__=Mr(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Mr(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Mr(this.__views__),n},Mn.prototype.reverse=function(){if(this.__filtered__){var n=new Mn(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n},Mn.prototype.value=function(){var n,t=this.__wrapped__.value(),r=this.__dir__,e=af(t),u=0>r,i=e?t.length:0;n=i;for(var o=this.__views__,f=0,c=-1,a=o.length;++c<a;){var l=o[c],s=l.size;switch(l.type){case"drop":f+=s;break;case"dropRight":n-=s;break;case"take":n=Mi(n,f+s);break;case"takeRight":f=Di(f,n-s)}}if(n={start:f,end:n},o=n.start,f=n.end,n=f-o,o=u?f:o-1,f=this.__iteratees__,c=f.length,a=0,l=Mi(n,this.__takeCount__),!e||!u&&i==n&&l==n)return kr(t,this.__actions__);e=[];n:for(;n--&&a<l;){for(o+=r,u=-1,i=t[o];++u<c;){var h=f[u],s=h.type,h=(0,h.iteratee)(i);if(2==s)i=h;else if(!h){if(1==s)continue n;break n}}e[a++]=i}return e},On.prototype.at=Fo,On.prototype.chain=function(){return Xe(this)},On.prototype.commit=function(){return new zn(this.value(),this.__chain__)},On.prototype.next=function(){this.__values__===F&&(this.__values__=ku(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?F:this.__values__[this.__index__++]}},On.prototype.plant=function(n){for(var t,r=this;r instanceof Sn;){var e=Pe(r);e.__index__=0,e.__values__=F,t?u.__wrapped__=e:t=e;var u=e,r=r.__wrapped__}return u.__wrapped__=n,t},On.prototype.reverse=function(){var n=this.__wrapped__;return n instanceof Mn?(this.__actions__.length&&(n=new Mn(this)),n=n.reverse(),n.__actions__.push({func:nu,args:[Je],thisArg:F}),new zn(n,this.__chain__)):this.thru(Je)},On.prototype.toJSON=On.prototype.valueOf=On.prototype.value=function(){return kr(this.__wrapped__,this.__actions__)},On.prototype.first=On.prototype.head,Ai&&(On.prototype[Ai]=tu),On}();Zn._=it,__WEBPACK_AMD_DEFINE_RESULT__=function(){return it}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}).call(this)}).call(exports,__webpack_require__(29),__webpack_require__(124)(module))},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},isFunction_1=__webpack_require__(121),Subscription_1=__webpack_require__(12),Observer_1=__webpack_require__(236),rxSubscriber_1=__webpack_require__(82),Subscriber=function(_super){function Subscriber(destinationOrNext,error,complete){switch(_super.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Observer_1.empty;break;case 1:if(!destinationOrNext){this.destination=Observer_1.empty;break}if("object"==typeof destinationOrNext){destinationOrNext instanceof Subscriber?(this.destination=destinationOrNext,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,destinationOrNext));break}default:this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,destinationOrNext,error,complete)}}return __extends(Subscriber,_super),Subscriber.prototype[rxSubscriber_1.$$rxSubscriber]=function(){return this},Subscriber.create=function(next,error,complete){var subscriber=new Subscriber(next,error,complete);return subscriber.syncErrorThrowable=!1,subscriber},Subscriber.prototype.next=function(value){this.isStopped||this._next(value)},Subscriber.prototype.error=function(err){this.isStopped||(this.isStopped=!0,this._error(err))},Subscriber.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},Subscriber.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,_super.prototype.unsubscribe.call(this))},Subscriber.prototype._next=function(value){this.destination.next(value)},Subscriber.prototype._error=function(err){this.destination.error(err),this.unsubscribe()},Subscriber.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},Subscriber}(Subscription_1.Subscription);exports.Subscriber=Subscriber;var SafeSubscriber=function(_super){function SafeSubscriber(_parent,observerOrNext,error,complete){_super.call(this),this._parent=_parent;var next,context=this;isFunction_1.isFunction(observerOrNext)?next=observerOrNext:observerOrNext&&(context=observerOrNext,next=observerOrNext.next,error=observerOrNext.error,complete=observerOrNext.complete,isFunction_1.isFunction(context.unsubscribe)&&this.add(context.unsubscribe.bind(context)),context.unsubscribe=this.unsubscribe.bind(this)),this._context=context,this._next=next,this._error=error,this._complete=complete}return __extends(SafeSubscriber,_super),SafeSubscriber.prototype.next=function(value){if(!this.isStopped&&this._next){var _parent=this._parent;_parent.syncErrorThrowable?this.__tryOrSetError(_parent,this._next,value)&&this.unsubscribe():this.__tryOrUnsub(this._next,value)}},SafeSubscriber.prototype.error=function(err){if(!this.isStopped){var _parent=this._parent;if(this._error)_parent.syncErrorThrowable?(this.__tryOrSetError(_parent,this._error,err),this.unsubscribe()):(this.__tryOrUnsub(this._error,err),this.unsubscribe());else{if(!_parent.syncErrorThrowable)throw this.unsubscribe(),err;_parent.syncErrorValue=err,_parent.syncErrorThrown=!0,this.unsubscribe()}}},SafeSubscriber.prototype.complete=function(){if(!this.isStopped){var _parent=this._parent;this._complete?_parent.syncErrorThrowable?(this.__tryOrSetError(_parent,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},SafeSubscriber.prototype.__tryOrUnsub=function(fn,value){try{fn.call(this._context,value)}catch(err){throw this.unsubscribe(),err}},SafeSubscriber.prototype.__tryOrSetError=function(parent,fn,value){try{fn.call(this._context,value)}catch(err){return parent.syncErrorValue=err,parent.syncErrorThrown=!0,!0}return!1},SafeSubscriber.prototype._unsubscribe=function(){var _parent=this._parent;this._context=null,this._parent=null,_parent.unsubscribe()},SafeSubscriber}(Subscriber)},function(module,exports,__webpack_require__){"use strict";function $currentInjector(){return window.ngInjector||angular.element(document.body).injector()}function $injectNow(dep){return $currentInjector().get(dep)}function injectorBridge(injectable){var $injector=$currentInjector();$injectFields.apply(void 0,[injectable].concat($injector.annotate(injectable.constructor)))}function $injectFields(target){for(var dependencies=[],_i=1;_i<arguments.length;_i++)dependencies[_i-1]=arguments[_i];var $injector=$currentInjector();dependencies.forEach(function(dep){target[dep]=$injector.get(dep)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.$currentInjector=$currentInjector,exports.$injectNow=$injectNow,exports.injectorBridge=injectorBridge,exports.$injectFields=$injectFields},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),OuterSubscriber=function(_super){function OuterSubscriber(){_super.apply(this,arguments)}return __extends(OuterSubscriber,_super),OuterSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)},OuterSubscriber.prototype.notifyError=function(error,innerSub){this.destination.error(error)},OuterSubscriber.prototype.notifyComplete=function(innerSub){this.destination.complete()},OuterSubscriber}(Subscriber_1.Subscriber);exports.OuterSubscriber=OuterSubscriber},function(module,exports,__webpack_require__){"use strict";function subscribeToResult(outerSubscriber,result,outerValue,outerIndex){var destination=new InnerSubscriber_1.InnerSubscriber(outerSubscriber,outerValue,outerIndex);if(destination.closed)return null;if(result instanceof Observable_1.Observable)return result._isScalar?(destination.next(result.value),destination.complete(),null):result.subscribe(destination);if(isArray_1.isArray(result)){for(var i=0,len=result.length;i<len&&!destination.closed;i++)destination.next(result[i]);destination.closed||destination.complete()}else{if(isPromise_1.isPromise(result))return result.then(function(value){destination.closed||(destination.next(value),destination.complete())},function(err){return destination.error(err)}).then(null,function(err){root_1.root.setTimeout(function(){throw err})}),destination;if(result&&"function"==typeof result[iterator_1.$$iterator])for(var iterator=result[iterator_1.$$iterator]();;){var item=iterator.next();if(item.done){destination.complete();break}if(destination.next(item.value),destination.closed)break}else if(result&&"function"==typeof result[observable_1.$$observable]){var obs=result[observable_1.$$observable]();if("function"==typeof obs.subscribe)return obs.subscribe(new InnerSubscriber_1.InnerSubscriber(outerSubscriber,outerValue,outerIndex));destination.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var value=isObject_1.isObject(result)?"an invalid object":"'"+result+"'",msg="You provided "+value+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";destination.error(new TypeError(msg))}}return null}var root_1=__webpack_require__(15),isArray_1=__webpack_require__(27),isPromise_1=__webpack_require__(261),isObject_1=__webpack_require__(260),Observable_1=__webpack_require__(1),iterator_1=__webpack_require__(56),InnerSubscriber_1=__webpack_require__(742),observable_1=__webpack_require__(81);exports.subscribeToResult=subscribeToResult},function(module,exports,__webpack_require__){"use strict";(function(_){function initializeResource(halResource){function setSource(){halResource.$source._links||(halResource.$source._links={}),halResource.$source._links.self||(halResource.$source._links.self=new hal_link_service_1.HalLink)}function proxyProperties(){halResource.$embeddableKeys().forEach(function(property){Object.defineProperty(halResource,property,{get:function(){return halResource.$source[property]},set:function(value){halResource.$source[property]=value},enumerable:!0,configurable:!0})})}function setLinksAsProperties(){halResource.$linkableKeys().forEach(function(linkName){lazy(halResource,linkName,function(){var link=halResource.$links[linkName].$link||halResource.$links[linkName];if(Array.isArray(link)){var items=link.map(function(item){return halResource.createLinkedResource(linkName,item.$link)}),property=(new(ObservableArray.bind.apply(ObservableArray,[void 0].concat(items)))).on("change",function(){property.forEach(function(item){item.$link||property.splice(property.indexOf(item),1)}),halResource.$source._links[linkName]=property.map(function(item){return item.$link})});return property}return link.href?"get"!==link.method?hal_link_service_1.HalLink.callable(link):halResource.createLinkedResource(linkName,link):null},function(val){return setter(val,linkName)})})}function setEmbeddedAsProperties(){halResource.$source._embedded&&Object.keys(halResource.$source._embedded).forEach(function(name){lazy(halResource,name,function(){return halResource.$embedded[name]},function(val){return setter(val,name)})})}function setupProperty(name,callback){var instanceName="$"+name,sourceName="_"+name,sourceObj=halResource.$source[sourceName];angular.isObject(sourceObj)&&Object.keys(sourceObj).forEach(function(propName){lazy(halResource[instanceName],propName,function(){return callback(sourceObj[propName])})})}function setupLinks(){setupProperty("links",function(link){return Array.isArray(link)?link.map(hal_link_service_1.HalLink.callable):hal_link_service_1.HalLink.callable(link)})}function setupEmbedded(){setupProperty("embedded",function(element){return angular.forEach(element,function(child,name){child&&(child._embedded||child._links)&&lazy(element,name,function(){return HalResource.create(child)})}),Array.isArray(element)?element.map(function(source){return HalResource.create(source,!0)}):HalResource.create(element)})}function setter(val,linkName){if(val)if(_.isArray(val))halResource.$source._links[linkName]=val.map(function(el){return{href:el.href}});else if(val.hasOwnProperty("$link")){var link=val.$link;link.href&&(halResource.$source._links[linkName]=link)}else"href"in val&&(halResource.$source._links[linkName]={href:val.href});else halResource.$source._links[linkName]={href:null};return halResource.$embedded&&halResource.$embedded[linkName]&&(halResource.$embedded[linkName]=val,halResource.$source._embedded[linkName]=_.get(val,"$source",val)),val}setSource(),setupLinks(),setupEmbedded(),proxyProperties(),setLinksAsProperties(),setEmbeddedAsProperties()}function halResourceService(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return $q=args[0],lazy=args[1],halLink=args[2],halResourceFactory=args[3],CacheService=args[4],HalResource}Object.defineProperty(exports,"__esModule",{value:!0});var $q,lazy,halLink,halResourceFactory,CacheService,angular_modules_1=__webpack_require__(0),hal_link_service_1=__webpack_require__(127),ObservableArray=__webpack_require__(719),HalResource=function(){function HalResource($source,$loaded){void 0===$source&&($source=HalResource.getEmptyResource()),void 0===$loaded&&($loaded=!0),this.$source=$source,this.$loaded=$loaded,this.$links={},this.$embedded={},this.$initialize($source)}return HalResource.create=function(element,force){return void 0===force&&(force=!1),_.isNil(element)?element:force||element._embedded||element._links?halResourceFactory.createHalResource(element):element},HalResource.fromLink=function(link){var resource=HalResource.getEmptyResource(halLink.fromObject(link));return new HalResource(resource,!1)},HalResource.getEmptyResource=function(self){return void 0===self&&(self={href:null}),{_links:{self:self}}},HalResource.idFromLink=function(href){return href.split("/").pop()},Object.defineProperty(HalResource.prototype,"idFromLink",{get:function(){return this.$href?HalResource.idFromLink(this.$href):""},enumerable:!0,configurable:!0}),Object.defineProperty(HalResource.prototype,"$isHal",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(HalResource.prototype,"$link",{get:function(){return this.$links.self.$link},enumerable:!0,configurable:!0}),Object.defineProperty(HalResource.prototype,"name",{get:function(){return this._name||this.$link.title||""},set:function(name){this._name=name},enumerable:!0,configurable:!0}),Object.defineProperty(HalResource.prototype,"href",{get:function(){return this.$link.href},enumerable:!0,configurable:!0}),Object.defineProperty(HalResource.prototype,"$href",{get:function(){return this.$link.href},enumerable:!0,configurable:!0}),Object.defineProperty(HalResource.prototype,"state",{get:function(){return null},enumerable:!0,configurable:!0}),HalResource.prototype.$load=function(force){var _this=this;if(void 0===force&&(force=!1),!this.state)return this.$loadResource(force);var state=this.state;return force&&state.clear(),state.putFromPromiseIfPristine(function(){return _this.$loadResource(force)}),state.valuesPromise().then(function(source){return _this.$initialize(source),_this.$loaded=!0,_this})},HalResource.prototype.$loadResource=function(force){var _this=this;if(void 0===force&&(force=!1),!force){if(this.$loaded)return $q.when(this);if(!this.$loaded&&this.$self)return this.$self}return force&&CacheService.clearPromisedKey(this.$links.self.href),this.$loaded=!1,this.$self=this.$links.self({},this.$loadHeaders(force)).then(function(source){return _this.$loaded=!0,_this.$initialize(source),_this}),this.$self},HalResource.prototype.$update=function(){return this.$load(!0)},HalResource.prototype.$plain=function(){return angular.copy(this.$source)},HalResource.prototype.$copy=function(){var clone=this.constructor;return new clone(_.cloneDeep(this.$source),this.$loaded)},HalResource.prototype.$initialize=function(source){this.$source=source.$source||source,initializeResource(this)},HalResource.prototype.$loadHeaders=function(force){var headers={};return force&&(headers.caching={enabled:!1}),headers},HalResource.prototype.$embeddableKeys=function(){var properties=Object.keys(this.$source);return _.without(properties,"_links","_embedded")},HalResource.prototype.$linkableKeys=function(){var properties=Object.keys(this.$links);return _.without(properties,"self")},HalResource.prototype.createLinkedResource=function(linkName,link){var resource=HalResource.getEmptyResource(),type=this.constructor._type;return resource._links.self=link,halResourceFactory.createLinkedHalResource(resource,type,linkName)},HalResource}();exports.HalResource=HalResource,halResourceService.$inject=["$q","lazy","HalLink","halResourceFactory","CacheService"],angular_modules_1.opApiModule.factory("HalResource",halResourceService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function runInScopeDigest(scope,fn){"$apply"!==scope.$root.$$phase&&"$digest"!==scope.$root.$$phase?scope.$apply(fn):fn()}function scopedObservable(scope,observable){return rxjs_1.Observable.create(function(observer){var disposable=observable.subscribe(function(value){runInScopeDigest(scope,function(){return observer.next(value)})},function(exception){runInScopeDigest(scope,function(){return observer.error(exception)})},function(){runInScopeDigest(scope,function(){return observer.complete()})});scope.$on("$destroy",function(){return disposable.unsubscribe()})})}function asyncTest(done,fn){return function(value){try{fn(value),done()}catch(err){done(err)}}}function scopeDestroyed$(scope){return rxjs_1.Observable.create(function(s){scope.$on("$destroy",function(){s.next(scope),s.complete()})})}Object.defineProperty(exports,"__esModule",{value:!0});var rxjs_1=__webpack_require__(17);exports.runInScopeDigest=runInScopeDigest,exports.scopedObservable=scopedObservable,exports.asyncTest=asyncTest,exports.scopeDestroyed$=scopeDestroyed$},function(module,exports,__webpack_require__){"use strict";function whenDebugging(cb){}function debugLog(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];whenDebugging(function(){return console.log("[DEBUG] ",args.join("-- "))})}function timeOutput(msg,cb){cb()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.whenDebugging=whenDebugging,exports.debugLog=debugLog,exports.timeOutput=timeOutput},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_field_module_1=__webpack_require__(41),DisplayField=function(_super){function DisplayField(resource,name,schema){var _this=_super.call(this,resource,name,schema)||this;return _this.resource=resource,_this.name=name,_this.schema=schema,_this.mode=null,
_this.I18n=_this.$injector.get("I18n"),_this}return __extends(DisplayField,_super),Object.defineProperty(DisplayField.prototype,"isFormattable",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(DisplayField.prototype,"value",{get:function(){return this.schema?this.resource[this.name]:null},enumerable:!0,configurable:!0}),Object.defineProperty(DisplayField.prototype,"type",{get:function(){return this.constructor.type},enumerable:!0,configurable:!0}),Object.defineProperty(DisplayField.prototype,"valueString",{get:function(){return this.value},enumerable:!0,configurable:!0}),Object.defineProperty(DisplayField.prototype,"placeholder",{get:function(){return"-"},enumerable:!0,configurable:!0}),Object.defineProperty(DisplayField.prototype,"label",{get:function(){return this.schema.name||this.name},enumerable:!0,configurable:!0}),Object.defineProperty(DisplayField.prototype,"$injector",{get:function(){return this.constructor.$injector},enumerable:!0,configurable:!0}),DisplayField.prototype.render=function(element,displayText){element.textContent=displayText},DisplayField}(wp_field_module_1.Field);exports.DisplayField=DisplayField;var DisplayFieldFactory=function(_super){function DisplayFieldFactory(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(DisplayFieldFactory,_super),DisplayFieldFactory.create=function(workPackage,fieldName,schema){var type=DisplayFieldFactory.getSpecificType(fieldName)||schema&&DisplayFieldFactory.getType(schema.type)||DisplayFieldFactory.defaultType,fieldClass=DisplayFieldFactory.classes[type];return new fieldClass(workPackage,fieldName,schema)},DisplayFieldFactory.getSpecificType=function(type){var fields=DisplayFieldFactory.fields;return fields[type]},DisplayFieldFactory}(wp_field_module_1.FieldFactory);DisplayFieldFactory.fields={},DisplayFieldFactory.classes={},exports.DisplayFieldFactory=DisplayFieldFactory},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var cell_builder_1=__webpack_require__(37),details_link_builder_1=__webpack_require__(165),angular_injector_bridge_functions_1=__webpack_require__(4),ui_state_link_builder_1=__webpack_require__(30),query_column_1=__webpack_require__(51),relation_cell_builder_1=__webpack_require__(104);exports.tableRowClassName="wp-table--row",exports.commonRowClassName="wp--row",exports.internalDetailsColumn={id:"__internal-detailsLink"};var SingleRowBuilder=function(){function SingleRowBuilder(workPackageTable){this.workPackageTable=workPackageTable,this.cellBuilder=new cell_builder_1.CellBuilder,this.relationCellBuilder=new relation_cell_builder_1.RelationCellbuilder,this.detailsLinkBuilder=new details_link_builder_1.DetailsLinkBuilder,angular_injector_bridge_functions_1.$injectFields(this,"wpTableSelection","wpTableColumns","I18n")}return Object.defineProperty(SingleRowBuilder.prototype,"columns",{get:function(){return this.wpTableColumns.getColumns()},enumerable:!0,configurable:!0}),Object.defineProperty(SingleRowBuilder.prototype,"augmentedColumns",{get:function(){return this.columns.concat(exports.internalDetailsColumn)},enumerable:!0,configurable:!0}),SingleRowBuilder.prototype.buildCell=function(workPackage,column){if(query_column_1.isRelationColumn(column))return this.relationCellBuilder.build(workPackage,column);switch(column.id){case exports.internalDetailsColumn.id:return this.detailsLinkBuilder.build(workPackage);default:return this.cellBuilder.build(workPackage,column.id)}},SingleRowBuilder.prototype.buildEmpty=function(workPackage){var row=this.createEmptyRow(workPackage);return this.buildEmptyRow(workPackage,row)},SingleRowBuilder.prototype.createEmptyRow=function(workPackage){var identifier=this.classIdentifier(workPackage),tr=document.createElement("tr");return tr.dataset.workPackageId=workPackage.id,tr.dataset.classIdentifier=identifier,tr.classList.add(exports.tableRowClassName,exports.commonRowClassName,identifier,identifier+"-table","issue"),tr},SingleRowBuilder.prototype.classIdentifier=function(workPackage){return"wp-row-"+workPackage.id},SingleRowBuilder.prototype.refreshRow=function(workPackage,changeset,jRow){var _this=this,cells=jRow.find("."+cell_builder_1.wpCellTdClassName).detach(),newCells=[];return this.columns.forEach(function(column){var oldTd=cells.filter("td."+column.id);if(_this.isColumnBeingEdited(changeset,column))return void newCells.push(oldTd[0]);var cell=_this.buildCell(workPackage,column);newCells.push(cell)}),jRow.prepend(newCells),jRow},SingleRowBuilder.prototype.isColumnBeingEdited=function(changeset,column){return changeset&&changeset.isOverridden(column.id)},SingleRowBuilder.prototype.buildEmptyRow=function(workPackage,row){var _this=this,cell=null;return this.augmentedColumns.forEach(function(column){cell=_this.buildCell(workPackage,column),row.appendChild(cell)}),this.wpTableSelection.isSelected(workPackage.id)&&row.classList.add(ui_state_link_builder_1.checkedClassName),[row,!1]},SingleRowBuilder}();exports.SingleRowBuilder=SingleRowBuilder},function(module,exports,__webpack_require__){"use strict";function flattenUnsubscriptionErrors(errors){return errors.reduce(function(errs,err){return errs.concat(err instanceof UnsubscriptionError_1.UnsubscriptionError?err.errors:err)},[])}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},isArray_1=__webpack_require__(27),isObject_1=__webpack_require__(260),isFunction_1=__webpack_require__(121),tryCatch_1=__webpack_require__(16),errorObject_1=__webpack_require__(14),UnsubscriptionError_1=__webpack_require__(258),Subscription=function(){function Subscription(unsubscribe){this.closed=!1,unsubscribe&&(this._unsubscribe=unsubscribe)}return Subscription.prototype.unsubscribe=function(){var errors,hasErrors=!1;if(!this.closed){this.closed=!0;var _a=this,_unsubscribe=_a._unsubscribe,_subscriptions=_a._subscriptions;if(this._subscriptions=null,isFunction_1.isFunction(_unsubscribe)){var trial=tryCatch_1.tryCatch(_unsubscribe).call(this);trial===errorObject_1.errorObject&&(hasErrors=!0,errors=errors||(errorObject_1.errorObject.e instanceof UnsubscriptionError_1.UnsubscriptionError?flattenUnsubscriptionErrors(errorObject_1.errorObject.e.errors):[errorObject_1.errorObject.e]))}if(isArray_1.isArray(_subscriptions))for(var index=-1,len=_subscriptions.length;++index<len;){var sub=_subscriptions[index];if(isObject_1.isObject(sub)){var trial=tryCatch_1.tryCatch(sub.unsubscribe).call(sub);if(trial===errorObject_1.errorObject){hasErrors=!0,errors=errors||[];var err=errorObject_1.errorObject.e;err instanceof UnsubscriptionError_1.UnsubscriptionError?errors=errors.concat(flattenUnsubscriptionErrors(err.errors)):errors.push(err)}}}if(hasErrors)throw new UnsubscriptionError_1.UnsubscriptionError(errors)}},Subscription.prototype.add=function(teardown){if(!teardown||teardown===Subscription.EMPTY)return Subscription.EMPTY;if(teardown===this)return this;var sub=teardown;switch(typeof teardown){case"function":sub=new Subscription(teardown);case"object":if(sub.closed||"function"!=typeof sub.unsubscribe)return sub;if(this.closed)return sub.unsubscribe(),sub;break;default:throw new Error("unrecognized teardown "+teardown+" added to Subscription.")}var childSub=new ChildSubscription(sub,this);return this._subscriptions=this._subscriptions||[],this._subscriptions.push(childSub),childSub},Subscription.prototype.remove=function(subscription){if(null!=subscription&&subscription!==this&&subscription!==Subscription.EMPTY){var subscriptions=this._subscriptions;if(subscriptions){var subscriptionIndex=subscriptions.indexOf(subscription);subscriptionIndex!==-1&&subscriptions.splice(subscriptionIndex,1)}}},Subscription.EMPTY=function(empty){return empty.closed=!0,empty}(new Subscription),Subscription}();exports.Subscription=Subscription;var ChildSubscription=function(_super){function ChildSubscription(_innerSub,_parent){_super.call(this),this._innerSub=_innerSub,this._parent=_parent}return __extends(ChildSubscription,_super),ChildSubscription.prototype._unsubscribe=function(){var _a=this,_innerSub=_a._innerSub,_parent=_a._parent;_parent.remove(this),_innerSub.unsubscribe()},ChildSubscription}(Subscription);exports.ChildSubscription=ChildSubscription},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(1),Subscriber_1=__webpack_require__(3),Subscription_1=__webpack_require__(12),ObjectUnsubscribedError_1=__webpack_require__(85),SubjectSubscription_1=__webpack_require__(237),rxSubscriber_1=__webpack_require__(82),SubjectSubscriber=function(_super){function SubjectSubscriber(destination){_super.call(this,destination),this.destination=destination}return __extends(SubjectSubscriber,_super),SubjectSubscriber}(Subscriber_1.Subscriber);exports.SubjectSubscriber=SubjectSubscriber;var Subject=function(_super){function Subject(){_super.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return __extends(Subject,_super),Subject.prototype[rxSubscriber_1.$$rxSubscriber]=function(){return new SubjectSubscriber(this)},Subject.prototype.lift=function(operator){var subject=new AnonymousSubject(this,this);return subject.operator=operator,subject},Subject.prototype.next=function(value){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;if(!this.isStopped)for(var observers=this.observers,len=observers.length,copy=observers.slice(),i=0;i<len;i++)copy[i].next(value)},Subject.prototype.error=function(err){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=err,this.isStopped=!0;for(var observers=this.observers,len=observers.length,copy=observers.slice(),i=0;i<len;i++)copy[i].error(err);this.observers.length=0},Subject.prototype.complete=function(){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;this.isStopped=!0;for(var observers=this.observers,len=observers.length,copy=observers.slice(),i=0;i<len;i++)copy[i].complete();this.observers.length=0},Subject.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},Subject.prototype._subscribe=function(subscriber){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;return this.hasError?(subscriber.error(this.thrownError),Subscription_1.Subscription.EMPTY):this.isStopped?(subscriber.complete(),Subscription_1.Subscription.EMPTY):(this.observers.push(subscriber),new SubjectSubscription_1.SubjectSubscription(this,subscriber))},Subject.prototype.asObservable=function(){var observable=new Observable_1.Observable;return observable.source=this,observable},Subject.create=function(destination,source){return new AnonymousSubject(destination,source)},Subject}(Observable_1.Observable);exports.Subject=Subject;var AnonymousSubject=function(_super){function AnonymousSubject(destination,source){_super.call(this),this.destination=destination,this.source=source}return __extends(AnonymousSubject,_super),AnonymousSubject.prototype.next=function(value){var destination=this.destination;destination&&destination.next&&destination.next(value)},AnonymousSubject.prototype.error=function(err){var destination=this.destination;destination&&destination.error&&this.destination.error(err)},AnonymousSubject.prototype.complete=function(){var destination=this.destination;destination&&destination.complete&&this.destination.complete()},AnonymousSubject.prototype._subscribe=function(subscriber){var source=this.source;return source?this.source.subscribe(subscriber):Subscription_1.Subscription.EMPTY},AnonymousSubject}(Subject);exports.AnonymousSubject=AnonymousSubject},function(module,exports,__webpack_require__){"use strict";exports.errorObject={e:{}}},function(module,exports,__webpack_require__){"use strict";(function(global){if(exports.root="object"==typeof window&&window.window===window&&window||"object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global,!exports.root)throw new Error("RxJS could not find any global context (window, self, global)")}).call(exports,__webpack_require__(29))},function(module,exports,__webpack_require__){"use strict";function tryCatcher(){try{return tryCatchTarget.apply(this,arguments)}catch(e){return errorObject_1.errorObject.e=e,errorObject_1.errorObject}}function tryCatch(fn){return tryCatchTarget=fn,tryCatcher}var tryCatchTarget,errorObject_1=__webpack_require__(14);exports.tryCatch=tryCatch},function(module,exports,__webpack_require__){"use strict";var Subject_1=__webpack_require__(13);exports.Subject=Subject_1.Subject,exports.AnonymousSubject=Subject_1.AnonymousSubject;var Observable_1=__webpack_require__(1);exports.Observable=Observable_1.Observable,__webpack_require__(744),__webpack_require__(745),__webpack_require__(746),__webpack_require__(747),__webpack_require__(748),__webpack_require__(751),__webpack_require__(752),__webpack_require__(753),__webpack_require__(754),__webpack_require__(755),__webpack_require__(756),__webpack_require__(757),__webpack_require__(758),__webpack_require__(759),__webpack_require__(760),__webpack_require__(765),__webpack_require__(761),__webpack_require__(762),__webpack_require__(763),__webpack_require__(764),__webpack_require__(766),__webpack_require__(769),__webpack_require__(767),__webpack_require__(768),__webpack_require__(770),__webpack_require__(749),__webpack_require__(750),__webpack_require__(773),__webpack_require__(774),__webpack_require__(775),__webpack_require__(776),__webpack_require__(777),__webpack_require__(778),__webpack_require__(779),__webpack_require__(780),__webpack_require__(781),__webpack_require__(782),__webpack_require__(783),__webpack_require__(784),__webpack_require__(785),__webpack_require__(791),__webpack_require__(786),__webpack_require__(787),__webpack_require__(788),__webpack_require__(789),__webpack_require__(790),__webpack_require__(792),__webpack_require__(793),__webpack_require__(794),__webpack_require__(795),__webpack_require__(798),__webpack_require__(799),__webpack_require__(800),__webpack_require__(796),__webpack_require__(801),__webpack_require__(802),__webpack_require__(803),__webpack_require__(804),__webpack_require__(805),__webpack_require__(806),__webpack_require__(807),__webpack_require__(808),__webpack_require__(771),__webpack_require__(772),__webpack_require__(809),__webpack_require__(810),__webpack_require__(797),__webpack_require__(811),__webpack_require__(812),__webpack_require__(813),__webpack_require__(814),__webpack_require__(815),__webpack_require__(816),__webpack_require__(817),__webpack_require__(818),__webpack_require__(819),__webpack_require__(820),__webpack_require__(821),__webpack_require__(822),__webpack_require__(823),__webpack_require__(824),__webpack_require__(825),__webpack_require__(826),__webpack_require__(827),__webpack_require__(828),__webpack_require__(830),__webpack_require__(829),__webpack_require__(831),__webpack_require__(832),__webpack_require__(833),__webpack_require__(834),__webpack_require__(835),__webpack_require__(836),__webpack_require__(837),__webpack_require__(838),__webpack_require__(839),__webpack_require__(840),__webpack_require__(841),__webpack_require__(842),__webpack_require__(843),__webpack_require__(844),__webpack_require__(845),__webpack_require__(846),__webpack_require__(847),__webpack_require__(848),__webpack_require__(849),__webpack_require__(850),__webpack_require__(851),__webpack_require__(852),__webpack_require__(853),__webpack_require__(854),__webpack_require__(855),__webpack_require__(856),__webpack_require__(857),__webpack_require__(858),__webpack_require__(859),__webpack_require__(860),__webpack_require__(861),__webpack_require__(862),__webpack_require__(863),__webpack_require__(864),__webpack_require__(865),__webpack_require__(866),__webpack_require__(867),__webpack_require__(868),__webpack_require__(869),__webpack_require__(870);var Subscription_1=__webpack_require__(12);exports.Subscription=Subscription_1.Subscription;var Subscriber_1=__webpack_require__(3);exports.Subscriber=Subscriber_1.Subscriber;var AsyncSubject_1=__webpack_require__(78);exports.AsyncSubject=AsyncSubject_1.AsyncSubject;var ReplaySubject_1=__webpack_require__(79);exports.ReplaySubject=ReplaySubject_1.ReplaySubject;var BehaviorSubject_1=__webpack_require__(235);exports.BehaviorSubject=BehaviorSubject_1.BehaviorSubject;var ConnectableObservable_1=__webpack_require__(238);exports.ConnectableObservable=ConnectableObservable_1.ConnectableObservable;var Notification_1=__webpack_require__(53);exports.Notification=Notification_1.Notification;var EmptyError_1=__webpack_require__(84);exports.EmptyError=EmptyError_1.EmptyError;var ArgumentOutOfRangeError_1=__webpack_require__(83);exports.ArgumentOutOfRangeError=ArgumentOutOfRangeError_1.ArgumentOutOfRangeError;var ObjectUnsubscribedError_1=__webpack_require__(85);exports.ObjectUnsubscribedError=ObjectUnsubscribedError_1.ObjectUnsubscribedError;var TimeoutError_1=__webpack_require__(257);exports.TimeoutError=TimeoutError_1.TimeoutError;var UnsubscriptionError_1=__webpack_require__(258);exports.UnsubscriptionError=UnsubscriptionError_1.UnsubscriptionError;var timeInterval_1=__webpack_require__(250);exports.TimeInterval=timeInterval_1.TimeInterval;var timestamp_1=__webpack_require__(251);exports.Timestamp=timestamp_1.Timestamp;var TestScheduler_1=__webpack_require__(1006);exports.TestScheduler=TestScheduler_1.TestScheduler;var VirtualTimeScheduler_1=__webpack_require__(252);exports.VirtualTimeScheduler=VirtualTimeScheduler_1.VirtualTimeScheduler;var AjaxObservable_1=__webpack_require__(241);exports.AjaxResponse=AjaxObservable_1.AjaxResponse,exports.AjaxError=AjaxObservable_1.AjaxError,exports.AjaxTimeoutError=AjaxObservable_1.AjaxTimeoutError;var asap_1=__webpack_require__(253),async_1=__webpack_require__(18),queue_1=__webpack_require__(254),animationFrame_1=__webpack_require__(1003),rxSubscriber_1=__webpack_require__(82),iterator_1=__webpack_require__(56),observable_1=__webpack_require__(81),Scheduler={asap:asap_1.asap,queue:queue_1.queue,animationFrame:animationFrame_1.animationFrame,async:async_1.async};exports.Scheduler=Scheduler;var Symbol={rxSubscriber:rxSubscriber_1.$$rxSubscriber,observable:observable_1.$$observable,iterator:iterator_1.$$iterator};exports.Symbol=Symbol},function(module,exports,__webpack_require__){"use strict";var AsyncAction_1=__webpack_require__(54),AsyncScheduler_1=__webpack_require__(55);exports.async=new AsyncScheduler_1.AsyncScheduler(AsyncAction_1.AsyncAction)},function(module,exports,__webpack_require__){"use strict";module.exports=function(value){if(null==value)throw new TypeError("Cannot use null or undefined");return value}},function(module,exports,__webpack_require__){"use strict";module.exports=function(fn){if("function"!=typeof fn)throw new TypeError(fn+" is not a function");return fn}},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_field_module_1=__webpack_require__(41),EditField=function(_super){function EditField(changeset,name,schema){var _this=_super.call(this,changeset.workPackage,name,schema)||this;return _this.changeset=changeset,_this.name=name,_this.schema=schema,_this.initialize(),_this}return __extends(EditField,_super),Object.defineProperty(EditField.prototype,"inFlight",{get:function(){return this.changeset.inFlight},enumerable:!0,configurable:!0}),Object.defineProperty(EditField.prototype,"value",{get:function(){return this.changeset.value(this.name)},set:function(value){this.changeset.setValue(this.name,this.parseValue(value))},enumerable:!0,configurable:!0}),EditField.prototype.initialize=function(){},EditField.prototype.parseValue=function(val){return val},EditField}(wp_field_module_1.Field);exports.EditField=EditField;var EditFieldFactory=function(_super){function EditFieldFactory(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EditFieldFactory,_super),EditFieldFactory.create=function(changeset,fieldName,schema){var type=this.getType(schema.type),fieldClass=this.classes[type];return new fieldClass(changeset,fieldName,schema)},EditFieldFactory}(wp_field_module_1.FieldFactory);EditFieldFactory.fields={},EditFieldFactory.classes={},exports.EditFieldFactory=EditFieldFactory},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_rx_utils_1=__webpack_require__(8),WorkPackageTableBaseService=function(){function WorkPackageTableBaseService(states){this.states=states}return Object.defineProperty(WorkPackageTableBaseService.prototype,"state",{get:function(){return this.states.table[this.stateName]},enumerable:!0,configurable:!0}),WorkPackageTableBaseService.prototype.clear=function(reason){this.state.clear(reason)},WorkPackageTableBaseService.prototype.observeOnScope=function(scope){return angular_rx_utils_1.scopedObservable(scope,this.state.values$())},WorkPackageTableBaseService.prototype.observeUntil=function(unsubscribe){return this.state.values$().takeUntil(unsubscribe)},WorkPackageTableBaseService.prototype.onReady=function(scope){return angular_rx_utils_1.scopedObservable(scope,this.state.values$()).take(1).mapTo(null).toPromise()},WorkPackageTableBaseService}();exports.WorkPackageTableBaseService=WorkPackageTableBaseService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var WorkPackageTableBaseState=function(){function WorkPackageTableBaseState(){}return WorkPackageTableBaseState}();exports.WorkPackageTableBaseState=WorkPackageTableBaseState},function(module,exports,__webpack_require__){"use strict";(function(_){function calculatePositionValueForDayCountingPx(viewParams,days){var daysInPx=days*viewParams.pixelPerDay;return daysInPx}function calculatePositionValueForDayCount(viewParams,days){var value=calculatePositionValueForDayCountingPx(viewParams,days);return value+"px"}function getTimeSlicesForHeader(vp,unit,startView,endView){for(var inViewport=[],rest=[],time=startView.clone().startOf(unit),end=endView.clone().endOf(unit);time.isBefore(end);){var sliceStart=moment.max(time,startView).clone(),sliceEnd=moment.min(time.clone().endOf(unit),endView).clone();time.add(1,unit);var viewport=vp.visibleViewportAtCalculationTime;sliceStart.isSameOrAfter(viewport[0])&&sliceStart.isSameOrBefore(viewport[1])||sliceEnd.isSameOrAfter(viewport[0])&&sliceEnd.isSameOrBefore(viewport[1])?inViewport.push([sliceStart,sliceEnd]):rest.push([sliceStart,sliceEnd])}var firstRest=rest.splice(0,1)[0],lastRest=rest.pop(),inViewportAndBoundaries=_.concat([firstRest].filter(function(e){return!_.isNil(e)}),inViewport,[lastRest].filter(function(e){return!_.isNil(e)}));return{inViewportAndBoundaries:inViewportAndBoundaries,rest:rest}}Object.defineProperty(exports,"__esModule",{value:!0});var moment=__webpack_require__(87);exports.timelineElementCssClass="timeline-element",exports.timelineGridElementCssClass="wp-timeline--grid-element",exports.timelineMarkerSelectionStartClass="selection-start";var TimelineViewParametersSettings=function(){function TimelineViewParametersSettings(){this.zoomLevel="days"}return TimelineViewParametersSettings}();exports.TimelineViewParametersSettings=TimelineViewParametersSettings,exports.zoomLevelOrder=["days","weeks","months","quarters","years"];var TimelineViewParameters=function(){function TimelineViewParameters(){this.now=moment({hour:0,minute:0,seconds:0}),this.dateDisplayStart=moment({hour:0,minute:0,seconds:0}),this.dateDisplayEnd=this.dateDisplayStart.clone().add(1,"day"),this.settings=new TimelineViewParametersSettings,this.activeSelectionMode=null,this.selectionModeStart=null}return Object.defineProperty(TimelineViewParameters.prototype,"pixelPerDay",{get:function(){switch(this.settings.zoomLevel){case"days":return 30;case"weeks":return 15;case"months":return 6;case"quarters":return 2;case"years":return.5}},enumerable:!0,configurable:!0}),Object.defineProperty(TimelineViewParameters.prototype,"maxWidthInPx",{get:function(){return this.maxSteps*this.pixelPerDay},enumerable:!0,configurable:!0}),Object.defineProperty(TimelineViewParameters.prototype,"maxSteps",{get:function(){return this.dateDisplayEnd.diff(this.dateDisplayStart,"days")},enumerable:!0,configurable:!0}),TimelineViewParameters}();exports.TimelineViewParameters=TimelineViewParameters,exports.calculatePositionValueForDayCountingPx=calculatePositionValueForDayCountingPx,exports.calculatePositionValueForDayCount=calculatePositionValueForDayCount,exports.getTimeSlicesForHeader=getTimeSlicesForHeader}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";var d,assign=__webpack_require__(71),normalizeOpts=__webpack_require__(223),isCallable=__webpack_require__(112),contains=__webpack_require__(226);d=module.exports=function(dscr,value){var c,e,w,options,desc;return arguments.length<2||"string"!=typeof dscr?(options=value,value=dscr,dscr=null):options=arguments[2],null==dscr?(c=w=!0,e=!1):(c=contains.call(dscr,"c"),e=contains.call(dscr,"e"),w=contains.call(dscr,"w")),desc={value:value,configurable:c,enumerable:e,writable:w},options?assign(normalizeOpts(options),desc):desc},d.gs=function(dscr,get,set){var c,e,options,desc;return"string"!=typeof dscr?(options=set,set=get,get=dscr,dscr=null):options=arguments[3],null==get?get=void 0:isCallable(get)?null==set?set=void 0:isCallable(set)||(options=set,set=void 0):(options=get,get=set=void 0),null==dscr?(c=!0,e=!1):(c=contains.call(dscr,"c"),e=contains.call(dscr,"e")),desc={get:get,set:set,configurable:c,enumerable:e},options?assign(normalizeOpts(options),desc):desc}},function(module,exports,__webpack_require__){"use strict";function __export(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(231)),__export(__webpack_require__(739)),__export(__webpack_require__(736)),__export(__webpack_require__(232)),__export(__webpack_require__(737)),__export(__webpack_require__(233)),__export(__webpack_require__(738)),__export(__webpack_require__(740)),__export(__webpack_require__(31)),__export(__webpack_require__(741)),__export(__webpack_require__(234))},function(module,exports,__webpack_require__){"use strict";exports.isArray=Array.isArray||function(x){return x&&"number"==typeof x.length}},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(1),ScalarObservable_1=__webpack_require__(114),EmptyObservable_1=__webpack_require__(32),isScheduler_1=__webpack_require__(33),ArrayObservable=function(_super){function ArrayObservable(array,scheduler){_super.call(this),this.array=array,this.scheduler=scheduler,scheduler||1!==array.length||(this._isScalar=!0,this.value=array[0])}return __extends(ArrayObservable,_super),ArrayObservable.create=function(array,scheduler){return new ArrayObservable(array,scheduler)},ArrayObservable.of=function(){for(var array=[],_i=0;_i<arguments.length;_i++)array[_i-0]=arguments[_i];var scheduler=array[array.length-1];isScheduler_1.isScheduler(scheduler)?array.pop():scheduler=null;var len=array.length;return len>1?new ArrayObservable(array,scheduler):1===len?new ScalarObservable_1.ScalarObservable(array[0],scheduler):new EmptyObservable_1.EmptyObservable(scheduler)},ArrayObservable.dispatch=function(state){var array=state.array,index=state.index,count=state.count,subscriber=state.subscriber;return index>=count?void subscriber.complete():(subscriber.next(array[index]),void(subscriber.closed||(state.index=index+1,this.schedule(state))))},ArrayObservable.prototype._subscribe=function(subscriber){var index=0,array=this.array,count=array.length,scheduler=this.scheduler;if(scheduler)return scheduler.schedule(ArrayObservable.dispatch,0,{array:array,index:index,count:count,subscriber:subscriber});for(var i=0;i<count&&!subscriber.closed;i++)subscriber.next(array[i]);subscriber.complete()},ArrayObservable}(Observable_1.Observable);exports.ArrayObservable=ArrayObservable},function(module,exports,__webpack_require__){module.exports=__webpack_require__(34)(3)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4);exports.uiStateLinkClass="__ui-state-link",exports.checkedClassName="-checked";var UiStateLinkBuilder=function(){function UiStateLinkBuilder(){angular_injector_bridge_functions_1.injectorBridge(this)}return UiStateLinkBuilder.prototype.linkToDetails=function(workPackageId,title,content){return this.build(workPackageId,"currentDetailsState",title,content)},UiStateLinkBuilder.prototype.linkToShow=function(workPackageId,title,content){return this.build(workPackageId,"currentShowState",title,content)},UiStateLinkBuilder.prototype.build=function(workPackageId,state,title,content){var a=document.createElement("a");return a.href=this.$state.href(this.keepTab[state],{workPackageId:workPackageId}),a.classList.add(exports.uiStateLinkClass),a.dataset.workPackageId=workPackageId,a.dataset.wpState=state,a.setAttribute("title",title),a.textContent=content,a},UiStateLinkBuilder}();exports.UiStateLinkBuilder=UiStateLinkBuilder,UiStateLinkBuilder.$inject=["$state","keepTab"]},function(module,exports,__webpack_require__){"use strict";function observableToState(t){return new State(t,function(t){return void 0===t},function(t,e){t.pristine&&e(void 0)},function(t,e){t.hasValue()&&e(void 0)})}Object.defineProperty(exports,"__esModule",{value:!0});var rxjs_1=__webpack_require__(17),log_1=__webpack_require__(234),State=function(){function t(t,e,n,r){var i=this;this.isNonValue=e,this.afterConnect=n,this.afterDisconnect=r,this.name=null,this.logEnabled=!0,this.pristine=!0,this.outputStreamTrailing=new rxjs_1.ReplaySubject(1),this.observerCount=0,this.timestampOfLastValue=-1,this.outputStream=new rxjs_1.ReplaySubject(1),this.value$=this.outputStream.filter(function(t){return!i.isNonValue(t)}),this.nonValue$=this.outputStream.filter(function(t){return i.isNonValue(t)}),this.inputStream=t,this.connect()}return t.prototype.connect=function(){var t=this;return this.isConnected()&&this.disconnect(),this.sourceSubscription=this.inputStream.subscribe(function(e){t.setInnerValue(e)}),this.afterConnect(this,this.setInnerValue.bind(this)),this},t.prototype.disconnect=function(){return this.afterDisconnect(this,this.setInnerValue.bind(this)),this.sourceSubscription&&this.sourceSubscription.unsubscribe(),this.sourceSubscription=void 0,this.pristine=!0,this},t.prototype.isConnected=function(){return void 0!==this.sourceSubscription},t.prototype.isValueOlderThan=function(t){return Date.now()-this.timestampOfLastValue>t},t.prototype.hasValue=function(){return!this.isNonValue(this.stateValue)},t.prototype.changes$=function(t){return this.wrapObserve(this.outputStream.asObservable(),t)},t.prototype.changesPromise=function(){return this.changes$().take(1).toPromise()},t.prototype.values$=function(t){return this.wrapObserve(this.value$,t)},t.prototype.valuesPromise=function(){
return this.values$().take(1).toPromise()},t.prototype.nonValues$=function(t){return this.wrapObserve(this.nonValue$,t)},t.prototype.nonValuesPromise=function(){return this.nonValues$().take(1).toPromise()},Object.defineProperty(t.prototype,"value",{get:function(){return this.stateValue},enumerable:!0,configurable:!0}),t.prototype.getValueOr=function(t){return this.hasValue()?this.value:t},t.prototype.mapOr=function(t,e){return this.hasValue()?t(this.value):e},t.prototype.forEach=function(t){return this.values$().subscribe(function(e){return t(e)}),this},Object.defineProperty(t.prototype,"text",{get:function(){return this.hasValue()?this.value.toString():""},enumerable:!0,configurable:!0}),t.prototype.getSubscriberCount=function(){return this.observerCount},t.prototype.hasSubscribers=function(){return this.getSubscriberCount()>0},t.prototype.onObserverSubscribed=function(){},t.prototype.onObserverUnsubscribed=function(){},t.prototype.log=function(){log_1.logStateChange(this)},t.prototype.setInnerValue=function(t){this.stateValue=t,this.pristine=!1,this.logEnabled&&this.log(),this.isNonValue(t)?this.timestampOfLastValue=-1:this.timestampOfLastValue=Date.now(),this.outputStream.next(t),this.outputStreamTrailing.next(t)},t.prototype.wrapObserve=function(t,e){var n=this;return rxjs_1.Observable.create(function(e){n.observerCount++,n.onObserverSubscribed();var r=t.subscribe(function(t){e.next(t)},function(t){e.error(t)},function(){e.complete()});return function(){r.unsubscribe(),n.observerCount--,n.onObserverUnsubscribed()}})},t}();exports.State=State,exports.observableToState=observableToState},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(1),EmptyObservable=function(_super){function EmptyObservable(scheduler){_super.call(this),this.scheduler=scheduler}return __extends(EmptyObservable,_super),EmptyObservable.create=function(scheduler){return new EmptyObservable(scheduler)},EmptyObservable.dispatch=function(arg){var subscriber=arg.subscriber;subscriber.complete()},EmptyObservable.prototype._subscribe=function(subscriber){var scheduler=this.scheduler;return scheduler?scheduler.schedule(EmptyObservable.dispatch,0,{subscriber:subscriber}):void subscriber.complete()},EmptyObservable}(Observable_1.Observable);exports.EmptyObservable=EmptyObservable},function(module,exports,__webpack_require__){"use strict";function isScheduler(value){return value&&"function"==typeof value.schedule}exports.isScheduler=isScheduler},function(module,exports){module.exports=vendors},function(module,exports,__webpack_require__){"use strict";function wpButtonDirective(config){return open_project_module_1.opDirective({restrict:"E",templateUrl:"/components/wp-buttons/wp-button.template.html",scope:{disabled:"=?"},controllerAs:"vm",bindToController:!0},config)}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var open_project_module_1=__webpack_require__(133),WorkPackageButtonController=function(){function WorkPackageButtonController(I18n){this.I18n=I18n,this.text={activate:this.I18n.t("js.label_activate"),deactivate:this.I18n.t("js.label_deactivate"),label:this.labelKey?this.I18n.t(this.labelKey):"",buttonText:this.textKey?this.I18n.t(this.textKey):""}}return Object.defineProperty(WorkPackageButtonController.prototype,"label",{get:function(){return this.text.label},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageButtonController.prototype,"buttonText",{get:function(){return this.text.buttonText},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageButtonController.prototype,"labelKey",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageButtonController.prototype,"textKey",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageButtonController.prototype,"activationPrefix",{get:function(){return this.isActive()?"":this.text.activate+" "},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageButtonController.prototype,"deactivationPrefix",{get:function(){return this.isActive()?this.text.deactivate+" ":""},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageButtonController.prototype,"prefix",{get:function(){return this.activationPrefix||this.deactivationPrefix},enumerable:!0,configurable:!0}),WorkPackageButtonController.prototype.isToggle=function(){return!1},WorkPackageButtonController}();exports.WorkPackageButtonController=WorkPackageButtonController;var WorkPackageNavigationButtonController=function(_super){function WorkPackageNavigationButtonController($state,I18n){var _this=_super.call(this,I18n)||this;return _this.$state=$state,_this.I18n=I18n,_this}return __extends(WorkPackageNavigationButtonController,_super),Object.defineProperty(WorkPackageNavigationButtonController.prototype,"label",{get:function(){return this.activationPrefix+this.text.label},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageNavigationButtonController.prototype,"activeAccessKey",{get:function(){if(!this.isActive())return this.accessKey},enumerable:!0,configurable:!0}),WorkPackageNavigationButtonController.prototype.isActive=function(){return this.$state.includes(this.activeState)},WorkPackageNavigationButtonController}(WorkPackageButtonController);exports.WorkPackageNavigationButtonController=WorkPackageNavigationButtonController,exports.wpButtonDirective=wpButtonDirective},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var work_package_resource_service_1=__webpack_require__(59),angular_injector_bridge_functions_1=__webpack_require__(4),debug_output_1=__webpack_require__(9),reactivestates_1=__webpack_require__(26),error_resource_service_1=__webpack_require__(47),WorkPackageChangeset=function(){function WorkPackageChangeset(workPackage,form){this.workPackage=workPackage,this.changes={},this.inFlight=!1,this.wpForm=reactivestates_1.input(),angular_injector_bridge_functions_1.$injectFields(this,"wpNotificationsService","$q","schemaCacheService","wpCacheService","wpCreate","wpEditing"),void 0!==form&&this.wpForm.putValue(form)}return WorkPackageChangeset.prototype.reset=function(key){delete this.changes[key],this.buildResource()},WorkPackageChangeset.prototype.clear=function(){this.changes={},this.wpForm.clear()},Object.defineProperty(WorkPackageChangeset.prototype,"empty",{get:function(){return _.isEmpty(this.changes)},enumerable:!0,configurable:!0}),WorkPackageChangeset.prototype.value=function(key){return this.isOverridden(key)?this.changes[key]:this.workPackage[key]},WorkPackageChangeset.prototype.setValue=function(key,val){this.changes[key]=val,!this.workPackage.isNew||"project"!==key&&"type"!==key||this.updateForm()},WorkPackageChangeset.prototype.isOverridden=function(key){return this.changes.hasOwnProperty(key)},WorkPackageChangeset.prototype.getForm=function(){var _this=this;return this.wpForm.putFromPromiseIfPristine(function(){return _this.updateForm()}),this.wpForm.hasValue()?Promise.resolve(this.wpForm.value):new Promise(function(resolve){return _this.wpForm.valuesPromise().then(resolve)})},WorkPackageChangeset.prototype.updateForm=function(){var _this=this,payload=this.buildPayloadFromChanges(),deferred=this.$q.defer();return this.workPackage.$links.update(payload).then(function(form){_this.wpForm.putValue(form),_this.buildResource(),deferred.resolve(form)}).catch(function(error){_this.wpForm.clear(),_this.wpNotificationsService.handleErrorResponse(error,_this.workPackage),deferred.reject(error)}),deferred.promise},WorkPackageChangeset.prototype.save=function(){var _this=this,deferred=this.$q.defer();this.inFlight=!0;var wasNew=this.workPackage.isNew;return this.updateForm().then(function(form){var payload=_this.buildPayloadFromChanges(),errors=error_resource_service_1.ErrorResource.fromFormResponse(form);return null!==errors?deferred.reject(errors):void _this.workPackage.$links.updateImmediately(payload).then(function(savedWp){_this.workPackage.$initialize(savedWp),_this.schemaCacheService.ensureLoaded(_this.workPackage).then(function(){_this.workPackage.updateActivities(),wasNew&&(_this.workPackage.overriddenSchema=void 0,_this.workPackage.uploadAttachmentsAndReload(),_this.wpCreate.newWorkPackageCreated(_this.workPackage)),_this.wpCacheService.updateWorkPackage(_this.workPackage),_this.resource=null,_this.clear(),deferred.resolve(_this.workPackage)})}).catch(function(error){_this.buildResource(),deferred.reject({errorsOnForm:!1,error:error})})}).catch(deferred.reject),deferred.promise.finally(function(){return _this.inFlight=!1})},WorkPackageChangeset.prototype.mergeWithPayload=function(plainPayload){var _this=this,reference=this.workPackage.$source;return this.wpForm.hasValue()&&(reference=this.wpForm.value.payload.$source),_.each(this.changes,function(val,key){var fieldSchema=_this.schema[key];return"object"!=typeof fieldSchema||fieldSchema.writable!==!0?void debug_output_1.debugLog("Trying to write "+key+" but is not writable in schema"):void(reference._links[key]?plainPayload._links[key]=_this.getLinkedValue(val,fieldSchema):plainPayload[key]=_this.changes[key])}),plainPayload},WorkPackageChangeset.prototype.buildPayloadFromChanges=function(){var payload;return payload=this.workPackage.isNew?this.wpForm.hasValue()?this.wpForm.value.payload.$source:this.workPackage.$source:this.minimalPayload,this.mergeWithPayload(payload)},Object.defineProperty(WorkPackageChangeset.prototype,"minimalPayload",{get:function(){return{lockVersion:this.workPackage.lockVersion,_links:{}}},enumerable:!0,configurable:!0}),WorkPackageChangeset.prototype.getLinkedValue=function(val,fieldSchema){var isArray=(fieldSchema.type||"").startsWith("[]");if(isArray){var links=[];if(val){var elements=val.forEach&&val||val.elements;elements.forEach(function(link){link.href&&links.push({href:link.href})})}return links}return{href:_.get(val,"href",null)}},Object.defineProperty(WorkPackageChangeset.prototype,"schema",{get:function(){return this.wpForm.getValueOr(this.workPackage).schema},enumerable:!0,configurable:!0}),WorkPackageChangeset.prototype.getSchemaName=function(attribute){return!this.schema.hasOwnProperty("date")||"startDate"!==attribute&&"dueDate"!==attribute?attribute:"date"},WorkPackageChangeset.prototype.buildResource=function(){if(this.empty)return this.resource=null,void this.wpEditing.updateValue(this.workPackage.id,this);var hasForm=this.wpForm.hasValue(),payload=this.workPackage.$plain();hasForm&&_.defaultsDeep(payload,this.wpForm.value.payload.$source);var resource=new work_package_resource_service_1.WorkPackageResource(this.mergeWithPayload(payload),!0);resource.overriddenSchema=this.schema,this.resource=resource,this.wpEditing.updateValue(this.workPackage.id,this)},WorkPackageChangeset}();exports.WorkPackageChangeset=WorkPackageChangeset}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var display_field_renderer_1=__webpack_require__(62);exports.tdClassName="wp-table--cell-td",exports.editCellContainer="wp-table--cell-container",exports.wpCellTdClassName="wp-table--cell-td";var CellBuilder=function(){function CellBuilder(){this.fieldRenderer=new display_field_renderer_1.DisplayFieldRenderer("table")}return CellBuilder.prototype.build=function(workPackage,attribute){var td=document.createElement("td");td.classList.add(exports.tdClassName,exports.wpCellTdClassName,attribute);var container=document.createElement("span");container.classList.add(exports.editCellContainer,display_field_renderer_1.editFieldContainerClass,attribute);var displayElement=this.fieldRenderer.render(workPackage,attribute);return container.appendChild(displayElement),td.appendChild(container),td},CellBuilder.prototype.refresh=function(container,workPackage,attribute){var displayElement=this.fieldRenderer.render(workPackage,attribute);container.innerHTML="",container.appendChild(displayElement)},CellBuilder}();exports.CellBuilder=CellBuilder},function(module,exports,__webpack_require__){"use strict";var callable=__webpack_require__(20),forEach=__webpack_require__(73),extensions=__webpack_require__(77),configure=__webpack_require__(709),resolveLength=__webpack_require__(227),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function self(fn){var options,length,conf;return callable(fn),options=Object(arguments[1]),hasOwnProperty.call(fn,"__memoized__")&&!options.force?fn:(length=resolveLength(options.length,fn.length,options.async&&extensions.async),conf=configure(fn,length,options),forEach(extensions,function(fn,name){options[name]&&fn(options[name],conf,options)}),self.__profiler__&&self.__profiler__(conf),conf.updateEnv(),conf.memoized)}},function(module,exports,__webpack_require__){"use strict";var toStringTagSymbol=__webpack_require__(75).toStringTag;module.exports=function(value){return Boolean(value&&"ObservableValue"===value[toStringTagSymbol])}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var keyCodes;!function(keyCodes){keyCodes[keyCodes.BACKSPACE=8]="BACKSPACE",keyCodes[keyCodes.TAB=9]="TAB",keyCodes[keyCodes.ENTER=13]="ENTER",keyCodes[keyCodes.SHIFT=16]="SHIFT",keyCodes[keyCodes.CTRL=17]="CTRL",keyCodes[keyCodes.ALT=18]="ALT",keyCodes[keyCodes.PAUSE=19]="PAUSE",keyCodes[keyCodes.CAPS_LOCK=20]="CAPS_LOCK",keyCodes[keyCodes.ESCAPE=27]="ESCAPE",keyCodes[keyCodes.SPACE=32]="SPACE",keyCodes[keyCodes.PAGE_UP=33]="PAGE_UP",keyCodes[keyCodes.PAGE_DOWN=34]="PAGE_DOWN",keyCodes[keyCodes.END=35]="END",keyCodes[keyCodes.HOME=36]="HOME",keyCodes[keyCodes.LEFT_ARROW=37]="LEFT_ARROW",keyCodes[keyCodes.UP_ARROW=38]="UP_ARROW",keyCodes[keyCodes.RIGHT_ARROW=39]="RIGHT_ARROW",keyCodes[keyCodes.DOWN_ARROW=40]="DOWN_ARROW",keyCodes[keyCodes.INSERT=45]="INSERT",keyCodes[keyCodes.DELETE=46]="DELETE",keyCodes[keyCodes.KEY_0=48]="KEY_0",keyCodes[keyCodes.KEY_1=49]="KEY_1",keyCodes[keyCodes.KEY_2=50]="KEY_2",keyCodes[keyCodes.KEY_3=51]="KEY_3",keyCodes[keyCodes.KEY_4=52]="KEY_4",keyCodes[keyCodes.KEY_5=53]="KEY_5",keyCodes[keyCodes.KEY_6=54]="KEY_6",keyCodes[keyCodes.KEY_7=55]="KEY_7",keyCodes[keyCodes.KEY_8=56]="KEY_8",keyCodes[keyCodes.KEY_9=57]="KEY_9",keyCodes[keyCodes.KEY_A=65]="KEY_A",keyCodes[keyCodes.KEY_B=66]="KEY_B",keyCodes[keyCodes.KEY_C=67]="KEY_C",keyCodes[keyCodes.KEY_D=68]="KEY_D",keyCodes[keyCodes.KEY_E=69]="KEY_E",keyCodes[keyCodes.KEY_F=70]="KEY_F",keyCodes[keyCodes.KEY_G=71]="KEY_G",keyCodes[keyCodes.KEY_H=72]="KEY_H",keyCodes[keyCodes.KEY_I=73]="KEY_I",keyCodes[keyCodes.KEY_J=74]="KEY_J",keyCodes[keyCodes.KEY_K=75]="KEY_K",keyCodes[keyCodes.KEY_L=76]="KEY_L",keyCodes[keyCodes.KEY_M=77]="KEY_M",keyCodes[keyCodes.KEY_N=78]="KEY_N",keyCodes[keyCodes.KEY_O=79]="KEY_O",keyCodes[keyCodes.KEY_P=80]="KEY_P",keyCodes[keyCodes.KEY_Q=81]="KEY_Q",keyCodes[keyCodes.KEY_R=82]="KEY_R",keyCodes[keyCodes.KEY_S=83]="KEY_S",keyCodes[keyCodes.KEY_T=84]="KEY_T",keyCodes[keyCodes.KEY_U=85]="KEY_U",keyCodes[keyCodes.KEY_V=86]="KEY_V",keyCodes[keyCodes.KEY_W=87]="KEY_W",keyCodes[keyCodes.KEY_X=88]="KEY_X",keyCodes[keyCodes.KEY_Y=89]="KEY_Y",keyCodes[keyCodes.KEY_Z=90]="KEY_Z",keyCodes[keyCodes.LEFT_META=91]="LEFT_META",keyCodes[keyCodes.RIGHT_META=92]="RIGHT_META",keyCodes[keyCodes.SELECT=93]="SELECT",keyCodes[keyCodes.NUMPAD_0=96]="NUMPAD_0",keyCodes[keyCodes.NUMPAD_1=97]="NUMPAD_1",keyCodes[keyCodes.NUMPAD_2=98]="NUMPAD_2",keyCodes[keyCodes.NUMPAD_3=99]="NUMPAD_3",keyCodes[keyCodes.NUMPAD_4=100]="NUMPAD_4",keyCodes[keyCodes.NUMPAD_5=101]="NUMPAD_5",keyCodes[keyCodes.NUMPAD_6=102]="NUMPAD_6",keyCodes[keyCodes.NUMPAD_7=103]="NUMPAD_7",keyCodes[keyCodes.NUMPAD_8=104]="NUMPAD_8",keyCodes[keyCodes.NUMPAD_9=105]="NUMPAD_9",keyCodes[keyCodes.MULTIPLY=106]="MULTIPLY",keyCodes[keyCodes.ADD=107]="ADD",keyCodes[keyCodes.SUBTRACT=109]="SUBTRACT",keyCodes[keyCodes.DECIMAL=110]="DECIMAL",keyCodes[keyCodes.DIVIDE=111]="DIVIDE",keyCodes[keyCodes.F1=112]="F1",keyCodes[keyCodes.F2=113]="F2",keyCodes[keyCodes.F3=114]="F3",keyCodes[keyCodes.F4=115]="F4",keyCodes[keyCodes.F5=116]="F5",keyCodes[keyCodes.F6=117]="F6",keyCodes[keyCodes.F7=118]="F7",keyCodes[keyCodes.F8=119]="F8",keyCodes[keyCodes.F9=120]="F9",keyCodes[keyCodes.F10=121]="F10",keyCodes[keyCodes.F11=122]="F11",keyCodes[keyCodes.F12=123]="F12",keyCodes[keyCodes.NUM_LOCK=144]="NUM_LOCK",keyCodes[keyCodes.SCROLL_LOCK=145]="SCROLL_LOCK",keyCodes[keyCodes.SEMICOLON=186]="SEMICOLON",keyCodes[keyCodes.EQUALS=187]="EQUALS",keyCodes[keyCodes.COMMA=188]="COMMA",keyCodes[keyCodes.DASH=189]="DASH",keyCodes[keyCodes.PERIOD=190]="PERIOD",keyCodes[keyCodes.FORWARD_SLASH=191]="FORWARD_SLASH",keyCodes[keyCodes.GRAVE_ACCENT=192]="GRAVE_ACCENT",keyCodes[keyCodes.OPEN_BRACKET=219]="OPEN_BRACKET",keyCodes[keyCodes.BACK_SLASH=220]="BACK_SLASH",keyCodes[keyCodes.CLOSE_BRACKET=221]="CLOSE_BRACKET",keyCodes[keyCodes.SINGLE_QUOTE=222]="SINGLE_QUOTE"}(keyCodes=exports.keyCodes||(exports.keyCodes={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Field=function(){function Field(resource,name,schema){this.resource=resource,this.name=name,this.schema=schema}return Object.defineProperty(Field.prototype,"displayName",{get:function(){return this.schema.name||this.name},enumerable:!0,configurable:!0}),Object.defineProperty(Field.prototype,"value",{get:function(){return this.resource[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(Field.prototype,"type",{get:function(){return this.constructor.type},enumerable:!0,configurable:!0}),Object.defineProperty(Field.prototype,"required",{get:function(){return!!this.schema.required},enumerable:!0,configurable:!0}),Object.defineProperty(Field.prototype,"writable",{get:function(){return!!this.schema.writable},enumerable:!0,configurable:!0}),Object.defineProperty(Field.prototype,"hasDefault",{get:function(){return this.schema.hasDefault},enumerable:!0,configurable:!0}),Field.prototype.isEmpty=function(){return!this.value},Object.defineProperty(Field.prototype,"unknownAttribute",{get:function(){return this.isEmpty&&!this.schema},enumerable:!0,configurable:!0}),Object.defineProperty(Field.prototype,"$injector",{get:function(){return this.constructor.$injector},enumerable:!0,configurable:!0}),Field.prototype.$inject=function(name){return this.$injector.get(name)},Field}();exports.Field=Field;var FieldFactory=function(){function FieldFactory(){}return FieldFactory.register=function(fieldClass,fields){var _this=this;void 0===fields&&(fields=[]),fields.forEach(function(field){return _this.fields[field]=fieldClass.type}),this.classes[fieldClass.type]=fieldClass},FieldFactory.create=function(resource,fieldName,schema){var type=this.getType(schema.type),fieldClass=this.classes[type];return new fieldClass(resource,fieldName,schema)},FieldFactory.getClassFor=function(fieldName){return this.classes[fieldName]},FieldFactory.getType=function(type){var fields=this.fields,defaultType=this.defaultType;return fields[type]||defaultType},FieldFactory}();FieldFactory.fields={},FieldFactory.classes={},exports.FieldFactory=FieldFactory},function(module,exports,__webpack_require__){"use strict";var toInteger=__webpack_require__(111),max=Math.max;module.exports=function(value){return max(0,toInteger(value))}},function(module,exports,__webpack_require__){"use strict";var indexOf=__webpack_require__(69);module.exports=function(){var lastId=0,argsMap=[],cache=[];return{get:function(args){var index=indexOf.call(argsMap,args[0]);return index===-1?null:cache[index]},set:function(args){return argsMap.push(args[0]),cache.push(++lastId),lastId},delete:function(id){var index=indexOf.call(cache,id);index!==-1&&(argsMap.splice(index,1),cache.splice(index,1))},clear:function(){argsMap=[],cache=[]}}}},function(module,exports,__webpack_require__){"use strict";var Observable=__webpack_require__(45),isObservable=__webpack_require__(39);module.exports=function(compare){return function(left,right){var isLObservable,isRObservable,value;return isLObservable=isObservable(left),isRObservable=isObservable(right),isLObservable||isRObservable?(isLObservable&&left.on("change",function(event){value.value=compare(event.newValue,isRObservable?right.value:right)}),isRObservable&&right.on("change",function(event){value.value=compare(isLObservable?left.value:left,event.newValue)}),value=new Observable(compare(isLObservable?left.value:left,isRObservable?right.value:right))):compare(left,right)}}},function(module,exports,__webpack_require__){"use strict";var toMethod,Observable,assign=__webpack_require__(71),d=__webpack_require__(25),autoBind=__webpack_require__(662),lazy=__webpack_require__(110),toStringTagSymbol=__webpack_require__(75).toStringTag,ee=__webpack_require__(76),is=__webpack_require__(39),isObservableSymbol=__webpack_require__(113),push=Array.prototype.push,defineProperty=Object.defineProperty;toMethod=function(fn){return function(arg){var args=[this];return push.apply(args,arguments),fn.apply(null,args)}},module.exports=Observable=function(value){return this instanceof Observable?(is(value)&&(defineProperty(this,"__link__",d(value)),value.on("change",this._linkedObserver),value=value.value),void defineProperty(this,"__value__",d("w",value))):new Observable(value)},Object.defineProperties(ee(Observable.prototype),assign({value:d.gs(function(){return this.__value__},function(nu){var old=this.__value__,isOldObservable=this.hasOwnProperty("__link__");if(isOldObservable){if(nu===this.__link__)return;this.__link__.off("change",this._linkedObserver)}is(nu)?(isOldObservable?this.__link__=nu:defineProperty(this,"__link__",d(nu)),nu.on("change",this._linkedObserver),this.__value__=nu=nu.value):(isOldObservable&&delete this.__link__,this.__value__=nu),nu!==old&&this._emit_(nu,old)}),_emit_:d(function(nu,old){var event;return this.__postponed__?(event=this.__postponedEvent__)?event.oldValue===nu?void(this.__postponedEvent__=null):void(event.newValue=nu):void(this.__postponedEvent__={type:"change",newValue:nu,oldValue:old,target:this}):void this.emit("change",{type:"change",newValue:nu,oldValue:old,target:this})}),add:d(toMethod(__webpack_require__(722))),and:d(toMethod(__webpack_require__(723))),eq:d(toMethod(__webpack_require__(726))),eqSloppy:d(toMethod(__webpack_require__(725))),gtOrEq:d(toMethod(__webpack_require__(727))),gt:d(toMethod(__webpack_require__(728))),ltOrEq:d(toMethod(__webpack_require__(730))),lt:d(toMethod(__webpack_require__(731))),map:d(toMethod(__webpack_require__(732))),not:d(toMethod(__webpack_require__(733))),or:d(toMethod(__webpack_require__(734))),subtract:d(toMethod(__webpack_require__(735))),toString:d(function(){return String(this.__value__)}),_postponed_:d.gs(function(){return this.__postponed__},function(value){var event;this.__postponed__=value,value||(event=this.__postponedEvent__,event&&(this.__postponedEvent__=null,this.emit("change",event)))})},autoBind({_linkedObserver:d("",function(event){this.__value__=event.newValue,this.emit("change",event)})}),lazy({__postponed__:d("w",0),__postponedEvent__:d("w",null)}))),defineProperty(Observable.prototype,toStringTagSymbol,d("c","ObservableValue")),defineProperty(Observable.prototype,isObservableSymbol,d("",!0))},function(module,exports,__webpack_require__){"use strict";function multicast(subjectOrSubjectFactory,selector){var subjectFactory;if(subjectFactory="function"==typeof subjectOrSubjectFactory?subjectOrSubjectFactory:function(){return subjectOrSubjectFactory},"function"==typeof selector)return this.lift(new MulticastOperator(subjectFactory,selector));var connectable=Object.create(this,ConnectableObservable_1.connectableObservableDescriptor);return connectable.source=this,connectable.subjectFactory=subjectFactory,connectable}var ConnectableObservable_1=__webpack_require__(238);exports.multicast=multicast;var MulticastOperator=function(){function MulticastOperator(subjectFactory,selector){this.subjectFactory=subjectFactory,this.selector=selector}return MulticastOperator.prototype.call=function(subscriber,source){var selector=this.selector,subject=this.subjectFactory(),subscription=selector(subject).subscribe(subscriber);return subscription.add(source.subscribe(subject)),subscription},MulticastOperator}();exports.MulticastOperator=MulticastOperator},function(module,exports,__webpack_require__){"use strict";(function(_){function errorResourceService(){return ErrorResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var hal_resource_service_1=__webpack_require__(7),angular_modules_1=__webpack_require__(0);exports.v3ErrorIdentifierQueryInvalid="urn:openproject-org:api:v3:errors:InvalidQuery",exports.v3ErrorIdentifierMultipleErrors="urn:openproject-org:api:v3:errors:MultipleErrors";var ErrorResource=function(_super){function ErrorResource(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.isValidationError=!1,_this}return __extends(ErrorResource,_super),ErrorResource.fromFormResponse=function(form){var errors=_.values(form.validationErrors),count=errors.length;if(0===count)return null;var resource;return 1===count?resource=new ErrorResource(errors[0],!0):(resource=new ErrorResource({}),resource.errorIdentifier=exports.v3ErrorIdentifierMultipleErrors,resource.errors=errors),resource.isValidationError=!0,resource},Object.defineProperty(ErrorResource.prototype,"errorMessages",{get:function(){return this.isMultiErrorMessage()?this.errors.map(function(error){return error.message}):[this.message]},enumerable:!0,configurable:!0}),ErrorResource.prototype.isMultiErrorMessage=function(){return this.errorIdentifier===exports.v3ErrorIdentifierMultipleErrors},ErrorResource.prototype.getInvolvedAttributes=function(){var columns=[];return this.details?columns=[{details:this.details}]:this.errors&&(columns=this.errors),columns.map(function(field){return field.details.attribute})},ErrorResource.prototype.getMessagesPerAttribute=function(){var perAttribute={};return this.details?perAttribute[this.details.attribute]=[this.message]:_.forEach(this.errors,function(error){perAttribute[error.details.attribute]?perAttribute[error.details.attribute].push(error.message):perAttribute[error.details.attribute]=[error.message]}),perAttribute},ErrorResource}(hal_resource_service_1.HalResource);exports.ErrorResource=ErrorResource,angular_modules_1.opApiModule.factory("ErrorResource",errorResourceService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4),error_resource_service_1=__webpack_require__(47),debug_output_1=__webpack_require__(9);exports.activeFieldContainerClassName="wp-inline-edit--active-field",exports.activeFieldClassName="wp-inline-edit--field";var WorkPackageEditForm=function(){function WorkPackageEditForm(workPackage,editMode){void 0===editMode&&(editMode=!1);var _this=this;this.workPackage=workPackage,this.editMode=editMode,this.activeFields={},this.errorsPerAttribute={},angular_injector_bridge_functions_1.$injectFields(this,"wpCacheService","$timeout","$q","$rootScope","wpEditField","wpNotificationsService","wpEditing","states","wpTableRefresh"),this.resourceSubscription=this.wpEditing.temporaryEditResource(workPackage.id).values$().subscribe(function(){_this.changeset.empty||(debug_output_1.debugLog("Refreshing active edit fields after form update."),_.each(_this.activeFields,function(_handler,name){return _this.refresh(name)}))})}return WorkPackageEditForm.createInContext=function(editContext,wp,editMode){void 0===editMode&&(editMode=!1);var form=new WorkPackageEditForm(wp,editMode);return form.editContext=editContext,form},Object.defineProperty(WorkPackageEditForm.prototype,"changeset",{get:function(){return this.wpEditing.changesetFor(this.workPackage)},enumerable:!0,configurable:!0}),WorkPackageEditForm.prototype.activate=function(fieldName,noWarnings){var _this=this;return void 0===noWarnings&&(noWarnings=!1),this.buildField(fieldName).then(function(field){return field.writable||noWarnings?_this.renderField(fieldName,field):(_this.wpNotificationsService.showEditingBlockedError(field.displayName),_this.$q.reject())})},WorkPackageEditForm.prototype.refresh=function(fieldName){var _this=this,handler=this.activeFields[fieldName];return handler?this.buildField(fieldName).then(function(field){_this.editContext.refreshField(field,handler)}):void debug_output_1.debugLog("Trying to refresh "+fieldName+", but is not an active field.")},WorkPackageEditForm.prototype.activateWhenNeeded=function(fieldName){var activeField=this.activeFields[fieldName];return activeField?this.$q.when(activeField.element):this.activate(fieldName,!0)},WorkPackageEditForm.prototype.activateMissingFields=function(){var _this=this;this.changeset.getForm().then(function(form){_.each(form.validationErrors,function(val,key){"id"!==key&&_this.activateWhenNeeded(key)})})},WorkPackageEditForm.prototype.submit=function(){var _this=this;if(this.changeset.empty&&!this.workPackage.isNew)return this.closeEditFields(),this.$q.when(this.workPackage);var deferred=this.$q.defer(),isInitial=this.workPackage.isNew;this.errorsPerAttribute={};var openFields=_.keys(this.activeFields);return this.changeset.save().then(function(savedWorkPackage){_this.closeEditFields(openFields),deferred.resolve(savedWorkPackage),_this.wpNotificationsService.showSave(savedWorkPackage,isInitial),_this.editMode=!1,_this.wpTableRefresh.request(!1,"Saved work package "+savedWorkPackage.id)}).catch(function(error){_this.wpNotificationsService.handleErrorResponse(error,_this.workPackage),error instanceof error_resource_service_1.ErrorResource&&_this.handleSubmissionErrors(error,deferred)}),deferred.promise},WorkPackageEditForm.prototype.destroy=function(){this.resourceSubscription.unsubscribe(),_.each(this.activeFields,function(handler){handler&&handler.deactivate()})},WorkPackageEditForm.prototype.closeEditFields=function(fields){var _this=this;fields||(fields=_.keys(this.activeFields)),fields.forEach(function(name){var handler=_this.activeFields[name];handler&&handler.deactivate(),_this.changeset.reset(name)})},WorkPackageEditForm.prototype.handleSubmissionErrors=function(error,deferred){return this.handleErroneousAttributes(error),deferred.reject()},WorkPackageEditForm.prototype.handleErroneousAttributes=function(error){var erroneousAttributes=error.getInvolvedAttributes();if(this.errorsPerAttribute=error.getMessagesPerAttribute(),0!==erroneousAttributes.length)return this.setErrorsForFields(erroneousAttributes)},WorkPackageEditForm.prototype.setErrorsForFields=function(erroneousFields){var _this=this,promises=erroneousFields.map(function(fieldName){return _this.editContext.requireVisible(fieldName).then(function(){return _this.activeFields[fieldName]&&_this.activeFields[fieldName].setErrors(_this.errorsPerAttribute[fieldName]||[]),_this.activateWhenNeeded(fieldName)})});Promise.all(promises).then(function(){_this.$timeout(function(){jQuery("."+exports.activeFieldContainerClassName+".-error ."+exports.activeFieldClassName).first().focus();
})}).catch(function(){console.error("Failed to activate all erroneous fields.")})},WorkPackageEditForm.prototype.buildField=function(fieldName){var _this=this;return new Promise(function(resolve,reject){_this.changeset.getForm().then(function(form){var schemaName=_this.changeset.getSchemaName(fieldName),fieldSchema=form.schema[schemaName];if(!fieldSchema)return reject();var field=_this.wpEditField.getField(_this.changeset,schemaName,fieldSchema);resolve(field)}).catch(function(error){console.error("Failed to build edit field: %o",error),_this.wpNotificationsService.handleRawError(error)})})},WorkPackageEditForm.prototype.renderField=function(fieldName,field){var _this=this,promise=this.editContext.activateField(this,field,fieldName,this.errorsPerAttribute[fieldName]||[]);return promise.then(function(fieldHandler){return _this.activeFields[fieldName]=fieldHandler,fieldHandler}).catch(function(error){console.error("Failed to render edit field:"+error),_this.wpNotificationsService.handleRawError(error)})},WorkPackageEditForm}();exports.WorkPackageEditForm=WorkPackageEditForm}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function onClickOrEnter(evt,callback){return"click"!==evt.type&&("keydown"!==evt.type||evt.which!==keyCodes_enum_1.keyCodes.ENTER)||(callback(),!1)}Object.defineProperty(exports,"__esModule",{value:!0});var keyCodes_enum_1=__webpack_require__(40);exports.onClickOrEnter=onClickOrEnter;var ClickOrEnterHandler=function(){function ClickOrEnterHandler(){}return ClickOrEnterHandler.prototype.handleEvent=function(table,evt){var _this=this;onClickOrEnter(evt,function(){return _this.processEvent(table,evt)})},ClickOrEnterHandler}();exports.ClickOrEnterHandler=ClickOrEnterHandler},function(module,exports,__webpack_require__){"use strict";(function(_){function collapsedGroupClass(ancestorId){return"__collapsed-group-"+ancestorId}function hierarchyGroupClass(ancestorId){return"__hierarchy-group-"+ancestorId}function hierarchyRootClass(ancestorId){return"__hierarchy-root-"+ancestorId}function ancestorClassIdentifier(ancestorId){return"wp-ancestor-row-"+ancestorId}function hasChildrenInTable(workPackage,table){return!workPackage.isLeaf&&!!_.find(table.originalRows,function(wpId){var row=table.originalRowIndex[wpId].object;return row.ancestorIds.indexOf(workPackage.id.toString())>=0})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.collapsedGroupClass=collapsedGroupClass,exports.hierarchyGroupClass=hierarchyGroupClass,exports.hierarchyRootClass=hierarchyRootClass,exports.ancestorClassIdentifier=ancestorClassIdentifier,exports.hasChildrenInTable=hasChildrenInTable}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function isRelationColumn(column){var relationTypes=[exports.queryColumnTypes.RELATION_TO_TYPE,exports.queryColumnTypes.RELATION_OF_TYPE];return relationTypes.indexOf(column._type)>=0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.queryColumnTypes={PROPERTY:"QueryColumn::Property",RELATION_OF_TYPE:"QueryColumn::RelationOfType",RELATION_TO_TYPE:"QueryColumn::RelationToType"},exports.isRelationColumn=isRelationColumn},function(module,exports,__webpack_require__){"use strict";var isFunction=__webpack_require__(218);module.exports=function(x){if(!isFunction(x))throw new TypeError(x+" is not a function");return x}},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),Notification=function(){function Notification(kind,value,error){this.kind=kind,this.value=value,this.error=error,this.hasValue="N"===kind}return Notification.prototype.observe=function(observer){switch(this.kind){case"N":return observer.next&&observer.next(this.value);case"E":return observer.error&&observer.error(this.error);case"C":return observer.complete&&observer.complete()}},Notification.prototype.do=function(next,error,complete){var kind=this.kind;switch(kind){case"N":return next&&next(this.value);case"E":return error&&error(this.error);case"C":return complete&&complete()}},Notification.prototype.accept=function(nextOrObserver,error,complete){return nextOrObserver&&"function"==typeof nextOrObserver.next?this.observe(nextOrObserver):this.do(nextOrObserver,error,complete)},Notification.prototype.toObservable=function(){var kind=this.kind;switch(kind){case"N":return Observable_1.Observable.of(this.value);case"E":return Observable_1.Observable.throw(this.error);case"C":return Observable_1.Observable.empty()}throw new Error("unexpected notification kind value")},Notification.createNext=function(value){return"undefined"!=typeof value?new Notification("N",value):this.undefinedValueNotification},Notification.createError=function(err){return new Notification("E",void 0,err)},Notification.createComplete=function(){return this.completeNotification},Notification.completeNotification=new Notification("C"),Notification.undefinedValueNotification=new Notification("N",void 0),Notification}();exports.Notification=Notification},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},root_1=__webpack_require__(15),Action_1=__webpack_require__(996),AsyncAction=function(_super){function AsyncAction(scheduler,work){_super.call(this,scheduler,work),this.scheduler=scheduler,this.work=work,this.pending=!1}return __extends(AsyncAction,_super),AsyncAction.prototype.schedule=function(state,delay){if(void 0===delay&&(delay=0),this.closed)return this;this.state=state,this.pending=!0;var id=this.id,scheduler=this.scheduler;return null!=id&&(this.id=this.recycleAsyncId(scheduler,id,delay)),this.delay=delay,this.id=this.id||this.requestAsyncId(scheduler,this.id,delay),this},AsyncAction.prototype.requestAsyncId=function(scheduler,id,delay){return void 0===delay&&(delay=0),root_1.root.setInterval(scheduler.flush.bind(scheduler,this),delay)},AsyncAction.prototype.recycleAsyncId=function(scheduler,id,delay){return void 0===delay&&(delay=0),null!==delay&&this.delay===delay?id:root_1.root.clearInterval(id)&&void 0||void 0},AsyncAction.prototype.execute=function(state,delay){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var error=this._execute(state,delay);return error?error:void(this.pending===!1&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null)))},AsyncAction.prototype._execute=function(state,delay){var errored=!1,errorValue=void 0;try{this.work(state)}catch(e){errored=!0,errorValue=!!e&&e||new Error(e)}if(errored)return this.unsubscribe(),errorValue},AsyncAction.prototype._unsubscribe=function(){var id=this.id,scheduler=this.scheduler,actions=scheduler.actions,index=actions.indexOf(this);this.work=null,this.delay=null,this.state=null,this.pending=!1,this.scheduler=null,index!==-1&&actions.splice(index,1),null!=id&&(this.id=this.recycleAsyncId(scheduler,id,null))},AsyncAction}(Action_1.Action);exports.AsyncAction=AsyncAction},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Scheduler_1=__webpack_require__(743),AsyncScheduler=function(_super){function AsyncScheduler(){_super.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return __extends(AsyncScheduler,_super),AsyncScheduler.prototype.flush=function(action){var actions=this.actions;if(this.active)return void actions.push(action);var error;this.active=!0;do if(error=action.execute(action.state,action.delay))break;while(action=actions.shift());if(this.active=!1,error){for(;action=actions.shift();)action.unsubscribe();throw error}},AsyncScheduler}(Scheduler_1.Scheduler);exports.AsyncScheduler=AsyncScheduler},function(module,exports,__webpack_require__){"use strict";function symbolIteratorPonyfill(root){var Symbol=root.Symbol;if("function"==typeof Symbol)return Symbol.iterator||(Symbol.iterator=Symbol("iterator polyfill")),Symbol.iterator;var Set_1=root.Set;if(Set_1&&"function"==typeof(new Set_1)["@@iterator"])return"@@iterator";var Map_1=root.Map;if(Map_1)for(var keys=Object.getOwnPropertyNames(Map_1.prototype),i=0;i<keys.length;++i){var key=keys[i];if("entries"!==key&&"size"!==key&&Map_1.prototype[key]===Map_1.prototype.entries)return key}return"@@iterator"}var root_1=__webpack_require__(15);exports.symbolIteratorPonyfill=symbolIteratorPonyfill,exports.$$iterator=symbolIteratorPonyfill(root_1.root)},function(module,exports,__webpack_require__){"use strict";function buildApiV3Filter(name,operator,values){return(new ApiV3FilterBuilder).add(name,operator,values)}Object.defineProperty(exports,"__esModule",{value:!0});var ApiV3FilterBuilder=function(){function ApiV3FilterBuilder(){this.filters=[]}return ApiV3FilterBuilder.prototype.add=function(name,operator,values){var newFilter={};return newFilter[name]={operator:operator,values:values},this.filters.push(newFilter),this},ApiV3FilterBuilder.prototype.toJson=function(){return JSON.stringify(this.filters)},ApiV3FilterBuilder}();exports.ApiV3FilterBuilder=ApiV3FilterBuilder,exports.buildApiV3Filter=buildApiV3Filter},function(module,exports,__webpack_require__){"use strict";function querySortByResource(){return QuerySortByResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var hal_resource_service_1=__webpack_require__(7),angular_modules_1=__webpack_require__(0);exports.QUERY_SORT_BY_ASC="urn:openproject-org:api:v3:queries:directions:asc",exports.QUERY_SORT_BY_DESC="urn:openproject-org:api:v3:queries:directions:desc";var QuerySortByResource=function(_super){function QuerySortByResource(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(QuerySortByResource,_super),QuerySortByResource}(hal_resource_service_1.HalResource);exports.QuerySortByResource=QuerySortByResource;var QuerySortByDirection=function(_super){function QuerySortByDirection(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(QuerySortByDirection,_super),Object.defineProperty(QuerySortByDirection.prototype,"id",{get:function(){return this.$href.split("/").pop()},enumerable:!0,configurable:!0}),QuerySortByDirection}(hal_resource_service_1.HalResource);exports.QuerySortByDirection=QuerySortByDirection,angular_modules_1.opApiModule.factory("QuerySortByResource",querySortByResource)},function(module,exports,__webpack_require__){"use strict";(function(_){function wpResource(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return $q=args[0],$stateParams=args[1],$timeout=args[2],I18n=args[3],states=args[4],apiWorkPackages=args[5],wpCacheService=args[6],wpCreate=args[7],schemaCacheService=args[8],NotificationsService=args[9],wpNotificationsService=args[10],AttachmentCollectionResource=args[11],v3Path=args[12],WorkPackageResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var $q,$stateParams,$timeout,I18n,states,apiWorkPackages,wpCacheService,schemaCacheService,NotificationsService,wpNotificationsService,wpCreate,AttachmentCollectionResource,v3Path,hal_resource_service_1=__webpack_require__(7),angular_modules_1=__webpack_require__(0),WorkPackageResource=function(_super){function WorkPackageResource(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.pendingAttachments=[],_this}return __extends(WorkPackageResource,_super),Object.defineProperty(WorkPackageResource.prototype,"id",{get:function(){return this.$source.id||this.idFromLink},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageResource.prototype,"ancestorIds",{get:function(){var ancestors=this.ancestors;return ancestors.map(function(el){return el.id.toString()})},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageResource.prototype,"subjectWithType",{get:function(){return this.type?this.type.name+": "+this.subject:this.subject},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageResource.prototype,"isNew",{get:function(){return"new"===this.id},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageResource.prototype,"isMilestone",{get:function(){return this.schema.hasOwnProperty("date")},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageResource.prototype,"isLeaf",{get:function(){var children=this.$links.children;return!(children&&children.length>0)},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageResource.prototype,"isEditable",{get:function(){return!!this.$links.update||this.isNew},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageResource.prototype,"canAddAttachments",{get:function(){return!!this.$links.addAttachment||this.isNew},enumerable:!0,configurable:!0}),WorkPackageResource.prototype.$initialize=function(source){_super.prototype.$initialize.call(this,source);var attachments=this.attachments||{$source:void 0,$loaded:!1};this.attachments=new AttachmentCollectionResource(attachments.$source,attachments.$loaded)},WorkPackageResource.prototype.removeAttachment=function(attachment){var _this=this;attachment.$isHal&&attachment.delete().then(function(){_this.updateAttachments()}).catch(function(error){wpNotificationsService.handleErrorResponse(error,_this),_this.attachments.elements.push(attachment)}),_.pull(this.attachments.elements,attachment),_.pull(this.pendingAttachments,attachment)},WorkPackageResource.prototype.uploadPendingAttachments=function(){if(this.pendingAttachments.length){var attachments=this.pendingAttachments;return this.pendingAttachments=[],this.uploadAttachments(attachments)}},WorkPackageResource.prototype.uploadAttachments=function(files){var _this=this,_a=this.attachments.upload(files),uploads=_a.uploads,finished=_a.finished,message=I18n.t("js.label_upload_notification",this),notification=NotificationsService.addWorkPackageUpload(message,uploads);return finished.then(function(){return $timeout(function(){return NotificationsService.remove(notification)},700),_this.updateAttachments()}).catch(function(error){wpNotificationsService.handleRawError(error,_this)})},WorkPackageResource.prototype.uploadAttachmentsAndReload=function(){var _this=this,attachmentUpload=this.uploadPendingAttachments();attachmentUpload&&attachmentUpload.then(function(attachmentsResource){attachmentsResource.count>0&&wpCacheService.loadWorkPackage(_this.id,!0)})},WorkPackageResource.prototype.getSchemaName=function(name){return!this.isMilestone||"startDate"!==name&&"dueDate"!==name?name:"date"},WorkPackageResource.prototype.allowedValuesFor=function(field){var deferred=$q.defer();return this.getForm().then(function(form){var fieldSchema=form.$embedded.schema[field];if(fieldSchema){if(fieldSchema.allowedValues&&fieldSchema.allowedValues.$load){var allowedValues=fieldSchema.allowedValues;return allowedValues.$load().then(function(loadedValues){deferred.resolve(loadedValues.elements)})}deferred.resolve(fieldSchema.allowedValues)}else deferred.resolve([])}),deferred.promise},WorkPackageResource.prototype.setAllowedValueFor=function(field,value){var _this=this;return this.allowedValuesFor(field).then(function(allowedValues){var newValue;newValue=value.$href?_.find(allowedValues,function(entry){return entry.$href===value.$href}):allowedValues?_.find(allowedValues,function(entry){return entry===value}):value,newValue&&(_this[field]=newValue),wpCacheService.updateWorkPackage(_this)})},WorkPackageResource.prototype.isParentOf=function(otherWorkPackage){return otherWorkPackage.parent.$links.self.$link.href===this.$links.self.$link.href},WorkPackageResource.prototype.updateLinkedResources=function(){for(var _this=this,resourceNames=[],_i=0;_i<arguments.length;_i++)resourceNames[_i]=arguments[_i];var resources={};resourceNames.forEach(function(name){var linked=_this[name];resources[name]=linked?linked.$update():$q.reject()});var promise=$q.all(resources);return promise.then(function(){wpCacheService.updateWorkPackage(_this)}),promise},WorkPackageResource.prototype.updateActivities=function(){return this.updateLinkedResources("activities").then(function(resources){return resources.activities})},WorkPackageResource.prototype.updateAttachments=function(){return this.updateLinkedResources("activities","attachments").then(function(resources){return resources.attachments})},WorkPackageResource.prototype.initializeNewResource=function(form){this.overriddenSchema=form.schema,this.form=$q.when(form),this.$source.id="new",this.update=this.$links.update=form.$links.self,this.updateImmediately=this.$links.updateImmediately=function(payload){return apiWorkPackages.createWorkPackage(payload)}},WorkPackageResource.prototype.$linkableKeys=function(){return _.without(_super.prototype.$linkableKeys.call(this),"schema")},Object.defineProperty(WorkPackageResource.prototype,"schema",{get:function(){if(this.hasOverriddenSchema)return this.overriddenSchema;var state=schemaCacheService.state(this);if(!state.hasValue())throw"Accessing schema of "+this.id+" without it being loaded.";return state.value},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageResource.prototype,"hasOverriddenSchema",{get:function(){return null!=this.overriddenSchema},enumerable:!0,configurable:!0}),WorkPackageResource}(hal_resource_service_1.HalResource);exports.WorkPackageResource=WorkPackageResource,wpResource.$inject=["$q","$stateParams","$timeout","I18n","states","apiWorkPackages","wpCacheService","wpCreate","schemaCacheService","NotificationsService","wpNotificationsService","AttachmentCollectionResource","v3Path"],angular_modules_1.opApiModule.factory("WorkPackageResource",wpResource)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var StateCacheService=function(){function StateCacheService(holdValuesForSeconds){void 0===holdValuesForSeconds&&(holdValuesForSeconds=120),this.holdValuesForSeconds=holdValuesForSeconds,this.cacheDurationInMs=1e3*holdValuesForSeconds}return StateCacheService.prototype.state=function(id){return this.multiState.get(id)},StateCacheService.prototype.updateValue=function(id,val){this.multiState.get(id).putValue(val)},StateCacheService.prototype.clearSome=function(){for(var _this=this,ids=[],_i=0;_i<arguments.length;_i++)ids[_i]=arguments[_i];ids.forEach(function(id){return _this.multiState.get(id).clear()})},StateCacheService.prototype.require=function(id,force){void 0===force&&(force=!1);var state=this.multiState.get(id);return this.stale(state)||force?this.load(id):Promise.resolve(state.value)},StateCacheService.prototype.requireAll=function(ids,force){var _this=this;void 0===force&&(force=!1);var idsToRequest;return idsToRequest=force?ids:ids.filter(function(id){return _this.stale(_this.multiState.get(id))}),0===idsToRequest.length?Promise.resolve():this.loadAll(idsToRequest)},StateCacheService.prototype.stale=function(state){return state.isPristine()||state.isValueOlderThan(this.cacheDurationInMs)},StateCacheService}();exports.StateCacheService=StateCacheService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var InsertMode;!function(InsertMode){InsertMode[InsertMode.ATTACHMENT=0]="ATTACHMENT",InsertMode[InsertMode.DELAYED_ATTACHMENT=1]="DELAYED_ATTACHMENT",InsertMode[InsertMode.INLINE=2]="INLINE",InsertMode[InsertMode.LINK=3]="LINK"}(InsertMode=exports.InsertMode||(exports.InsertMode={}));var ViewMode;!function(ViewMode){ViewMode[ViewMode.EDIT=0]="EDIT",ViewMode[ViewMode.SHOW=1]="SHOW"}(ViewMode=exports.ViewMode||(exports.ViewMode={}))},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4),wp_display_multiple_lines_string_objects_field_module_1=__webpack_require__(150);exports.editableClassName="-editable",exports.requiredClassName="-required",exports.readOnlyClassName="-read-only",exports.placeholderClassName="-placeholder",exports.cellClassName="wp-table--cell-span",exports.displayClassName="wp-edit-field--display-field",exports.editFieldContainerClass="wp-edit-field--container",exports.cellEmptyPlaceholder="-";var DisplayFieldRenderer=function(){function DisplayFieldRenderer(context){this.context=context,angular_injector_bridge_functions_1.$injectFields(this,"wpDisplayField","I18n")}return DisplayFieldRenderer.prototype.render=function(workPackage,name,placeholder){void 0===placeholder&&(placeholder=exports.cellEmptyPlaceholder);var span=document.createElement("span"),schemaName=workPackage.getSchemaName(name),fieldSchema=workPackage.schema[schemaName];if(!fieldSchema)return span;var field=this.getField(workPackage,fieldSchema,schemaName);return this.setSpanAttributes(span,field,name,workPackage),field.render(span,this.getText(field,placeholder)),span.setAttribute("title",this.getLabel(field,workPackage)),span.setAttribute("aria-label",this.getAriaLabel(field,workPackage)),span},DisplayFieldRenderer.prototype.getField=function(workPackage,fieldSchema,name){var isMultiLinesField=["[]CustomOption","[]User"].indexOf(fieldSchema.type)>=0;return"single-view"===this.context&&isMultiLinesField?new wp_display_multiple_lines_string_objects_field_module_1.MultipleLinesStringObjectsDisplayField(workPackage,name,fieldSchema):this.wpDisplayField.getField(workPackage,name,fieldSchema)},DisplayFieldRenderer.prototype.getText=function(field,placeholder){return field.isEmpty()?placeholder:field.valueString},DisplayFieldRenderer.prototype.setSpanAttributes=function(span,field,name,workPackage){span.classList.add(exports.cellClassName,exports.displayClassName,"inplace-edit","wp-edit-field",name),span.dataset.fieldName=name,span.setAttribute("tabindex","id"===name?"-1":"0"),field.required&&span.classList.add(exports.requiredClassName),field.isEmpty()&&span.classList.add(exports.placeholderClassName),field.writable&&workPackage.isEditable?(span.classList.add(exports.editableClassName),span.setAttribute("role","button")):span.classList.add(exports.readOnlyClassName)},DisplayFieldRenderer.prototype.getLabel=function(field,workPackage){return field.writable&&workPackage.isEditable?this.I18n.t("js.inplace.button_edit",{attribute:""+field.displayName}):field.displayName},DisplayFieldRenderer.prototype.getAriaLabel=function(field,workPackage){var titleContent,labelContent=this.getLabelContent(field);if(field.isFormattable&&!field.isEmpty())try{titleContent=_.escape(angular.element("<div>"+labelContent+"</div>").text())}catch(e){console.error("Failed to parse formattable labelContent"),titleContent="Label for "+field.displayName}else titleContent=labelContent;return field.writable&&workPackage.isEditable?this.I18n.t("js.inplace.button_edit",{attribute:field.displayName+" "+titleContent}):field.displayName+" "+titleContent},DisplayFieldRenderer.prototype.getLabelContent=function(field){return field.isEmpty()?this.I18n.t("js.inplace.null_value_label"):field.valueString},DisplayFieldRenderer}();exports.DisplayFieldRenderer=DisplayFieldRenderer}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var rows_builder_1=__webpack_require__(66),angular_injector_bridge_functions_1=__webpack_require__(4),grouped_render_pass_1=__webpack_require__(166),grouped_rows_helpers_1=__webpack_require__(64),group_header_builder_1=__webpack_require__(101),single_row_builder_1=__webpack_require__(11);exports.rowGroupClassName="wp-table--group-header",exports.collapsedRowClass="-collapsed";var GroupedRowsBuilder=function(_super){function GroupedRowsBuilder(workPackageTable){var _this=_super.call(this,workPackageTable)||this;return angular_injector_bridge_functions_1.injectorBridge(_this),_this.headerBuilder=new group_header_builder_1.GroupHeaderBuilder,_this}return __extends(GroupedRowsBuilder,_super),GroupedRowsBuilder.prototype.isApplicable=function(table){return!_.isEmpty(this.groups)},Object.defineProperty(GroupedRowsBuilder.prototype,"groups",{get:function(){return this.states.table.groups.value||[]},enumerable:!0,configurable:!0}),Object.defineProperty(GroupedRowsBuilder.prototype,"collapsedGroups",{get:function(){return this.states.table.collapsedGroups.value||{}},enumerable:!0,configurable:!0}),Object.defineProperty(GroupedRowsBuilder.prototype,"colspan",{get:function(){return this.wpTableColumns.columnCount+1},enumerable:!0,configurable:!0}),GroupedRowsBuilder.prototype.buildRows=function(){return new grouped_render_pass_1.GroupedRenderPass(this.workPackageTable,this.getGroupData(),this.headerBuilder,this.colspan).render()},GroupedRowsBuilder.prototype.refreshExpansionState=function(){var _this=this,groups=this.getGroupData(),colspan=this.wpTableColumns.columnCount+1,rendered=this.states.table.rendered.value;jQuery("."+exports.rowGroupClassName).each(function(i,oldRow){var groupIndex=jQuery(oldRow).data("groupIndex"),group=groups[groupIndex],newRow=_this.headerBuilder.buildGroupRow(group,colspan);oldRow.parentNode&&oldRow.parentNode.replaceChild(newRow,oldRow);var affected=jQuery("."+grouped_rows_helpers_1.groupedRowClassName(groupIndex));affected.toggleClass(exports.collapsedRowClass,group.collapsed),affected.filter("."+single_row_builder_1.tableRowClassName).each(function(i,el){var index=jQuery(el).index();rendered[index].hidden=!!group.collapsed})}),this.states.table.rendered.putValue(rendered,"Updated hidden state of rows after group change.")},GroupedRowsBuilder.prototype.getGroupData=function(){var _this=this;return this.groups.map(function(group,index){return group.index=index,group._links&&group._links.valueLink&&(group.href=group._links.valueLink),group.identifier=grouped_rows_helpers_1.groupIdentifier(group),group.collapsed=_this.collapsedGroups[group.identifier]===!0,group})},GroupedRowsBuilder}(rows_builder_1.RowsBuilder);exports.GroupedRowsBuilder=GroupedRowsBuilder,GroupedRowsBuilder.$inject=["wpTableColumns","states","I18n"]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function groupIdentifier(group){var value=group.value||"nullValue";return value=value.toLowerCase().replace(/[^a-z0-9]+/g,"-"),groupByProperty(group)+"-"+value}function groupName(group){var value=group.value;return null===value?"-":value}function groupByProperty(group){return group._links.groupBy.href.split("/").pop()}function groupedRowClassName(groupIndex){return"__row-group-"+groupIndex}Object.defineProperty(exports,"__esModule",{value:!0}),exports.groupIdentifier=groupIdentifier,exports.groupName=groupName,exports.groupByProperty=groupByProperty,exports.groupedRowClassName=groupedRowClassName},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4),wp_table_hierarchy_helpers_1=__webpack_require__(50),single_row_builder_1=__webpack_require__(11);exports.indicatorCollapsedClass="-hierarchy-collapsed",exports.hierarchyCellClassName="wp-table--hierarchy-span",exports.additionalHierarchyRowClassName="wp-table--hierarchy-aditional-row";var SingleHierarchyRowBuilder=function(_super){function SingleHierarchyRowBuilder(workPackageTable){var _this=_super.call(this,workPackageTable)||this;return _this.workPackageTable=workPackageTable,angular_injector_bridge_functions_1.$injectFields(_this,"wpTableHierarchies","states"),_this.text={leaf:function(level){return _this.I18n.t("js.work_packages.hierarchy.leaf",{level:level})},expanded:function(level){return _this.I18n.t("js.work_packages.hierarchy.children_expanded",{level:level})},collapsed:function(level){return _this.I18n.t("js.work_packages.hierarchy.children_collapsed",{level:level})}},_this}return __extends(SingleHierarchyRowBuilder,_super),SingleHierarchyRowBuilder.prototype.refreshRow=function(workPackage,changeset,jRow){var newRow=_super.prototype.refreshRow.call(this,workPackage,changeset,jRow);return newRow.find(".wp-table--hierarchy-span").remove(),this.appendHierarchyIndicator(workPackage,newRow),newRow},SingleHierarchyRowBuilder.prototype.buildEmpty=function(workPackage){var _a=_super.prototype.buildEmpty.call(this,workPackage),element=_a[0],hidden=_a[1],state=this.wpTableHierarchies.currentState;return workPackage.ancestors.forEach(function(ancestor){element.classList.add("__hierarchy-group-"+ancestor.id),state.collapsed[ancestor.id]&&(hidden=!0,element.classList.add(wp_table_hierarchy_helpers_1.collapsedGroupClass(ancestor.id)))}),element.classList.add("__hierarchy-root-"+workPackage.id),this.appendHierarchyIndicator(workPackage,jQuery(element)),[element,hidden]},SingleHierarchyRowBuilder.prototype.buildAncestorRow=function(ancestor,ancestorGroups,index){var workPackage=this.states.workPackages.get(ancestor.id).value,_a=this.buildEmpty(workPackage),tr=_a[0],hidden=_a[1];return tr.classList.add(exports.additionalHierarchyRowClassName),[tr,hidden]},SingleHierarchyRowBuilder.prototype.appendHierarchyIndicator=function(workPackage,jRow,level){var hierarchyElement=this.buildHierarchyIndicator(workPackage,jRow,level);jRow.find("td.subject").addClass("-with-hierarchy").prepend(hierarchyElement)},SingleHierarchyRowBuilder.prototype.buildHierarchyIndicator=function(workPackage,jRow,index){void 0===index&&(index=null);var level=null===index?workPackage.ancestors.length:index,hierarchyIndicator=document.createElement("span"),collapsed=this.wpTableHierarchies.collapsed(workPackage.id),indicatorWidth=25+20*level+"px";if(hierarchyIndicator.classList.add(exports.hierarchyCellClassName),hierarchyIndicator.style.width=indicatorWidth,wp_table_hierarchy_helpers_1.hasChildrenInTable(workPackage,this.workPackageTable)){var className=collapsed?exports.indicatorCollapsedClass:"";hierarchyIndicator.innerHTML='\n            <a href tabindex="0" role="button" class="wp-table--hierarchy-indicator '+className+'">\n              <span class="wp-table--hierarchy-indicator-icon" aria-hidden="true"></span>\n              <span class="wp-table--hierarchy-indicator-expanded hidden-for-sighted">'+this.text.expanded(level)+'</span>\n              <span class="wp-table--hierarchy-indicator-collapsed hidden-for-sighted">'+this.text.collapsed(level)+"</span>\n            </a>\n        "}else hierarchyIndicator.innerHTML='\n            <span tabindex="0" class="wp-table--leaf-indicator">\n              <span class="hidden-for-sighted">'+this.text.leaf(level)+"</span>\n            </span>\n        ";
return hierarchyIndicator},SingleHierarchyRowBuilder}(single_row_builder_1.SingleRowBuilder);exports.SingleHierarchyRowBuilder=SingleHierarchyRowBuilder,SingleHierarchyRowBuilder.$inject=["states","I18n"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var RowsBuilder=function(){function RowsBuilder(workPackageTable){this.workPackageTable=workPackageTable}return RowsBuilder.prototype.isApplicable=function(table){return!0},RowsBuilder}();exports.RowsBuilder=RowsBuilder,RowsBuilder.$inject=["states"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4),single_row_builder_1=__webpack_require__(11);exports.timelineCellClassName="wp-timeline-cell";var TimelineRowBuilder=function(){function TimelineRowBuilder(workPackageTable){this.workPackageTable=workPackageTable,angular_injector_bridge_functions_1.$injectFields(this,"states","wpTableTimeline","wpCacheService")}return TimelineRowBuilder.prototype.build=function(workPackageId){var cell=document.createElement("div");return cell.classList.add(exports.timelineCellClassName,single_row_builder_1.commonRowClassName),workPackageId&&(cell.dataset.workPackageId=workPackageId),cell},TimelineRowBuilder.prototype.insert=function(workPackageId,timelineBody,rowClasses){void 0===rowClasses&&(rowClasses=[]);var cell=this.build(workPackageId);(_a=cell.classList).add.apply(_a,rowClasses),timelineBody.appendChild(cell);var _a},TimelineRowBuilder}();exports.TimelineRowBuilder=TimelineRowBuilder},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var wp_timeline_cell_mouse_handler_1=__webpack_require__(107),angular_injector_bridge_functions_1=__webpack_require__(4);exports.classNameLeftLabel="labelLeft",exports.classNameRightContainer="containerRight",exports.classNameRightLabel="labelRight",exports.classNameFarRightLabel="labelFarRight",exports.classNameShowOnHover="show-on-hover";var WorkPackageCellLabels=function(){function WorkPackageCellLabels(labelCenter,labelLeft,labelRight,labelFarRight){this.labelCenter=labelCenter,this.labelLeft=labelLeft,this.labelRight=labelRight,this.labelFarRight=labelFarRight}return WorkPackageCellLabels}();exports.WorkPackageCellLabels=WorkPackageCellLabels;var WorkPackageTimelineCell=function(){function WorkPackageTimelineCell(workPackageTimeline,renderers,latestRenderInfo,classIdentifier,workPackageId){this.workPackageTimeline=workPackageTimeline,this.renderers=renderers,this.latestRenderInfo=latestRenderInfo,this.classIdentifier=classIdentifier,this.workPackageId=workPackageId,this.wpElement=null,angular_injector_bridge_functions_1.$injectFields(this,"loadingIndicator","wpCacheService","wpNotificationsService","wpTableRefresh","states","TimezoneService")}return WorkPackageTimelineCell.prototype.getMarginLeftOfLeftSide=function(){var renderer=this.cellRenderer(this.latestRenderInfo.workPackage);return renderer.getMarginLeftOfLeftSide(this.latestRenderInfo)},WorkPackageTimelineCell.prototype.getMarginLeftOfRightSide=function(){var renderer=this.cellRenderer(this.latestRenderInfo.workPackage);return renderer.getMarginLeftOfRightSide(this.latestRenderInfo)},WorkPackageTimelineCell.prototype.getPaddingLeftForIncomingRelationLines=function(){var renderer=this.cellRenderer(this.latestRenderInfo.workPackage);return renderer.getPaddingLeftForIncomingRelationLines(this.latestRenderInfo)},WorkPackageTimelineCell.prototype.getPaddingRightForOutgoingRelationLines=function(){var renderer=this.cellRenderer(this.latestRenderInfo.workPackage);return renderer.getPaddingRightForOutgoingRelationLines(this.latestRenderInfo)},WorkPackageTimelineCell.prototype.canConnectRelations=function(){var wp=this.latestRenderInfo.workPackage;return wp.isMilestone?!_.isNil(wp.date):!_.isNil(wp.startDate)||!_.isNil(wp.dueDate)},WorkPackageTimelineCell.prototype.clear=function(){this.cellElement.html(""),this.wpElement=null},Object.defineProperty(WorkPackageTimelineCell.prototype,"cellContainer",{get:function(){return this.workPackageTimeline.timelineBody},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTimelineCell.prototype,"cellElement",{get:function(){return this.cellContainer.find("."+this.classIdentifier)},enumerable:!0,configurable:!0}),WorkPackageTimelineCell.prototype.lazyInit=function(renderer,renderInfo){var _this=this,body=this.workPackageTimeline.timelineBody[0],cell=this.cellElement,wasRendered=null!==this.wpElement&&body.contains(this.wpElement);return wasRendered&&this.elementShape===renderer.type?cell:(this.clear(),this.wpElement=renderer.render(renderInfo),this.labels=renderer.createAndAddLabels(renderInfo,this.wpElement),this.elementShape=renderer.type,cell.append(this.wpElement),renderInfo.workPackage.isEditable&&(this.wpElement.classList.add("-editable"),wp_timeline_cell_mouse_handler_1.registerWorkPackageMouseHandler(function(){return _this.latestRenderInfo},this.workPackageTimeline,this.wpCacheService,this.wpTableRefresh,this.wpNotificationsService,this.loadingIndicator,cell[0],this.wpElement,this.labels,renderer,renderInfo)),cell)},WorkPackageTimelineCell.prototype.cellRenderer=function(workPackage){return workPackage.isMilestone?this.renderers.milestone:this.renderers.generic},WorkPackageTimelineCell.prototype.refreshView=function(renderInfo){this.latestRenderInfo=renderInfo;var renderer=this.cellRenderer(renderInfo.workPackage),shouldBeDisplayed=(this.lazyInit(renderer,renderInfo),renderer.update(this.wpElement,renderInfo));shouldBeDisplayed||this.clear()},WorkPackageTimelineCell}();exports.WorkPackageTimelineCell=WorkPackageTimelineCell}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";var toPosInt=__webpack_require__(42),value=__webpack_require__(19),indexOf=Array.prototype.indexOf,hasOwnProperty=Object.prototype.hasOwnProperty,abs=Math.abs,floor=Math.floor;module.exports=function(searchElement){var i,l,fromIndex,val;if(searchElement===searchElement)return indexOf.apply(this,arguments);for(l=toPosInt(value(this).length),fromIndex=arguments[1],fromIndex=isNaN(fromIndex)?0:fromIndex>=0?floor(fromIndex):toPosInt(this.length)-floor(abs(fromIndex)),i=fromIndex;i<l;++i)if(hasOwnProperty.call(this,i)&&(val=this[i],val!==val))return i;return-1}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(675)()?Array.from:__webpack_require__(676)},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(691)()?Object.assign:__webpack_require__(692)},function(module,exports,__webpack_require__){"use strict";module.exports=function(x,y){return x===y||x!==x&&y!==y}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(690)("forEach")},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(224)()?Object.setPrototypeOf:__webpack_require__(225)},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(701)()?Symbol:__webpack_require__(703)},function(module,exports,__webpack_require__){"use strict";var on,once,off,emit,methods,descriptors,base,d=__webpack_require__(25),callable=__webpack_require__(20),apply=Function.prototype.apply,call=Function.prototype.call,create=Object.create,defineProperty=Object.defineProperty,defineProperties=Object.defineProperties,hasOwnProperty=Object.prototype.hasOwnProperty,descriptor={configurable:!0,enumerable:!1,writable:!0};on=function(type,listener){var data;return callable(listener),hasOwnProperty.call(this,"__ee__")?data=this.__ee__:(data=descriptor.value=create(null),defineProperty(this,"__ee__",descriptor),descriptor.value=null),data[type]?"object"==typeof data[type]?data[type].push(listener):data[type]=[data[type],listener]:data[type]=listener,this},once=function(type,listener){var once,self;return callable(listener),self=this,on.call(this,type,once=function(){off.call(self,type,once),apply.call(listener,this,arguments)}),once.__eeOnceListener__=listener,this},off=function(type,listener){var data,listeners,candidate,i;if(callable(listener),!hasOwnProperty.call(this,"__ee__"))return this;if(data=this.__ee__,!data[type])return this;if(listeners=data[type],"object"==typeof listeners)for(i=0;candidate=listeners[i];++i)candidate!==listener&&candidate.__eeOnceListener__!==listener||(2===listeners.length?data[type]=listeners[i?0:1]:listeners.splice(i,1));else listeners!==listener&&listeners.__eeOnceListener__!==listener||delete data[type];return this},emit=function(type){var i,l,listener,listeners,args;if(hasOwnProperty.call(this,"__ee__")&&(listeners=this.__ee__[type]))if("object"==typeof listeners){for(l=arguments.length,args=new Array(l-1),i=1;i<l;++i)args[i-1]=arguments[i];for(listeners=listeners.slice(),i=0;listener=listeners[i];++i)apply.call(listener,this,args)}else switch(arguments.length){case 1:call.call(listeners,this);break;case 2:call.call(listeners,this,arguments[1]);break;case 3:call.call(listeners,this,arguments[1],arguments[2]);break;default:for(l=arguments.length,args=new Array(l-1),i=1;i<l;++i)args[i-1]=arguments[i];apply.call(listeners,this,args)}},methods={on:on,once:once,off:off,emit:emit},descriptors={on:d(on),once:d(once),off:d(off),emit:d(emit)},base=defineProperties({},descriptors),module.exports=exports=function(o){return null==o?create(base):defineProperties(Object(o),descriptors)},exports.methods=methods},function(module,exports,__webpack_require__){"use strict"},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__(13),Subscription_1=__webpack_require__(12),AsyncSubject=function(_super){function AsyncSubject(){_super.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return __extends(AsyncSubject,_super),AsyncSubject.prototype._subscribe=function(subscriber){return this.hasCompleted&&this.hasNext?(subscriber.next(this.value),subscriber.complete(),Subscription_1.Subscription.EMPTY):this.hasError?(subscriber.error(this.thrownError),Subscription_1.Subscription.EMPTY):_super.prototype._subscribe.call(this,subscriber)},AsyncSubject.prototype.next=function(value){this.hasCompleted||(this.value=value,this.hasNext=!0)},AsyncSubject.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&_super.prototype.next.call(this,this.value),_super.prototype.complete.call(this)},AsyncSubject}(Subject_1.Subject);exports.AsyncSubject=AsyncSubject},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__(13),queue_1=__webpack_require__(254),Subscription_1=__webpack_require__(12),observeOn_1=__webpack_require__(118),ObjectUnsubscribedError_1=__webpack_require__(85),SubjectSubscription_1=__webpack_require__(237),ReplaySubject=function(_super){function ReplaySubject(bufferSize,windowTime,scheduler){void 0===bufferSize&&(bufferSize=Number.POSITIVE_INFINITY),void 0===windowTime&&(windowTime=Number.POSITIVE_INFINITY),_super.call(this),this.scheduler=scheduler,this._events=[],this._bufferSize=bufferSize<1?1:bufferSize,this._windowTime=windowTime<1?1:windowTime}return __extends(ReplaySubject,_super),ReplaySubject.prototype.next=function(value){var now=this._getNow();this._events.push(new ReplayEvent(now,value)),this._trimBufferThenGetEvents(),_super.prototype.next.call(this,value)},ReplaySubject.prototype._subscribe=function(subscriber){var subscription,_events=this._trimBufferThenGetEvents(),scheduler=this.scheduler;if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;this.hasError?subscription=Subscription_1.Subscription.EMPTY:this.isStopped?subscription=Subscription_1.Subscription.EMPTY:(this.observers.push(subscriber),subscription=new SubjectSubscription_1.SubjectSubscription(this,subscriber)),scheduler&&subscriber.add(subscriber=new observeOn_1.ObserveOnSubscriber(subscriber,scheduler));for(var len=_events.length,i=0;i<len&&!subscriber.closed;i++)subscriber.next(_events[i].value);return this.hasError?subscriber.error(this.thrownError):this.isStopped&&subscriber.complete(),subscription},ReplaySubject.prototype._getNow=function(){return(this.scheduler||queue_1.queue).now()},ReplaySubject.prototype._trimBufferThenGetEvents=function(){for(var now=this._getNow(),_bufferSize=this._bufferSize,_windowTime=this._windowTime,_events=this._events,eventsCount=_events.length,spliceCount=0;spliceCount<eventsCount&&!(now-_events[spliceCount].time<_windowTime);)spliceCount++;return eventsCount>_bufferSize&&(spliceCount=Math.max(spliceCount,eventsCount-_bufferSize)),spliceCount>0&&_events.splice(0,spliceCount),_events},ReplaySubject}(Subject_1.Subject);exports.ReplaySubject=ReplaySubject;var ReplayEvent=function(){function ReplayEvent(time,value){this.time=time,this.value=value}return ReplayEvent}()},function(module,exports,__webpack_require__){"use strict";function mergeAll(concurrent){return void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),this.lift(new MergeAllOperator(concurrent))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.mergeAll=mergeAll;var MergeAllOperator=function(){function MergeAllOperator(concurrent){this.concurrent=concurrent}return MergeAllOperator.prototype.call=function(observer,source){return source.subscribe(new MergeAllSubscriber(observer,this.concurrent))},MergeAllOperator}();exports.MergeAllOperator=MergeAllOperator;var MergeAllSubscriber=function(_super){function MergeAllSubscriber(destination,concurrent){_super.call(this,destination),this.concurrent=concurrent,this.hasCompleted=!1,this.buffer=[],this.active=0}return __extends(MergeAllSubscriber,_super),MergeAllSubscriber.prototype._next=function(observable){this.active<this.concurrent?(this.active++,this.add(subscribeToResult_1.subscribeToResult(this,observable))):this.buffer.push(observable)},MergeAllSubscriber.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},MergeAllSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub),this.active--,buffer.length>0?this._next(buffer.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},MergeAllSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.MergeAllSubscriber=MergeAllSubscriber},function(module,exports,__webpack_require__){"use strict";function getSymbolObservable(context){var $$observable,Symbol=context.Symbol;return"function"==typeof Symbol?Symbol.observable?$$observable=Symbol.observable:($$observable=Symbol("observable"),Symbol.observable=$$observable):$$observable="@@observable",$$observable}var root_1=__webpack_require__(15);exports.getSymbolObservable=getSymbolObservable,exports.$$observable=getSymbolObservable(root_1.root)},function(module,exports,__webpack_require__){"use strict";var root_1=__webpack_require__(15),Symbol=root_1.root.Symbol;exports.$$rxSubscriber="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber"},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ArgumentOutOfRangeError=function(_super){function ArgumentOutOfRangeError(){var err=_super.call(this,"argument out of range");this.name=err.name="ArgumentOutOfRangeError",this.stack=err.stack,this.message=err.message}return __extends(ArgumentOutOfRangeError,_super),ArgumentOutOfRangeError}(Error);exports.ArgumentOutOfRangeError=ArgumentOutOfRangeError},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},EmptyError=function(_super){function EmptyError(){var err=_super.call(this,"no elements in sequence");this.name=err.name="EmptyError",this.stack=err.stack,this.message=err.message}return __extends(EmptyError,_super),EmptyError}(Error);exports.EmptyError=EmptyError},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ObjectUnsubscribedError=function(_super){function ObjectUnsubscribedError(){var err=_super.call(this,"object unsubscribed");this.name=err.name="ObjectUnsubscribedError",this.stack=err.stack,this.message=err.message}return __extends(ObjectUnsubscribedError,_super),ObjectUnsubscribedError}(Error);exports.ObjectUnsubscribedError=ObjectUnsubscribedError},function(module,exports,__webpack_require__){"use strict";function isDate(value){return value instanceof Date&&!isNaN(+value)}exports.isDate=isDate},function(module,exports,__webpack_require__){module.exports=__webpack_require__(34)(0)},function(module,exports,__webpack_require__){"use strict";function collectionResource(){return CollectionResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var hal_resource_service_1=__webpack_require__(7),angular_modules_1=__webpack_require__(0),CollectionResource=function(_super){function CollectionResource(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(CollectionResource,_super),CollectionResource.prototype.updateElements=function(){var _this=this;return this.$load().then(function(collection){return _this.elements=collection.elements})},CollectionResource}(hal_resource_service_1.HalResource);exports.CollectionResource=CollectionResource,angular_modules_1.opApiModule.factory("CollectionResource",collectionResource)},function(module,exports,__webpack_require__){"use strict";(function(_){function queryFilterInstanceResource(){return QueryFilterInstanceResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var hal_resource_service_1=__webpack_require__(7),angular_modules_1=__webpack_require__(0),QueryFilterInstanceResource=function(_super){function QueryFilterInstanceResource(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.memoizedCurrentSchemas={},_this}return __extends(QueryFilterInstanceResource,_super),Object.defineProperty(QueryFilterInstanceResource.prototype,"id",{get:function(){return this.filter.id},enumerable:!0,configurable:!0}),Object.defineProperty(QueryFilterInstanceResource.prototype,"currentSchema",{get:function(){if(!this.schema||!this.operator)return null;var key=this.operator.href.toString();return void 0===this.memoizedCurrentSchemas[key]&&(this.memoizedCurrentSchemas[key]=this.schema.resultingSchema(this.operator)),this.memoizedCurrentSchemas[key]},enumerable:!0,configurable:!0}),QueryFilterInstanceResource.fromSchema=function(schema){var operator=schema.operator.allowedValues[0],filter=schema.filter.allowedValues[0],source={name:filter.name,_links:{filter:filter.$plain()._links.self,schema:schema.$plain()._links.self,operator:operator.$plain()._links.self}};this.definesAllowedValues(schema)?source._links.values=[]:source.values=[];var newFilter=new QueryFilterInstanceResource(source);return newFilter.schema=schema,newFilter},QueryFilterInstanceResource.prototype.isCompletelyDefined=function(){return this.values.length||this.currentSchema&&!this.currentSchema.isValueRequired()},QueryFilterInstanceResource.definesAllowedValues=function(schema){return _.some(schema._dependencies[0].dependencies,function(dependency){return dependency.values&&dependency.values._links&&dependency.values._links.allowedValues})},QueryFilterInstanceResource}(hal_resource_service_1.HalResource);exports.QueryFilterInstanceResource=QueryFilterInstanceResource,angular_modules_1.opApiModule.factory("QueryFilterInstanceResource",queryFilterInstanceResource)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){function relationResource(){return RelationResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),hal_resource_service_1=__webpack_require__(7),work_package_resource_service_1=__webpack_require__(59),angular_injector_bridge_functions_1=__webpack_require__(4),RelationResource=function(_super){function RelationResource(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(RelationResource,_super),RelationResource.RELATION_TYPES=function(includeParentChild){void 0===includeParentChild&&(includeParentChild=!0);var types=["relates","duplicates","duplicated","blocks","blocked","precedes","follows","includes","partof","requires","required"];return includeParentChild&&types.push("parent","children"),types},RelationResource.LOCALIZED_RELATION_TYPES=function(includeParentchild){void 0===includeParentchild&&(includeParentchild=!0);var relationTypes=RelationResource.RELATION_TYPES(includeParentchild),I18n=angular_injector_bridge_functions_1.$injectNow("I18n");return relationTypes.map(function(key){return{name:key,label:I18n.t("js.relation_labels."+key)}})},RelationResource.DEFAULT=function(){return"relates"},RelationResource.prototype.normalizedType=function(workPackage){return this.denormalized(workPackage).relationType},RelationResource.prototype.denormalized=function(workPackage){var target=this.to.href===workPackage.href?"from":"to";return{target:this[target],targetId:this[target].id,relationType:"from"===target?this.reverseType:this.type,reverseRelationType:"from"===target?this.type:this.reverseType}},RelationResource.prototype.isInvolved=function(wpId){return _.values(this.ids).indexOf(wpId.toString())>=0},Object.defineProperty(RelationResource.prototype,"ids",{get:function(){return{from:work_package_resource_service_1.WorkPackageResource.idFromLink(this.from.href),to:work_package_resource_service_1.WorkPackageResource.idFromLink(this.to.href)}},enumerable:!0,configurable:!0}),RelationResource.prototype.updateDescription=function(description){return this.$links.updateImmediately({description:description})},RelationResource.prototype.updateType=function(type){return this.$links.updateImmediately({type:type})},RelationResource}(hal_resource_service_1.HalResource);exports.RelationResource=RelationResource,angular_modules_1.opApiModule.factory("RelationResource",relationResource)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ClickPositionMapper,debug_output_1=__webpack_require__(9);!function(ClickPositionMapper){function setPosition(element,offset){try{element[0].setSelectionRange(offset,offset)}catch(e){debug_output_1.debugLog("Failed to set click position for edit field.",e)}}function getPosition(evt){try{var range=document.caretRangeFromPoint(evt.clientX,evt.clientY);return range.startOffset}catch(e){return debug_output_1.debugLog("Failed to get click position for edit field.",e),0}}ClickPositionMapper.setPosition=setPosition,ClickPositionMapper.getPosition=getPosition}(ClickPositionMapper=exports.ClickPositionMapper||(exports.ClickPositionMapper={}))},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var AbstractDateTimeValueController=function(){function AbstractDateTimeValueController($scope,I18n,TimezoneService){var _this=this;this.$scope=$scope,this.I18n=I18n,this.TimezoneService=TimezoneService,_.remove(this.filter.values,function(value){return!_this.TimezoneService.isValidISODateTime(value)})}return Object.defineProperty(AbstractDateTimeValueController.prototype,"filterDateModelOptions",{get:function(){return{updateOn:"default change blur",debounce:{default:400,change:0,blur:0}}},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractDateTimeValueController.prototype,"isTimeZoneDifferent",{get:function(){var value=this.lowerBoundary||this.upperBoundary;return!!value&&(0!==value.hours()||0!==value.minutes())},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractDateTimeValueController.prototype,"timeZoneText",{get:function(){return this.lowerBoundary&&this.upperBoundary?this.I18n.t("js.filter.time_zone_converted.two_values",{from:this.lowerBoundary.format("YYYY-MM-DD HH:mm"),to:this.upperBoundary.format("YYYY-MM-DD HH:mm")}):this.upperBoundary?this.I18n.t("js.filter.time_zone_converted.only_end",{to:this.upperBoundary.format("YYYY-MM-DD HH:mm")}):this.I18n.t("js.filter.time_zone_converted.only_start",{from:this.lowerBoundary.format("YYYY-MM-DD HH:mm")})},enumerable:!0,configurable:!0}),AbstractDateTimeValueController}();exports.AbstractDateTimeValueController=AbstractDateTimeValueController}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),angular_rx_utils_1=__webpack_require__(8),angular_injector_bridge_functions_1=__webpack_require__(4),WorkPackageViewController=function(){function WorkPackageViewController($scope,workPackageId){this.$scope=$scope,this.workPackageId=workPackageId,this.text={},angular_injector_bridge_functions_1.$injectFields(this,"$q","$state","keepTab","wpCacheService","WorkPackageService","states","wpEditing","PathHelper","I18n","wpTableRefresh"),this.initialized=this.$q.defer(),this.initializeTexts()}return WorkPackageViewController.$inject=["$scope","workPackageId"],WorkPackageViewController.prototype.observeWorkPackage=function(){var _this=this;angular_rx_utils_1.scopedObservable(this.$scope,this.wpCacheService.loadWorkPackage(this.workPackageId).values$()).subscribe(function(wp){_this.workPackage=wp,_this.init(),_this.initialized.resolve()})},WorkPackageViewController.prototype.initializeTexts=function(){var _this=this;this.text.tabs={},["overview","activity","relations","watchers"].forEach(function(tab){_this.text.tabs[tab]=_this.I18n.t("js.work_packages.tabs."+tab)})},WorkPackageViewController.prototype.init=function(){var _this=this;this.workPackage.project.$load().then(function(){_this.projectIdentifier=_this.workPackage.project.identifier}),this.showStaticPagePath=this.PathHelper.workPackagePath(this.workPackage),this.states.focusedWorkPackage.putValue(this.workPackage.id),angular_rx_utils_1.scopedObservable(this.$scope,this.keepTab.observable).subscribe(function(tabs){_this.updateFocusAnchorLabel(tabs.active)})},WorkPackageViewController.prototype.updateFocusAnchorLabel=function(tabName){var tabLabel=this.I18n.t("js.label_work_package_details_you_are_here",{tab:this.I18n.t("js.work_packages.tabs."+tabName),type:this.workPackage.type.name,subject:this.workPackage.subject});return this.focusAnchorLabel=tabLabel},WorkPackageViewController.prototype.canViewWorkPackageWatchers=function(){return!(!this.workPackage||!this.workPackage.watchers)},Object.defineProperty(WorkPackageViewController.prototype,"isEditable",{get:function(){return this.workPackage.isEditable},enumerable:!0,configurable:!0}),WorkPackageViewController}();exports.WorkPackageViewController=WorkPackageViewController,angular_modules_1.wpControllersModule.controller("WorkPackageViewController",WorkPackageViewController)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var TablePaginationController=function(){function TablePaginationController($scope,PaginationService,I18n){var _this=this;this.$scope=$scope,this.PaginationService=PaginationService,this.I18n=I18n,$scope.text={label_previous:I18n.t("js.pagination.pages.previous"),label_next:I18n.t("js.pagination.pages.next"),per_page:I18n.t("js.label_per_page"),no_other_page:I18n.t("js.pagination.no_other_page")},PaginationService.loadPerPageOptions(),$scope.paginationOptions=PaginationService.getPaginationOptions(),Object.defineProperty($scope,"perPageOptions",{get:function(){return _this.PaginationService.getPerPageOptions()}})}return TablePaginationController.prototype.updateCurrentRangeLabel=function(){this.$scope.totalEntries?this.$scope.currentRange="("+this.PaginationService.getLowerPageBound()+" - "+this.PaginationService.getUpperPageBound(this.$scope.totalEntries)+"/"+this.$scope.totalEntries+")":this.$scope.currentRange="(0 - 0/0)"},TablePaginationController.prototype.updatePageNumbers=function(){var maxVisible=this.PaginationService.getMaxVisiblePageOptions(),truncSize=this.PaginationService.getOptionsTruncationSize(),pageNumbers=[];if(this.$scope.paginationOptions.perPage)for(var i=1;i<=Math.ceil(this.$scope.totalEntries/this.$scope.paginationOptions.perPage);i++)pageNumbers.push(i);var startingDiff=this.PaginationService.getPage()-2*truncSize;0<=startingDiff&&startingDiff<=1?this.$scope.postPageNumbers=this.truncatePageNums(pageNumbers,pageNumbers.length>=maxVisible+2*truncSize,maxVisible+truncSize,pageNumbers.length,0):(this.$scope.prePageNumbers=this.truncatePageNums(pageNumbers,this.PaginationService.getPage()>=maxVisible,0,Math.min(this.PaginationService.getPage()-Math.ceil(maxVisible/2),pageNumbers.length-maxVisible),truncSize),this.$scope.postPageNumbers=this.truncatePageNums(pageNumbers,pageNumbers.length>=maxVisible+2*truncSize,maxVisible,pageNumbers.length,0)),this.$scope.pageNumbers=pageNumbers},TablePaginationController.prototype.truncatePageNums=function(pageNumbers,perform,disectFrom,disectLength,truncateFrom){if(perform){var truncationSize=this.PaginationService.getOptionsTruncationSize(),truncatedNums=pageNumbers.splice(disectFrom,disectLength);return truncatedNums.length>=2*truncationSize&&truncatedNums.splice(truncateFrom,truncatedNums.length-truncationSize),truncatedNums}return[]},TablePaginationController}();exports.TablePaginationController=TablePaginationController},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,
new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_display_field_module_1=__webpack_require__(10),DurationDisplayField=function(_super){function DurationDisplayField(resource,name,schema){var _this=_super.call(this,resource,name,schema)||this;return _this.resource=resource,_this.name=name,_this.schema=schema,_this.WorkPackagesHelper=_this.$injector.get("WorkPackagesHelper"),_this.TimezoneService=_this.$injector.get("TimezoneService"),_this}return __extends(DurationDisplayField,_super),Object.defineProperty(DurationDisplayField.prototype,"valueString",{get:function(){return this.WorkPackagesHelper.formatValue(this.value,"Duration")},enumerable:!0,configurable:!0}),DurationDisplayField.prototype.isEmpty=function(){return 0===this.TimezoneService.toHours(this.value)},DurationDisplayField}(wp_display_field_module_1.DisplayField);exports.DurationDisplayField=DurationDisplayField},function(module,exports,__webpack_require__){"use strict";(function(_){var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_display_field_module_1=__webpack_require__(10);exports.cssClassCustomOption="custom-option";var ResourcesDisplayField=function(_super){function ResourcesDisplayField(resource,name,schema){var _this=_super.call(this,resource,name,schema)||this;return _this.resource=resource,_this.name=name,_this.schema=schema,_this.text={empty:_this.I18n.t("js.work_packages.no_value"),placeholder:_this.I18n.t("js.placeholders.default")},_this}return __extends(ResourcesDisplayField,_super),ResourcesDisplayField.prototype.isEmpty=function(){return _.isEmpty(this.value)},Object.defineProperty(ResourcesDisplayField.prototype,"value",{get:function(){if(this.schema){var cf=this.resource[this.name];return cf.elements?cf.elements.map(function(e){return e.name}):cf.map?cf.map(function(e){return e.name}):cf.name?[cf.name]:["error: "+JSON.stringify(cf)]}return null},enumerable:!0,configurable:!0}),ResourcesDisplayField.prototype.render=function(element,displayText){var values=this.value;element.innerHTML="",element.setAttribute("title",values.join(", ")),0===values.length?this.renderEmpty(element):this.renderValues(values,element)},ResourcesDisplayField.prototype.renderEmpty=function(element){var emptyDiv=document.createElement("div");emptyDiv.setAttribute("title",this.text.empty),emptyDiv.textContent=this.text.placeholder,emptyDiv.classList.add(exports.cssClassCustomOption,"-empty"),element.appendChild(emptyDiv)},ResourcesDisplayField.prototype.renderValues=function(values,element){var content=document.createDocumentFragment(),abridged=this.optionDiv(this.valueAbridged(values));if(content.appendChild(abridged),values.length>2){var badge=this.optionDiv(values.length.toString(),"badge","-secondary");content.appendChild(badge)}element.appendChild(content)},ResourcesDisplayField.prototype.optionDiv=function(text){for(var classes=[],_i=1;_i<arguments.length;_i++)classes[_i-1]=arguments[_i];var div=document.createElement("div"),span=document.createElement("span");return div.classList.add(exports.cssClassCustomOption),(_a=span.classList).add.apply(_a,classes),span.textContent=text,div.appendChild(span),div;var _a},ResourcesDisplayField.prototype.valueAbridged=function(values){var valueForDisplay=_.take(values,2);return values.length>2&&valueForDisplay.push("... "),valueForDisplay.join(", ")},ResourcesDisplayField}(wp_display_field_module_1.DisplayField);exports.ResourcesDisplayField=ResourcesDisplayField}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var cell_builder_1=__webpack_require__(37),angular_injector_bridge_functions_1=__webpack_require__(4),work_package_edit_field_handler_1=__webpack_require__(98),TableRowEditContext=function(){function TableRowEditContext(workPackageId,classIdentifier){this.workPackageId=workPackageId,this.classIdentifier=classIdentifier,this.cellBuilder=new cell_builder_1.CellBuilder,angular_injector_bridge_functions_1.injectorBridge(this)}return TableRowEditContext.prototype.findContainer=function(fieldName){return this.rowContainer.find("."+cell_builder_1.tdClassName+"."+fieldName+" ."+cell_builder_1.editCellContainer).first()},TableRowEditContext.prototype.findCell=function(fieldName){return this.rowContainer.find("."+cell_builder_1.tdClassName+"."+fieldName).first()},TableRowEditContext.prototype.activateField=function(form,field,fieldName,errors){var _this=this,cell=this.findContainer(fieldName),td=this.findCell(fieldName);td.css("width",td.css("width"));var fieldHandler=new work_package_edit_field_handler_1.WorkPackageEditFieldHandler(form,fieldName,field,cell,errors);fieldHandler.$scope=this.templateRenderer.createRenderScope();var promise=this.templateRenderer.renderIsolated(cell,fieldHandler.$scope,"/components/wp-edit-form/wp-edit-form.template.html",{vm:fieldHandler});return promise.then(function(){return _this.$timeout(function(){return fieldHandler.focus(),fieldHandler})})},TableRowEditContext.prototype.refreshField=function(field,handler){handler.$scope.$evalAsync(function(){return handler.field=field})},TableRowEditContext.prototype.reset=function(workPackage,fieldName,focus){var cell=this.findContainer(fieldName);cell.length&&(this.findCell(fieldName).css("width",""),this.cellBuilder.refresh(cell[0],workPackage,fieldName),focus&&this.FocusHelper.focusElement(cell))},TableRowEditContext.prototype.requireVisible=function(fieldName){return this.wpTableColumns.addColumn(fieldName),this.waitForContainer(fieldName)},TableRowEditContext.prototype.firstField=function(names){return"subject"},TableRowEditContext.prototype.waitForContainer=function(fieldName){var _this=this,deferred=this.$q.defer(),interval=setInterval(function(){var container=_this.findContainer(fieldName);container.length>0&&(clearInterval(interval),deferred.resolve())},100);return deferred.promise},Object.defineProperty(TableRowEditContext.prototype,"rowContainer",{get:function(){return jQuery("."+this.classIdentifier+"-table")},enumerable:!0,configurable:!0}),TableRowEditContext}();exports.TableRowEditContext=TableRowEditContext,TableRowEditContext.$inject=["wpCacheService","states","wpTableColumns","wpTableRefresh","FocusHelper","$q","$timeout","templateRenderer"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4),keyCodes_enum_1=__webpack_require__(40),WorkPackageEditFieldHandler=function(){function WorkPackageEditFieldHandler(form,fieldName,field,element,withErrors){this.form=form,this.fieldName=fieldName,this.field=field,this.element=element,this.withErrors=withErrors,angular_injector_bridge_functions_1.$injectFields(this,"I18n","ConfigurationService","FocusHelper"),this.editContext=form.editContext,this.schemaName=field.name,void 0!==withErrors&&this.setErrors(withErrors)}return WorkPackageEditFieldHandler.prototype.stopPropagation=function(evt){return evt.stopPropagation(),!1},Object.defineProperty(WorkPackageEditFieldHandler.prototype,"inEditMode",{get:function(){return this.form.editMode},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageEditFieldHandler.prototype,"active",{get:function(){return!0},enumerable:!0,configurable:!0}),WorkPackageEditFieldHandler.prototype.focus=function(){this.element.find(".wp-inline-edit--field").focus()},WorkPackageEditFieldHandler.prototype.setErrors=function(newErrors){this.errors=newErrors,this.element.toggleClass("-error",this.isErrorenous)},WorkPackageEditFieldHandler.prototype.handleUserSubmit=function(){this.form.editMode||this.form.submit()},WorkPackageEditFieldHandler.prototype.handleUserKeydown=function(event,onlyCancel){return void 0===onlyCancel&&(onlyCancel=!1),this.inEditMode&&!onlyCancel?event.which!==keyCodes_enum_1.keyCodes.ENTER||(this.form.submit(),!1):event.which!==keyCodes_enum_1.keyCodes.ESCAPE||(this.handleUserCancel(),!1)},WorkPackageEditFieldHandler.prototype.onlyInAccessibilityMode=function(callback){this.ConfigurationService.accessibilityModeEnabled()&&callback.apply(this)},WorkPackageEditFieldHandler.prototype.handleUserCancel=function(){this.reset()},WorkPackageEditFieldHandler.prototype.reset=function(){this.form.changeset.reset(this.fieldName),this.deactivate(!0)},WorkPackageEditFieldHandler.prototype.deactivate=function(focus){void 0===focus&&(focus=!1),delete this.form.activeFields[this.fieldName],this.editContext.reset(this.workPackage,this.fieldName,focus),this.$scope&&this.$scope.$destroy()},Object.defineProperty(WorkPackageEditFieldHandler.prototype,"isSubmittable",{get:function(){return!(this.form.editMode||this.field.required&&this.field.isEmpty()||this.isErrorenous&&!this.isChanged()||this.workPackage.inFlight)},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageEditFieldHandler.prototype,"isErrorenous",{get:function(){return this.errors.length>0},enumerable:!0,configurable:!0}),WorkPackageEditFieldHandler.prototype.isChanged=function(){return this.form.changeset.isOverridden(this.schemaName)},Object.defineProperty(WorkPackageEditFieldHandler.prototype,"workPackage",{get:function(){return this.form.workPackage},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageEditFieldHandler.prototype,"htmlId",{get:function(){return"wp-"+this.workPackage.id+"-inline-edit--field-"+this.fieldName},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageEditFieldHandler.prototype,"fieldLabel",{get:function(){return this.field.displayName},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageEditFieldHandler.prototype,"errorMessageOnLabel",{get:function(){return this.isErrorenous?this.I18n.t("js.inplace.errors.messages_on_field",{messages:this.errors.join(" ")}):""},enumerable:!0,configurable:!0}),WorkPackageEditFieldHandler}();exports.WorkPackageEditFieldHandler=WorkPackageEditFieldHandler},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_edit_field_module_1=__webpack_require__(21),TextEditField=function(_super){function TextEditField(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="/components/wp-edit/field-types/wp-edit-text-field.directive.html",_this}return __extends(TextEditField,_super),TextEditField}(wp_edit_field_module_1.EditField);exports.TextEditField=TextEditField},function(module,exports,__webpack_require__){"use strict";(function(_){var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_edit_field_module_1=__webpack_require__(21),angular_injector_bridge_functions_1=__webpack_require__(4),WikiTextareaEditField=function(_super){function WikiTextareaEditField(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="/components/wp-edit/field-types/wp-edit-wiki-textarea-field.directive.html",_this.isBusy=!1,_this.isPreview=!1,_this}return __extends(WikiTextareaEditField,_super),WikiTextareaEditField.prototype.initialize=function(){angular_injector_bridge_functions_1.$injectFields(this,"$sce","$http","TextileService","$timeout","I18n"),this.text={attachmentLabel:this.I18n.t("js.label_formattable_attachment_hint"),save:this.I18n.t("js.inplace.button_save",{attribute:this.schema.name}),cancel:this.I18n.t("js.inplace.button_cancel",{attribute:this.schema.name})}},Object.defineProperty(WikiTextareaEditField.prototype,"rawValue",{get:function(){var formatted=this.value;return _.get(formatted,"raw","")},set:function(val){this.value={raw:val}},enumerable:!0,configurable:!0}),Object.defineProperty(WikiTextareaEditField.prototype,"isFormattable",{get:function(){return!0},enumerable:!0,configurable:!0}),WikiTextareaEditField.prototype.isEmpty=function(){return!(this.value&&this.value.raw)},WikiTextareaEditField.prototype.submitUnlessInPreview=function(form){var _this=this;this.$timeout(function(){_this.isPreview||form.submit()})},WikiTextareaEditField.prototype.togglePreview=function(){var _this=this;this.isPreview=!this.isPreview,this.previewHtml="",this.rawValue&&this.isPreview&&(this.isBusy=!0,this.changeset.getForm().then(function(form){var link=form.previewMarkup.$link;_this.$http({method:link.method,url:link.href,data:_this.rawValue,headers:{"Content-Type":"text/plain; charset=UTF-8"}}).then(function(result){_this.previewHtml=_this.$sce.trustAsHtml(result.data)}).finally(function(){_this.isBusy=!1})}))},WikiTextareaEditField}(wp_edit_field_module_1.EditField);exports.WikiTextareaEditField=WikiTextareaEditField}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){function groupClassNameFor(group){return"group-"+group.identifier}Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4),grouped_rows_helpers_1=__webpack_require__(64);exports.rowGroupClassName="wp-table--group-header",exports.groupClassNameFor=groupClassNameFor;var GroupHeaderBuilder=function(){function GroupHeaderBuilder(){angular_injector_bridge_functions_1.$injectFields(this,"I18n"),this.text={collapse:this.I18n.t("js.label_collapse"),expand:this.I18n.t("js.label_expand")}}return GroupHeaderBuilder.prototype.buildGroupRow=function(group,colspan){var togglerIconClass,text,row=document.createElement("tr");return group.collapsed?(text=this.text.expand,togglerIconClass="icon-plus"):(text=this.text.collapse,togglerIconClass="icon-minus2"),row.classList.add(exports.rowGroupClassName,groupClassNameFor(group)),row.id="wp-table-rowgroup-"+group.index,row.dataset.groupIndex=group.index.toString(),row.dataset.groupIdentifier=group.identifier,row.innerHTML='\n      <td colspan="'+colspan+'" class="-no-highlighting">\n        <div class="expander icon-context '+togglerIconClass+'">\n          <span class="hidden-for-sighted">'+_.escape(text)+'</span>\n        </div>\n        <div class="group--value">\n          '+_.escape(grouped_rows_helpers_1.groupName(group))+'\n          <span class="count">\n            ('+group.count+")\n          </span>\n        </div>\n      </td>\n    ",row},GroupHeaderBuilder}();exports.GroupHeaderBuilder=GroupHeaderBuilder}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var primary_render_pass_1=__webpack_require__(103),PlainRenderPass=function(_super){function PlainRenderPass(workPackageTable,rowBuilder){var _this=_super.call(this,workPackageTable,rowBuilder)||this;return _this.workPackageTable=workPackageTable,_this.rowBuilder=rowBuilder,_this}return __extends(PlainRenderPass,_super),PlainRenderPass.prototype.doRender=function(){var _this=this;this.workPackageTable.originalRows.forEach(function(wpId){var row=_this.workPackageTable.originalRowIndex[wpId],tr=_this.rowBuilder.buildEmpty(row.object)[0];row.element=tr,_this.appendRow(row.object,tr),_this.tableBody.appendChild(tr)})},PlainRenderPass}(primary_render_pass_1.PrimaryRenderPass);exports.PlainRenderPass=PlainRenderPass},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4),timeline_render_pass_1=__webpack_require__(172),relations_render_pass_1=__webpack_require__(171),debug_output_1=__webpack_require__(9),PrimaryRenderPass=function(){function PrimaryRenderPass(workPackageTable,rowBuilder){this.workPackageTable=workPackageTable,this.rowBuilder=rowBuilder,angular_injector_bridge_functions_1.$injectFields(this,"states","I18n","wpEditing")}return PrimaryRenderPass.prototype.render=function(){var _this=this;return debug_output_1.timeOutput("Primary render pass",function(){_this.prepare(),_this.doRender()}),debug_output_1.timeOutput("Relations render pass",function(){_this.relations.render()}),debug_output_1.timeOutput("Timelines render pass",function(){_this.timeline.render()}),this},PrimaryRenderPass.prototype.refresh=function(row,workPackage,body){var oldRow=jQuery(body).find("."+row.classIdentifier),replacement=null,editing=this.wpEditing.changesetFor(workPackage);switch(row.renderType){case"primary":replacement=this.rowBuilder.refreshRow(workPackage,editing,oldRow);break;case"relations":replacement=this.relations.refreshRelationRow(row,workPackage,editing,oldRow)}null!==replacement&&oldRow.length&&oldRow.replaceWith(replacement)},Object.defineProperty(PrimaryRenderPass.prototype,"result",{get:function(){return this.renderedOrder.map(function(row){return{classIdentifier:row.classIdentifier,workPackageId:row.workPackage?row.workPackage.id:null,hidden:row.hidden}})},enumerable:!0,configurable:!0}),PrimaryRenderPass.prototype.spliceRow=function(row,selector,renderedInfo){var target=jQuery(this.tableBody).find(selector).last();target.after(row);var index=target.index();this.renderedOrder.splice(index+1,0,renderedInfo)},PrimaryRenderPass.prototype.prepare=function(){this.timeline=new timeline_render_pass_1.TimelineRenderPass(this.workPackageTable,this),this.relations=new relations_render_pass_1.RelationsRenderPass(this.workPackageTable,this),this.tableBody=document.createDocumentFragment(),this.renderedOrder=[]},PrimaryRenderPass.prototype.appendRow=function(workPackage,row,additionalClasses,hidden){void 0===additionalClasses&&(additionalClasses=[]),void 0===hidden&&(hidden=!1),this.tableBody.appendChild(row),this.renderedOrder.push({classIdentifier:this.rowBuilder.classIdentifier(workPackage),additionalClasses:additionalClasses,workPackage:workPackage,renderType:"primary",hidden:hidden})},PrimaryRenderPass.prototype.appendNonWorkPackageRow=function(row,classIdentifer,additionalClasses,hidden){void 0===additionalClasses&&(additionalClasses=[]),void 0===hidden&&(hidden=!1),row.classList.add(classIdentifer),this.tableBody.appendChild(row),this.renderedOrder.push({classIdentifier:classIdentifer,additionalClasses:additionalClasses,workPackage:null,renderType:"primary",hidden:hidden})},PrimaryRenderPass}();exports.PrimaryRenderPass=PrimaryRenderPass},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4),cell_builder_1=__webpack_require__(37);exports.relationCellTdClassName="wp-table--relation-cell-td",exports.relationCellIndicatorClassName="wp-table--relation-indicator";var RelationCellbuilder=function(){function RelationCellbuilder(){angular_injector_bridge_functions_1.$injectFields(this,"states","wpRelations","wpTableRelationColumns")}return RelationCellbuilder.prototype.build=function(workPackage,column){var td=document.createElement("td");td.classList.add(cell_builder_1.tdClassName,exports.relationCellTdClassName,column.id),td.dataset.columnId=column.id;var expanded=this.wpTableRelationColumns.getExpandFor(workPackage.id)===column.id,relationState=this.wpRelations.state(workPackage.id).value,relations=this.wpTableRelationColumns.relationsForColumn(workPackage,relationState,column),indicator=this.renderIndicator(),badge=this.renderBadge(relations);return expanded&&td.classList.add("-expanded"),relations.length>0&&(td.appendChild(badge),td.appendChild(indicator)),td},RelationCellbuilder.prototype.renderIndicator=function(){var indicator=document.createElement("span");return indicator.classList.add(exports.relationCellIndicatorClassName),indicator.setAttribute("aria-hidden","true"),indicator.setAttribute("tabindex","0"),indicator},RelationCellbuilder.prototype.renderBadge=function(relations){var badge=document.createElement("span");return badge.classList.add("wp-table--relation-count"),badge.textContent=""+relations.length,badge.classList.add("badge","-border-only"),badge},RelationCellbuilder}();exports.RelationCellbuilder=RelationCellbuilder},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var wp_field_module_1=__webpack_require__(41),WorkPackageFieldService=function(){function WorkPackageFieldService($injector){this.$injector=$injector}return WorkPackageFieldService.$inject=["$injector"],Object.defineProperty(WorkPackageFieldService,"fieldFactory",{get:function(){return wp_field_module_1.FieldFactory},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageFieldService.prototype,"defaultType",{set:function(value){this.constructor.fieldFactory.defaultType=value},enumerable:!0,configurable:!0}),WorkPackageFieldService.prototype.getField=function(resource,fieldName,schema){return this.constructor.fieldFactory.create(resource,fieldName,schema)},WorkPackageFieldService.prototype.fieldType=function(name){return this.constructor.fieldFactory.getType(name)},WorkPackageFieldService.prototype.addFieldType=function(fieldClass,displayType,fields){return fieldClass.type=displayType,fieldClass.$injector=this.$injector,this.constructor.fieldFactory.register(fieldClass,fields),this},WorkPackageFieldService.prototype.extendFieldType=function(displayType,fields){var fieldClass=this.constructor.fieldFactory.getClassFor(displayType);return this.addFieldType(fieldClass,displayType,fields)},WorkPackageFieldService}();exports.WorkPackageFieldService=WorkPackageFieldService,angular.module("openproject").service("wpField",WorkPackageFieldService)},function(module,exports,__webpack_require__){"use strict";(function(_){function calculateForegroundColor(backgroundColor){return"red"}Object.defineProperty(exports,"__esModule",{value:!0});var moment=__webpack_require__(87),angular_injector_bridge_functions_1=__webpack_require__(4),wp_timeline_1=__webpack_require__(24),wp_timeline_cell_1=__webpack_require__(68),wp_timeline_cell_mouse_handler_1=__webpack_require__(107),wp_table_hierarchy_helpers_1=__webpack_require__(50),TimelineCellRenderer=function(){function TimelineCellRenderer(workPackageTimeline){this.workPackageTimeline=workPackageTimeline,this.dateDisplaysOnMouseMove={}}return Object.defineProperty(TimelineCellRenderer.prototype,"type",{get:function(){return"bar"},enumerable:!0,configurable:!0}),Object.defineProperty(TimelineCellRenderer.prototype,"fallbackColor",{get:function(){return"rgba(50, 50, 50, 0.1)"},enumerable:!0,configurable:!0}),TimelineCellRenderer.prototype.isEmpty=function(wp){var start=moment(wp.startDate),due=moment(wp.dueDate),noStartAndDueValues=_.isNaN(start.valueOf())&&_.isNaN(due.valueOf());return noStartAndDueValues},TimelineCellRenderer.prototype.displayPlaceholderUnderCursor=function(ev,renderInfo){var days=Math.floor(ev.offsetX/renderInfo.viewParams.pixelPerDay),placeholder=document.createElement("div");return placeholder.style.pointerEvents="none",placeholder.style.backgroundColor="#DDDDDD",placeholder.style.position="absolute",placeholder.style.height="1em",placeholder.style.width="30px",placeholder.style.zIndex="9999",placeholder.style.left=days*renderInfo.viewParams.pixelPerDay+"px",placeholder},TimelineCellRenderer.prototype.assignDateValues=function(changeset,labels,dates){this.assignDate(changeset,"startDate",dates.startDate),this.assignDate(changeset,"dueDate",dates.dueDate),this.updateLabels(!0,labels,changeset)},TimelineCellRenderer.prototype.onDaysMoved=function(changeset,dayUnderCursor,delta,direction){var initialStartDate=changeset.workPackage.startDate,initialDueDate=changeset.workPackage.dueDate,startDate=moment(changeset.value("startDate")),dueDate=moment(changeset.value("dueDate")),dates={};return"left"===direction?dates.startDate=moment(initialStartDate||initialDueDate).add(delta,"days"):"right"===direction?dates.dueDate=moment(initialDueDate||initialStartDate).add(delta,"days"):"both"===direction?(initialStartDate&&(dates.startDate=moment(initialStartDate).add(delta,"days")),initialDueDate&&(dates.dueDate=moment(initialDueDate).add(delta,"days"))):"dragright"===direction&&(dates.dueDate=startDate.clone().add(delta,"days")),"both"!==direction&&(void 0!=dates.startDate&&dates.startDate.isAfter(dueDate)?dates.startDate=dueDate:void 0!=dates.dueDate&&dates.dueDate.isBefore(startDate)&&(dates.dueDate=startDate)),dates},TimelineCellRenderer.prototype.onMouseDown=function(ev,dateForCreate,renderInfo,labels,elem){if(renderInfo.viewParams.activeSelectionMode)return renderInfo.viewParams.activeSelectionMode(renderInfo.workPackage),ev.preventDefault(),"both";var direction,changeset=renderInfo.changeset;return jQuery(ev.target).hasClass(wp_timeline_cell_mouse_handler_1.classNameLeftHandle)?(direction="left",this.forceCursor("w-resize"),null===changeset.value("startDate")&&changeset.setValue("startDate",changeset.value("dueDate"))):jQuery(ev.target).hasClass(wp_timeline_cell_mouse_handler_1.classNameRightHandle)||dateForCreate?(direction="right",this.forceCursor("e-resize"),null===changeset.value("dueDate")&&changeset.setValue("dueDate",changeset.value("startDate"))):(direction="both",this.forceCursor("ew-resize")),dateForCreate&&(changeset.setValue("startDate",dateForCreate),changeset.setValue("dueDate",dateForCreate),direction="dragright"),this.updateLabels(!0,labels,renderInfo.changeset),direction},TimelineCellRenderer.prototype.onMouseDownEnd=function(labels,changeset){this.updateLabels(!1,labels,changeset)},TimelineCellRenderer.prototype.update=function(bar,renderInfo){var changeset=renderInfo.changeset;bar.style.backgroundColor=this.typeColor(renderInfo.workPackage);var viewParams=renderInfo.viewParams,start=moment(changeset.value("startDate")),due=moment(changeset.value("dueDate"));if(_.isNaN(start.valueOf())&&_.isNaN(due.valueOf())?bar.style.visibility="hidden":bar.style.visibility="visible",_.isNaN(due.valueOf())&&!_.isNaN(start.valueOf())){due=start.clone(),bar.style.backgroundColor="inherit";var color=this.typeColor(renderInfo.workPackage);bar.style.backgroundImage="linear-gradient(90deg, "+color+" 0%, rgba(255,255,255,0) 80%)"}if(_.isNaN(start.valueOf())&&!_.isNaN(due.valueOf())){start=due.clone(),bar.style.backgroundColor="inherit";var color=this.typeColor(renderInfo.workPackage);bar.style.backgroundImage="linear-gradient(90deg, rgba(255,255,255,0) 0%, "+color+" 100%)"}var offsetStart=start.diff(viewParams.dateDisplayStart,"days");bar.style.left=wp_timeline_1.calculatePositionValueForDayCount(viewParams,offsetStart);var duration=due.diff(start,"days")+1;if(bar.style.width=wp_timeline_1.calculatePositionValueForDayCount(viewParams,duration),!_.isNaN(start.valueOf())||!_.isNaN(due.valueOf())){var minWidth=_.max([renderInfo.viewParams.pixelPerDay,2]);bar.style.minWidth=minWidth+"px"}return this.checkForActiveSelectionMode(renderInfo,bar),this.checkForSpecialDisplaySituations(renderInfo,bar),!0},TimelineCellRenderer.prototype.checkForActiveSelectionMode=function(renderInfo,element){renderInfo.viewParams.activeSelectionMode&&(element.style.backgroundImage=null,renderInfo.viewParams.selectionModeStart===""+renderInfo.workPackage.id&&(jQuery(element).addClass(wp_timeline_1.timelineMarkerSelectionStartClass),element.style.background=null))},TimelineCellRenderer.prototype.getMarginLeftOfLeftSide=function(renderInfo){var changeset=renderInfo.changeset,start=moment(changeset.value("startDate")),due=moment(changeset.value("dueDate"));start=_.isNaN(start.valueOf())?due.clone():start;var offsetStart=start.diff(renderInfo.viewParams.dateDisplayStart,"days");return wp_timeline_1.calculatePositionValueForDayCountingPx(renderInfo.viewParams,offsetStart)},TimelineCellRenderer.prototype.getMarginLeftOfRightSide=function(renderInfo){var changeset=renderInfo.changeset,start=moment(changeset.value("startDate")),due=moment(changeset.value("dueDate"));start=_.isNaN(start.valueOf())?due.clone():start,due=_.isNaN(due.valueOf())?start.clone():due;var offsetStart=start.diff(renderInfo.viewParams.dateDisplayStart,"days"),duration=due.diff(start,"days")+1;return wp_timeline_1.calculatePositionValueForDayCountingPx(renderInfo.viewParams,offsetStart+duration)},TimelineCellRenderer.prototype.getPaddingLeftForIncomingRelationLines=function(renderInfo){return renderInfo.viewParams.pixelPerDay/8},TimelineCellRenderer.prototype.getPaddingRightForOutgoingRelationLines=function(renderInfo){return 0},TimelineCellRenderer.prototype.render=function(renderInfo){var bar=document.createElement("div"),left=document.createElement("div"),right=document.createElement("div");return bar.className=wp_timeline_1.timelineElementCssClass+" "+this.type,left.className=wp_timeline_cell_mouse_handler_1.classNameLeftHandle,right.className=wp_timeline_cell_mouse_handler_1.classNameRightHandle,bar.appendChild(left),bar.appendChild(right),bar},TimelineCellRenderer.prototype.createAndAddLabels=function(renderInfo,element){var labelCenter=document.createElement("div");labelCenter.classList.add(wp_timeline_cell_mouse_handler_1.classNameBarLabel);var backgroundColor=this.typeColor(renderInfo.workPackage);labelCenter.style.color=calculateForegroundColor(backgroundColor),element.appendChild(labelCenter);var labelLeft=document.createElement("div");labelLeft.classList.add(wp_timeline_cell_1.classNameLeftLabel),labelLeft.classList.add(wp_timeline_cell_1.classNameShowOnHover),element.appendChild(labelLeft);var containerRight=document.createElement("div");containerRight.classList.add(wp_timeline_cell_1.classNameRightContainer),element.appendChild(containerRight);var labelRight=document.createElement("div");labelRight.classList.add(wp_timeline_cell_1.classNameRightLabel),labelRight.classList.add(wp_timeline_cell_1.classNameShowOnHover),containerRight.appendChild(labelRight);var labelFarRight=document.createElement("div");labelFarRight.classList.add(wp_timeline_cell_1.classNameFarRightLabel),labelFarRight.classList.add(wp_timeline_cell_1.classNameShowOnHover),containerRight.appendChild(labelFarRight);var labels=new wp_timeline_cell_1.WorkPackageCellLabels(labelCenter,labelLeft,labelRight,labelFarRight);return this.updateLabels(!1,labels,renderInfo.changeset),labels},TimelineCellRenderer.prototype.typeColor=function(wp){var type=wp.type&&wp.type.state.value;return type&&type.color?type.color:this.fallbackColor},TimelineCellRenderer.prototype.assignDate=function(changeset,attributeName,value){value&&changeset.setValue(attributeName,value.format("YYYY-MM-DD"))},TimelineCellRenderer.prototype.forceCursor=function(cursor){jQuery(".hascontextmenu").css("cursor",cursor),jQuery("."+wp_timeline_1.timelineElementCssClass).css("cursor",cursor)},TimelineCellRenderer.prototype.checkForSpecialDisplaySituations=function(renderInfo,bar){var wp=renderInfo.workPackage;wp.isLeaf||bar.classList.add("-readonly"),this.workPackageTimeline.inHierarchyMode&&wp_table_hierarchy_helpers_1.hasChildrenInTable(wp,this.workPackageTimeline.workPackageTable)&&(bar.classList.add("-clamp-style"),
bar.style.borderStyle="solid",bar.style.borderWidth="2px",bar.style.borderColor=this.typeColor(wp),bar.style.borderBottom="none",bar.style.background="none")},TimelineCellRenderer.prototype.updateLabels=function(activeDragNDrop,labels,changeset){this.TimezoneService||(this.TimezoneService=angular_injector_bridge_functions_1.$injectNow("TimezoneService"));var startStr=changeset.value("startDate"),dueStr=changeset.value("dueDate"),subject=changeset.value("subject"),start=startStr?moment(startStr):null,due=dueStr?moment(dueStr):null;activeDragNDrop?(labels.labelLeft&&start&&(labels.labelLeft.textContent=this.TimezoneService.formattedDate(start)),labels.labelRight&&due&&(labels.labelRight.textContent=this.TimezoneService.formattedDate(due))):(labels.labelLeft&&start&&(labels.labelLeft.textContent=this.TimezoneService.formattedDate(start)),labels.labelRight&&due&&(labels.labelRight.textContent=this.TimezoneService.formattedDate(due)),labels.labelFarRight&&(labels.labelFarRight.textContent=subject)),labels.labelLeft&&(_.isEmpty(labels.labelLeft.textContent)?labels.labelLeft.classList.remove("not-empty"):labels.labelLeft.classList.add("not-empty")),labels.labelRight&&(_.isEmpty(labels.labelRight.textContent)?labels.labelRight.classList.remove("not-empty"):labels.labelRight.classList.add("not-empty"))},TimelineCellRenderer}();exports.TimelineCellRenderer=TimelineCellRenderer}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){function registerWorkPackageMouseHandler(getRenderInfo,workPackageTimeline,wpCacheService,wpTableRefresh,wpNotificationsService,loadingIndicator,cell,bar,labels,renderer,renderInfo){function applyDateValues(renderInfo,dates){renderer.assignDateValues(renderInfo.changeset,labels,dates)}function getCursorOffsetInDaysFromLeft(renderInfo,ev){var leftOffset=workPackageTimeline.getAbsoluteLeftCoordinates(),cursorOffsetLeftInPx=ev.clientX-leftOffset,cursorOffsetLeftInDays=Math.floor(cursorOffsetLeftInPx/renderInfo.viewParams.pixelPerDay);return cursorOffsetLeftInDays}function workPackageMouseDownFn(bar,ev){ev.preventDefault();var classNameActiveDrag="active-drag";if(bar.classList.add(classNameActiveDrag),jBody.on("mouseup.timelinecell",function(){return bar.classList.remove(classNameActiveDrag)}),workPackageTimeline.disableViewParamsCalculation=!0,mouseDownStartDay=getCursorOffsetInDaysFromLeft(renderInfo,ev),renderInfo.workPackage.isLeaf||renderInfo.viewParams.activeSelectionMode){var direction=renderer.onMouseDown(ev,null,renderInfo,labels,bar);jBody.on("mousemove.timelinecell",createMouseMoveFn(direction)),jBody.on("keyup.timelinecell",keyPressFn),jBody.on("mouseup.timelinecell",function(){return deactivate(!1)})}}function createMouseMoveFn(direction){return function(ev){var mev=ev,days=getCursorOffsetInDaysFromLeft(renderInfo,mev)-mouseDownStartDay,offsetDayCurrent=Math.floor(ev.offsetX/renderInfo.viewParams.pixelPerDay),dayUnderCursor=renderInfo.viewParams.dateDisplayStart.clone().add(offsetDayCurrent,"days");dateStates=renderer.onDaysMoved(renderInfo.changeset,dayUnderCursor,days,direction),applyDateValues(renderInfo,dateStates),renderer.update(bar,renderInfo)}}function keyPressFn(ev){var kev=ev;kev.keyCode===keyCodes_enum_1.keyCodes.ESCAPE&&deactivate(!0)}function handleMouseMoveOnEmptyCell(ev){var wp=renderInfo.workPackage;renderer.isEmpty(wp)&&(placeholderForEmptyCell&&placeholderForEmptyCell.remove(),placeholderForEmptyCell=renderer.displayPlaceholderUnderCursor(ev,renderInfo),cell.appendChild(placeholderForEmptyCell),cell.onmouseleave=function(){placeholderForEmptyCell.remove()},cell.onmousedown=function(ev){placeholderForEmptyCell.remove(),bar.style.pointerEvents="none",ev.preventDefault();var offsetDayStart=Math.floor(ev.offsetX/renderInfo.viewParams.pixelPerDay),clickStart=renderInfo.viewParams.dateDisplayStart.clone().add(offsetDayStart,"days"),dateForCreate=clickStart.format("YYYY-MM-DD"),mouseDownType=renderer.onMouseDown(ev,dateForCreate,renderInfo,labels,bar);return renderer.update(bar,renderInfo),"create"===mouseDownType?(deactivate(!1),void ev.preventDefault()):(cell.onmousemove=function(ev){var offsetDayCurrent=Math.floor(ev.offsetX/renderInfo.viewParams.pixelPerDay),dayUnderCursor=renderInfo.viewParams.dateDisplayStart.clone().add(offsetDayCurrent,"days"),widthInDays=offsetDayCurrent-offsetDayStart,moved=renderer.onDaysMoved(renderInfo.changeset,dayUnderCursor,widthInDays,mouseDownType);renderer.assignDateValues(renderInfo.changeset,labels,moved),renderer.update(bar,renderInfo)},cell.onmouseleave=function(){deactivate(!0)},cell.onmouseup=function(){deactivate(!1)},void jBody.on("keyup.timelinecell",keyPressFn))})}function deactivate(cancelled){workPackageTimeline.disableViewParamsCalculation=!1,cell.onmousemove=handleMouseMoveOnEmptyCell,cell.onmousedown=_.noop,cell.onmouseleave=_.noop,cell.onmouseup=_.noop,bar.style.pointerEvents="auto",jBody.off(".timelinecell"),jQuery(".hascontextmenu").css("cursor","context-menu"),jQuery("."+wp_timeline_1.timelineElementCssClass).css("cursor",""),jQuery("."+exports.classNameLeftHandle).css("cursor","w-resize"),jQuery("."+classNameBar).css("cursor","ew-resize"),jQuery("."+exports.classNameRightHandle).css("cursor","e-resize"),mouseDownStartDay=null,dateStates={},cancelled?(renderInfo.changeset.clear(),renderer.update(bar,renderInfo),renderer.onMouseDownEnd(labels,renderInfo.changeset),workPackageTimeline.refreshView()):renderInfo.changeset.empty||saveWorkPackage(renderInfo.changeset).finally(function(){renderInfo.changeset.clear(),renderer.onMouseDownEnd(labels,renderInfo.changeset),workPackageTimeline.refreshView()})}function saveWorkPackage(changeset){return loadingIndicator.table.promise=changeset.save().then(function(wp){wpNotificationsService.showSave(wp),wpTableRefresh.request(!0,"Moved work package "+changeset.workPackage.id+" through timeline")}).catch(function(error){wpNotificationsService.handleErrorResponse(error,renderInfo.workPackage)})}var mouseDownStartDay=null;renderInfo.changeset=new work_package_changeset_1.WorkPackageChangeset(renderInfo.workPackage);var dateStates,placeholderForEmptyCell,jBody=jQuery("body");bar.onmousedown=function(ev){1===ev.which&&workPackageMouseDownFn(bar,ev)},cell.onmousemove=handleMouseMoveOnEmptyCell}Object.defineProperty(exports,"__esModule",{value:!0});var keyCodes_enum_1=__webpack_require__(40),wp_timeline_1=__webpack_require__(24),work_package_changeset_1=__webpack_require__(36),classNameBar="bar";exports.classNameLeftHandle="leftHandle",exports.classNameRightHandle="rightHandle",exports.classNameBarLabel="bar-label",exports.registerWorkPackageMouseHandler=registerWorkPackageMouseHandler}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.timelineStaticElementCssClassname="wp-timeline--static-element";var TimelineStaticElement=function(){function TimelineStaticElement(){}return TimelineStaticElement.prototype.render=function(vp){var elem=document.createElement("div");return elem.id=this.identifier,(_a=elem.classList).add.apply(_a,this.classNames),this.finishElement(elem,vp);var _a},Object.defineProperty(TimelineStaticElement.prototype,"classNames",{get:function(){return[exports.timelineStaticElementCssClassname]},enumerable:!0,configurable:!0}),TimelineStaticElement}();exports.TimelineStaticElement=TimelineStaticElement},function(module,exports,__webpack_require__){"use strict";function getXandYScrollDeltas(ev){var x=ev.deltaX,y=ev.deltaY;return ev.shiftKey&&(x=y,y=0),[x,y]}function getPlattformAgnosticScrollAmount(originalValue){if(0===originalValue)return originalValue;var delta=scrollStep;return originalValue<0&&(delta*=-1),delta}function syncWheelEvent(jev,elementTable,elementTimeline){var scrollTarget=jev.target,ev=jev.originalEvent,_a=getXandYScrollDeltas(ev),deltaX=_a[0],deltaY=_a[1];0!==deltaY&&(ev.preventDefault(),deltaX=getPlattformAgnosticScrollAmount(deltaX),deltaY=getPlattformAgnosticScrollAmount(deltaY),window.requestAnimationFrame(function(){elementTable[0].scrollTop=elementTable[0].scrollTop+deltaY,elementTimeline[0].scrollTop=elementTimeline[0].scrollTop+deltaY,scrollTarget.scrollLeft=scrollTarget.scrollLeft+deltaX}))}function createScrollSync($element){var elTable=jQuery($element).find(exports.selectorTableSide),elTimeline=jQuery($element).find(exports.selectorTimelineSide);return function(timelineVisible){var syncedLeft=!1,syncedRight=!1;timelineVisible?(elTable.on("wheel"+jQueryScrollSyncEventNamespace,function(jev){syncWheelEvent(jev,elTable,elTimeline)}),elTable.on("scroll"+jQueryScrollSyncEventNamespace,function(ev){syncedLeft=!0,syncedRight||(elTimeline[0].scrollTop=ev.target.scrollTop),syncedLeft&&syncedRight&&(syncedLeft=!1,syncedRight=!1)}),elTimeline.on("wheel"+jQueryScrollSyncEventNamespace,function(jev){syncWheelEvent(jev,elTable,elTimeline)}),elTimeline.on("scroll"+jQueryScrollSyncEventNamespace,function(ev){syncedRight=!0,syncedLeft||(elTable[0].scrollTop=ev.target.scrollTop),syncedLeft&&syncedRight&&(syncedLeft=!1,syncedRight=!1)})):elTable.off(jQueryScrollSyncEventNamespace)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.selectorTableSide=".work-packages-tabletimeline--table-side",exports.selectorTimelineSide=".work-packages-tabletimeline--timeline-side";var jQueryScrollSyncEventNamespace=".scroll-sync",scrollStep=15;exports.createScrollSync=createScrollSync},function(module,exports,__webpack_require__){"use strict";var define,map=__webpack_require__(220),isCallable=__webpack_require__(112),validValue=__webpack_require__(19),contains=__webpack_require__(226),call=Function.prototype.call,defineProperty=Object.defineProperty,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,hasOwnProperty=Object.prototype.hasOwnProperty,cacheDesc={configurable:!1,enumerable:!1,writable:!1,value:null};define=function(name,options){var value,dgs,cacheName,desc,resolvable,flat,writable=!1;return options=Object(validValue(options)),cacheName=options.cacheName,flat=options.flat,null==cacheName&&(cacheName=name),delete options.cacheName,value=options.value,resolvable=isCallable(value),delete options.value,dgs={configurable:Boolean(options.configurable),enumerable:Boolean(options.enumerable)},name!==cacheName?dgs.get=function(){return hasOwnProperty.call(this,cacheName)?this[cacheName]:(cacheDesc.value=resolvable?call.call(value,this,options):value,cacheDesc.writable=writable,defineProperty(this,cacheName,cacheDesc),cacheDesc.value=null,desc&&defineProperty(this,name,desc),this[cacheName])}:flat?dgs.get=function self(){var ownDesc,base=this;if(hasOwnProperty.call(this,name)){if(ownDesc=getOwnPropertyDescriptor(this,name),ownDesc.hasOwnProperty("value"))return ownDesc.value;if("function"==typeof ownDesc.get&&ownDesc.get!==self)return ownDesc.get.call(this)}for(;!hasOwnProperty.call(base,name);)base=getPrototypeOf(base);return desc.value=resolvable?call.call(value,base,options):value,defineProperty(base,name,desc),desc.value=null,base[name]}:dgs.get=function self(){var ownDesc;return hasOwnProperty.call(this,name)?(ownDesc=getOwnPropertyDescriptor(this,name),ownDesc.hasOwnProperty("value")?ownDesc.value:"function"==typeof ownDesc.get&&ownDesc.get!==self?ownDesc.get.call(this):value):(desc.value=resolvable?call.call(value,this,options):value,defineProperty(this,name,desc),desc.value=null,this[name])},dgs.set=function(value){dgs.get.call(this),this[cacheName]=value},options.desc?(desc={configurable:contains.call(options.desc,"c"),enumerable:contains.call(options.desc,"e")},cacheName===name?(desc.writable=contains.call(options.desc,"w"),desc.value=null):(writable=contains.call(options.desc,"w"),desc.get=dgs.get,desc.set=dgs.set),delete options.desc):cacheName===name&&(desc={configurable:Boolean(options.configurable),enumerable:Boolean(options.enumerable),writable:Boolean(options.writable),value:null}),delete options.configurable,delete options.enumerable,delete options.writable,dgs},module.exports=function(props){return map(props,function(desc,name){return define(name,desc)})}},function(module,exports,__webpack_require__){"use strict";var sign=__webpack_require__(684),abs=Math.abs,floor=Math.floor;module.exports=function(value){return isNaN(value)?0:(value=Number(value),0!==value&&isFinite(value)?sign(value)*floor(abs(value)):value)}},function(module,exports,__webpack_require__){"use strict";module.exports=function(obj){return"function"==typeof obj}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(75).for("isObservable")},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(1),ScalarObservable=function(_super){function ScalarObservable(value,scheduler){_super.call(this),this.value=value,this.scheduler=scheduler,this._isScalar=!0,scheduler&&(this._isScalar=!1)}return __extends(ScalarObservable,_super),ScalarObservable.create=function(value,scheduler){return new ScalarObservable(value,scheduler)},ScalarObservable.dispatch=function(state){var done=state.done,value=state.value,subscriber=state.subscriber;return done?void subscriber.complete():(subscriber.next(value),void(subscriber.closed||(state.done=!0,this.schedule(state))))},ScalarObservable.prototype._subscribe=function(subscriber){var value=this.value,scheduler=this.scheduler;return scheduler?scheduler.schedule(ScalarObservable.dispatch,0,{done:!1,value:value,subscriber:subscriber}):(subscriber.next(value),void(subscriber.closed||subscriber.complete()))},ScalarObservable}(Observable_1.Observable);exports.ScalarObservable=ScalarObservable},function(module,exports,__webpack_require__){"use strict";function combineLatest(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];var project=null;return"function"==typeof observables[observables.length-1]&&(project=observables.pop()),1===observables.length&&isArray_1.isArray(observables[0])&&(observables=observables[0]),observables.unshift(this),this.lift.call(new ArrayObservable_1.ArrayObservable(observables),new CombineLatestOperator(project))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ArrayObservable_1=__webpack_require__(28),isArray_1=__webpack_require__(27),OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6),none={};exports.combineLatest=combineLatest;var CombineLatestOperator=function(){function CombineLatestOperator(project){this.project=project}return CombineLatestOperator.prototype.call=function(subscriber,source){return source.subscribe(new CombineLatestSubscriber(subscriber,this.project))},CombineLatestOperator}();exports.CombineLatestOperator=CombineLatestOperator;var CombineLatestSubscriber=function(_super){function CombineLatestSubscriber(destination,project){_super.call(this,destination),this.project=project,this.active=0,this.values=[],this.observables=[]}return __extends(CombineLatestSubscriber,_super),CombineLatestSubscriber.prototype._next=function(observable){this.values.push(none),this.observables.push(observable)},CombineLatestSubscriber.prototype._complete=function(){var observables=this.observables,len=observables.length;if(0===len)this.destination.complete();else{this.active=len,this.toRespond=len;for(var i=0;i<len;i++){var observable=observables[i];this.add(subscribeToResult_1.subscribeToResult(this,observable,observable,i))}}},CombineLatestSubscriber.prototype.notifyComplete=function(unused){0===(this.active-=1)&&this.destination.complete()},CombineLatestSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var values=this.values,oldVal=values[outerIndex],toRespond=this.toRespond?oldVal===none?--this.toRespond:this.toRespond:0;values[outerIndex]=innerValue,0===toRespond&&(this.project?this._tryProject(values):this.destination.next(values.slice()))},CombineLatestSubscriber.prototype._tryProject=function(values){var result;try{result=this.project.apply(this,values)}catch(err){return void this.destination.error(err)}this.destination.next(result)},CombineLatestSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.CombineLatestSubscriber=CombineLatestSubscriber},function(module,exports,__webpack_require__){"use strict";function concat(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];return this.lift.call(concatStatic.apply(void 0,[this].concat(observables)))}function concatStatic(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];var scheduler=null,args=observables;return isScheduler_1.isScheduler(args[observables.length-1])&&(scheduler=args.pop()),null===scheduler&&1===observables.length?observables[0]:new ArrayObservable_1.ArrayObservable(observables,scheduler).lift(new mergeAll_1.MergeAllOperator(1))}var isScheduler_1=__webpack_require__(33),ArrayObservable_1=__webpack_require__(28),mergeAll_1=__webpack_require__(80);exports.concat=concat,exports.concatStatic=concatStatic},function(module,exports,__webpack_require__){"use strict";function map(project,thisArg){if("function"!=typeof project)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new MapOperator(project,thisArg))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3);exports.map=map;var MapOperator=function(){function MapOperator(project,thisArg){this.project=project,this.thisArg=thisArg}return MapOperator.prototype.call=function(subscriber,source){return source.subscribe(new MapSubscriber(subscriber,this.project,this.thisArg))},MapOperator}();exports.MapOperator=MapOperator;var MapSubscriber=function(_super){function MapSubscriber(destination,project,thisArg){_super.call(this,destination),this.project=project,this.count=0,this.thisArg=thisArg||this}return __extends(MapSubscriber,_super),MapSubscriber.prototype._next=function(value){var result;try{result=this.project.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}this.destination.next(result)},MapSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function observeOn(scheduler,delay){return void 0===delay&&(delay=0),this.lift(new ObserveOnOperator(scheduler,delay))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),Notification_1=__webpack_require__(53);exports.observeOn=observeOn;var ObserveOnOperator=function(){function ObserveOnOperator(scheduler,delay){void 0===delay&&(delay=0),this.scheduler=scheduler,this.delay=delay}return ObserveOnOperator.prototype.call=function(subscriber,source){return source.subscribe(new ObserveOnSubscriber(subscriber,this.scheduler,this.delay))},ObserveOnOperator}();exports.ObserveOnOperator=ObserveOnOperator;var ObserveOnSubscriber=function(_super){function ObserveOnSubscriber(destination,scheduler,delay){void 0===delay&&(delay=0),_super.call(this,destination),this.scheduler=scheduler,this.delay=delay}return __extends(ObserveOnSubscriber,_super),ObserveOnSubscriber.dispatch=function(arg){var notification=arg.notification,destination=arg.destination,subscription=arg.subscription;notification.observe(destination),subscription&&subscription.unsubscribe()},ObserveOnSubscriber.prototype.scheduleMessage=function(notification){var message=new ObserveOnMessage(notification,this.destination);message.subscription=this.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch,this.delay,message))},ObserveOnSubscriber.prototype._next=function(value){this.scheduleMessage(Notification_1.Notification.createNext(value))},ObserveOnSubscriber.prototype._error=function(err){this.scheduleMessage(Notification_1.Notification.createError(err))},ObserveOnSubscriber.prototype._complete=function(){this.scheduleMessage(Notification_1.Notification.createComplete())},ObserveOnSubscriber}(Subscriber_1.Subscriber);exports.ObserveOnSubscriber=ObserveOnSubscriber;var ObserveOnMessage=function(){function ObserveOnMessage(notification,destination){this.notification=notification,this.destination=destination}return ObserveOnMessage}();exports.ObserveOnMessage=ObserveOnMessage},function(module,exports,__webpack_require__){"use strict";function reduce(accumulator,seed){var hasSeed=!1;return arguments.length>=2&&(hasSeed=!0),this.lift(new ReduceOperator(accumulator,seed,hasSeed))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3);exports.reduce=reduce;var ReduceOperator=function(){function ReduceOperator(accumulator,seed,hasSeed){void 0===hasSeed&&(hasSeed=!1),this.accumulator=accumulator,this.seed=seed,this.hasSeed=hasSeed}return ReduceOperator.prototype.call=function(subscriber,source){return source.subscribe(new ReduceSubscriber(subscriber,this.accumulator,this.seed,this.hasSeed))},ReduceOperator}();exports.ReduceOperator=ReduceOperator;var ReduceSubscriber=function(_super){function ReduceSubscriber(destination,accumulator,seed,hasSeed){_super.call(this,destination),this.accumulator=accumulator,this.hasSeed=hasSeed,this.hasValue=!1,this.acc=seed}return __extends(ReduceSubscriber,_super),ReduceSubscriber.prototype._next=function(value){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(value):(this.acc=value,this.hasValue=!0)},ReduceSubscriber.prototype._tryReduce=function(value){var result;try{result=this.accumulator(this.acc,value)}catch(err){return void this.destination.error(err)}this.acc=result},ReduceSubscriber.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},ReduceSubscriber}(Subscriber_1.Subscriber);exports.ReduceSubscriber=ReduceSubscriber},function(module,exports,__webpack_require__){"use strict";function zipProto(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];return this.lift.call(zipStatic.apply(void 0,[this].concat(observables)))}function zipStatic(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];var project=observables[observables.length-1];return"function"==typeof project&&observables.pop(),new ArrayObservable_1.ArrayObservable(observables).lift(new ZipOperator(project))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ArrayObservable_1=__webpack_require__(28),isArray_1=__webpack_require__(27),Subscriber_1=__webpack_require__(3),OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6),iterator_1=__webpack_require__(56);exports.zipProto=zipProto,exports.zipStatic=zipStatic;var ZipOperator=function(){function ZipOperator(project){this.project=project}return ZipOperator.prototype.call=function(subscriber,source){return source.subscribe(new ZipSubscriber(subscriber,this.project))},ZipOperator}();exports.ZipOperator=ZipOperator;var ZipSubscriber=function(_super){function ZipSubscriber(destination,project,values){void 0===values&&(values=Object.create(null)),_super.call(this,destination),this.iterators=[],this.active=0,this.project="function"==typeof project?project:null,this.values=values}return __extends(ZipSubscriber,_super),ZipSubscriber.prototype._next=function(value){var iterators=this.iterators;isArray_1.isArray(value)?iterators.push(new StaticArrayIterator(value)):"function"==typeof value[iterator_1.$$iterator]?iterators.push(new StaticIterator(value[iterator_1.$$iterator]())):iterators.push(new ZipBufferIterator(this.destination,this,value))},ZipSubscriber.prototype._complete=function(){var iterators=this.iterators,len=iterators.length;this.active=len;for(var i=0;i<len;i++){var iterator=iterators[i];iterator.stillUnsubscribed?this.add(iterator.subscribe(iterator,i)):this.active--}},ZipSubscriber.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},ZipSubscriber.prototype.checkIterators=function(){for(var iterators=this.iterators,len=iterators.length,destination=this.destination,i=0;i<len;i++){var iterator=iterators[i];if("function"==typeof iterator.hasValue&&!iterator.hasValue())return}for(var shouldComplete=!1,args=[],i=0;i<len;i++){var iterator=iterators[i],result=iterator.next();if(iterator.hasCompleted()&&(shouldComplete=!0),result.done)return void destination.complete();args.push(result.value)}this.project?this._tryProject(args):destination.next(args),shouldComplete&&destination.complete()},ZipSubscriber.prototype._tryProject=function(args){var result;try{result=this.project.apply(this,args)}catch(err){return void this.destination.error(err)}this.destination.next(result)},ZipSubscriber}(Subscriber_1.Subscriber);exports.ZipSubscriber=ZipSubscriber;var StaticIterator=function(){function StaticIterator(iterator){this.iterator=iterator,this.nextResult=iterator.next()}return StaticIterator.prototype.hasValue=function(){return!0},StaticIterator.prototype.next=function(){var result=this.nextResult;return this.nextResult=this.iterator.next(),result},StaticIterator.prototype.hasCompleted=function(){var nextResult=this.nextResult;return nextResult&&nextResult.done},StaticIterator}(),StaticArrayIterator=function(){function StaticArrayIterator(array){this.array=array,this.index=0,this.length=0,this.length=array.length}return StaticArrayIterator.prototype[iterator_1.$$iterator]=function(){return this},StaticArrayIterator.prototype.next=function(value){var i=this.index++,array=this.array;return i<this.length?{value:array[i],done:!1}:{value:null,done:!0}},StaticArrayIterator.prototype.hasValue=function(){return this.array.length>this.index},StaticArrayIterator.prototype.hasCompleted=function(){return this.array.length===this.index},StaticArrayIterator}(),ZipBufferIterator=function(_super){function ZipBufferIterator(destination,parent,observable){_super.call(this,destination),this.parent=parent,this.observable=observable,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return __extends(ZipBufferIterator,_super),ZipBufferIterator.prototype[iterator_1.$$iterator]=function(){return this},ZipBufferIterator.prototype.next=function(){var buffer=this.buffer;return 0===buffer.length&&this.isComplete?{value:null,done:!0}:{value:buffer.shift(),done:!1}},ZipBufferIterator.prototype.hasValue=function(){return this.buffer.length>0},ZipBufferIterator.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},ZipBufferIterator.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},ZipBufferIterator.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.buffer.push(innerValue),this.parent.checkIterators()},ZipBufferIterator.prototype.subscribe=function(value,index){return subscribeToResult_1.subscribeToResult(this,this.observable,this,index)},ZipBufferIterator}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function isFunction(x){return"function"==typeof x}exports.isFunction=isFunction},function(module,exports,__webpack_require__){"use strict";function isNumeric(val){return!isArray_1.isArray(val)&&val-parseFloat(val)+1>=0}var isArray_1=__webpack_require__(27);exports.isNumeric=isNumeric},function(module,exports,__webpack_require__){module.exports=__webpack_require__(34)(130)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(34)(131)},,,function(module,exports,__webpack_require__){"use strict";(function(_){function halLinkService(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return $q=args[0],halRequest=args[1],HalLink}Object.defineProperty(exports,"__esModule",{value:!0});var $q,halRequest,angular_modules_1=__webpack_require__(0),HalLink=function(){function HalLink(href,title,method,templated,payload,type,identifier){void 0===href&&(href=null),void 0===title&&(title=""),void 0===method&&(method="get"),void 0===templated&&(templated=!1),void 0===type&&(type="application/json"),this.href=href,this.title=title,this.method=method,this.templated=templated,this.payload=payload,this.type=type,this.identifier=identifier}return HalLink.fromObject=function(link){return new HalLink(link.href,link.title,link.method,link.templated,link.payload,link.type,link.identifier)},HalLink.callable=function(link){return HalLink.fromObject(link).$callable()},HalLink.prototype.$fetch=function(){for(var params=[],_i=0;_i<arguments.length;_i++)params[_i]=arguments[_i];var data=params[0],headers=params[1];return halRequest.request(this.method,this.href,data,headers)},HalLink.prototype.$prepare=function(templateValues){if(!this.templated)throw"The link "+this.href+" is not templated.";var href=_.clone(this.href)||"";return _.each(templateValues,function(value,key){var regexp=new RegExp("{"+key+"}");href=href.replace(regexp,value)}),HalLink.callable({href:href,title:this.title,method:this.method,templated:!1,payload:this.payload,type:this.type,identifier:this.identifier})},HalLink.prototype.$callable=function(){var _this=this,linkFunc=function(){for(var params=[],_i=0;_i<arguments.length;_i++)params[_i]=arguments[_i];return _this.$fetch.apply(_this,params)};return _.extend(linkFunc,{$link:this,href:this.href,title:this.title,method:this.method,templated:this.templated,payload:this.payload,type:this.type,identifier:this.identifier}),linkFunc},HalLink}();exports.HalLink=HalLink,halLinkService.$inject=["$q","halRequest"],angular_modules_1.opApiModule.factory("HalLink",halLinkService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function formResource(){return FormResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var hal_resource_service_1=__webpack_require__(7),angular_modules_1=__webpack_require__(0),FormResource=function(_super){function FormResource(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(FormResource,_super),FormResource}(hal_resource_service_1.HalResource);exports.FormResource=FormResource,angular_modules_1.opApiModule.factory("FormResource",formResource)},function(module,exports,__webpack_require__){"use strict";function schemaDependencyResource(){return SchemaDependencyResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),hal_resource_service_1=__webpack_require__(7),SchemaDependencyResource=function(_super){
function SchemaDependencyResource(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SchemaDependencyResource,_super),SchemaDependencyResource.prototype.forValue=function(value){return this.dependencies[value]},SchemaDependencyResource}(hal_resource_service_1.HalResource);exports.SchemaDependencyResource=SchemaDependencyResource,angular_modules_1.opApiModule.factory("SchemaDependencyResource",schemaDependencyResource)},function(module,exports,__webpack_require__){"use strict";(function(_){function initializeSchemaResource(halResource){function proxyProperties(){_.without(Object.keys(halResource.$source),"_links","_embedded").forEach(function(property){Object.defineProperty(halResource,property,{get:function(){return hal_resource_service_1.HalResource.create(halResource.$source[property])},enumerable:!0,configurable:!0})})}proxyProperties()}function schemaResource(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return states=args[0],SchemaResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var states,hal_resource_service_1=__webpack_require__(7),angular_modules_1=__webpack_require__(0),SchemaResource=function(_super){function SchemaResource(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SchemaResource,_super),Object.defineProperty(SchemaResource.prototype,"state",{get:function(){return states.schemas.get(this.href)},enumerable:!0,configurable:!0}),SchemaResource.prototype.$initialize=function(source){_super.prototype.$initialize.call(this,source),initializeSchemaResource(this)},SchemaResource}(hal_resource_service_1.HalResource);exports.SchemaResource=SchemaResource;var SchemaAttributeObject=function(){function SchemaAttributeObject(){}return SchemaAttributeObject}();exports.SchemaAttributeObject=SchemaAttributeObject,schemaResource.$inject=["states"],angular_modules_1.opApiModule.factory("SchemaResource",schemaResource)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function typeResource(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return states=args[0],halRequest=args[1],v3Path=args[2],TypeResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var states,halRequest,v3Path,angular_modules_1=__webpack_require__(0),hal_resource_service_1=__webpack_require__(7),TypeResource=function(_super){function TypeResource(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(TypeResource,_super),TypeResource.loadAll=function(){var types=states.types,typeUrl=v3Path.types();return halRequest.get(typeUrl).then(function(result){result.elements.forEach(function(value){types.get(value.href).putValue(value)})})},Object.defineProperty(TypeResource.prototype,"state",{get:function(){return states.types.get(this.href)},enumerable:!0,configurable:!0}),TypeResource}(hal_resource_service_1.HalResource);exports.TypeResource=TypeResource,typeResource.$inject=["states","halRequest","v3Path"],angular_modules_1.opApiModule.factory("TypeResource",typeResource)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var PathHelperFunctions;!function(PathHelperFunctions){function removeBasePathFromLink(link){var basePath=window.appBasePath,url=URI(link);return basePath&&"/"+url.segment(0)===basePath?(url.segment(0,""),url.toString()):link}PathHelperFunctions.removeBasePathFromLink=removeBasePathFromLink}(PathHelperFunctions=exports.PathHelperFunctions||(exports.PathHelperFunctions={}))},function(module,exports,__webpack_require__){"use strict";(function(_){function opDirective(directive,config){return void 0===directive&&(directive={}),void 0===config&&(config={}),_.merge(directive,config)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.opDirective=opDirective}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var reactivestates_1=__webpack_require__(26),debug_output_1=__webpack_require__(9),SwitchState=function(){function SwitchState(){this.contextSwitch$=reactivestates_1.input()}return SwitchState.prototype.transition=function(context){this.validTransition(context)&&(debug_output_1.debugLog("Switching table context to "+context),this.contextSwitch$.putValue(context))},SwitchState.prototype.validTransition=function(to){return this.contextSwitch$.value!==to},Object.defineProperty(SwitchState.prototype,"current",{get:function(){return this.contextSwitch$.value},enumerable:!0,configurable:!0}),SwitchState.prototype.reset=function(reason){debug_output_1.debugLog("Resetting table context."),this.contextSwitch$.clear(reason)},SwitchState.prototype.doAndTransition=function(context,callback){var _this=this;this.reset("Clearing before transitioning to "+context);var promise=callback();promise.then(function(){return _this.transition(context)})},SwitchState.prototype.fireOnTransition=function(cb){for(var context=[],_i=1;_i<arguments.length;_i++)context[_i-1]=arguments[_i];return reactivestates_1.IfThen(this.contextSwitch$,function(s){return context.indexOf(s)>-1},cb)},SwitchState.prototype.fireOnStateChange=function(state){for(var _this=this,context=[],_i=1;_i<arguments.length;_i++)context[_i-1]=arguments[_i];return reactivestates_1.derive(state,function($){return $.filter(function(){return _this.contextSwitch$.hasValue()&&context.indexOf(_this.contextSwitch$.value)>-1})})},SwitchState}();exports.SwitchState=SwitchState},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_edit_wiki_textarea_field_module_1=__webpack_require__(100),work_package_changeset_1=__webpack_require__(36),WorkPackageCommentField=function(_super){function WorkPackageCommentField(workPackage,I18n){var _this=_super.call(this,new work_package_changeset_1.WorkPackageChangeset(workPackage),"comment",{name:I18n.t("js.label_comment")})||this;return _this.workPackage=workPackage,_this.I18n=I18n,_this.isBusy=!1,_this.initializeFieldValue(),_this}return __extends(WorkPackageCommentField,_super),Object.defineProperty(WorkPackageCommentField.prototype,"value",{get:function(){return this._value},set:function(val){this._value=val},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageCommentField.prototype,"required",{get:function(){return!0},enumerable:!0,configurable:!0}),WorkPackageCommentField.prototype.initializeFieldValue=function(withText){return withText?(this.rawValue.length>0&&(this.rawValue+="\n"),void(this.rawValue+=withText)):void(this.rawValue="")},WorkPackageCommentField}(wp_edit_wiki_textarea_field_module_1.WikiTextareaEditField);exports.WorkPackageCommentField=WorkPackageCommentField},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var DropModel=function(){function DropModel($location,dataTransfer,workPackage){this.$location=$location,this.dataTransfer=dataTransfer,this.workPackage=workPackage,this.config={imageFileTypes:["jpg","jpeg","gif","png"],maximumAttachmentFileSize:0},this.files=dataTransfer.files,this.filesCount=this.files.length,this.isUpload=this._isUpload(dataTransfer),this.isDelayedUpload=this.workPackage.isNew,this.isWebLink=!this.isUpload,this.webLinkUrl=dataTransfer.getData("URL")}return DropModel.prototype.isWebImage=function(){if(angular.isDefined(this.webLinkUrl)){var ext=this.webLinkUrl.split(".").pop();return this.config.imageFileTypes.indexOf(ext.toLowerCase())>-1}return!1},DropModel.prototype.isAttachmentOfCurrentWp=function(){var _this=this;if(this.isWebLink){if(!(this.webLinkUrl.indexOf(this.$location.host())>-1))return!1;var isAttachment=!1;return this.workPackage.attachments.elements.forEach(function(attachment){if(_this.webLinkUrl.indexOf(attachment.href)>-1)return void(isAttachment=!0)}),isAttachment}return!1},DropModel.prototype.removeHostInformationFromUrl=function(){return this.webLinkUrl.replace(window.location.origin,"")},DropModel.prototype._isUpload=function(dt){if(dt.types&&this.filesCount>0)for(var i=0;i<dt.types.length;i++)if("Files"===dt.types[i])return!0;return!1},DropModel}();exports.DropModel=DropModel},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var wp_attachments_formattable_enums_1=__webpack_require__(61),EditorModel=function(){function EditorModel(textarea,markupModel){this.textarea=textarea,this.markupModel=markupModel,this.contentToInsert="",this.setCaretPosition()}return EditorModel.prototype.insertWebLink=function(url,insertMode){void 0===insertMode&&(insertMode=wp_attachments_formattable_enums_1.InsertMode.LINK),this.contentToInsert=this.markupModel.createMarkup(url,insertMode)},EditorModel.prototype.insertAttachmentLink=function(url,insertMode,addLineBreak){void 0===insertMode&&(insertMode=wp_attachments_formattable_enums_1.InsertMode.ATTACHMENT),this.contentToInsert=addLineBreak?this.contentToInsert+this.markupModel.createMarkup(url,insertMode,addLineBreak):this.markupModel.createMarkup(url,insertMode,addLineBreak)},EditorModel.prototype.setCaretPosition=function(){this.currentCaretPosition=this.textarea[0].selectionStart},EditorModel.prototype.save=function(){var insertPosition=this.normalizeInputAndGetInsertPosition(),currentValue=this.textarea.val(),newValue=currentValue.substring(0,insertPosition)+this.contentToInsert+currentValue.substring(this.currentCaretPosition,currentValue.length);this.textarea.val(newValue).change()},EditorModel.prototype.normalizeInputAndGetInsertPosition=function(){var currentValue=this.textarea.val(),newlineMatch=currentValue.substring(0,this.currentCaretPosition).match(/\n *$/),newlineIndex=newlineMatch&&newlineMatch.index||0,whitespacesBeforeCaret=this.currentCaretPosition-newlineIndex;return whitespacesBeforeCaret>0&&(this.contentToInsert=this.contentToInsert.substring(1,this.contentToInsert.length)),newlineIndex&&newlineIndex+1||this.currentCaretPosition},EditorModel}();exports.EditorModel=EditorModel},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var wp_attachments_formattable_enums_1=__webpack_require__(61),MarkupModel=function(){function MarkupModel(){}return MarkupModel.prototype.createMarkup=function(insertUrl,insertMode,addLineBreak){if(void 0===addLineBreak&&(addLineBreak=!1),angular.isUndefined(insertUrl))return"";var markup=" ";switch(insertMode){case wp_attachments_formattable_enums_1.InsertMode.ATTACHMENT:markup+="attachment:"+insertUrl.split("/").pop();break;case wp_attachments_formattable_enums_1.InsertMode.DELAYED_ATTACHMENT:markup+="attachment:"+insertUrl;break;case wp_attachments_formattable_enums_1.InsertMode.INLINE:markup+="!"+insertUrl+"!";break;case wp_attachments_formattable_enums_1.InsertMode.LINK:markup+=insertUrl}return addLineBreak&&(markup+="\r\n"),markup},MarkupModel}();exports.MarkupModel=MarkupModel},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var PasteModel=function(){function PasteModel(dataTransfer){this.dataTransfer=dataTransfer,this.files=[],this.extractFiles(dataTransfer.files),0===this.files.length&&this.extractItems(dataTransfer.items);for(var i=0;i<this.files.length;i++){var file=this.files[i],date=Date.now().toString(),extension=file.type.split("/")[1],newName=date+"-"+i+"."+extension;file.name&&0!==file.name.indexOf("image.")||(file.customName=newName)}}return PasteModel.prototype.extractFiles=function(items){try{if(!items)return;for(var i=0;i<items.length;i++)items[i].type.indexOf("image")!==-1&&this.files.push(items[i])}catch(e){console.error("Failed to extract files from PasteEvent dataTransfer.files: "+e)}},PasteModel.prototype.extractItems=function(items){try{if(!items)return;for(var i=0;i<items.length;i++)if(items[i].type.indexOf("image")!==-1){var file=items[i].getAsFile();file&&this.files.push(file)}}catch(e){console.error("Failed to extract files from PasteEvent dataTransfer.items"+e)}},PasteModel}();exports.PasteModel=PasteModel},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var SingleAttachmentModel=function(){function SingleAttachmentModel(attachment){this.attachment=attachment,this.imageFileExtensions=["jpeg","jpg","gif","bmp","png"],angular.isDefined(attachment)&&(this.fileName=attachment.customName||attachment.name,this.fileExtension=this.fileName.split(".").pop().toLowerCase(),this.isAnImage=this.imageFileExtensions.indexOf(this.fileExtension)>-1,this.url=angular.isDefined(attachment.downloadLocation)?attachment.downloadLocation.$link.href:"")}return SingleAttachmentModel}();exports.SingleAttachmentModel=SingleAttachmentModel},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4),work_package_changeset_1=__webpack_require__(36),WorkPackageFieldModel=function(){function WorkPackageFieldModel(workPackage,attribute,markupModel){this.workPackage=workPackage,this.attribute=attribute,this.markupModel=markupModel,angular_injector_bridge_functions_1.$injectFields(this,"wpCacheService");var formattable=workPackage[attribute];this.contentToInsert=_.get(formattable,"raw")||""}return WorkPackageFieldModel.prototype.addInitialLineBreak=function(){return this.contentToInsert.length>0?"\r\n":""},WorkPackageFieldModel.prototype.insertAttachmentLink=function(url,insertMode,addLineBreak){this.contentToInsert+=this.addInitialLineBreak()+this.markupModel.createMarkup(url,insertMode,!1)},WorkPackageFieldModel.prototype.insertWebLink=function(url,insertMode){this.contentToInsert+=this.addInitialLineBreak()+this.markupModel.createMarkup(url,insertMode,!1)},WorkPackageFieldModel.prototype.save=function(){var _this=this,value=this.workPackage[this.attribute]||{raw:"",html:""};value.raw=this.contentToInsert;var changeset=new work_package_changeset_1.WorkPackageChangeset(this.workPackage);changeset.setValue(this.attribute,value),changeset.save().then(function(wp){setTimeout(function(){return _this.wpCacheService.require(wp.id,!0)},150)})},WorkPackageFieldModel}();exports.WorkPackageFieldModel=WorkPackageFieldModel}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),angular_rx_utils_1=__webpack_require__(8),WorkPackageCreateController=function(){function WorkPackageCreateController($state,$scope,$q,I18n,successState,wpNotificationsService,states,wpCreate,wpEditing,wpCacheService,v3Path,$location,RootDm){var _this=this;this.$state=$state,this.$scope=$scope,this.$q=$q,this.I18n=I18n,this.successState=successState,this.wpNotificationsService=wpNotificationsService,this.states=states,this.wpCreate=wpCreate,this.wpEditing=wpEditing,this.wpCacheService=wpCacheService,this.v3Path=v3Path,this.$location=$location,this.RootDm=RootDm,this.newWorkPackageFromParams($state.params).then(function(changeset){_this.changeset=changeset,_this.newWorkPackage=changeset.workPackage,_this.wpEditing.updateValue("new",changeset),wpCacheService.updateWorkPackage(changeset.workPackage),$state.params.parent_id&&_this.changeset.setValue("parent",{href:v3Path.wp({wp:$state.params.parent_id})}),$state.params.parent_id&&angular_rx_utils_1.scopedObservable(_this.$scope,wpCacheService.loadWorkPackage($state.params.parent_id).values$()).subscribe(function(parent){_this.parentWorkPackage=parent})}).catch(function(error){"urn:openproject-org:api:v3:errors:MissingPermission"===error.errorIdentifier&&(_this.RootDm.load().then(function(root){if(!root.user){var url=$location.absUrl();$location.path("/login").search({back_url:url});var loginUrl=$location.absUrl();window.location.href=loginUrl}}),_this.wpNotificationsService.handleErrorResponse(error))})}return WorkPackageCreateController.$inject=["$state","$scope","$q","I18n","successState","wpNotificationsService","states","wpCreate","wpEditing","wpCacheService","v3Path","$location","RootDm"],Object.defineProperty(WorkPackageCreateController.prototype,"header",{get:function(){var type=this.changeset.value("type");return type?this.parentWorkPackage?this.I18n.t("js.work_packages.create.header_with_parent",{type:type.name,parent_type:this.parentWorkPackage.type.name,id:this.parentWorkPackage.id}):type?this.I18n.t("js.work_packages.create.header",{type:type.name}):"":this.I18n.t("js.work_packages.create.header_no_type")},enumerable:!0,configurable:!0}),WorkPackageCreateController.prototype.switchToFullscreen=function(){this.$state.go("work-packages.new",this.$state.params)},WorkPackageCreateController.prototype.newWorkPackageFromParams=function(stateParams){var type=parseInt(stateParams.type),changeset=this.wpEditing.state("new").value;if(void 0!==changeset){var changeType=changeset.workPackage.type,hasChanges=!changeset.empty,typeEmpty=!changeType&&!type,typeMatches=changeType&&changeType.idFromLink===type.toString();if(hasChanges&&(typeEmpty||typeMatches))return this.$q.when(changeset)}return this.wpCreate.createNewTypedWorkPackage(stateParams.projectPath,type)},WorkPackageCreateController.prototype.cancelAndBackToList=function(){this.wpEditing.stopEditing(this.newWorkPackage.id),this.$state.go("work-packages.list",this.$state.params)},WorkPackageCreateController}();exports.WorkPackageCreateController=WorkPackageCreateController,angular_modules_1.wpDirectivesModule.controller("WorkPackageCreateController",WorkPackageCreateController)},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_display_field_module_1=__webpack_require__(10),BooleanDisplayField=function(_super){function BooleanDisplayField(resource,name,schema){var _this=_super.call(this,resource,name,schema)||this;return _this.resource=resource,_this.name=name,_this.schema=schema,_this.WorkPackagesHelper=_this.$injector.get("WorkPackagesHelper"),_this}return __extends(BooleanDisplayField,_super),Object.defineProperty(BooleanDisplayField.prototype,"valueString",{get:function(){return this.WorkPackagesHelper.formatValue(this.value,"Boolean")},enumerable:!0,configurable:!0}),Object.defineProperty(BooleanDisplayField.prototype,"placeholder",{get:function(){return this.WorkPackagesHelper.formatValue(!1,"Boolean")},enumerable:!0,configurable:!0}),BooleanDisplayField.prototype.isEmpty=function(){return!1},BooleanDisplayField}(wp_display_field_module_1.DisplayField);exports.BooleanDisplayField=BooleanDisplayField},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_display_field_module_1=__webpack_require__(10),DateDisplayField=function(_super){function DateDisplayField(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(DateDisplayField,_super),Object.defineProperty(DateDisplayField.prototype,"valueString",{get:function(){var WorkPackagesHelper=this.$injector.get("WorkPackagesHelper");return WorkPackagesHelper.formatValue(this.value,"Date")},enumerable:!0,configurable:!0}),DateDisplayField}(wp_display_field_module_1.DisplayField);exports.DateDisplayField=DateDisplayField},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_display_field_module_1=__webpack_require__(10),DateTimeDisplayField=function(_super){function DateTimeDisplayField(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(DateTimeDisplayField,_super),Object.defineProperty(DateTimeDisplayField.prototype,"valueString",{get:function(){var WorkPackagesHelper=this.$injector.get("WorkPackagesHelper");return WorkPackagesHelper.formatValue(this.value,"DateTime")},enumerable:!0,configurable:!0}),DateTimeDisplayField}(wp_display_field_module_1.DisplayField);exports.DateTimeDisplayField=DateTimeDisplayField},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_display_field_module_1=__webpack_require__(10),angular_injector_bridge_functions_1=__webpack_require__(4),FloatDisplayField=function(_super){function FloatDisplayField(resource,name,schema){var _this=_super.call(this,resource,name,schema)||this;return _this.resource=resource,_this.name=name,_this.schema=schema,angular_injector_bridge_functions_1.$injectFields(_this,"$locale"),_this}return __extends(FloatDisplayField,_super),Object.defineProperty(FloatDisplayField.prototype,"valueString",{get:function(){return this.value.toLocaleString(this.$locale.id,{useGrouping:!0,maximumFractionDigits:20})},enumerable:!0,configurable:!0}),FloatDisplayField}(wp_display_field_module_1.DisplayField);exports.FloatDisplayField=FloatDisplayField},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_display_field_module_1=__webpack_require__(10),FormattableDisplayField=function(_super){function FormattableDisplayField(resource,name,schema){var _this=_super.call(this,resource,name,schema)||this;return _this.resource=resource,_this.name=name,_this.schema=schema,_this.ExpressionService=_this.$injector.get("ExpressionService"),_this}return __extends(FormattableDisplayField,_super),FormattableDisplayField.prototype.render=function(element,displayText){angular.element(element).addClass("-multiline"),angular.element(element).addClass("read-value--html");var span=document.createElement("span");span.innerHTML=displayText,element.innerHTML="",element.appendChild(span)},Object.defineProperty(FormattableDisplayField.prototype,"isFormattable",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(FormattableDisplayField.prototype,"value",{get:function(){return this.schema?this.unescape(this.resource[this.name].html):null},enumerable:!0,configurable:!0}),FormattableDisplayField.prototype.unescape=function(html){return html?this.ExpressionService.unescape(html):""},FormattableDisplayField}(wp_display_field_module_1.DisplayField);exports.FormattableDisplayField=FormattableDisplayField},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_display_field_module_1=__webpack_require__(10),ui_state_link_builder_1=__webpack_require__(30),IdDisplayField=function(_super){function IdDisplayField(resource,name,schema){var _this=_super.call(this,resource,name,schema)||this;return _this.resource=resource,_this.name=name,_this.schema=schema,_this.uiStateBuilder=new ui_state_link_builder_1.UiStateLinkBuilder,_this.text={linkTitle:_this.I18n.t("js.work_packages.message_successful_show_in_fullscreen")},_this}return __extends(IdDisplayField,_super),Object.defineProperty(IdDisplayField.prototype,"value",{get:function(){return this.resource.isNew?null:this.resource[this.name]},enumerable:!0,configurable:!0}),IdDisplayField.prototype.render=function(element,displayText){if(this.value){var link=this.uiStateBuilder.linkToShow(this.value,displayText,this.value);element.appendChild(link)}},IdDisplayField.prototype.isEmpty=function(){return!1},IdDisplayField}(wp_display_field_module_1.DisplayField);exports.IdDisplayField=IdDisplayField},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_display_field_module_1=__webpack_require__(10),IntegerDisplayField=function(_super){function IntegerDisplayField(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(IntegerDisplayField,_super),Object.defineProperty(IntegerDisplayField.prototype,"value",{get:function(){return parseInt(this.resource[this.name])},enumerable:!0,configurable:!0}),IntegerDisplayField.prototype.isEmpty=function(){return isNaN(this.value)},IntegerDisplayField}(wp_display_field_module_1.DisplayField);exports.IntegerDisplayField=IntegerDisplayField},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_display_resources_field_module_1=__webpack_require__(96),MultipleLinesStringObjectsDisplayField=function(_super){function MultipleLinesStringObjectsDisplayField(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(MultipleLinesStringObjectsDisplayField,_super),MultipleLinesStringObjectsDisplayField.prototype.render=function(element,displayText){var values=this.value;element.setAttribute("title",displayText),element.textContent=displayText,element.innerHTML="",0===values.length?this.renderEmpty(element):this.renderValues(values,element)},MultipleLinesStringObjectsDisplayField.prototype.renderValues=function(values,element){values.forEach(function(value){var div=document.createElement("div");div.classList.add(wp_display_resources_field_module_1.cssClassCustomOption,"-multiple-lines"),div.setAttribute("title",value),div.textContent=value,element.appendChild(div)})},MultipleLinesStringObjectsDisplayField}(wp_display_resources_field_module_1.ResourcesDisplayField);exports.MultipleLinesStringObjectsDisplayField=MultipleLinesStringObjectsDisplayField},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_display_field_module_1=__webpack_require__(10),ProgressDisplayField=function(_super){function ProgressDisplayField(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ProgressDisplayField,_super),Object.defineProperty(ProgressDisplayField.prototype,"value",{get:function(){return this.schema?this.resource[this.name]||0:null},enumerable:!0,configurable:!0}),ProgressDisplayField.prototype.render=function(element,displayText){var progressInPercent=Math.round(Number(this.value))||0,label=this.I18n.t("js.label_total_progress",{percent:progressInPercent});element.setAttribute("title",displayText),element.innerHTML='\n      <span>\n        <span style="width: 80px" class="progress-bar">\n          <span style="width: '+progressInPercent+'%" class="inner-progress closed"></span>\n          <span style="width: 0%" class="inner-progress done"></span>\n        </span>\n        <span class="progress-bar-legend">'+label+"</span>\n      </span>\n    "},ProgressDisplayField}(wp_display_field_module_1.DisplayField);exports.ProgressDisplayField=ProgressDisplayField},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_display_field_module_1=__webpack_require__(10),ResourceDisplayField=function(_super){function ResourceDisplayField(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ResourceDisplayField,_super),Object.defineProperty(ResourceDisplayField.prototype,"value",{get:function(){return this.schema?this.resource[this.name]&&this.resource[this.name].name:null},enumerable:!0,configurable:!0}),ResourceDisplayField}(wp_display_field_module_1.DisplayField);exports.ResourceDisplayField=ResourceDisplayField},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){
for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_display_duration_field_module_1=__webpack_require__(95),SpentTimeDisplayField=function(_super){function SpentTimeDisplayField(resource,name,schema){var _this=_super.call(this,resource,name,schema)||this;return _this.resource=resource,_this.name=name,_this.schema=schema,_this.template="/components/wp-display/field-types/wp-display-spent-time-field.directive.html",_this.PathHelper=_this.$injector.get("PathHelper"),_this.text={linkTitle:_this.I18n.t("js.work_packages.message_view_spent_time")},_this}return __extends(SpentTimeDisplayField,_super),SpentTimeDisplayField.prototype.render=function(element,displayText){var _this=this;if(this.value){var link=document.createElement("a");link.textContent=displayText,link.setAttribute("title",this.text.linkTitle),this.resource.project&&this.resource.project.$load().then(function(project){var href=URI(_this.PathHelper.projectTimeEntriesPath(project.identifier)).search({work_package_id:_this.resource.id}).toString();link.href=href}),element.innerHTML="",element.appendChild(link)}},SpentTimeDisplayField}(wp_display_duration_field_module_1.DurationDisplayField);exports.SpentTimeDisplayField=SpentTimeDisplayField},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_display_field_module_1=__webpack_require__(10),TextDisplayField=function(_super){function TextDisplayField(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(TextDisplayField,_super),TextDisplayField}(wp_display_field_module_1.DisplayField);exports.TextDisplayField=TextDisplayField},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_display_field_module_1=__webpack_require__(10),ui_state_link_builder_1=__webpack_require__(30),WorkPackageDisplayField=function(_super){function WorkPackageDisplayField(resource,name,schema){var _this=_super.call(this,resource,name,schema)||this;return _this.resource=resource,_this.name=name,_this.schema=schema,_this.uiStateBuilder=new ui_state_link_builder_1.UiStateLinkBuilder,_this.text={linkTitle:_this.I18n.t("js.work_packages.message_successful_show_in_fullscreen")},_this}return __extends(WorkPackageDisplayField,_super),WorkPackageDisplayField.prototype.render=function(element,displayText){if(this.value){var link=this.uiStateBuilder.linkToShow(this.wpId,this.text.linkTitle,this.valueString);element.innerHTML="",element.appendChild(link)}},Object.defineProperty(WorkPackageDisplayField.prototype,"value",{get:function(){return this.resource[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageDisplayField.prototype,"wpId",{get:function(){return this.value.$loaded?this.value.id:this.value.href.match(/(\d+)$/)[0]},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageDisplayField.prototype,"writable",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageDisplayField.prototype,"valueString",{get:function(){return"#"+this.wpId},enumerable:!0,configurable:!0}),WorkPackageDisplayField.prototype.isEmpty=function(){return!this.value},Object.defineProperty(WorkPackageDisplayField.prototype,"unknownAttribute",{get:function(){return!1},enumerable:!0,configurable:!0}),WorkPackageDisplayField}(wp_display_field_module_1.DisplayField);exports.WorkPackageDisplayField=WorkPackageDisplayField},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=y[2&op[0]?"return":op[0]?"throw":"next"])&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[0,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g};Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4),work_package_edit_field_handler_1=__webpack_require__(98),SingleViewEditContext=function(){function SingleViewEditContext(fieldGroup){this.fieldGroup=fieldGroup,angular_injector_bridge_functions_1.$injectFields(this,"wpCacheService","states","wpTableColumns","wpTableRefresh","FocusHelper","$q","$timeout","templateRenderer","$state","wpNotificationsService","wpTableSelection")}return SingleViewEditContext.prototype.activateField=function(form,field,fieldName,errors){return __awaiter(this,void 0,void 0,function(){var ctrl,container,fieldHandler,promise,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.fieldCtrl(field.name)];case 1:return ctrl=_a.sent(),container=ctrl.editContainer,fieldHandler=new work_package_edit_field_handler_1.WorkPackageEditFieldHandler(form,fieldName,field,container,errors),ctrl.displayContainer.hide(),fieldHandler.$scope=this.templateRenderer.createRenderScope(),promise=this.templateRenderer.renderIsolated(container,fieldHandler.$scope,"/components/wp-edit-form/wp-edit-form.template.html",{vm:fieldHandler}),[2,new Promise(function(resolve,reject){promise.then(function(){ctrl.editContainer.show(),_this.$timeout(function(){resolve(fieldHandler)})}).catch(reject)})]}})})},SingleViewEditContext.prototype.refreshField=function(field,handler){handler.$scope.$evalAsync(function(){return handler.field=field})},SingleViewEditContext.prototype.reset=function(workPackage,fieldName,focus){return void 0===focus&&(focus=!1),__awaiter(this,void 0,void 0,function(){var ctrl;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.fieldCtrl(fieldName)];case 1:return ctrl=_a.sent(),ctrl.reset(workPackage),ctrl.deactivate(focus),[2]}})})},SingleViewEditContext.prototype.requireVisible=function(fieldName){var _this=this,deferred=this.$q.defer(),interval=setInterval(function(){var field=_this.fieldGroup.fields[fieldName];void 0!==field&&(clearInterval(interval),deferred.resolve())},50);return deferred.promise},SingleViewEditContext.prototype.firstField=function(names){return"subject"},SingleViewEditContext.prototype.fieldCtrl=function(name){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.fieldGroup.waitForField(name)]})})},SingleViewEditContext}();exports.SingleViewEditContext=SingleViewEditContext},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_edit_field_module_1=__webpack_require__(21),BooleanEditField=function(_super){function BooleanEditField(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="/components/wp-edit/field-types/wp-edit-boolean-field.directive.html",_this}return __extends(BooleanEditField,_super),BooleanEditField}(wp_edit_field_module_1.EditField);exports.BooleanEditField=BooleanEditField},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_edit_field_module_1=__webpack_require__(21),DateEditField=function(_super){function DateEditField(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="/components/wp-edit/field-types/wp-edit-date-field.directive.html",_this}return __extends(DateEditField,_super),DateEditField}(wp_edit_field_module_1.EditField);exports.DateEditField=DateEditField},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_edit_field_module_1=__webpack_require__(21),DurationEditField=function(_super){function DurationEditField(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="/components/wp-edit/field-types/wp-edit-duration-field.directive.html",_this}return __extends(DurationEditField,_super),DurationEditField.prototype.parseValue=function(val){return val.toISOString()},DurationEditField}(wp_edit_field_module_1.EditField);exports.DurationEditField=DurationEditField},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_edit_field_module_1=__webpack_require__(21),FloatEditField=function(_super){function FloatEditField(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="/components/wp-edit/field-types/wp-edit-float-field.directive.html",_this}return __extends(FloatEditField,_super),FloatEditField}(wp_edit_field_module_1.EditField);exports.FloatEditField=FloatEditField},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_edit_field_module_1=__webpack_require__(21),IntegerEditField=function(_super){function IntegerEditField(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="/components/wp-edit/field-types/wp-edit-integer-field.directive.html",_this}return __extends(IntegerEditField,_super),IntegerEditField}(wp_edit_field_module_1.EditField);exports.IntegerEditField=IntegerEditField},function(module,exports,__webpack_require__){"use strict";(function(_){var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_edit_field_module_1=__webpack_require__(21),angular_injector_bridge_functions_1=__webpack_require__(4),MultiSelectEditField=function(_super){function MultiSelectEditField(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="/components/wp-edit/field-types/wp-edit-multi-select-field.directive.html",_this.currentValueInvalid=!1,_this}return __extends(MultiSelectEditField,_super),MultiSelectEditField.prototype.initialize=function(){var _this=this;angular_injector_bridge_functions_1.$injectFields(this,"I18n"),this.isMultiselect=this.isValueMulti(),this.text={requiredPlaceholder:this.I18n.t("js.placeholders.selection"),placeholder:this.I18n.t("js.placeholders.default"),save:this.I18n.t("js.inplace.button_save",{attribute:this.schema.name}),cancel:this.I18n.t("js.inplace.button_cancel",{attribute:this.schema.name})},angular.isArray(this.schema.allowedValues)?this.setValues(this.schema.allowedValues):this.schema.allowedValues?this.schema.allowedValues.$load().then(function(values){values.count>0&&"Project"===values.elements[0]._type?_this.setValues(values.elements,!0):_this.setValues(values.elements)}):this.setValues([])},Object.defineProperty(MultiSelectEditField.prototype,"value",{get:function(){var val=this.changeset.value(this.name);return!Array.isArray(val)||this.isMultiselect?val:val[0]},set:function(val){this.changeset.setValue(this.name,this.parseValue(val))},enumerable:!0,configurable:!0}),MultiSelectEditField.prototype.parseValue=function(val){return Array.isArray(val)?val:[val]},MultiSelectEditField.prototype.isValueMulti=function(){var val=this.changeset.value(this.name);return val&&val.length>1},MultiSelectEditField.prototype.toggleMultiselect=function(){this.isMultiselect=!this.isMultiselect},MultiSelectEditField.prototype.setValues=function(availableValues,sortValuesByName){void 0===sortValuesByName&&(sortValuesByName=!1),sortValuesByName&&availableValues.sort(function(a,b){var nameA=a.name.toLowerCase(),nameB=b.name.toLowerCase();return nameA<nameB?-1:nameA>nameB?1:0}),this.options=availableValues,this.addEmptyOption(),this.checkCurrentValueValidity()},MultiSelectEditField.prototype.checkCurrentValueValidity=function(){var _this=this;this.value?this.currentValueInvalid=!((!this.isMultiselect||_.some(this.value,function(value){return _.some(_this.options,function(option){return option.href===value.href})}))&&(this.isMultiselect||_.some(this.options,function(option){return option.href===_this.value.href}))):this.currentValueInvalid=!!this.schema.required},MultiSelectEditField.prototype.addEmptyOption=function(){if(!this.schema.required){var emptyOption=_.find(this.options,{name:this.text.placeholder});void 0===emptyOption&&this.options.unshift({name:this.text.placeholder,href:null})}},MultiSelectEditField}(wp_edit_field_module_1.EditField);exports.MultiSelectEditField=MultiSelectEditField}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_edit_field_module_1=__webpack_require__(21),SelectEditField=function(_super){function SelectEditField(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="/components/wp-edit/field-types/wp-edit-select-field.directive.html",_this}return __extends(SelectEditField,_super),SelectEditField.prototype.initialize=function(){var _this=this,I18n=this.$injector.get("I18n");this.text={requiredPlaceholder:I18n.t("js.placeholders.selection"),placeholder:I18n.t("js.placeholders.default")},angular.isArray(this.schema.allowedValues)?this.setValues(this.schema.allowedValues):this.schema.allowedValues?this.schema.allowedValues.$load().then(function(values){values.count>0&&"Project"===values.elements[0]._type?_this.setValues(values.elements,!0):_this.setValues(values.elements)}):this.setValues([])},Object.defineProperty(SelectEditField.prototype,"selectedOption",{get:function(){return this.value},set:function(val){val&&""===val.href&&(val.href=null),this.value=val},enumerable:!0,configurable:!0}),SelectEditField.prototype.setValues=function(availableValues,sortValuesByName){void 0===sortValuesByName&&(sortValuesByName=!1),sortValuesByName&&availableValues.sort(function(a,b){var nameA=a.name.toLowerCase(),nameB=b.name.toLowerCase();return nameA<nameB?-1:nameA>nameB?1:0}),this.options=availableValues,this.addEmptyOption()},Object.defineProperty(SelectEditField.prototype,"currentValueInvalid",{get:function(){var _this=this;return!!(this.value&&!_.some(this.options,function(option){return option.href===_this.value.href})||!this.value&&this.schema.required)},enumerable:!0,configurable:!0}),SelectEditField.prototype.addEmptyOption=function(){if(!this.schema.required){var emptyOption=_.find(this.options,{name:this.text.placeholder});void 0===emptyOption&&this.options.unshift({name:this.text.placeholder,href:""})}},SelectEditField}(wp_edit_field_module_1.EditField);exports.SelectEditField=SelectEditField}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_edit_text_field_module_1=__webpack_require__(99),WorkPackageEditField=function(_super){function WorkPackageEditField(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(WorkPackageEditField,_super),Object.defineProperty(WorkPackageEditField.prototype,"writable",{get:function(){return!1},enumerable:!0,configurable:!0}),WorkPackageEditField}(wp_edit_text_field_module_1.TextEditField);exports.WorkPackageEditField=WorkPackageEditField},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4),ui_state_link_builder_1=__webpack_require__(30),op_icon_builder_1=__webpack_require__(488);exports.detailsLinkTdClass="wp-table--details-column",exports.detailsLinkClassName="wp-table--details-link";var DetailsLinkBuilder=function(){function DetailsLinkBuilder(){angular_injector_bridge_functions_1.injectorBridge(this),this.text={button:this.I18n.t("js.button_open_details")},this.uiStatebuilder=new ui_state_link_builder_1.UiStateLinkBuilder}return DetailsLinkBuilder.prototype.build=function(workPackage){var td=document.createElement("td");td.classList.add(exports.detailsLinkTdClass,"hide-when-print");var detailsLink=this.uiStatebuilder.linkToDetails(workPackage.id,this.text.button,"");return detailsLink.classList.add(exports.detailsLinkClassName,"hidden-for-sighted"),detailsLink.appendChild(op_icon_builder_1.opIconElement("icon","icon-info2")),td.appendChild(detailsLink),td},DetailsLinkBuilder}();exports.DetailsLinkBuilder=DetailsLinkBuilder,DetailsLinkBuilder.$inject=["I18n"]},function(module,exports,__webpack_require__){"use strict";(function(_){var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var single_row_builder_1=__webpack_require__(11),grouped_rows_builder_1=__webpack_require__(63),group_header_builder_1=__webpack_require__(101),grouped_rows_helpers_1=__webpack_require__(64),plain_render_pass_1=__webpack_require__(102),GroupedRenderPass=function(_super){function GroupedRenderPass(workPackageTable,groups,headerBuilder,colspan){var _this=_super.call(this,workPackageTable,new single_row_builder_1.SingleRowBuilder(workPackageTable))||this;return _this.workPackageTable=workPackageTable,_this.groups=groups,_this.headerBuilder=headerBuilder,_this.colspan=colspan,_this}return __extends(GroupedRenderPass,_super),GroupedRenderPass.prototype.doRender=function(){var _this=this,currentGroup=null;this.workPackageTable.originalRows.forEach(function(wpId){var row=_this.workPackageTable.originalRowIndex[wpId],nextGroup=_this.matchingGroup(row.object);if(nextGroup&&currentGroup!==nextGroup){var groupClass=group_header_builder_1.groupClassNameFor(nextGroup),rowElement=_this.headerBuilder.buildGroupRow(nextGroup,_this.colspan);_this.appendNonWorkPackageRow(rowElement,groupClass),currentGroup=nextGroup}row.group=currentGroup,_this.buildSingleRow(row)})},GroupedRenderPass.prototype.matchingGroup=function(workPackage){var _this=this;return _.find(this.groups,function(group){var property=workPackage[grouped_rows_helpers_1.groupByProperty(group)];if(void 0===property&&(property=null),_.isArray(property))return _this.matchesMultiValue(property,group);if(property&&property.$href)return!!_.find(group._links.valueLink,function(l){return property.$href===l.href});var value=""===group.value?null:group.value;return value===property})},GroupedRenderPass.prototype.matchesMultiValue=function(property,group){if(property.length!==group.href.length)return!1;var joinedOrderedHrefs=function(objects){return _.map(objects,function(object){return object.href}).sort().join(", ")};return _.isEqualWith(property,group.href,function(a,b){return joinedOrderedHrefs(a)===joinedOrderedHrefs(b)})},GroupedRenderPass.prototype.buildSingleRow=function(row){var group=row.group,hidden=group.collapsed,additionalClasses=[],_a=this.rowBuilder.buildEmpty(row.object),tr=_a[0];_a[1];additionalClasses.push(grouped_rows_helpers_1.groupedRowClassName(group.index)),hidden&&additionalClasses.push(grouped_rows_builder_1.collapsedRowClass),row.element=tr,(_b=tr.classList).add.apply(_b,additionalClasses),this.appendRow(row.object,tr,additionalClasses,hidden);var _b},GroupedRenderPass}(plain_render_pass_1.PlainRenderPass);exports.GroupedRenderPass=GroupedRenderPass}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var single_hierarchy_row_builder_1=__webpack_require__(65),wp_table_hierarchy_helpers_1=__webpack_require__(50),primary_render_pass_1=__webpack_require__(103),angular_injector_bridge_functions_1=__webpack_require__(4),HierarchyRenderPass=function(_super){function HierarchyRenderPass(workPackageTable,rowBuilder){var _this=_super.call(this,workPackageTable,rowBuilder)||this;return _this.workPackageTable=workPackageTable,_this.rowBuilder=rowBuilder,angular_injector_bridge_functions_1.$injectFields(_this,"states"),_this}return __extends(HierarchyRenderPass,_super),HierarchyRenderPass.prototype.prepare=function(){_super.prototype.prepare.call(this),this.hierarchies=this.states.table.hierarchies.value,this.rendered={},this.additionalParents={},this.deferred={}},HierarchyRenderPass.prototype.doRender=function(){var _this=this;this.workPackageTable.originalRows.forEach(function(wpId){var row=_this.workPackageTable.originalRowIndex[wpId],workPackage=row.object;if(!_this.deferInsertion(workPackage)){if(workPackage.ancestors.length)_this.buildWithHierarchy(row);else{var _a=_this.rowBuilder.buildEmpty(workPackage),tr=_a[0],hidden=_a[1];row.element=tr,_this.tableBody.appendChild(tr),_this.markRendered(workPackage,hidden)}_this.renderAllDeferredChildren(workPackage)}})},HierarchyRenderPass.prototype.deferInsertion=function(workPackage){var parent=workPackage.parent;if(!parent)return!1;if(void 0===this.workPackageTable.originalRowIndex[parent.id]||this.rendered[parent.id])return!1;var elements=this.deferred[parent.id]||[];return this.deferred[parent.id]=elements.concat([workPackage]),!0},HierarchyRenderPass.prototype.renderAllDeferredChildren=function(workPackage){var _this=this,wpId=workPackage.id.toString(),deferredChildren=this.deferred[wpId]||[];deferredChildren.forEach(function(child){var row=_this.workPackageTable.originalRowIndex[child.id];_this.insertUnderParent(row,child.parent),_this.renderAllDeferredChildren(child)})},HierarchyRenderPass.prototype.buildWithHierarchy=function(row){var _this=this,ancestors=row.object.ancestors,ancestorGroups=[];ancestors.forEach(function(el,index){var ancestor=_this.states.workPackages.get(el.id).value;if(!_this.rendered[ancestor.id]){var _a=_this.rowBuilder.buildAncestorRow(ancestor,ancestorGroups,index),ancestorRow=_a[0],hidden=_a[1];if(0===index)_this.tableBody.appendChild(ancestorRow),_this.markRendered(ancestor,hidden,!0);else{var parent_1=ancestors[index-1];_this.insertAtExistingHierarchy(ancestor,ancestorRow,parent_1,hidden,!0)}_this.additionalParents[ancestor.id]=ancestor}ancestorGroups.push(wp_table_hierarchy_helpers_1.hierarchyGroupClass(ancestor.id)),ancestors.slice(0,index).forEach(function(previousAncestor){ancestorGroups.push(wp_table_hierarchy_helpers_1.hierarchyGroupClass(previousAncestor.id))})});var parent=_.last(ancestors);this.insertUnderParent(row,parent)},HierarchyRenderPass.prototype.insertUnderParent=function(row,parent){var _a=this.rowBuilder.buildEmpty(row.object),tr=_a[0],hidden=_a[1];row.element=tr,this.insertAtExistingHierarchy(row.object,tr,parent,hidden,!1)},HierarchyRenderPass.prototype.markRendered=function(workPackage,hidden,isAncestor){void 0===hidden&&(hidden=!1),void 0===isAncestor&&(isAncestor=!1),this.rendered[workPackage.id]=!0,this.renderedOrder.push(this.buildRenderInfo(workPackage,hidden,isAncestor))},HierarchyRenderPass.prototype.ancestorClasses=function(workPackage){var _this=this,rowClasses=[wp_table_hierarchy_helpers_1.hierarchyRootClass(workPackage.id)];return _.isArray(workPackage.ancestors)&&workPackage.ancestors.forEach(function(ancestor){rowClasses.push(wp_table_hierarchy_helpers_1.hierarchyGroupClass(ancestor.id)),_this.hierarchies.collapsed[ancestor.id]&&rowClasses.push(wp_table_hierarchy_helpers_1.collapsedGroupClass(ancestor.id))}),rowClasses},HierarchyRenderPass.prototype.insertAtExistingHierarchy=function(workPackage,el,parent,hidden,isAncestor){var hierarchyRoot=".__hierarchy-root-"+parent.id,hierarchyGroup=".__hierarchy-group-"+parent.id;this.spliceRow(el,hierarchyRoot+","+hierarchyGroup,this.buildRenderInfo(workPackage,hidden,isAncestor)),this.rendered[workPackage.id]=!0},HierarchyRenderPass.prototype.buildRenderInfo=function(workPackage,hidden,isAncestor){var info={workPackage:workPackage,renderType:"primary",hidden:hidden};return isAncestor?(info.additionalClasses=[single_hierarchy_row_builder_1.additionalHierarchyRowClassName].concat(this.ancestorClasses(workPackage)),info.classIdentifier=wp_table_hierarchy_helpers_1.ancestorClassIdentifier(workPackage.id)):(info.additionalClasses=this.ancestorClasses(workPackage),info.classIdentifier=this.rowBuilder.classIdentifier(workPackage)),info},HierarchyRenderPass}(primary_render_pass_1.PrimaryRenderPass);exports.HierarchyRenderPass=HierarchyRenderPass}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4),single_hierarchy_row_builder_1=__webpack_require__(65),hierarchy_render_pass_1=__webpack_require__(167),rows_builder_1=__webpack_require__(66),HierarchyRowsBuilder=function(_super){function HierarchyRowsBuilder(workPackageTable){var _this=_super.call(this,workPackageTable)||this;return _this.workPackageTable=workPackageTable,angular_injector_bridge_functions_1.injectorBridge(_this),_this.rowBuilder=new single_hierarchy_row_builder_1.SingleHierarchyRowBuilder(_this.workPackageTable),_this}return __extends(HierarchyRowsBuilder,_super),HierarchyRowsBuilder.prototype.isApplicable=function(_table){return this.wpTableHierarchies.isEnabled},HierarchyRowsBuilder.prototype.buildRows=function(){return new hierarchy_render_pass_1.HierarchyRenderPass(this.workPackageTable,this.rowBuilder).render()},HierarchyRowsBuilder}(rows_builder_1.RowsBuilder);exports.HierarchyRowsBuilder=HierarchyRowsBuilder,HierarchyRowsBuilder.$inject=["wpTableColumns","wpTableHierarchies","states","I18n"]},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var rows_builder_1=__webpack_require__(66),angular_injector_bridge_functions_1=__webpack_require__(4),plain_render_pass_1=__webpack_require__(102),single_row_builder_1=__webpack_require__(11),PlainRowsBuilder=function(_super){function PlainRowsBuilder(workPackageTable){var _this=_super.call(this,workPackageTable)||this;return angular_injector_bridge_functions_1.injectorBridge(_this),_this.rowBuilder=new single_row_builder_1.SingleRowBuilder(_this.workPackageTable),_this}return __extends(PlainRowsBuilder,_super),PlainRowsBuilder.prototype.buildRows=function(){return new plain_render_pass_1.PlainRenderPass(this.workPackageTable,this.rowBuilder).render();
},PlainRowsBuilder}(rows_builder_1.RowsBuilder);exports.PlainRowsBuilder=PlainRowsBuilder,PlainRowsBuilder.$inject=["states","I18n"]},function(module,exports,__webpack_require__){"use strict";function relationGroupClass(workPackageId){return"__relations-expanded-from-"+workPackageId}function relationIdentifier(targetId,workPackageId){return"wp-relation-row-"+workPackageId+"-to-"+targetId}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var single_row_builder_1=__webpack_require__(11),query_column_1=__webpack_require__(51),angular_injector_bridge_functions_1=__webpack_require__(4),cell_builder_1=__webpack_require__(37);exports.relationGroupClass=relationGroupClass,exports.relationIdentifier=relationIdentifier,exports.relationCellClassName="wp-table--relation-cell-td";var RelationRowBuilder=function(_super){function RelationRowBuilder(workPackageTable){var _this=_super.call(this,workPackageTable)||this;return _this.workPackageTable=workPackageTable,angular_injector_bridge_functions_1.$injectFields(_this,"I18n","states"),_this}return __extends(RelationRowBuilder,_super),RelationRowBuilder.prototype.buildCell=function(workPackage,column){return query_column_1.isRelationColumn(column)?this.emptyRelationCell(column):_super.prototype.buildCell.call(this,workPackage,column)},RelationRowBuilder.prototype.buildEmptyRelationRow=function(from,relation,type){var denormalized=relation.denormalized(from),to=this.states.workPackages.get(denormalized.targetId).value,row=this.createEmptyRelationRow(from,to),_a=_super.prototype.buildEmptyRow.call(this,to,row),tr=_a[0];_a[1];return[tr,to]},RelationRowBuilder.prototype.createEmptyRelationRow=function(from,to){var identifier=this.relationClassIdentifier(from,to),tr=document.createElement("tr");return tr.dataset.workPackageId=to.id,tr.dataset.classIdentifier=identifier,tr.classList.add(single_row_builder_1.commonRowClassName,single_row_builder_1.tableRowClassName,"issue","wp-table--relations-aditional-row",identifier,identifier+"-table",relationGroupClass(from.id)),tr},RelationRowBuilder.prototype.relationClassIdentifier=function(from,to){return relationIdentifier(to.id,from.id)},RelationRowBuilder.prototype.appendRelationLabel=function(jRow,from,relation,columnId,type){var denormalized=relation.denormalized(from),typeLabel="";if("toType"===type&&(typeLabel=this.I18n.t("js.relation_labels."+denormalized.reverseRelationType)),"ofType"===type){var wp=this.states.workPackages.get(denormalized.target.id).value;typeLabel=wp.type.name}var relationLabel=document.createElement("span");relationLabel.classList.add("relation-row--type-label"),relationLabel.textContent=typeLabel;document.createTextNode(denormalized.target.name);jRow.find("."+exports.relationCellClassName).empty(),jRow.find("."+exports.relationCellClassName+"."+columnId).append(relationLabel)},RelationRowBuilder.prototype.emptyRelationCell=function(column){var cell=document.createElement("td");return cell.classList.add(exports.relationCellClassName,cell_builder_1.wpCellTdClassName,column.id),cell},RelationRowBuilder}(single_row_builder_1.SingleRowBuilder);exports.RelationRowBuilder=RelationRowBuilder},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4),relation_row_builder_1=__webpack_require__(170),RelationsRenderPass=function(){function RelationsRenderPass(table,tablePass){this.table=table,this.tablePass=tablePass,angular_injector_bridge_functions_1.$injectFields(this,"wpRelations","wpTableColumns","wpTableRelationColumns"),this.relationRowBuilder=new relation_row_builder_1.RelationRowBuilder(table)}return RelationsRenderPass.prototype.render=function(){var _this=this;if(this.isApplicable){var rendered=_.clone(this.tablePass.renderedOrder);rendered.forEach(function(row,position){if(row.workPackage){var workPackage=row.workPackage,fromId=workPackage.id,state=_this.wpRelations.state(fromId);state.hasValue()&&0!==_.size(state.value)&&_this.wpTableRelationColumns.relationsToExtendFor(workPackage,state.value,function(relation,column,type){var _a=_this.relationRowBuilder.buildEmptyRelationRow(workPackage,relation,type),relationRow=_a[0],target=_a[1];(_b=relationRow.classList).add.apply(_b,row.additionalClasses),_this.relationRowBuilder.appendRelationLabel(jQuery(relationRow),workPackage,relation,column.id,type),_this.tablePass.spliceRow(relationRow,"."+_this.relationRowBuilder.classIdentifier(workPackage)+",."+relation_row_builder_1.relationGroupClass(fromId),{classIdentifier:_this.relationRowBuilder.relationClassIdentifier(workPackage,target),additionalClasses:row.additionalClasses.concat(["wp-table--relations-aditional-row"]),workPackage:target,belongsTo:workPackage,renderType:"relations",hidden:row.hidden,data:{relation:relation,columnId:column.id,relationType:type}});var _b})}})}},RelationsRenderPass.prototype.refreshRelationRow=function(renderedRow,workPackage,changeset,oldRow){var newRow=this.relationRowBuilder.refreshRow(workPackage,changeset,oldRow);return this.relationRowBuilder.appendRelationLabel(newRow,renderedRow.belongsTo,renderedRow.data.relation,renderedRow.data.columnId,renderedRow.data.relationType),newRow},Object.defineProperty(RelationsRenderPass.prototype,"isApplicable",{get:function(){return this.wpTableColumns.hasRelationColumns()},enumerable:!0,configurable:!0}),RelationsRenderPass}();exports.RelationsRenderPass=RelationsRenderPass}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var timeline_row_builder_1=__webpack_require__(67),TimelineRenderPass=function(){function TimelineRenderPass(table,tablePass){this.table=table,this.tablePass=tablePass}return TimelineRenderPass.prototype.render=function(){var _this=this;this.timelineBody=document.createDocumentFragment(),this.timelineBuilder=new timeline_row_builder_1.TimelineRowBuilder(this.table),this.tablePass.renderedOrder.forEach(function(row){var wpId=row.workPackage?row.workPackage.id:null,secondary=_this.timelineBuilder.build(wpId);(_a=secondary.classList).add.apply(_a,[row.classIdentifier,row.classIdentifier+"-timeline"].concat(row.additionalClasses)),_this.timelineBody.appendChild(secondary);var _a})},TimelineRenderPass}();exports.TimelineRenderPass=TimelineRenderPass},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var debug_output_1=__webpack_require__(9),angular_injector_bridge_functions_1=__webpack_require__(4),single_row_builder_1=__webpack_require__(11),click_or_enter_handler_1=__webpack_require__(49),display_field_renderer_1=__webpack_require__(62),set_click_position_1=__webpack_require__(91),EditCellHandler=function(_super){function EditCellHandler(table){var _this=_super.call(this)||this;return angular_injector_bridge_functions_1.$injectFields(_this,"states","wpEditing"),_this}return __extends(EditCellHandler,_super),Object.defineProperty(EditCellHandler.prototype,"EVENT",{get:function(){return"click.table.cell, keydown.table.cell"},enumerable:!0,configurable:!0}),Object.defineProperty(EditCellHandler.prototype,"SELECTOR",{get:function(){return"."+display_field_renderer_1.cellClassName+"."+display_field_renderer_1.editableClassName},enumerable:!0,configurable:!0}),EditCellHandler.prototype.eventScope=function(table){return jQuery(table.container)},EditCellHandler.prototype.processEvent=function(table,evt){debug_output_1.debugLog("Starting editing on cell: ",evt.target),evt.preventDefault();var target=jQuery(evt.target).closest("."+display_field_renderer_1.cellClassName),fieldName=target.data("fieldName");if(!fieldName)return debug_output_1.debugLog("Click handled by cell not a field? ",evt.target),!0;var rowElement=target.closest("."+single_row_builder_1.tableRowClassName),workPackageId=rowElement.data("workPackageId"),workPackage=this.states.workPackages.get(workPackageId).value,classIdentifier=rowElement.data("classIdentifier"),form=table.editing.startEditing(workPackage,classIdentifier),positionOffset=set_click_position_1.ClickPositionMapper.getPosition(evt);return form.activate(fieldName).then(function(handler){var element=handler.element.find("input");set_click_position_1.ClickPositionMapper.setPosition(element,positionOffset)}).catch(function(){target.addClass(display_field_renderer_1.readOnlyClassName)}),!1},EditCellHandler}(click_or_enter_handler_1.ClickOrEnterHandler);exports.EditCellHandler=EditCellHandler},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var debug_output_1=__webpack_require__(9),angular_injector_bridge_functions_1=__webpack_require__(4),single_row_builder_1=__webpack_require__(11),click_or_enter_handler_1=__webpack_require__(49),relation_cell_builder_1=__webpack_require__(104),RelationsCellHandler=function(_super){function RelationsCellHandler(table){var _this=_super.call(this)||this;return angular_injector_bridge_functions_1.$injectFields(_this,"wpTableRelationColumns"),_this}return __extends(RelationsCellHandler,_super),Object.defineProperty(RelationsCellHandler.prototype,"EVENT",{get:function(){return"click.table.relationsCell, keydown.table.relationsCell"},enumerable:!0,configurable:!0}),Object.defineProperty(RelationsCellHandler.prototype,"SELECTOR",{get:function(){return"."+relation_cell_builder_1.relationCellIndicatorClassName},enumerable:!0,configurable:!0}),RelationsCellHandler.prototype.eventScope=function(table){return jQuery(table.container)},RelationsCellHandler.prototype.processEvent=function(table,evt){debug_output_1.debugLog("Handled click on relation cell %o",evt.target),evt.preventDefault();var td=jQuery(evt.target).closest("."+relation_cell_builder_1.relationCellTdClassName),columnId=td.data("columnId"),rowElement=jQuery(evt.target).closest("."+single_row_builder_1.tableRowClassName),workPackageId=rowElement.data("workPackageId"),state=this.wpTableRelationColumns.current;return state.getExpandFor(workPackageId)===columnId?this.wpTableRelationColumns.collapse(workPackageId):this.wpTableRelationColumns.expandFor(workPackageId,columnId),!1},RelationsCellHandler}(click_or_enter_handler_1.ClickOrEnterHandler);exports.RelationsCellHandler=RelationsCellHandler},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var debug_output_1=__webpack_require__(9),angular_injector_bridge_functions_1=__webpack_require__(4),single_row_builder_1=__webpack_require__(11),cell_builder_1=__webpack_require__(37),RowClickHandler=function(){function RowClickHandler(table){angular_injector_bridge_functions_1.injectorBridge(this)}return Object.defineProperty(RowClickHandler.prototype,"EVENT",{get:function(){return"click.table.row"},enumerable:!0,configurable:!0}),Object.defineProperty(RowClickHandler.prototype,"SELECTOR",{get:function(){return"."+single_row_builder_1.tableRowClassName},enumerable:!0,configurable:!0}),RowClickHandler.prototype.eventScope=function(table){return jQuery(table.tbody)},RowClickHandler.prototype.handleEvent=function(table,evt){var target=jQuery(evt.target);if(target.parents("."+cell_builder_1.tdClassName).length)return debug_output_1.debugLog("Skipping click on inner cell"),!0;var element=target.closest(this.SELECTOR),wpId=element.data("workPackageId"),classIdentifier=element.data("classIdentifier");if(!wpId)return!0;if(target.is("a")||target.parent().is("a"))return!0;var _a=table.findRenderedRow(classIdentifier),index=_a[0];_a[1];return this.states.focusedWorkPackage.putValue(wpId),evt.ctrlKey||evt.metaKey||evt.shiftKey||this.wpTableSelection.setSelection(wpId,index),evt.shiftKey&&this.wpTableSelection.setMultiSelectionFrom(table.renderedRows,wpId,index),(evt.ctrlKey||evt.metaKey)&&this.wpTableSelection.toggleRow(wpId),!1},RowClickHandler}();exports.RowClickHandler=RowClickHandler,RowClickHandler.$inject=["states","wpTableSelection"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var debug_output_1=__webpack_require__(9),angular_injector_bridge_functions_1=__webpack_require__(4),single_row_builder_1=__webpack_require__(11),ui_state_link_builder_1=__webpack_require__(30),timeline_row_builder_1=__webpack_require__(67),ContextMenuHandler=function(){function ContextMenuHandler(table){angular_injector_bridge_functions_1.injectorBridge(this)}return Object.defineProperty(ContextMenuHandler.prototype,"EVENT",{get:function(){return"contextmenu.table.rightclick"},enumerable:!0,configurable:!0}),Object.defineProperty(ContextMenuHandler.prototype,"SELECTOR",{get:function(){return"."+single_row_builder_1.tableRowClassName+",."+timeline_row_builder_1.timelineCellClassName},enumerable:!0,configurable:!0}),ContextMenuHandler.prototype.eventScope=function(table){return jQuery(table.container)},ContextMenuHandler.prototype.handleEvent=function(table,evt){var target=jQuery(evt.target);if(target.closest("."+ui_state_link_builder_1.uiStateLinkClass).length)return debug_output_1.debugLog("Allowing original context menu on state link"),!0;evt.preventDefault(),evt.stopPropagation();var element=target.closest(this.SELECTOR),wpId=element.data("workPackageId");if(!wpId)return!1;var index=table.findRenderedRow(element.data("workPackageId"))[0];return this.contextMenu.activate("WorkPackageContextMenu",evt,{workPackageId:wpId,rowIndex:index,table:table}),!1},ContextMenuHandler}();exports.ContextMenuHandler=ContextMenuHandler,ContextMenuHandler.$inject=["contextMenu"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4),single_row_builder_1=__webpack_require__(11),keyCodes_enum_1=__webpack_require__(40),ContextMenuKeyboardHandler=function(){function ContextMenuKeyboardHandler(table){this.table=table,angular_injector_bridge_functions_1.injectorBridge(this)}return Object.defineProperty(ContextMenuKeyboardHandler.prototype,"EVENT",{get:function(){return"keydown.table.contextmenu"},enumerable:!0,configurable:!0}),Object.defineProperty(ContextMenuKeyboardHandler.prototype,"SELECTOR",{get:function(){return"."+single_row_builder_1.tableRowClassName},enumerable:!0,configurable:!0}),ContextMenuKeyboardHandler.prototype.eventScope=function(table){return jQuery(table.tbody)},ContextMenuKeyboardHandler.prototype.handleEvent=function(table,evt){var target=jQuery(evt.target);if(evt.keyCode!==keyCodes_enum_1.keyCodes.F10||!evt.shiftKey||!evt.altKey)return!0;evt.preventDefault(),evt.stopPropagation();var element=target.closest(this.SELECTOR),wpId=element.data("workPackageId"),index=table.findRenderedRow(element.data("workPackageId"))[0],position={of:target};return this.contextMenu.activate("WorkPackageContextMenu",evt,{workPackageId:wpId,rowIndex:index,table:this.table},position),!1},ContextMenuKeyboardHandler}();exports.ContextMenuKeyboardHandler=ContextMenuKeyboardHandler,ContextMenuKeyboardHandler.$inject=["contextMenu"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var debug_output_1=__webpack_require__(9),angular_injector_bridge_functions_1=__webpack_require__(4),single_row_builder_1=__webpack_require__(11),cell_builder_1=__webpack_require__(37),RowDoubleClickHandler=function(){function RowDoubleClickHandler(table){angular_injector_bridge_functions_1.injectorBridge(this)}return Object.defineProperty(RowDoubleClickHandler.prototype,"EVENT",{get:function(){return"dblclick.table.row"},enumerable:!0,configurable:!0}),Object.defineProperty(RowDoubleClickHandler.prototype,"SELECTOR",{get:function(){return"."+single_row_builder_1.tableRowClassName},enumerable:!0,configurable:!0}),RowDoubleClickHandler.prototype.eventScope=function(table){return jQuery(table.tbody)},RowDoubleClickHandler.prototype.handleEvent=function(table,evt){var target=jQuery(evt.target);if(target.parents("."+cell_builder_1.tdClassName).length)return debug_output_1.debugLog("Skipping click on inner cell"),!0;var element=target.closest(this.SELECTOR),wpId=element.data("workPackageId");return!(!target.is("a")&&!target.parent().is("a"))||(this.states.focusedWorkPackage.putValue(wpId),this.$state.go("work-packages.show",{workPackageId:wpId}),!1)},RowDoubleClickHandler}();exports.RowDoubleClickHandler=RowDoubleClickHandler,RowDoubleClickHandler.$inject=["$state","states","wpTableSelection"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var debug_output_1=__webpack_require__(9),angular_injector_bridge_functions_1=__webpack_require__(4),grouped_rows_builder_1=__webpack_require__(63),GroupRowHandler=function(){function GroupRowHandler(table){angular_injector_bridge_functions_1.injectorBridge(this),this.builder=new grouped_rows_builder_1.GroupedRowsBuilder(table)}return Object.defineProperty(GroupRowHandler.prototype,"EVENT",{get:function(){return"click.table.groupheader"},enumerable:!0,configurable:!0}),Object.defineProperty(GroupRowHandler.prototype,"SELECTOR",{get:function(){return"."+grouped_rows_builder_1.rowGroupClassName+" .expander"},enumerable:!0,configurable:!0}),GroupRowHandler.prototype.eventScope=function(table){return jQuery(table.tbody)},GroupRowHandler.prototype.handleEvent=function(table,evt){evt.preventDefault(),evt.stopPropagation();var groupHeader=jQuery(evt.target).parents("."+grouped_rows_builder_1.rowGroupClassName),groupIdentifier=groupHeader.data("groupIdentifier"),state=this.collapsedState.value||{};state[groupIdentifier]=!state[groupIdentifier],this.collapsedState.putValue(state);var t0=performance.now();this.builder.refreshExpansionState();var t1=performance.now();debug_output_1.debugLog("Group redraw took "+(t1-t0)+" milliseconds.")},Object.defineProperty(GroupRowHandler.prototype,"collapsedState",{get:function(){return this.states.table.collapsedGroups},enumerable:!0,configurable:!0}),GroupRowHandler}();exports.GroupRowHandler=GroupRowHandler,GroupRowHandler.$inject=["states"]},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var click_or_enter_handler_1=__webpack_require__(49),angular_injector_bridge_functions_1=__webpack_require__(4),single_row_builder_1=__webpack_require__(11),HierarchyClickHandler=function(_super){function HierarchyClickHandler(table){var _this=_super.call(this)||this;return angular_injector_bridge_functions_1.injectorBridge(_this),_this}return __extends(HierarchyClickHandler,_super),Object.defineProperty(HierarchyClickHandler.prototype,"EVENT",{get:function(){return"click.table.hierarchy"},enumerable:!0,configurable:!0}),Object.defineProperty(HierarchyClickHandler.prototype,"SELECTOR",{get:function(){return"."+single_row_builder_1.tableRowClassName+" .wp-table--hierarchy-indicator "},enumerable:!0,configurable:!0}),HierarchyClickHandler.prototype.eventScope=function(table){return jQuery(table.tbody)},HierarchyClickHandler.prototype.processEvent=function(table,evt){var target=jQuery(evt.target),element=target.closest("."+single_row_builder_1.tableRowClassName),wpId=element.data("workPackageId");return this.wpTableHierarchies.toggle(wpId),evt.stopImmediatePropagation(),evt.preventDefault(),!1},HierarchyClickHandler}(click_or_enter_handler_1.ClickOrEnterHandler);exports.HierarchyClickHandler=HierarchyClickHandler,HierarchyClickHandler.$inject=["states","wpTableHierarchies"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4),ui_state_link_builder_1=__webpack_require__(30),single_row_builder_1=__webpack_require__(11),WorkPackageStateLinksHandler=function(){function WorkPackageStateLinksHandler(table){angular_injector_bridge_functions_1.$injectFields(this,"$state","keepTab","states","wpTableSelection")}return Object.defineProperty(WorkPackageStateLinksHandler.prototype,"EVENT",{get:function(){return"click.table.wpLink"},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageStateLinksHandler.prototype,"SELECTOR",{get:function(){return"."+ui_state_link_builder_1.uiStateLinkClass},enumerable:!0,configurable:!0}),WorkPackageStateLinksHandler.prototype.eventScope=function(table){return jQuery(table.container)},WorkPackageStateLinksHandler.prototype.handleEvent=function(table,evt){if(evt.shiftKey||evt.ctrlKey||evt.metaKey||evt.altKey)return!0;var target=jQuery(evt.target),element=target.closest(this.SELECTOR),state=element.data("wpState"),workPackageId=element.data("workPackageId"),row=target.closest("."+single_row_builder_1.tableRowClassName),classIdentifier=row.data("classIdentifier"),_a=table.findRenderedRow(classIdentifier),index=_a[0];_a[1];return this.states.focusedWorkPackage.putValue(workPackageId),this.wpTableSelection.setSelection(workPackageId,index),this.$state.go(this.keepTab[state],{workPackageId:workPackageId,focus:!0}),evt.preventDefault(),evt.stopPropagation(),!1},WorkPackageStateLinksHandler}();exports.WorkPackageStateLinksHandler=WorkPackageStateLinksHandler},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var debug_output_1=__webpack_require__(9),angular_injector_bridge_functions_1=__webpack_require__(4),ColumnsTransformer=function(){function ColumnsTransformer(table){var _this=this;this.table=table,angular_injector_bridge_functions_1.$injectFields(this,"states","wpTableColumns"),this.states.updates.columnsUpdates.values$("Refreshing columns on user request").filter(function(){return _this.wpTableColumns.hasRelationColumns()===!1}).takeUntil(this.states.table.stopAllSubscriptions).subscribe(function(){if(table.originalRows.length>0){var t0=performance.now();table.redrawTable();var t1=performance.now();debug_output_1.debugLog("column redraw took "+(t1-t0)+" milliseconds.")}})}return ColumnsTransformer}();exports.ColumnsTransformer=ColumnsTransformer},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4),wp_table_hierarchy_helpers_1=__webpack_require__(50),single_hierarchy_row_builder_1=__webpack_require__(65),single_row_builder_1=__webpack_require__(11),HierarchyTransformer=function(){function HierarchyTransformer(table){var _this=this;angular_injector_bridge_functions_1.injectorBridge(this),this.states.updates.hierarchyUpdates.values$("Refreshing hierarchies on user request").takeUntil(this.states.table.stopAllSubscriptions).map(function(state){return state.isEnabled}).distinctUntilChanged().subscribe(function(){_this.wpTableHierarchies.isEnabled||table.redrawTableAndTimeline()});var lastValue=this.wpTableHierarchies.isEnabled;this.wpTableHierarchies.observeUntil(this.states.table.stopAllSubscriptions).subscribe(function(state){state.isEnabled===lastValue&&_this.renderHierarchyState(state),lastValue=state.isEnabled})}return HierarchyTransformer.prototype.renderHierarchyState=function(state){var rendered=this.states.table.rendered.value;jQuery('[class^="__hierarchy-group-"]').removeClass(function(i,classNames){return(classNames.match(/__collapsed-group-\d+/g)||[]).join(" ")});var collapsed={};_.each(state.collapsed,function(isCollapsed,wpId){jQuery("."+wp_table_hierarchy_helpers_1.hierarchyRootClass(wpId)+" .wp-table--hierarchy-indicator").toggleClass(single_hierarchy_row_builder_1.indicatorCollapsedClass,isCollapsed);var affected=jQuery("."+wp_table_hierarchy_helpers_1.hierarchyGroupClass(wpId));affected.toggleClass(wp_table_hierarchy_helpers_1.collapsedGroupClass(wpId),isCollapsed),affected.filter("."+single_row_builder_1.tableRowClassName).each(function(i,el){var index=jQuery(el).index();collapsed[index]!==!0&&(rendered[index].hidden=isCollapsed,collapsed[index]=isCollapsed)})}),this.states.table.rendered.putValue(rendered,"Updated hidden state of rows after hierarchy change.")},HierarchyTransformer}();exports.HierarchyTransformer=HierarchyTransformer,HierarchyTransformer.$inject=["wpTableHierarchies","states"]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4),RelationsTransformer=function(){function RelationsTransformer(table){angular_injector_bridge_functions_1.$injectFields(this,"wpTableRelationColumns","states"),this.states.updates.relationUpdates.values$("Refreshing expanded relations on user request").subscribe(function(state){table.redrawTableAndTimeline()})}return RelationsTransformer}();exports.RelationsTransformer=RelationsTransformer},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var debug_output_1=__webpack_require__(9),angular_injector_bridge_functions_1=__webpack_require__(4),RowsTransformer=function(){function RowsTransformer(table){var _this=this;this.table=table,angular_injector_bridge_functions_1.injectorBridge(this),this.states.query.context.fireOnTransition(this.states.table.rows,"Query loaded").values$("Initializing table after query was initialized").takeUntil(this.states.table.stopAllSubscriptions).subscribe(function(rows){var t0=performance.now();table.initialSetup(rows);var t1=performance.now();debug_output_1.debugLog("[RowTransformer] Reinitialized in "+(t1-t0)+" milliseconds.")}),this.states.workPackages.observeChange().takeUntil(this.states.table.stopAllSubscriptions.asObservable()).filter(function(){return"Query loaded"===_this.states.query.context.current}).subscribe(function(_a){var wp=(_a[0],_a[1]);void 0!==wp&&_this.table.refreshRows(wp)})}return RowsTransformer}();exports.RowsTransformer=RowsTransformer,RowsTransformer.$inject=["states"]},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4),single_row_builder_1=__webpack_require__(11),ui_state_link_builder_1=__webpack_require__(30),SelectionTransformer=function(){function SelectionTransformer(table){var _this=this;angular_injector_bridge_functions_1.injectorBridge(this),this.wpTableSelection.selectionState.values$().takeUntil(this.states.table.stopAllSubscriptions).subscribe(function(state){_this.renderSelectionState(state)}),Mousetrap.bind(["command+a","ctrl+a"],function(e){return _this.wpTableSelection.selectAll(table.renderedRows),e.preventDefault(),!1}),Mousetrap.bind(["command+d","ctrl+d"],function(e){return _this.wpTableSelection.reset(),e.preventDefault(),!1})}return SelectionTransformer.prototype.renderSelectionState=function(state){jQuery("."+single_row_builder_1.tableRowClassName+"."+ui_state_link_builder_1.checkedClassName).removeClass(ui_state_link_builder_1.checkedClassName),_.each(state.selected,function(selected,workPackageId){jQuery("."+single_row_builder_1.tableRowClassName+'[data-work-package-id="'+workPackageId+'"]').toggleClass(ui_state_link_builder_1.checkedClassName,selected)})},SelectionTransformer}();exports.SelectionTransformer=SelectionTransformer,SelectionTransformer.$inject=["wpTableSelection","states"]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4),TimelineTransformer=function(){function TimelineTransformer(table){var _this=this;angular_injector_bridge_functions_1.injectorBridge(this),this.states.table.timelineVisible.values$().takeUntil(this.states.table.stopAllSubscriptions).subscribe(function(state){_this.renderVisibility(state.isVisible)})}return TimelineTransformer.prototype.renderVisibility=function(visible){jQuery(".work-packages-tabletimeline--timeline-side").toggle(visible),jQuery(".work-packages-tabletimeline--table-side").toggleClass("-timeline-visible",visible)},TimelineTransformer}();exports.TimelineTransformer=TimelineTransformer,TimelineTransformer.$inject=["states"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var timeline_transformer_1=__webpack_require__(187),hierarchy_transformer_1=__webpack_require__(183),selection_transformer_1=__webpack_require__(186),rows_transformer_1=__webpack_require__(185),columns_transformer_1=__webpack_require__(182),context_menu_keyboard_handler_1=__webpack_require__(177),context_menu_handler_1=__webpack_require__(176),group_row_handler_1=__webpack_require__(179),double_click_handler_1=__webpack_require__(178),click_handler_1=__webpack_require__(175),wp_state_links_handler_1=__webpack_require__(181),edit_cell_handler_1=__webpack_require__(173),hierarchy_click_handler_1=__webpack_require__(180),relations_cell_handler_1=__webpack_require__(174),relations_transformer_1=__webpack_require__(184),TableHandlerRegistry=function(){function TableHandlerRegistry(){}return TableHandlerRegistry.attachTo=function(table){this.stateTransformers.map(function(cls){return new cls(table)}),this.eventHandlers.map(function(factory){var handler=factory(table),target=handler.eventScope(table);return target.on(handler.EVENT,handler.SELECTOR,function(evt){handler.handleEvent(table,evt)}),handler})},TableHandlerRegistry}();TableHandlerRegistry.eventHandlers=[function(t){return new hierarchy_click_handler_1.HierarchyClickHandler(t)},function(t){return new edit_cell_handler_1.EditCellHandler(t)},function(t){return new wp_state_links_handler_1.WorkPackageStateLinksHandler(t)},function(t){return new click_handler_1.RowClickHandler(t)},function(t){return new double_click_handler_1.RowDoubleClickHandler(t)},function(t){return new group_row_handler_1.GroupRowHandler(t)},function(t){return new context_menu_handler_1.ContextMenuHandler(t)},function(t){return new context_menu_keyboard_handler_1.ContextMenuKeyboardHandler(t)},function(t){return new relations_cell_handler_1.RelationsCellHandler(t)}],TableHandlerRegistry.stateTransformers=[selection_transformer_1.SelectionTransformer,rows_transformer_1.RowsTransformer,columns_transformer_1.ColumnsTransformer,timeline_transformer_1.TimelineTransformer,hierarchy_transformer_1.HierarchyTransformer,relations_transformer_1.RelationsTransformer],exports.TableHandlerRegistry=TableHandlerRegistry},function(module,exports,__webpack_require__){"use strict";function rowId(workPackageId){
return"wp-table-row-"+workPackageId}function locateRow(id){return document.getElementById(rowId(id))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.rowId=rowId,exports.locateRow=locateRow},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4),table_handler_registry_1=__webpack_require__(188),plain_rows_builder_1=__webpack_require__(169),grouped_rows_builder_1=__webpack_require__(63),hierarchy_rows_builder_1=__webpack_require__(168),debug_output_1=__webpack_require__(9),wp_table_editing_1=__webpack_require__(192),WorkPackageTable=function(){function WorkPackageTable(container,tbody,timelineBody,timelineController){this.container=container,this.tbody=tbody,this.timelineBody=timelineBody,this.timelineController=timelineController,this.originalRows=[],this.originalRowIndex={},this.builders=[new hierarchy_rows_builder_1.HierarchyRowsBuilder(this),new grouped_rows_builder_1.GroupedRowsBuilder(this),new plain_rows_builder_1.PlainRowsBuilder(this)],this.lastRenderPass=null,this.editing=new wp_table_editing_1.WorkPackageTableEditingContext,angular_injector_bridge_functions_1.injectorBridge(this),table_handler_registry_1.TableHandlerRegistry.attachTo(this)}return Object.defineProperty(WorkPackageTable.prototype,"renderedRows",{get:function(){return this.states.table.rendered.getValueOr([])},enumerable:!0,configurable:!0}),WorkPackageTable.prototype.findRenderedRow=function(classIdentifier){var index=_.findIndex(this.renderedRows,function(row){return row.classIdentifier===classIdentifier});return[index,this.renderedRows[index]]},Object.defineProperty(WorkPackageTable.prototype,"rowBuilder",{get:function(){var _this=this;return _.find(this.builders,function(builder){return builder.isApplicable(_this)})},enumerable:!0,configurable:!0}),WorkPackageTable.prototype.buildIndex=function(rows){var _this=this;this.originalRowIndex={},this.originalRows=rows.map(function(wp,i){var wpId=wp.id;return _this.originalRowIndex[wpId]={object:wp,workPackageId:wpId,position:i},wpId})},WorkPackageTable.prototype.initialSetup=function(rows){this.buildIndex(rows),this.redrawTableAndTimeline()},WorkPackageTable.prototype.redrawTableAndTimeline=function(){var renderPass=this.lastRenderPass=this.rowBuilder.buildRows();this.tbody.innerHTML="",this.tbody.appendChild(renderPass.tableBody),this.timelineBody.innerHTML="",this.timelineBody.appendChild(renderPass.timeline.timelineBody),this.states.table.rendered.putValue(renderPass.result)},WorkPackageTable.prototype.redrawTable=function(){this.editing.reset();var renderPass=this.lastRenderPass=this.rowBuilder.buildRows();this.tbody.innerHTML="",this.tbody.appendChild(renderPass.tableBody),this.states.table.rendered.putValue(renderPass.result)},WorkPackageTable.prototype.refreshRows=function(workPackage){var _this=this,pass=this.lastRenderPass;return pass?void _.each(pass.renderedOrder,function(row){row.workPackage&&row.workPackage.id===workPackage.id&&(debug_output_1.debugLog("Refreshing rendered row "+row.classIdentifier),row.workPackage=workPackage,pass.refresh(row,workPackage,_this.tbody))}):void debug_output_1.debugLog("Trying to refresh a singular row without a previus render pass.")},WorkPackageTable}();exports.WorkPackageTable=WorkPackageTable,WorkPackageTable.$inject=["wpCacheService","states","I18n"]}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_table_base_1=__webpack_require__(23),WorkPackageTableColumns=function(_super){function WorkPackageTableColumns(query){var _this=_super.call(this)||this;return _this.update(query),_this}return __extends(WorkPackageTableColumns,_super),WorkPackageTableColumns.prototype.update=function(query,schema){query&&(this.current=angular.copy(query.columns))},WorkPackageTableColumns.prototype.getColumns=function(){return this.current},WorkPackageTableColumns}(wp_table_base_1.WorkPackageTableBaseState);exports.WorkPackageTableColumns=WorkPackageTableColumns},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var work_package_edit_form_1=__webpack_require__(48),table_row_edit_context_1=__webpack_require__(97),WorkPackageTableEditingContext=function(){function WorkPackageTableEditingContext(){this.forms={}}return WorkPackageTableEditingContext.prototype.reset=function(){_.each(this.forms,function(form){return form.destroy()}),this.forms={}},WorkPackageTableEditingContext.prototype.startEditing=function(workPackage,classIdentifier){var wpId=workPackage.id,existing=this.forms[wpId];if(existing)return existing;var editContext=new table_row_edit_context_1.TableRowEditContext(wpId,classIdentifier);return this.forms[wpId]=work_package_edit_form_1.WorkPackageEditForm.createInContext(editContext,workPackage,!1)},WorkPackageTableEditingContext}();exports.WorkPackageTableEditingContext=WorkPackageTableEditingContext}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var query_filter_instance_resource_service_1=__webpack_require__(89),wp_table_base_1=__webpack_require__(23),WorkPackageTableFilters=function(_super){function WorkPackageTableFilters(filters,schema){var _this=_super.call(this)||this;return _this.availableSchemas=[],_this.current=[],_this.current=filters,_this.availableSchemas=schema.filtersSchemas.elements,_this}return __extends(WorkPackageTableFilters,_super),WorkPackageTableFilters.prototype.add=function(filter){var schema=_.find(this.availableSchemas,function(schema){return schema.filter.allowedValues[0].href===filter.href}),newFilter=query_filter_instance_resource_service_1.QueryFilterInstanceResource.fromSchema(schema);return this.current.push(newFilter),newFilter},WorkPackageTableFilters.prototype.remove=function(filter){var index=this.current.indexOf(filter);this.current.splice(index,1)},Object.defineProperty(WorkPackageTableFilters.prototype,"remainingFilters",{get:function(){var activeFilterHrefs=this.currentFilters.map(function(filter){return filter.href});return _.remove(this.availableFilters,function(filter){return activeFilterHrefs.indexOf(filter.href)===-1})},enumerable:!0,configurable:!0}),WorkPackageTableFilters.prototype.isComplete=function(){return _.every(this.current,function(filter){return filter.isCompletelyDefined()})},Object.defineProperty(WorkPackageTableFilters.prototype,"currentFilters",{get:function(){return this.current.map(function(filter){return filter.filter})},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTableFilters.prototype,"availableFilters",{get:function(){var availableFilters=this.availableSchemas.map(function(schema){return schema.filter.allowedValues[0]});return _.filter(availableFilters,function(filter){return"id"!==filter.id})},enumerable:!0,configurable:!0}),WorkPackageTableFilters}(wp_table_base_1.WorkPackageTableBaseState);exports.WorkPackageTableFilters=WorkPackageTableFilters}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_table_base_1=__webpack_require__(23),WorkPackageTableGroupBy=function(_super){function WorkPackageTableGroupBy(query){var _this=_super.call(this)||this;return _this.current=angular.copy(query.groupBy),_this}return __extends(WorkPackageTableGroupBy,_super),WorkPackageTableGroupBy.prototype.update=function(query){query&&(this.current=angular.copy(query.groupBy))},WorkPackageTableGroupBy}(wp_table_base_1.WorkPackageTableBaseState);exports.WorkPackageTableGroupBy=WorkPackageTableGroupBy},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_table_base_1=__webpack_require__(23),WorkPackageTableHierarchies=function(_super){function WorkPackageTableHierarchies(isVisible){var _this=_super.call(this)||this;return _this.current=isVisible,_this.collapsed={},_this}return __extends(WorkPackageTableHierarchies,_super),WorkPackageTableHierarchies.prototype.toggle=function(){this.current=!this.current},Object.defineProperty(WorkPackageTableHierarchies.prototype,"isEnabled",{get:function(){return this.current},enumerable:!0,configurable:!0}),WorkPackageTableHierarchies}(wp_table_base_1.WorkPackageTableBaseState);exports.WorkPackageTableHierarchies=WorkPackageTableHierarchies},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_table_base_1=__webpack_require__(23),WorkPackageTablePaginationObject=function(_super){function WorkPackageTablePaginationObject(page,perPage,total,count){var _this=_super.call(this)||this;return _this.page=page,_this.perPage=perPage,_this.total=total,_this.count=count,_this}return __extends(WorkPackageTablePaginationObject,_super),WorkPackageTablePaginationObject}(wp_table_base_1.WorkPackageTableBaseState);exports.WorkPackageTablePaginationObject=WorkPackageTablePaginationObject;var WorkPackageTablePagination=function(){function WorkPackageTablePagination(results){this.current=new WorkPackageTablePaginationObject(results.offset,results.pageSize,results.total,results.count)}return Object.defineProperty(WorkPackageTablePagination.prototype,"page",{get:function(){return this.current.page},set:function(val){this.current.page=val},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTablePagination.prototype,"perPage",{get:function(){return this.current.perPage},set:function(val){this.current.perPage=val},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTablePagination.prototype,"total",{get:function(){return this.current.total},set:function(val){this.current.total=val},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTablePagination.prototype,"count",{get:function(){return this.current.count},set:function(val){this.current.count=val},enumerable:!0,configurable:!0}),WorkPackageTablePagination}();exports.WorkPackageTablePagination=WorkPackageTablePagination},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_table_base_1=__webpack_require__(23),WorkPackageTableRelationColumns=function(_super){function WorkPackageTableRelationColumns(){var _this=_super.call(this)||this;return _this.current={},_this}return __extends(WorkPackageTableRelationColumns,_super),WorkPackageTableRelationColumns.prototype.getExpandFor=function(workPackageId){return this.current[workPackageId]},WorkPackageTableRelationColumns.prototype.expandFor=function(workPackageId,columnId){this.current[workPackageId]=columnId},WorkPackageTableRelationColumns.prototype.collapse=function(workPackageId){delete this.current[workPackageId]},WorkPackageTableRelationColumns}(wp_table_base_1.WorkPackageTableBaseState);exports.WorkPackageTableRelationColumns=WorkPackageTableRelationColumns},function(module,exports,__webpack_require__){"use strict";(function(_){var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_table_base_1=__webpack_require__(23),WorkPackageTableSortBy=function(_super){function WorkPackageTableSortBy(query){var _this=_super.call(this)||this;return _this.current=[],_this.current=angular.copy(query.sortBy),_this}return __extends(WorkPackageTableSortBy,_super),WorkPackageTableSortBy.prototype.addCurrent=function(sortBy){this.current.unshift(sortBy),this.current=_.uniqBy(this.current,function(sortBy){return sortBy.column.$href}).slice(0,3)},WorkPackageTableSortBy.prototype.setCurrent=function(sortBys){var _this=this;this.current=[],_.reverse(sortBys),_.each(sortBys,function(sortBy){return _this.addCurrent(sortBy)})},WorkPackageTableSortBy}(wp_table_base_1.WorkPackageTableBaseState);exports.WorkPackageTableSortBy=WorkPackageTableSortBy}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_table_base_1=__webpack_require__(23),WorkPackageTableSum=function(_super){function WorkPackageTableSum(isSum){var _this=_super.call(this)||this;return _this.current=isSum,_this}return __extends(WorkPackageTableSum,_super),WorkPackageTableSum.prototype.toggle=function(){this.current=!this.current},Object.defineProperty(WorkPackageTableSum.prototype,"isEnabled",{get:function(){return this.current},enumerable:!0,configurable:!0}),WorkPackageTableSum}(wp_table_base_1.WorkPackageTableBaseState);exports.WorkPackageTableSum=WorkPackageTableSum},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_table_base_1=__webpack_require__(23),WorkPackageTableTimelineState=function(_super){function WorkPackageTableTimelineState(visible,zoomLevel){var _this=_super.call(this)||this;return _this.visible=visible,_this.zoomLevel=zoomLevel,_this}return __extends(WorkPackageTableTimelineState,_super),Object.defineProperty(WorkPackageTableTimelineState.prototype,"current",{get:function(){return this.isVisible},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTableTimelineState.prototype,"extractedCompareValue",{get:function(){return this.isVisible},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTableTimelineState.prototype,"currentQueryValue",{get:function(){return this.isVisible},enumerable:!0,configurable:!0}),WorkPackageTableTimelineState.prototype.toggle=function(){this.visible=!this.visible},Object.defineProperty(WorkPackageTableTimelineState.prototype,"isVisible",{get:function(){return this.visible},enumerable:!0,configurable:!0}),WorkPackageTableTimelineState}(wp_table_base_1.WorkPackageTableBaseState);exports.WorkPackageTableTimelineState=WorkPackageTableTimelineState},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_injector_bridge_functions_1=__webpack_require__(4),wp_table_row_helpers_1=__webpack_require__(189),single_row_builder_1=__webpack_require__(11);exports.inlineCreateRowClassName="wp-inline-create-row",exports.inlineCreateCancelClassName="wp-table--cancel-create-link";var InlineCreateRowBuilder=function(_super){function InlineCreateRowBuilder(workPackageTable){var _this=_super.call(this,workPackageTable)||this;return angular_injector_bridge_functions_1.injectorBridge(_this),_this.text={cancelButton:_this.I18n.t("js.button_cancel")},_this}return __extends(InlineCreateRowBuilder,_super),InlineCreateRowBuilder.prototype.buildCell=function(workPackage,column){switch(column.id){case single_row_builder_1.internalDetailsColumn.id:return this.buildCancelButton();default:return _super.prototype.buildCell.call(this,workPackage,column)}},InlineCreateRowBuilder.prototype.buildNew=function(workPackage,form){var _a=this.buildEmpty(workPackage),row=_a[0],hidden=_a[1];return[row,hidden]},InlineCreateRowBuilder.prototype.createEmptyRow=function(workPackage){var identifier=this.classIdentifier(workPackage),tr=document.createElement("tr");return tr.id=wp_table_row_helpers_1.rowId(workPackage.id),tr.dataset.workPackageId=workPackage.id,tr.dataset.classIdentifier=identifier,tr.classList.add(exports.inlineCreateRowClassName,single_row_builder_1.commonRowClassName,single_row_builder_1.tableRowClassName,"issue",identifier,identifier+"-table"),tr},InlineCreateRowBuilder.prototype.buildCancelButton=function(){var td=document.createElement("td");return td.classList.add("wp-table--cancel-create-td"),td.innerHTML='\n    <a\n       href="javascript:"\n       class="'+exports.inlineCreateCancelClassName+' icon icon-cancel"\n       aria-label="'+this.text.cancelButton+'">\n    </a>\n   ',td},InlineCreateRowBuilder}(single_row_builder_1.SingleRowBuilder);exports.InlineCreateRowBuilder=InlineCreateRowBuilder,InlineCreateRowBuilder.$inject=["states","wpTableSelection","wpTableColumns","I18n"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ActivityEntryInfo=function(){function ActivityEntryInfo($filter,isReversed,activities,activity,index){this.$filter=$filter,this.isReversed=isReversed,this.activities=activities,this.activity=activity,this.index=index}return ActivityEntryInfo.prototype.number=function(forceReverse){return void 0===forceReverse&&(forceReverse=!1),this.orderedIndex(this.index,forceReverse)},Object.defineProperty(ActivityEntryInfo.prototype,"date",{get:function(){return this.activityDate(this.activity)},enumerable:!0,configurable:!0}),Object.defineProperty(ActivityEntryInfo.prototype,"dateOfPrevious",{get:function(){if(this.index>0)return this.activityDate(this.activities[this.index-1])},enumerable:!0,configurable:!0}),Object.defineProperty(ActivityEntryInfo.prototype,"isNextDate",{get:function(){return this.date!==this.dateOfPrevious},enumerable:!0,configurable:!0}),ActivityEntryInfo.prototype.isInitial=function(forceReverse){void 0===forceReverse&&(forceReverse=!1);var activityNo=this.number(forceReverse);if(0!==this.activity._type.indexOf("Activity"))return!1;if(1===activityNo)return!0;for(;--activityNo>0;){var idx=this.orderedIndex(activityNo,forceReverse)-1;if(0===this.activities[idx]._type.indexOf("Activity"))return!1}return!0},ActivityEntryInfo.prototype.activityDate=function(activity){return this.$filter("date")(activity.createdAt,"longDate")},ActivityEntryInfo.prototype.orderedIndex=function(activityNo,forceReverse){return void 0===forceReverse&&(forceReverse=!1),forceReverse||this.isReversed?this.activities.length-activityNo:activityNo+1},ActivityEntryInfo}();exports.ActivityEntryInfo=ActivityEntryInfo},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var angular_rx_utils_1=__webpack_require__(8),WatchersPanelController=function(){function WatchersPanelController($scope,$element,$q,I18n,$templateCache,$compile,loadingIndicator,wpNotificationsService,wpCacheService){var _this=this;this.$scope=$scope,this.$element=$element,this.$q=$q,this.I18n=I18n,this.$templateCache=$templateCache,this.$compile=$compile,this.loadingIndicator=loadingIndicator,this.wpNotificationsService=wpNotificationsService,this.wpCacheService=wpCacheService,this.autocompleteInput="",this.error=!1,this.allowedToAdd=!1,this.allowedToRemove=!1,this.watching=[],this.text={loading:I18n.t("js.watchers.label_loading"),loadingError:I18n.t("js.watchers.label_error_loading"),autocomplete:{placeholder:I18n.t("js.watchers.typeahead_placeholder")}},this.workPackage&&angular_rx_utils_1.scopedObservable($scope,wpCacheService.loadWorkPackage(this.workPackage.id).values$()).subscribe(function(wp){_this.workPackage=wp,_this.loadCurrentWatchers()})}return WatchersPanelController.prototype.loadCurrentWatchers=function(){var _this=this;this.error=!1,this.allowedToAdd=!!this.workPackage.addWatcher,this.allowedToRemove=!!this.workPackage.removeWatcher,this.workPackage.watchers.$load().then(function(collection){_this.watching=collection.elements}).catch(function(error){_this.wpNotificationsService.showError(error,_this.workPackage)}),this.setupAutoCompletion()},WatchersPanelController.prototype.setupAutoCompletion=function(){var _this=this,input=this.$element.find(".ui-autocomplete--input");input.autocomplete({delay:250,autoFocus:!1,source:function(request,response){_this.autocompleteWatchers(request.term).then(function(values){response(values.map(function(watcher){return{watcher:watcher,value:watcher.name}}))})},select:function(evt,ui){return _this.addWatcher(ui.item.watcher),input.val(""),!1},minLength:0}).focus(function(){return input.autocomplete("search",input.val())}),input.autocomplete("instance")._renderItem=function(ul,item){return _this.renderWatcherItem(ul,item)}},Object.defineProperty(WatchersPanelController.prototype,"loadingPromise",{set:function(promise){this.loadingIndicator.wpDetails.promise=promise},enumerable:!0,configurable:!0}),WatchersPanelController.prototype.renderWatcherItem=function(ul,item){var itemScope=this.$scope.$new();itemScope.value=item.value,itemScope.watcher=item.watcher;var template=this.$templateCache.get("/components/common/autocomplete/users/user-autocomplete-item.html"),element=angular.element(template);return ul.append(element),this.$compile(element)(itemScope),element},WatchersPanelController.prototype.autocompleteWatchers=function(query){var _this=this,deferred=this.$q.defer();this.autocompleteLoadingPromise=deferred.promise;var payload={sortBy:JSON.stringify([["name","asc"]])};if(query&&query.length>0){var filter={name:{operator:"~",values:query}};payload.filters=JSON.stringify([filter])}return this.workPackage.availableWatchers.$link.$fetch(payload,{caching:{enabled:!1}}).then(function(collection){_this.$scope.noResults=0===collection.count,deferred.resolve(collection.elements)}).catch(function(){return deferred.reject()}),deferred.promise},WatchersPanelController.prototype.addWatcher=function(user){var _this=this;this.loadingPromise=this.workPackage.addWatcher.$link.$fetch({user:{href:user.href}}).then(function(){_this.wpCacheService.loadWorkPackage(_this.workPackage.id,!0),_this.autocompleteInput=""}).catch(function(error){return _this.wpNotificationsService.showError(error,_this.workPackage)})},WatchersPanelController.prototype.removeWatcher=function(watcher){var _this=this;this.workPackage.removeWatcher.$link.$prepare({user_id:watcher.id})().then(function(){_.remove(_this.watching,function(other){return other.href===watcher.href}),_this.wpCacheService.loadWorkPackage(_this.workPackage.id,!0)}).catch(function(error){return _this.wpNotificationsService.showError(error,_this.workPackage)})},WatchersPanelController}();exports.WatchersPanelController=WatchersPanelController}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var WorkPackageQuerySelectController=function(){function WorkPackageQuerySelectController($scope,QueryDm,$state,states,wpListService,contextMenu,I18n,wpListChecksumService,loadingIndicator){this.$scope=$scope,this.QueryDm=QueryDm,this.$state=$state,this.states=states,this.wpListService=wpListService,this.contextMenu=contextMenu,this.I18n=I18n,this.wpListChecksumService=wpListChecksumService,this.loadingIndicator=loadingIndicator,this.$scope.loaded=!1,this.$scope.i18n={loading:I18n.t("js.ajax.loading"),label:I18n.t("js.toolbar.search_query_label"),scope_global:I18n.t("js.label_global_queries"),scope_private:I18n.t("js.label_custom_queries"),no_results:I18n.t("js.work_packages.query.text_no_results")},this.setup()}return WorkPackageQuerySelectController.prototype.setup=function(){var _this=this;this.loadQueries().then(function(collection){var sortedQueries=_.reverse(_.sortBy(collection.elements,"public")),autocompleteValues=_.map(sortedQueries,function(query){return{label:query.name,query:query}});_this.setupAutoCompletion(autocompleteValues),_this.setLoaded()})},WorkPackageQuerySelectController.prototype.loadQueries=function(){return this.QueryDm.all(this.$state.params.projectPath)},WorkPackageQuerySelectController.prototype.setupAutoCompletion=function(autocompleteValues){var _this=this;this.defineJQueryQueryComplete();var input=angular.element("#query-title-filter"),noResults=angular.element(".query-select-dropdown--no-results");input.querycomplete({delay:0,source:autocompleteValues,select:function(ul,selected){_this.loadQuery(selected.item.query)},response:function(event,ui){noResults.toggle(0===ui.content.length)},appendTo:".search-query-wrapper",classes:{"ui-autocomplete":"-inplace"},autoFocus:!0,minLength:0})},WorkPackageQuerySelectController.prototype.defineJQueryQueryComplete=function(){var _this=this,labelFunction=function(isPublic){return isPublic?_this.$scope.i18n.scope_global:_this.$scope.i18n.scope_private};jQuery.widget("custom.querycomplete",jQuery.ui.autocomplete,{_create:function(){this._super(),this.widget().menu("option","items","> :not(.ui-autocomplete--category)"),this._search("")},_renderMenu:function(ul,items){var currentlyPublic,_this=this;_.each(items,function(option){var query=option.query;query.public!==currentlyPublic&&(ul.append("<li class='ui-autocomplete--category'>"+labelFunction(query.public)+"</li>"),currentlyPublic=query.public),_this._renderItemData(ul,option)})}})},WorkPackageQuerySelectController.prototype.loadQuery=function(query){this.wpListChecksumService.clear(),this.loadingIndicator.table.promise=this.wpListService.reloadQuery(query),this.contextMenu.close()},WorkPackageQuerySelectController.prototype.setLoaded=function(){this.$scope.loaded=!0,this.$scope.i18n.loading=""},WorkPackageQuerySelectController}();exports.WorkPackageQuerySelectController=WorkPackageQuerySelectController}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var moment=__webpack_require__(87),angular_injector_bridge_functions_1=__webpack_require__(4),wp_timeline_1=__webpack_require__(24),timeline_cell_renderer_1=__webpack_require__(106),wp_timeline_cell_1=__webpack_require__(68),TimelineMilestoneCellRenderer=function(_super){function TimelineMilestoneCellRenderer(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(TimelineMilestoneCellRenderer,_super),Object.defineProperty(TimelineMilestoneCellRenderer.prototype,"type",{get:function(){return"milestone"},enumerable:!0,configurable:!0}),TimelineMilestoneCellRenderer.prototype.isEmpty=function(wp){var date=moment(wp.date),noDateValue=_.isNaN(date.valueOf());return noDateValue},TimelineMilestoneCellRenderer.prototype.displayPlaceholderUnderCursor=function(ev,renderInfo){var days=Math.floor(ev.offsetX/renderInfo.viewParams.pixelPerDay),placeholder=document.createElement("div");placeholder.className="timeline-element milestone",placeholder.style.pointerEvents="none",placeholder.style.height="1em",placeholder.style.width="1em",placeholder.style.left=days*renderInfo.viewParams.pixelPerDay+"px";var diamond=document.createElement("div");return diamond.className="diamond",diamond.style.backgroundColor="#DDDDDD",diamond.style.left="0.5em",diamond.style.height="1em",diamond.style.width="1em",placeholder.appendChild(diamond),placeholder},TimelineMilestoneCellRenderer.prototype.assignDateValues=function(changeset,labels,dates){this.assignDate(changeset,"date",dates.date),this.updateLabels(!0,labels,changeset)},TimelineMilestoneCellRenderer.prototype.onDaysMoved=function(changeset,dayUnderCursor,delta,direction){var initialDate=changeset.workPackage.date,dates={};return initialDate&&(dates.date=moment(initialDate).add(delta,"days")),dates},TimelineMilestoneCellRenderer.prototype.onMouseDown=function(ev,dateForCreate,renderInfo,labels,elem){if(renderInfo.viewParams.activeSelectionMode)return renderInfo.viewParams.activeSelectionMode(renderInfo.workPackage),ev.preventDefault(),"both";var direction="both";return this.forceCursor("ew-resize"),dateForCreate?(renderInfo.changeset.setValue("date",dateForCreate),direction="create"):(this.updateLabels(!0,labels,renderInfo.changeset),direction)},TimelineMilestoneCellRenderer.prototype.update=function(element,renderInfo){var viewParams=renderInfo.viewParams,date=moment(renderInfo.changeset.value("date"));if(_.isNaN(date.valueOf()))return!1;var diamond=jQuery(".diamond",element)[0];element.style.width="15px",element.style.height="15px",diamond.style.width="15px",diamond.style.height="15px",diamond.style.marginLeft=-7.5+renderInfo.viewParams.pixelPerDay/2+"px",diamond.style.backgroundColor=this.typeColor(renderInfo.workPackage);var offsetStart=date.diff(viewParams.dateDisplayStart,"days");return element.style.left=wp_timeline_1.calculatePositionValueForDayCountingPx(viewParams,offsetStart)+"px",this.checkForActiveSelectionMode(renderInfo,diamond),
!0},TimelineMilestoneCellRenderer.prototype.getMarginLeftOfLeftSide=function(renderInfo){var changeset=renderInfo.changeset,start=moment(changeset.value("date")),offsetStart=start.diff(renderInfo.viewParams.dateDisplayStart,"days");return wp_timeline_1.calculatePositionValueForDayCountingPx(renderInfo.viewParams,offsetStart)},TimelineMilestoneCellRenderer.prototype.getMarginLeftOfRightSide=function(ri){return this.getMarginLeftOfLeftSide(ri)+ri.viewParams.pixelPerDay},TimelineMilestoneCellRenderer.prototype.getPaddingLeftForIncomingRelationLines=function(renderInfo){return renderInfo.viewParams.pixelPerDay/2-1},TimelineMilestoneCellRenderer.prototype.getPaddingRightForOutgoingRelationLines=function(renderInfo){return 7.5},TimelineMilestoneCellRenderer.prototype.render=function(renderInfo){var element=document.createElement("div");element.className=wp_timeline_1.timelineElementCssClass+" "+this.type;var diamond=document.createElement("div");return diamond.className="diamond",element.appendChild(diamond),element},TimelineMilestoneCellRenderer.prototype.createAndAddLabels=function(renderInfo,element){var labelLeft=document.createElement("div");labelLeft.classList.add(wp_timeline_cell_1.classNameLeftLabel),labelLeft.classList.add(wp_timeline_cell_1.classNameShowOnHover),element.appendChild(labelLeft);var containerRight=document.createElement("div");containerRight.classList.add(wp_timeline_cell_1.classNameRightContainer),element.appendChild(containerRight);var labelRight=document.createElement("div");labelRight.classList.add(wp_timeline_cell_1.classNameRightLabel),labelRight.classList.add(wp_timeline_cell_1.classNameShowOnHover),containerRight.appendChild(labelRight);var labelFarRight=document.createElement("div");labelFarRight.classList.add(wp_timeline_cell_1.classNameFarRightLabel),labelFarRight.classList.add(wp_timeline_cell_1.classNameShowOnHover),containerRight.appendChild(labelFarRight);var labels=new wp_timeline_cell_1.WorkPackageCellLabels(null,labelLeft,labelRight,labelFarRight);return this.updateLabels(!1,labels,renderInfo.changeset),labels},TimelineMilestoneCellRenderer.prototype.updateLabels=function(activeDragNDrop,labels,changeset){this.TimezoneService||(this.TimezoneService=angular_injector_bridge_functions_1.$injectNow("TimezoneService"));var subject=changeset.value("subject"),dateStr=changeset.value("date"),date=dateStr?moment(dateStr):null;activeDragNDrop?labels.labelRight&&date&&(labels.labelRight.textContent=this.TimezoneService.formattedDate(date)):(labels.labelRight&&date&&(labels.labelRight.textContent=this.TimezoneService.formattedDate(date)),labels.labelFarRight&&(labels.labelFarRight.textContent=subject)),labels.labelLeft&&(_.isEmpty(labels.labelLeft.textContent)?labels.labelLeft.classList.remove("not-empty"):labels.labelLeft.classList.add("not-empty")),labels.labelRight&&(_.isEmpty(labels.labelRight.textContent)?labels.labelRight.classList.remove("not-empty"):labels.labelRight.classList.add("not-empty"))},TimelineMilestoneCellRenderer}(timeline_cell_renderer_1.TimelineCellRenderer);exports.TimelineMilestoneCellRenderer=TimelineMilestoneCellRenderer}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var timeline_milestone_cell_renderer_1=__webpack_require__(205),timeline_cell_renderer_1=__webpack_require__(106),angular_injector_bridge_functions_1=__webpack_require__(4),wp_timeline_cell_1=__webpack_require__(68),work_package_changeset_1=__webpack_require__(36),WorkPackageTimelineCellsRenderer=function(){function WorkPackageTimelineCellsRenderer(wpTimeline){this.wpTimeline=wpTimeline,this.cells={},angular_injector_bridge_functions_1.$injectFields(this,"states"),this.cellRenderers={milestone:new timeline_milestone_cell_renderer_1.TimelineMilestoneCellRenderer(wpTimeline),generic:new timeline_cell_renderer_1.TimelineCellRenderer(wpTimeline)}}return WorkPackageTimelineCellsRenderer.prototype.hasCell=function(wpId){return this.getCellsFor(wpId).length>0},WorkPackageTimelineCellsRenderer.prototype.getCellsFor=function(wpId){return _.filter(this.cells,function(cell){return cell.workPackageId===wpId})||[]},WorkPackageTimelineCellsRenderer.prototype.refreshAllCells=function(){var _this=this;this.synchronizeCells(),_.each(this.cells,function(cell){return _this.refreshSingleCell(cell)})},WorkPackageTimelineCellsRenderer.prototype.refreshCellsFor=function(wpId){var _this=this;_.each(this.getCellsFor(wpId),function(cell){return _this.refreshSingleCell(cell)})},WorkPackageTimelineCellsRenderer.prototype.refreshSingleCell=function(cell){var renderInfo=this.renderInfoFor(cell.workPackageId);renderInfo.workPackage&&cell.refreshView(renderInfo)},WorkPackageTimelineCellsRenderer.prototype.synchronizeCells=function(){var _this=this,currentlyActive=Object.keys(this.cells),newCells=[];_.each(this.wpTimeline.workPackageIdOrder,function(renderedRow){var wpId=renderedRow.workPackageId;if(wpId){var state=_this.states.workPackages.get(wpId);if(!state.isPristine()){var identifier=renderedRow.classIdentifier;_this.cells[identifier]||(_this.cells[identifier]=_this.buildCell(identifier,wpId.toString())),newCells.push(identifier)}}}),_.difference(currentlyActive,newCells).forEach(function(identifier){_this.cells[identifier].clear(),delete _this.cells[identifier]})},WorkPackageTimelineCellsRenderer.prototype.buildCell=function(classIdentifier,workPackageId){return new wp_timeline_cell_1.WorkPackageTimelineCell(this.wpTimeline,this.cellRenderers,this.renderInfoFor(workPackageId),classIdentifier,workPackageId)},WorkPackageTimelineCellsRenderer.prototype.renderInfoFor=function(wpId){var wp=this.states.workPackages.get(wpId).value;return{viewParams:this.wpTimeline.viewParameters,workPackage:wp,changeset:new work_package_changeset_1.WorkPackageChangeset(wp)}},WorkPackageTimelineCellsRenderer}();exports.WorkPackageTimelineCellsRenderer=WorkPackageTimelineCellsRenderer}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function workPackagePrefix(workPackageId){return"__tl-relation-"+workPackageId}Object.defineProperty(exports,"__esModule",{value:!0}),exports.workPackagePrefix=workPackagePrefix;var TimelineRelationElement=function(){function TimelineRelationElement(belongsToId,relation){this.belongsToId=belongsToId,this.relation=relation}return Object.defineProperty(TimelineRelationElement.prototype,"classNames",{get:function(){return[workPackagePrefix(this.relation.ids.from),workPackagePrefix(this.relation.ids.to)]},enumerable:!0,configurable:!0}),TimelineRelationElement}();exports.TimelineRelationElement=TimelineRelationElement},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var moment=__webpack_require__(87),wp_timeline_1=__webpack_require__(24),timeline_static_element_1=__webpack_require__(108),TodayLineElement=function(_super){function TodayLineElement(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(TodayLineElement,_super),TodayLineElement.prototype.finishElement=function(elem,vp){var offsetToday=vp.now.diff(vp.dateDisplayStart,"days"),dayProgress=moment().hour()/24;return elem.style.left=wp_timeline_1.calculatePositionValueForDayCount(vp,offsetToday+dayProgress),elem},Object.defineProperty(TodayLineElement.prototype,"identifier",{get:function(){return"wp-timeline-static-element-today-line"},enumerable:!0,configurable:!0}),TodayLineElement}(timeline_static_element_1.TimelineStaticElement);exports.TodayLineElement=TodayLineElement},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var cssClassRowHovered="row-hovered",WpTableHoverSync=function(){function WpTableHoverSync(tableAndTimeline){this.tableAndTimeline=tableAndTimeline,this.lastHoveredElement=null,this.$body=jQuery("body"),this.lastAffectedElements=[]}return WpTableHoverSync.prototype.activate=function(){var _this=this;this.$body.on("mousemove.hoverSync",function(event){event.target!==_this.lastHoveredElement&&_this.handleHover(event.target),_this.lastHoveredElement=event.target})},WpTableHoverSync.prototype.deactivate=function(){this.$body.off(".hoverSync"),this.removeAllHoverClasses()},WpTableHoverSync.prototype.locateHoveredTableRow=function(child){var parent=child.closest("tr");return 0===parent.length?null:parent[0]},WpTableHoverSync.prototype.locateHoveredTimelineRow=function(child){var parent=child.closest("div.wp-timeline-cell");return 0===parent.length?null:parent[0]},WpTableHoverSync.prototype.handleHover=function(element){var $element=jQuery(element),parentTableRow=this.locateHoveredTableRow($element),parentTimelineRow=this.locateHoveredTimelineRow($element);return null===parentTableRow&&null===parentTimelineRow?void this.removeAllHoverClasses():void this.removeOldAndAddNewHoverClass(parentTableRow,parentTimelineRow)},WpTableHoverSync.prototype.extractWorkPackageId=function(row){return parseInt(row.getAttribute("data-work-package-id"))},WpTableHoverSync.prototype.removeOldAndAddNewHoverClass=function(parentTableRow,parentTimelineRow){var _this=this,hovered=null!==parentTableRow?parentTableRow:parentTimelineRow,wpId=this.extractWorkPackageId(hovered),tableRow=this.tableAndTimeline.find("tr.wp-row-"+wpId).first(),timelineRow=this.tableAndTimeline.find("div.wp-row-"+wpId).first();requestAnimationFrame(function(){_this.removeAllHoverClasses(),timelineRow.addClass(cssClassRowHovered),tableRow.addClass(cssClassRowHovered),_this.lastAffectedElements.push(tableRow),_this.lastAffectedElements.push(timelineRow)})},WpTableHoverSync.prototype.removeAllHoverClasses=function(){this.lastAffectedElements.forEach(function(e){e.removeClass(cssClassRowHovered)}),this.lastAffectedElements=[]},WpTableHoverSync}();exports.WpTableHoverSync=WpTableHoverSync},function(module,exports){module.exports=function(a,n){return Array.prototype.slice.call(a,n)}},function(module,exports,__webpack_require__){"use strict";(function(global){function dragula(initialContainers,options){function isContainer(el){return drake.containers.indexOf(el)!==-1||o.isContainer(el)}function events(remove){var op=remove?"remove":"add";touchy(documentElement,op,"mousedown",grab),touchy(documentElement,op,"mouseup",release)}function eventualMovements(remove){var op=remove?"remove":"add";touchy(documentElement,op,"mousemove",startBecauseMouseMoved)}function movements(remove){var op=remove?"remove":"add";crossvent[op](documentElement,"selectstart",preventGrabbed),crossvent[op](documentElement,"click",preventGrabbed)}function destroy(){events(!0),release({})}function preventGrabbed(e){_grabbed&&e.preventDefault()}function grab(e){_moveX=e.clientX,_moveY=e.clientY;var ignore=1!==whichMouseButton(e)||e.metaKey||e.ctrlKey;if(!ignore){var item=e.target,context=canStart(item);context&&(_grabbed=context,eventualMovements(),"mousedown"===e.type&&(isInput(item)?item.focus():e.preventDefault()))}}function startBecauseMouseMoved(e){if(_grabbed){if(0===whichMouseButton(e))return void release({});if(void 0===e.clientX||e.clientX!==_moveX||void 0===e.clientY||e.clientY!==_moveY){if(o.ignoreInputTextSelection){var clientX=getCoord("clientX",e),clientY=getCoord("clientY",e),elementBehindCursor=doc.elementFromPoint(clientX,clientY);if(isInput(elementBehindCursor))return}var grabbed=_grabbed;eventualMovements(!0),movements(),end(),start(grabbed);var offset=getOffset(_item);_offsetX=getCoord("pageX",e)-offset.left,_offsetY=getCoord("pageY",e)-offset.top,classes.add(_copy||_item,"gu-transit"),renderMirrorImage(),drag(e)}}}function canStart(item){if(!(drake.dragging&&_mirror||isContainer(item))){for(var handle=item;getParent(item)&&isContainer(getParent(item))===!1;){if(o.invalid(item,handle))return;if(item=getParent(item),!item)return}var source=getParent(item);if(source&&!o.invalid(item,handle)){var movable=o.moves(item,source,handle,nextEl(item));if(movable)return{item:item,source:source}}}}function canMove(item){return!!canStart(item)}function manualStart(item){var context=canStart(item);context&&start(context)}function start(context){isCopy(context.item,context.source)&&(_copy=context.item.cloneNode(!0),drake.emit("cloned",_copy,context.item,"copy")),_source=context.source,_item=context.item,_initialSibling=_currentSibling=nextEl(context.item),drake.dragging=!0,drake.emit("drag",_item,_source)}function invalidTarget(){return!1}function end(){if(drake.dragging){var item=_copy||_item;drop(item,getParent(item))}}function ungrab(){_grabbed=!1,eventualMovements(!0),movements(!0)}function release(e){if(ungrab(),drake.dragging){var item=_copy||_item,clientX=getCoord("clientX",e),clientY=getCoord("clientY",e),elementBehindCursor=getElementBehindPoint(_mirror,clientX,clientY),dropTarget=findDropTarget(elementBehindCursor,clientX,clientY);dropTarget&&(_copy&&o.copySortSource||!_copy||dropTarget!==_source)?drop(item,dropTarget):o.removeOnSpill?remove():cancel()}}function drop(item,target){var parent=getParent(item);_copy&&o.copySortSource&&target===_source&&parent.removeChild(_item),isInitialPlacement(target)?drake.emit("cancel",item,_source,_source):drake.emit("drop",item,target,_source,_currentSibling),cleanup()}function remove(){if(drake.dragging){var item=_copy||_item,parent=getParent(item);parent&&parent.removeChild(item),drake.emit(_copy?"cancel":"remove",item,parent,_source),cleanup()}}function cancel(revert){if(drake.dragging){var reverts=arguments.length>0?revert:o.revertOnSpill,item=_copy||_item,parent=getParent(item),initial=isInitialPlacement(parent);initial===!1&&reverts&&(_copy?parent&&parent.removeChild(_copy):_source.insertBefore(item,_initialSibling)),initial||reverts?drake.emit("cancel",item,_source,_source):drake.emit("drop",item,parent,_source,_currentSibling),cleanup()}}function cleanup(){var item=_copy||_item;ungrab(),removeMirrorImage(),item&&classes.rm(item,"gu-transit"),_renderTimer&&clearTimeout(_renderTimer),drake.dragging=!1,_lastDropTarget&&drake.emit("out",item,_lastDropTarget,_source),drake.emit("dragend",item),_source=_item=_copy=_initialSibling=_currentSibling=_renderTimer=_lastDropTarget=null}function isInitialPlacement(target,s){var sibling;return sibling=void 0!==s?s:_mirror?_currentSibling:nextEl(_copy||_item),target===_source&&sibling===_initialSibling}function findDropTarget(elementBehindCursor,clientX,clientY){function accepted(){var droppable=isContainer(target);if(droppable===!1)return!1;var immediate=getImmediateChild(target,elementBehindCursor),reference=getReference(target,immediate,clientX,clientY),initial=isInitialPlacement(target,reference);return!!initial||o.accepts(_item,target,_source,reference)}for(var target=elementBehindCursor;target&&!accepted();)target=getParent(target);return target}function drag(e){function moved(type){drake.emit(type,item,_lastDropTarget,_source)}function over(){changed&&moved("over")}function out(){_lastDropTarget&&moved("out")}if(_mirror){e.preventDefault();var clientX=getCoord("clientX",e),clientY=getCoord("clientY",e),x=clientX-_offsetX,y=clientY-_offsetY;_mirror.style.left=x+"px",_mirror.style.top=y+"px";var item=_copy||_item,elementBehindCursor=getElementBehindPoint(_mirror,clientX,clientY),dropTarget=findDropTarget(elementBehindCursor,clientX,clientY),changed=null!==dropTarget&&dropTarget!==_lastDropTarget;(changed||null===dropTarget)&&(out(),_lastDropTarget=dropTarget,over());var parent=getParent(item);if(dropTarget===_source&&_copy&&!o.copySortSource)return void(parent&&parent.removeChild(item));var reference,immediate=getImmediateChild(dropTarget,elementBehindCursor);if(null!==immediate)reference=getReference(dropTarget,immediate,clientX,clientY);else{if(o.revertOnSpill!==!0||_copy)return void(_copy&&parent&&parent.removeChild(item));reference=_initialSibling,dropTarget=_source}(null===reference&&changed||reference!==item&&reference!==nextEl(item))&&(_currentSibling=reference,dropTarget.insertBefore(item,reference),drake.emit("shadow",item,dropTarget,_source))}}function spillOver(el){classes.rm(el,"gu-hide")}function spillOut(el){drake.dragging&&classes.add(el,"gu-hide")}function renderMirrorImage(){if(!_mirror){var rect=_item.getBoundingClientRect();_mirror=_item.cloneNode(!0),_mirror.style.width=getRectWidth(rect)+"px",_mirror.style.height=getRectHeight(rect)+"px",classes.rm(_mirror,"gu-transit"),classes.add(_mirror,"gu-mirror"),o.mirrorContainer.appendChild(_mirror),touchy(documentElement,"add","mousemove",drag),classes.add(o.mirrorContainer,"gu-unselectable"),drake.emit("cloned",_mirror,_item,"mirror")}}function removeMirrorImage(){_mirror&&(classes.rm(o.mirrorContainer,"gu-unselectable"),touchy(documentElement,"remove","mousemove",drag),getParent(_mirror).removeChild(_mirror),_mirror=null)}function getImmediateChild(dropTarget,target){for(var immediate=target;immediate!==dropTarget&&getParent(immediate)!==dropTarget;)immediate=getParent(immediate);return immediate===documentElement?null:immediate}function getReference(dropTarget,target,x,y){function outside(){var i,el,rect,len=dropTarget.children.length;for(i=0;i<len;i++){if(el=dropTarget.children[i],rect=el.getBoundingClientRect(),horizontal&&rect.left+rect.width/2>x)return el;if(!horizontal&&rect.top+rect.height/2>y)return el}return null}function inside(){var rect=target.getBoundingClientRect();return resolve(horizontal?x>rect.left+getRectWidth(rect)/2:y>rect.top+getRectHeight(rect)/2)}function resolve(after){return after?nextEl(target):target}var horizontal="horizontal"===o.direction,reference=target!==dropTarget?inside():outside();return reference}function isCopy(item,container){return"boolean"==typeof o.copy?o.copy:o.copy(item,container)}var len=arguments.length;1===len&&Array.isArray(initialContainers)===!1&&(options=initialContainers,initialContainers=[]);var _mirror,_source,_item,_offsetX,_offsetY,_moveX,_moveY,_initialSibling,_currentSibling,_copy,_renderTimer,_grabbed,_lastDropTarget=null,o=options||{};void 0===o.moves&&(o.moves=always),void 0===o.accepts&&(o.accepts=always),void 0===o.invalid&&(o.invalid=invalidTarget),void 0===o.containers&&(o.containers=initialContainers||[]),void 0===o.isContainer&&(o.isContainer=never),void 0===o.copy&&(o.copy=!1),void 0===o.copySortSource&&(o.copySortSource=!1),void 0===o.revertOnSpill&&(o.revertOnSpill=!1),void 0===o.removeOnSpill&&(o.removeOnSpill=!1),void 0===o.direction&&(o.direction="vertical"),void 0===o.ignoreInputTextSelection&&(o.ignoreInputTextSelection=!0),void 0===o.mirrorContainer&&(o.mirrorContainer=doc.body);var drake=emitter({containers:o.containers,start:manualStart,end:end,cancel:cancel,remove:remove,destroy:destroy,canMove:canMove,dragging:!1});return o.removeOnSpill===!0&&drake.on("over",spillOver).on("out",spillOut),events(),drake}function touchy(el,op,type,fn){var touch={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"},pointers={mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"},microsoft={mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"};global.navigator.pointerEnabled?crossvent[op](el,pointers[type],fn):global.navigator.msPointerEnabled?crossvent[op](el,microsoft[type],fn):(crossvent[op](el,touch[type],fn),crossvent[op](el,type,fn))}function whichMouseButton(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var button=e.button;return void 0!==button?1&button?1:2&button?3:4&button?2:0:void 0}function getOffset(el){var rect=el.getBoundingClientRect();return{left:rect.left+getScroll("scrollLeft","pageXOffset"),top:rect.top+getScroll("scrollTop","pageYOffset")}}function getScroll(scrollProp,offsetProp){return"undefined"!=typeof global[offsetProp]?global[offsetProp]:documentElement.clientHeight?documentElement[scrollProp]:doc.body[scrollProp]}function getElementBehindPoint(point,x,y){var el,p=point||{},state=p.className;return p.className+=" gu-hide",el=doc.elementFromPoint(x,y),p.className=state,el}function never(){return!1}function always(){return!0}function getRectWidth(rect){return rect.width||rect.right-rect.left}function getRectHeight(rect){return rect.height||rect.bottom-rect.top}function getParent(el){return el.parentNode===doc?null:el.parentNode}function isInput(el){return"INPUT"===el.tagName||"TEXTAREA"===el.tagName||"SELECT"===el.tagName||isEditable(el)}function isEditable(el){return!!el&&("false"!==el.contentEditable&&("true"===el.contentEditable||isEditable(getParent(el))))}function nextEl(el){function manually(){var sibling=el;do sibling=sibling.nextSibling;while(sibling&&1!==sibling.nodeType);return sibling}return el.nextElementSibling||manually()}function getEventHost(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}function getCoord(coord,e){var host=getEventHost(e),missMap={pageX:"clientX",pageY:"clientY"};return coord in missMap&&!(coord in host)&&missMap[coord]in host&&(coord=missMap[coord]),host[coord]}var emitter=__webpack_require__(657),crossvent=__webpack_require__(659),classes=__webpack_require__(667),doc=document,documentElement=doc.documentElement;module.exports=dragula}).call(exports,__webpack_require__(29))},function(module,exports,__webpack_require__){"use strict";var toPosInt=__webpack_require__(42),eq=__webpack_require__(72),value=__webpack_require__(19),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(other){var i,l;if(value(this)&&value(other),l=toPosInt(this.length),l!==toPosInt(other.length))return!1;for(i=0;i<l;++i){if(hasOwnProperty.call(this,i)!==hasOwnProperty.call(other,i))return!1;if(!eq(this[i],other[i]))return!1}return!0}},function(module,exports,__webpack_require__){"use strict";module.exports=function(){var arr,SubArray=__webpack_require__(215);return!!SubArray&&(arr=new SubArray,!!Array.isArray(arr)&&(arr instanceof SubArray&&(arr[34]="foo",35===arr.length)))}()},function(module,exports,__webpack_require__){"use strict";var setPrototypeOf=__webpack_require__(74),isExtensible=__webpack_require__(213);module.exports=function(){var SubArray;return isExtensible?__webpack_require__(215):setPrototypeOf?(SubArray=function(){var arr=Array.apply(this,arguments);return setPrototypeOf(arr,SubArray.prototype),arr},setPrototypeOf(SubArray,Array),SubArray.prototype=Object.create(Array.prototype,{constructor:{value:SubArray,enumerable:!1,writable:!0,configurable:!0}}),SubArray):null}()},function(module,exports,__webpack_require__){"use strict";var setPrototypeOf=__webpack_require__(74);module.exports=function(){var SubArray;return setPrototypeOf?(SubArray=function(){Array.apply(this,arguments)},setPrototypeOf(SubArray,Array),SubArray.prototype=Object.create(Array.prototype,{constructor:{value:SubArray,enumerable:!1,writable:!0,configurable:!0}}),SubArray):null}()},function(module,exports,__webpack_require__){"use strict";var isArray=Array.isArray,getPrototypeOf=Object.getPrototypeOf;module.exports=function(obj){var proto;return!(!obj||!isArray(obj))&&(proto=getPrototypeOf(obj),!!isArray(proto)&&!isArray(getPrototypeOf(proto)))}},function(module,exports,__webpack_require__){"use strict";var isArray=Array.isArray;module.exports=function(value){if(isArray(value))return value;throw new TypeError(value+" is not an array")}},function(module,exports,__webpack_require__){"use strict";var toString=Object.prototype.toString,id=toString.call(__webpack_require__(683));module.exports=function(f){return"function"==typeof f&&toString.call(f)===id}},function(module,exports,__webpack_require__){"use strict";var map={function:!0,object:!0};module.exports=function(x){return null!=x&&map[typeof x]||!1}},function(module,exports,__webpack_require__){"use strict";var callable=__webpack_require__(20),forEach=__webpack_require__(73),call=Function.prototype.call;module.exports=function(obj,cb){var o={},thisArg=arguments[2];return callable(cb),forEach(obj,function(value,key,obj,index){o[key]=call.call(cb,thisArg,value,key,obj,index)}),o}},function(module,exports,__webpack_require__){"use strict";var value=__webpack_require__(19),mixin=__webpack_require__(222),defineProperty=Object.defineProperty,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getOwnPropertyNames=Object.getOwnPropertyNames,getPrototypeOf=Object.getPrototypeOf,hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(target,source){var error,end,define;if(target=Object(value(target)),source=Object(value(source)),end=getPrototypeOf(target),source===end)return target;try{mixin(target,source)}catch(e){error=e}for(source=getPrototypeOf(source),define=function(name){if(!hasOwnProperty.call(target,name))try{defineProperty(target,name,getOwnPropertyDescriptor(source,name))}catch(e){error=e}};source&&source!==end;)getOwnPropertyNames(source).forEach(define),source=getPrototypeOf(source);if(error)throw error;return target}},function(module,exports,__webpack_require__){"use strict";var value=__webpack_require__(19),defineProperty=Object.defineProperty,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols;module.exports=function(target,source){var error,sourceObject=Object(value(source));if(target=Object(value(target)),getOwnPropertyNames(sourceObject).forEach(function(name){try{defineProperty(target,name,getOwnPropertyDescriptor(source,name))}catch(e){error=e}}),"function"==typeof getOwnPropertySymbols&&getOwnPropertySymbols(sourceObject).forEach(function(symbol){try{defineProperty(target,symbol,getOwnPropertyDescriptor(source,symbol))}catch(e){error=e}}),void 0!==error)throw error;return target}},function(module,exports,__webpack_require__){"use strict";var forEach=Array.prototype.forEach,create=Object.create,process=function(src,obj){var key;for(key in src)obj[key]=src[key]};module.exports=function(options){var result=create(null);return forEach.call(arguments,function(options){null!=options&&process(Object(options),result)}),result}},function(module,exports,__webpack_require__){"use strict";var create=Object.create,getPrototypeOf=Object.getPrototypeOf,x={};module.exports=function(){var setPrototypeOf=Object.setPrototypeOf,customCreate=arguments[0]||create;return"function"==typeof setPrototypeOf&&getPrototypeOf(setPrototypeOf(customCreate(null),x))===x}},function(module,exports,__webpack_require__){"use strict";var validate,isObject=__webpack_require__(219),value=__webpack_require__(19),isPrototypeOf=Object.prototype.isPrototypeOf,defineProperty=Object.defineProperty,nullDesc={configurable:!0,enumerable:!1,writable:!0,value:void 0};validate=function(obj,prototype){if(value(obj),null===prototype||isObject(prototype))return obj;throw new TypeError("Prototype must be null or an object")},module.exports=function(status){var fn,set;return status?(2===status.level?status.set?(set=status.set,fn=function(obj,prototype){return set.call(validate(obj,prototype),prototype),obj}):fn=function(obj,prototype){return validate(obj,prototype).__proto__=prototype,obj}:fn=function self(obj,prototype){var isNullBase;return validate(obj,prototype),isNullBase=isPrototypeOf.call(self.nullPolyfill,obj),isNullBase&&delete self.nullPolyfill.__proto__,null===prototype&&(prototype=self.nullPolyfill),obj.__proto__=prototype,isNullBase&&defineProperty(self.nullPolyfill,"__proto__",nullDesc),obj},Object.defineProperty(fn,"level",{configurable:!1,enumerable:!1,writable:!1,value:status.level})):null}(function(){var set,x=Object.create(null),y={},desc=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(desc){try{set=desc.set,set.call(x,y)}catch(ignore){}if(Object.getPrototypeOf(x)===y)return{set:set,level:2}}return x.__proto__=y,Object.getPrototypeOf(x)===y?{level:2}:(x={},x.__proto__=y,Object.getPrototypeOf(x)===y&&{level:1})}()),__webpack_require__(694)},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(698)()?String.prototype.contains:__webpack_require__(699)},function(module,exports,__webpack_require__){"use strict";var toPosInt=__webpack_require__(42);module.exports=function(optsLength,fnLength,isAsync){var length;return isNaN(optsLength)?(length=fnLength,length>=0?isAsync&&length?length-1:length:1):optsLength!==!1&&toPosInt(optsLength)}},function(module,exports,__webpack_require__){"use strict";var isObservable=__webpack_require__(720);module.exports=function(value){if(isObservable(value))return value;throw new TypeError(value+" is not an observable array")}},function(module,exports,__webpack_require__){"use strict";var Observable=__webpack_require__(45),isObservable=__webpack_require__(39),some=Array.prototype.some;module.exports=function(map){return function(a,b){var makeObservable,onChange,value=map(),current=1/0,values=arguments,l=values.length;return onChange=function(event){var val,i=0,nu=event.newValue,old=event.oldValue;if(Boolean(nu)===Boolean(old)){if(this!==current)return;return void(value.value=nu)}if(!(this>current)){if(map(nu))return current=this,void(value.value=nu);for(i=current+1;i<l;++i)if(val=isObservable(values[i])?values[i].value:values[i],map(val))return current=i,void(value.value=val);current=l-1,value.value=isObservable(values[l-1])?values[l-1].value:values[l-1]}},some.call(values,function(arg,index){if(isObservable(arg))return makeObservable=!0,arg.on("change",onChange.bind(index)),void(map(arg.value)&&!map(value)&&(value=arg.value,current=index));if(map(arg)&&!map(value)){if(value=arg,!makeObservable)return!0;current=index}})?value:makeObservable?(map(value)||(value=isObservable(values[l-1])?values[l-1].value:values[l-1]),value=new Observable(value)):l?values[l-1]:void 0}}},function(module,exports,__webpack_require__){"use strict";var Observable=__webpack_require__(45),isObservable=__webpack_require__(39),slice=Array.prototype.slice;module.exports=function(reducer,initial){return function(first,second){var value,resolveRest,makeObservable,onChange,resolve,rest,l=arguments.length;return l?1===l?first:(rest=slice.call(arguments,1),onChange=function(event){value.value=rest.reduce(resolveRest,resolve(first))},resolve=function(arg){return isObservable(arg)?(makeObservable=!0,arg.on("change",onChange),arg.value):arg},value=rest.reduce(resolveRest=function(value,arg){return reducer(value,resolve(arg))},resolve(first)),makeObservable?(resolve=function(arg){return isObservable(arg)?arg.value:arg},value=new Observable(value)):value):initial}}},function(module,exports,__webpack_require__){"use strict";function combine(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new CombinerState(t)}var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var rxjs_1=__webpack_require__(17),State_1=__webpack_require__(31),CombinerState=function(t){function e(e){var r=rxjs_1.Observable.combineLatest(e.map(function(t){return t.changes$()}),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t}),n=function(t){if(void 0===t)return!0;if(0===t.length)return!0;for(var e=0,r=t;e<r.length;e++)if(void 0===r[e])return!0;return!1},o=function(){},i=function(){};return t.call(this,r,n,o,i)||this}return __extends(e,t),e}(State_1.State);exports.CombinerState=CombinerState,exports.combine=combine},function(module,exports,__webpack_require__){
"use strict";function deriveRaw(t,e){var r=e(t.outputStreamTrailing,t);return new DerivedState(t,r,function(t){return void 0===t},void 0,void 0)}function derive(t,e,r){var n=e(t.outputStreamTrailing.filter(function(e){return!t.isNonValue(e)}),t),i=t.outputStreamTrailing.filter(function(e){return t.isNonValue(e)}).map(function(t){}),o=rxjs_1.Observable.merge(i,n);return new DerivedState(t,o,function(t){return void 0===t},void 0,r)}var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var rxjs_1=__webpack_require__(17),State_1=__webpack_require__(31),DerivedState=function(t){function e(e,r,n,i,o){var u=this,a=function(t,e){t.hasValue()||e(o)},s=function(t,e){e(i)};return u=t.call(this,r,n,a,s)||this,u.inputState=e,u.defaultWhenInputHasNonValue=o,u}return __extends(e,t),e}(State_1.State);exports.DerivedState=DerivedState,exports.deriveRaw=deriveRaw,exports.derive=derive},function(module,exports,__webpack_require__){"use strict";function input(t){return void 0===t&&(t=void 0),new InputState(t)}var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var rxjs_1=__webpack_require__(17),State_1=__webpack_require__(31),InputState=function(t){function e(e){var i=this,r=function(t){return void 0===t},s=function(t,i){i(e)},n=function(t,e){t.hasValue()&&e(void 0)},o=new rxjs_1.Subject;return i=t.call(this,o,r,s,n)||this,i.state=o,i.timestampOfLastPromise=-1,i}return __extends(e,t),e.prototype.putValue=function(t,e){return this.state.next(t),this},e.prototype.clearAndPutFromPromise=function(t){var e=this;return this.hasValue()&&this.clear(),this.timestampOfLastPromise=Date.now(),t.then(function(t){e.timestampOfLastPromise=-1,e.putValue(t)},function(){e.timestampOfLastPromise=-1,e.clear()}),this},e.prototype.isPristine=function(){return!this.hasValue()&&!this.hasActivePromiseRequest()},e.prototype.hasActivePromiseRequest=function(){return-1!==this.timestampOfLastPromise},e.prototype.isPromiseRequestOlderThan=function(t){return Date.now()-this.timestampOfLastPromise>t},e.prototype.putFromPromiseIfPristine=function(t){return this.isPristine()&&this.clearAndPutFromPromise(t()),this},e.prototype.clear=function(t){return this.putValue(void 0),this},e.prototype.doModify=function(t,e){var i=this;if(this.hasValue())this.values$().take(1).subscribe(function(e){var r=t(e);r instanceof rxjs_1.Observable?r.take(1).subscribe(function(t){i.putValue(t)}):i.putValue(r)});else{var r=e();r instanceof rxjs_1.Observable?r.take(1).subscribe(function(t){i.putValue(t)}):this.putValue(r)}return this},e}(State_1.State);exports.InputState=InputState,exports.input=input},function(module,exports,__webpack_require__){"use strict";(function(_){function logTimePeriodDivider(){if(void 0!==lastLogMessage&&Date.now()-lastLogMessage>1500){var e=Math.round((Date.now()-lastLogMessage)/1e3);console.log("[RS] "+_.repeat("-",100)+" "+e+"s")}lastLogMessage=Date.now()}function defaultLogger(e,o){if(_.hasIn(console,"group")){logTimePeriodDivider();var t=e.value;void 0!==t?console.log("%c[RS] "+e.name+" {o="+e.getSubscriberCount()+"} %o",exports.cssStyleGreenOnWhite,t):console.log("%c[RS] "+e.name+" {o="+e.getSubscriberCount()+"} %o",exports.cssStyleRedOnWhite,t)}else console.log("[RS] "+e.name+" {o="+e.getSubscriberCount()+"} = "+e.value)}function setLogger(e){logger=e}function logStateChange(e,o){isLogEnabled()&&!_.isNil(e.name)&&logger(e,o)}function enableReactiveStatesLogging(){logEnabled=!0}function isLogEnabled(){return logEnabled}Object.defineProperty(exports,"__esModule",{value:!0});var _=__webpack_require__(2);exports.cssStyleBlackOnLightblue=["background: #e1edff","color: black"].join(";"),exports.cssStyleGreyOnWhite=["background: white","color: #5b5b5b"].join(";"),exports.cssStyleBlueOnWhite=["background: white","color: #0003d5"].join(";"),exports.cssStyleGreenOnWhite=["background: white","color: #00830f"].join(";"),exports.cssStyleRedOnWhite=["background: white","color: #9d0002"].join(";");var logEnabled=!1,lastLogMessage=void 0;exports.logTimePeriodDivider=logTimePeriodDivider,exports.defaultLogger=defaultLogger;var logger=defaultLogger;exports.setLogger=setLogger,exports.logStateChange=logStateChange,exports.enableReactiveStatesLogging=enableReactiveStatesLogging,exports.isLogEnabled=isLogEnabled}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__(13),ObjectUnsubscribedError_1=__webpack_require__(85),BehaviorSubject=function(_super){function BehaviorSubject(_value){_super.call(this),this._value=_value}return __extends(BehaviorSubject,_super),Object.defineProperty(BehaviorSubject.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),BehaviorSubject.prototype._subscribe=function(subscriber){var subscription=_super.prototype._subscribe.call(this,subscriber);return subscription&&!subscription.closed&&subscriber.next(this._value),subscription},BehaviorSubject.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;return this._value},BehaviorSubject.prototype.next=function(value){_super.prototype.next.call(this,this._value=value)},BehaviorSubject}(Subject_1.Subject);exports.BehaviorSubject=BehaviorSubject},function(module,exports,__webpack_require__){"use strict";exports.empty={closed:!0,next:function(value){},error:function(err){throw err},complete:function(){}}},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscription_1=__webpack_require__(12),SubjectSubscription=function(_super){function SubjectSubscription(subject,subscriber){_super.call(this),this.subject=subject,this.subscriber=subscriber,this.closed=!1}return __extends(SubjectSubscription,_super),SubjectSubscription.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var subject=this.subject,observers=subject.observers;if(this.subject=null,observers&&0!==observers.length&&!subject.isStopped&&!subject.closed){var subscriberIndex=observers.indexOf(this.subscriber);subscriberIndex!==-1&&observers.splice(subscriberIndex,1)}}},SubjectSubscription}(Subscription_1.Subscription);exports.SubjectSubscription=SubjectSubscription},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__(13),Observable_1=__webpack_require__(1),Subscriber_1=__webpack_require__(3),Subscription_1=__webpack_require__(12),ConnectableObservable=function(_super){function ConnectableObservable(source,subjectFactory){_super.call(this),this.source=source,this.subjectFactory=subjectFactory,this._refCount=0}return __extends(ConnectableObservable,_super),ConnectableObservable.prototype._subscribe=function(subscriber){return this.getSubject().subscribe(subscriber)},ConnectableObservable.prototype.getSubject=function(){var subject=this._subject;return subject&&!subject.isStopped||(this._subject=this.subjectFactory()),this._subject},ConnectableObservable.prototype.connect=function(){var connection=this._connection;return connection||(connection=this._connection=new Subscription_1.Subscription,connection.add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(),this))),connection.closed?(this._connection=null,connection=Subscription_1.Subscription.EMPTY):this._connection=connection),connection},ConnectableObservable.prototype.refCount=function(){return this.lift(new RefCountOperator(this))},ConnectableObservable}(Observable_1.Observable);exports.ConnectableObservable=ConnectableObservable,exports.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subscribe:{value:ConnectableObservable.prototype._subscribe},getSubject:{value:ConnectableObservable.prototype.getSubject},connect:{value:ConnectableObservable.prototype.connect},refCount:{value:ConnectableObservable.prototype.refCount}};var ConnectableSubscriber=function(_super){function ConnectableSubscriber(destination,connectable){_super.call(this,destination),this.connectable=connectable}return __extends(ConnectableSubscriber,_super),ConnectableSubscriber.prototype._error=function(err){this._unsubscribe(),_super.prototype._error.call(this,err)},ConnectableSubscriber.prototype._complete=function(){this._unsubscribe(),_super.prototype._complete.call(this)},ConnectableSubscriber.prototype._unsubscribe=function(){var connectable=this.connectable;if(connectable){this.connectable=null;var connection=connectable._connection;connectable._refCount=0,connectable._subject=null,connectable._connection=null,connection&&connection.unsubscribe()}},ConnectableSubscriber}(Subject_1.SubjectSubscriber),RefCountOperator=function(){function RefCountOperator(connectable){this.connectable=connectable}return RefCountOperator.prototype.call=function(subscriber,source){var connectable=this.connectable;connectable._refCount++;var refCounter=new RefCountSubscriber(subscriber,connectable),subscription=source.subscribe(refCounter);return refCounter.closed||(refCounter.connection=connectable.connect()),subscription},RefCountOperator}(),RefCountSubscriber=function(_super){function RefCountSubscriber(destination,connectable){_super.call(this,destination),this.connectable=connectable}return __extends(RefCountSubscriber,_super),RefCountSubscriber.prototype._unsubscribe=function(){var connectable=this.connectable;if(!connectable)return void(this.connection=null);this.connectable=null;var refCount=connectable._refCount;if(refCount<=0)return void(this.connection=null);if(connectable._refCount=refCount-1,refCount>1)return void(this.connection=null);var connection=this.connection,sharedConnection=connectable._connection;this.connection=null,!sharedConnection||connection&&sharedConnection!==connection||sharedConnection.unsubscribe()},RefCountSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},isArray_1=__webpack_require__(27),isPromise_1=__webpack_require__(261),PromiseObservable_1=__webpack_require__(240),IteratorObservable_1=__webpack_require__(882),ArrayObservable_1=__webpack_require__(28),ArrayLikeObservable_1=__webpack_require__(871),iterator_1=__webpack_require__(56),Observable_1=__webpack_require__(1),observeOn_1=__webpack_require__(118),observable_1=__webpack_require__(81),isArrayLike=function(x){return x&&"number"==typeof x.length},FromObservable=function(_super){function FromObservable(ish,scheduler){_super.call(this,null),this.ish=ish,this.scheduler=scheduler}return __extends(FromObservable,_super),FromObservable.create=function(ish,scheduler){if(null!=ish){if("function"==typeof ish[observable_1.$$observable])return ish instanceof Observable_1.Observable&&!scheduler?ish:new FromObservable(ish,scheduler);if(isArray_1.isArray(ish))return new ArrayObservable_1.ArrayObservable(ish,scheduler);if(isPromise_1.isPromise(ish))return new PromiseObservable_1.PromiseObservable(ish,scheduler);if("function"==typeof ish[iterator_1.$$iterator]||"string"==typeof ish)return new IteratorObservable_1.IteratorObservable(ish,scheduler);if(isArrayLike(ish))return new ArrayLikeObservable_1.ArrayLikeObservable(ish,scheduler)}throw new TypeError((null!==ish&&typeof ish||ish)+" is not observable")},FromObservable.prototype._subscribe=function(subscriber){var ish=this.ish,scheduler=this.scheduler;return null==scheduler?ish[observable_1.$$observable]().subscribe(subscriber):ish[observable_1.$$observable]().subscribe(new observeOn_1.ObserveOnSubscriber(subscriber,scheduler,0))},FromObservable}(Observable_1.Observable);exports.FromObservable=FromObservable},function(module,exports,__webpack_require__){"use strict";function dispatchNext(arg){var value=arg.value,subscriber=arg.subscriber;subscriber.closed||(subscriber.next(value),subscriber.complete())}function dispatchError(arg){var err=arg.err,subscriber=arg.subscriber;subscriber.closed||subscriber.error(err)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},root_1=__webpack_require__(15),Observable_1=__webpack_require__(1),PromiseObservable=function(_super){function PromiseObservable(promise,scheduler){_super.call(this),this.promise=promise,this.scheduler=scheduler}return __extends(PromiseObservable,_super),PromiseObservable.create=function(promise,scheduler){return new PromiseObservable(promise,scheduler)},PromiseObservable.prototype._subscribe=function(subscriber){var _this=this,promise=this.promise,scheduler=this.scheduler;if(null==scheduler)this._isScalar?subscriber.closed||(subscriber.next(this.value),subscriber.complete()):promise.then(function(value){_this.value=value,_this._isScalar=!0,subscriber.closed||(subscriber.next(value),subscriber.complete())},function(err){subscriber.closed||subscriber.error(err)}).then(null,function(err){root_1.root.setTimeout(function(){throw err})});else if(this._isScalar){if(!subscriber.closed)return scheduler.schedule(dispatchNext,0,{value:this.value,subscriber:subscriber})}else promise.then(function(value){_this.value=value,_this._isScalar=!0,subscriber.closed||subscriber.add(scheduler.schedule(dispatchNext,0,{value:value,subscriber:subscriber}))},function(err){subscriber.closed||subscriber.add(scheduler.schedule(dispatchError,0,{err:err,subscriber:subscriber}))}).then(null,function(err){root_1.root.setTimeout(function(){throw err})})},PromiseObservable}(Observable_1.Observable);exports.PromiseObservable=PromiseObservable},function(module,exports,__webpack_require__){"use strict";function getCORSRequest(){if(root_1.root.XMLHttpRequest){var xhr=new root_1.root.XMLHttpRequest;return"withCredentials"in xhr&&(xhr.withCredentials=!!this.withCredentials),xhr}if(root_1.root.XDomainRequest)return new root_1.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function getXMLHttpRequest(){if(root_1.root.XMLHttpRequest)return new root_1.root.XMLHttpRequest;var progId=void 0;try{for(var progIds=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],i=0;i<3;i++)try{if(progId=progIds[i],new root_1.root.ActiveXObject(progId))break}catch(e){}return new root_1.root.ActiveXObject(progId)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}function ajaxGet(url,headers){return void 0===headers&&(headers=null),new AjaxObservable({method:"GET",url:url,headers:headers})}function ajaxPost(url,body,headers){return new AjaxObservable({method:"POST",url:url,body:body,headers:headers})}function ajaxDelete(url,headers){return new AjaxObservable({method:"DELETE",url:url,headers:headers})}function ajaxPut(url,body,headers){return new AjaxObservable({method:"PUT",url:url,body:body,headers:headers})}function ajaxGetJSON(url,headers){return new AjaxObservable({method:"GET",url:url,responseType:"json",headers:headers}).lift(new map_1.MapOperator(function(x,index){return x.response},null))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},root_1=__webpack_require__(15),tryCatch_1=__webpack_require__(16),errorObject_1=__webpack_require__(14),Observable_1=__webpack_require__(1),Subscriber_1=__webpack_require__(3),map_1=__webpack_require__(117);exports.ajaxGet=ajaxGet,exports.ajaxPost=ajaxPost,exports.ajaxDelete=ajaxDelete,exports.ajaxPut=ajaxPut,exports.ajaxGetJSON=ajaxGetJSON;var AjaxObservable=function(_super){function AjaxObservable(urlOrRequest){_super.call(this);var request={async:!0,createXHR:function(){return this.crossDomain?getCORSRequest.call(this):getXMLHttpRequest()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof urlOrRequest)request.url=urlOrRequest;else for(var prop in urlOrRequest)urlOrRequest.hasOwnProperty(prop)&&(request[prop]=urlOrRequest[prop]);this.request=request}return __extends(AjaxObservable,_super),AjaxObservable.prototype._subscribe=function(subscriber){return new AjaxSubscriber(subscriber,this.request)},AjaxObservable.create=function(){var create=function(urlOrRequest){return new AjaxObservable(urlOrRequest)};return create.get=ajaxGet,create.post=ajaxPost,create.delete=ajaxDelete,create.put=ajaxPut,create.getJSON=ajaxGetJSON,create}(),AjaxObservable}(Observable_1.Observable);exports.AjaxObservable=AjaxObservable;var AjaxSubscriber=function(_super){function AjaxSubscriber(destination,request){_super.call(this,destination),this.request=request,this.done=!1;var headers=request.headers=request.headers||{};request.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in headers||root_1.root.FormData&&request.body instanceof root_1.root.FormData||"undefined"==typeof request.body||(headers["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),request.body=this.serializeBody(request.body,request.headers["Content-Type"]),this.send()}return __extends(AjaxSubscriber,_super),AjaxSubscriber.prototype.next=function(e){this.done=!0;var _a=this,xhr=_a.xhr,request=_a.request,destination=_a.destination,response=new AjaxResponse(e,xhr,request);destination.next(response)},AjaxSubscriber.prototype.send=function(){var _a=this,request=_a.request,_b=_a.request,user=_b.user,method=_b.method,url=_b.url,async=_b.async,password=_b.password,headers=_b.headers,body=_b.body,createXHR=request.createXHR,xhr=tryCatch_1.tryCatch(createXHR).call(request);if(xhr===errorObject_1.errorObject)this.error(errorObject_1.errorObject.e);else{this.xhr=xhr,this.setupEvents(xhr,request);var result=void 0;if(result=user?tryCatch_1.tryCatch(xhr.open).call(xhr,method,url,async,user,password):tryCatch_1.tryCatch(xhr.open).call(xhr,method,url,async),result===errorObject_1.errorObject)return this.error(errorObject_1.errorObject.e),null;if(xhr.timeout=request.timeout,xhr.responseType=request.responseType,this.setHeaders(xhr,headers),result=body?tryCatch_1.tryCatch(xhr.send).call(xhr,body):tryCatch_1.tryCatch(xhr.send).call(xhr),result===errorObject_1.errorObject)return this.error(errorObject_1.errorObject.e),null}return xhr},AjaxSubscriber.prototype.serializeBody=function(body,contentType){if(!body||"string"==typeof body)return body;if(root_1.root.FormData&&body instanceof root_1.root.FormData)return body;if(contentType){var splitIndex=contentType.indexOf(";");splitIndex!==-1&&(contentType=contentType.substring(0,splitIndex))}switch(contentType){case"application/x-www-form-urlencoded":return Object.keys(body).map(function(key){return encodeURI(key)+"="+encodeURI(body[key])}).join("&");case"application/json":return JSON.stringify(body);default:return body}},AjaxSubscriber.prototype.setHeaders=function(xhr,headers){for(var key in headers)headers.hasOwnProperty(key)&&xhr.setRequestHeader(key,headers[key])},AjaxSubscriber.prototype.setupEvents=function(xhr,request){function xhrTimeout(e){var _a=xhrTimeout,subscriber=_a.subscriber,progressSubscriber=_a.progressSubscriber,request=_a.request;progressSubscriber&&progressSubscriber.error(e),subscriber.error(new AjaxTimeoutError(this,request))}function xhrReadyStateChange(e){var _a=xhrReadyStateChange,subscriber=_a.subscriber,progressSubscriber=_a.progressSubscriber,request=_a.request;if(4===this.readyState){var status_1=1223===this.status?204:this.status,response="text"===this.responseType?this.response||this.responseText:this.response;0===status_1&&(status_1=response?200:0),200<=status_1&&status_1<300?(progressSubscriber&&progressSubscriber.complete(),subscriber.next(e),subscriber.complete()):(progressSubscriber&&progressSubscriber.error(e),subscriber.error(new AjaxError("ajax error "+status_1,this,request)))}}var progressSubscriber=request.progressSubscriber;if(xhr.ontimeout=xhrTimeout,xhrTimeout.request=request,xhrTimeout.subscriber=this,xhrTimeout.progressSubscriber=progressSubscriber,xhr.upload&&"withCredentials"in xhr){if(progressSubscriber){var xhrProgress_1;xhrProgress_1=function(e){var progressSubscriber=xhrProgress_1.progressSubscriber;progressSubscriber.next(e)},root_1.root.XDomainRequest?xhr.onprogress=xhrProgress_1:xhr.upload.onprogress=xhrProgress_1,xhrProgress_1.progressSubscriber=progressSubscriber}var xhrError_1;xhrError_1=function(e){var _a=xhrError_1,progressSubscriber=_a.progressSubscriber,subscriber=_a.subscriber,request=_a.request;progressSubscriber&&progressSubscriber.error(e),subscriber.error(new AjaxError("ajax error",this,request))},xhr.onerror=xhrError_1,xhrError_1.request=request,xhrError_1.subscriber=this,xhrError_1.progressSubscriber=progressSubscriber}xhr.onreadystatechange=xhrReadyStateChange,xhrReadyStateChange.subscriber=this,xhrReadyStateChange.progressSubscriber=progressSubscriber,xhrReadyStateChange.request=request},AjaxSubscriber.prototype.unsubscribe=function(){var _a=this,done=_a.done,xhr=_a.xhr;!done&&xhr&&4!==xhr.readyState&&"function"==typeof xhr.abort&&xhr.abort(),_super.prototype.unsubscribe.call(this)},AjaxSubscriber}(Subscriber_1.Subscriber);exports.AjaxSubscriber=AjaxSubscriber;var AjaxResponse=function(){function AjaxResponse(originalEvent,xhr,request){switch(this.originalEvent=originalEvent,this.xhr=xhr,this.request=request,this.status=xhr.status,this.responseType=xhr.responseType||request.responseType,this.responseType){case"json":"response"in xhr?this.response=xhr.responseType?xhr.response:JSON.parse(xhr.response||xhr.responseText||"null"):this.response=JSON.parse(xhr.responseText||"null");break;case"xml":this.response=xhr.responseXML;break;case"text":default:this.response="response"in xhr?xhr.response:xhr.responseText}}return AjaxResponse}();exports.AjaxResponse=AjaxResponse;var AjaxError=function(_super){function AjaxError(message,xhr,request){_super.call(this,message),this.message=message,this.xhr=xhr,this.request=request,this.status=xhr.status}return __extends(AjaxError,_super),AjaxError}(Error);exports.AjaxError=AjaxError;var AjaxTimeoutError=function(_super){function AjaxTimeoutError(xhr,request){_super.call(this,"ajax timeout",xhr,request)}return __extends(AjaxTimeoutError,_super),AjaxTimeoutError}(AjaxError);exports.AjaxTimeoutError=AjaxTimeoutError},function(module,exports,__webpack_require__){"use strict";function distinctUntilChanged(compare,keySelector){return this.lift(new DistinctUntilChangedOperator(compare,keySelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),tryCatch_1=__webpack_require__(16),errorObject_1=__webpack_require__(14);exports.distinctUntilChanged=distinctUntilChanged;var DistinctUntilChangedOperator=function(){function DistinctUntilChangedOperator(compare,keySelector){this.compare=compare,this.keySelector=keySelector}return DistinctUntilChangedOperator.prototype.call=function(subscriber,source){return source.subscribe(new DistinctUntilChangedSubscriber(subscriber,this.compare,this.keySelector))},DistinctUntilChangedOperator}(),DistinctUntilChangedSubscriber=function(_super){function DistinctUntilChangedSubscriber(destination,compare,keySelector){_super.call(this,destination),this.keySelector=keySelector,this.hasKey=!1,"function"==typeof compare&&(this.compare=compare)}return __extends(DistinctUntilChangedSubscriber,_super),DistinctUntilChangedSubscriber.prototype.compare=function(x,y){return x===y},DistinctUntilChangedSubscriber.prototype._next=function(value){var keySelector=this.keySelector,key=value;if(keySelector&&(key=tryCatch_1.tryCatch(this.keySelector)(value),key===errorObject_1.errorObject))return this.destination.error(errorObject_1.errorObject.e);var result=!1;if(this.hasKey){if(result=tryCatch_1.tryCatch(this.compare)(this.key,key),result===errorObject_1.errorObject)return this.destination.error(errorObject_1.errorObject.e)}else this.hasKey=!0;Boolean(result)===!1&&(this.key=key,this.destination.next(value))},DistinctUntilChangedSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function filter(predicate,thisArg){return this.lift(new FilterOperator(predicate,thisArg))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3);exports.filter=filter;var FilterOperator=function(){function FilterOperator(predicate,thisArg){this.predicate=predicate,this.thisArg=thisArg}return FilterOperator.prototype.call=function(subscriber,source){return source.subscribe(new FilterSubscriber(subscriber,this.predicate,this.thisArg))},FilterOperator}(),FilterSubscriber=function(_super){function FilterSubscriber(destination,predicate,thisArg){_super.call(this,destination),this.predicate=predicate,this.thisArg=thisArg,this.count=0,this.predicate=predicate}return __extends(FilterSubscriber,_super),FilterSubscriber.prototype._next=function(value){var result;try{result=this.predicate.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}result&&this.destination.next(value)},FilterSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function find(predicate,thisArg){if("function"!=typeof predicate)throw new TypeError("predicate is not a function");return this.lift(new FindValueOperator(predicate,this,!1,thisArg))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3);exports.find=find;var FindValueOperator=function(){function FindValueOperator(predicate,source,yieldIndex,thisArg){this.predicate=predicate,this.source=source,this.yieldIndex=yieldIndex,this.thisArg=thisArg}return FindValueOperator.prototype.call=function(observer,source){return source.subscribe(new FindValueSubscriber(observer,this.predicate,this.source,this.yieldIndex,this.thisArg))},FindValueOperator}();exports.FindValueOperator=FindValueOperator;var FindValueSubscriber=function(_super){function FindValueSubscriber(destination,predicate,source,yieldIndex,thisArg){_super.call(this,destination),this.predicate=predicate,this.source=source,this.yieldIndex=yieldIndex,this.thisArg=thisArg,this.index=0}return __extends(FindValueSubscriber,_super),FindValueSubscriber.prototype.notifyComplete=function(value){var destination=this.destination;destination.next(value),destination.complete()},FindValueSubscriber.prototype._next=function(value){var _a=this,predicate=_a.predicate,thisArg=_a.thisArg,index=this.index++;try{var result=predicate.call(thisArg||this,value,index,this.source);result&&this.notifyComplete(this.yieldIndex?index:value)}catch(err){this.destination.error(err)}},FindValueSubscriber.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},FindValueSubscriber}(Subscriber_1.Subscriber);exports.FindValueSubscriber=FindValueSubscriber},function(module,exports,__webpack_require__){"use strict";function merge(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];return this.lift.call(mergeStatic.apply(void 0,[this].concat(observables)))}function mergeStatic(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];var concurrent=Number.POSITIVE_INFINITY,scheduler=null,last=observables[observables.length-1];return isScheduler_1.isScheduler(last)?(scheduler=observables.pop(),observables.length>1&&"number"==typeof observables[observables.length-1]&&(concurrent=observables.pop())):"number"==typeof last&&(concurrent=observables.pop()),null===scheduler&&1===observables.length?observables[0]:new ArrayObservable_1.ArrayObservable(observables,scheduler).lift(new mergeAll_1.MergeAllOperator(concurrent))}var ArrayObservable_1=__webpack_require__(28),mergeAll_1=__webpack_require__(80),isScheduler_1=__webpack_require__(33);exports.merge=merge,exports.mergeStatic=mergeStatic},function(module,exports,__webpack_require__){"use strict";function mergeMap(project,resultSelector,concurrent){return void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),"number"==typeof resultSelector&&(concurrent=resultSelector,resultSelector=null),this.lift(new MergeMapOperator(project,resultSelector,concurrent))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},subscribeToResult_1=__webpack_require__(6),OuterSubscriber_1=__webpack_require__(5);exports.mergeMap=mergeMap;var MergeMapOperator=function(){function MergeMapOperator(project,resultSelector,concurrent){void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),this.project=project,this.resultSelector=resultSelector,this.concurrent=concurrent}return MergeMapOperator.prototype.call=function(observer,source){return source.subscribe(new MergeMapSubscriber(observer,this.project,this.resultSelector,this.concurrent))},MergeMapOperator}();exports.MergeMapOperator=MergeMapOperator;var MergeMapSubscriber=function(_super){function MergeMapSubscriber(destination,project,resultSelector,concurrent){void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),_super.call(this,destination),this.project=project,this.resultSelector=resultSelector,this.concurrent=concurrent,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return __extends(MergeMapSubscriber,_super),MergeMapSubscriber.prototype._next=function(value){this.active<this.concurrent?this._tryNext(value):this.buffer.push(value)},MergeMapSubscriber.prototype._tryNext=function(value){var result,index=this.index++;try{result=this.project(value,index)}catch(err){return void this.destination.error(err)}this.active++,this._innerSub(result,value,index)},MergeMapSubscriber.prototype._innerSub=function(ish,value,index){this.add(subscribeToResult_1.subscribeToResult(this,ish,value,index))},MergeMapSubscriber.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},MergeMapSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.resultSelector?this._notifyResultSelector(outerValue,innerValue,outerIndex,innerIndex):this.destination.next(innerValue)},MergeMapSubscriber.prototype._notifyResultSelector=function(outerValue,innerValue,outerIndex,innerIndex){var result;try{result=this.resultSelector(outerValue,innerValue,outerIndex,innerIndex);
}catch(err){return void this.destination.error(err)}this.destination.next(result)},MergeMapSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub),this.active--,buffer.length>0?this._next(buffer.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},MergeMapSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.MergeMapSubscriber=MergeMapSubscriber},function(module,exports,__webpack_require__){"use strict";function mergeMapTo(innerObservable,resultSelector,concurrent){return void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),"number"==typeof resultSelector&&(concurrent=resultSelector,resultSelector=null),this.lift(new MergeMapToOperator(innerObservable,resultSelector,concurrent))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.mergeMapTo=mergeMapTo;var MergeMapToOperator=function(){function MergeMapToOperator(ish,resultSelector,concurrent){void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),this.ish=ish,this.resultSelector=resultSelector,this.concurrent=concurrent}return MergeMapToOperator.prototype.call=function(observer,source){return source.subscribe(new MergeMapToSubscriber(observer,this.ish,this.resultSelector,this.concurrent))},MergeMapToOperator}();exports.MergeMapToOperator=MergeMapToOperator;var MergeMapToSubscriber=function(_super){function MergeMapToSubscriber(destination,ish,resultSelector,concurrent){void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),_super.call(this,destination),this.ish=ish,this.resultSelector=resultSelector,this.concurrent=concurrent,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return __extends(MergeMapToSubscriber,_super),MergeMapToSubscriber.prototype._next=function(value){if(this.active<this.concurrent){var resultSelector=this.resultSelector,index=this.index++,ish=this.ish,destination=this.destination;this.active++,this._innerSub(ish,destination,resultSelector,value,index)}else this.buffer.push(value)},MergeMapToSubscriber.prototype._innerSub=function(ish,destination,resultSelector,value,index){this.add(subscribeToResult_1.subscribeToResult(this,ish,value,index))},MergeMapToSubscriber.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},MergeMapToSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var _a=this,resultSelector=_a.resultSelector,destination=_a.destination;resultSelector?this.trySelectResult(outerValue,innerValue,outerIndex,innerIndex):destination.next(innerValue)},MergeMapToSubscriber.prototype.trySelectResult=function(outerValue,innerValue,outerIndex,innerIndex){var result,_a=this,resultSelector=_a.resultSelector,destination=_a.destination;try{result=resultSelector(outerValue,innerValue,outerIndex,innerIndex)}catch(err){return void destination.error(err)}destination.next(result)},MergeMapToSubscriber.prototype.notifyError=function(err){this.destination.error(err)},MergeMapToSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub),this.active--,buffer.length>0?this._next(buffer.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},MergeMapToSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.MergeMapToSubscriber=MergeMapToSubscriber},function(module,exports,__webpack_require__){"use strict";function onErrorResumeNext(){for(var nextSources=[],_i=0;_i<arguments.length;_i++)nextSources[_i-0]=arguments[_i];return 1===nextSources.length&&isArray_1.isArray(nextSources[0])&&(nextSources=nextSources[0]),this.lift(new OnErrorResumeNextOperator(nextSources))}function onErrorResumeNextStatic(){for(var nextSources=[],_i=0;_i<arguments.length;_i++)nextSources[_i-0]=arguments[_i];var source=null;return 1===nextSources.length&&isArray_1.isArray(nextSources[0])&&(nextSources=nextSources[0]),source=nextSources.shift(),new FromObservable_1.FromObservable(source,null).lift(new OnErrorResumeNextOperator(nextSources))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},FromObservable_1=__webpack_require__(239),isArray_1=__webpack_require__(27),OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.onErrorResumeNext=onErrorResumeNext,exports.onErrorResumeNextStatic=onErrorResumeNextStatic;var OnErrorResumeNextOperator=function(){function OnErrorResumeNextOperator(nextSources){this.nextSources=nextSources}return OnErrorResumeNextOperator.prototype.call=function(subscriber,source){return source.subscribe(new OnErrorResumeNextSubscriber(subscriber,this.nextSources))},OnErrorResumeNextOperator}(),OnErrorResumeNextSubscriber=function(_super){function OnErrorResumeNextSubscriber(destination,nextSources){_super.call(this,destination),this.destination=destination,this.nextSources=nextSources}return __extends(OnErrorResumeNextSubscriber,_super),OnErrorResumeNextSubscriber.prototype.notifyError=function(error,innerSub){this.subscribeToNextSource()},OnErrorResumeNextSubscriber.prototype.notifyComplete=function(innerSub){this.subscribeToNextSource()},OnErrorResumeNextSubscriber.prototype._error=function(err){this.subscribeToNextSource()},OnErrorResumeNextSubscriber.prototype._complete=function(){this.subscribeToNextSource()},OnErrorResumeNextSubscriber.prototype.subscribeToNextSource=function(){var next=this.nextSources.shift();next?this.add(subscribeToResult_1.subscribeToResult(this,next)):this.destination.complete()},OnErrorResumeNextSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function race(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];return 1===observables.length&&isArray_1.isArray(observables[0])&&(observables=observables[0]),this.lift.call(raceStatic.apply(void 0,[this].concat(observables)))}function raceStatic(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];if(1===observables.length){if(!isArray_1.isArray(observables[0]))return observables[0];observables=observables[0]}return new ArrayObservable_1.ArrayObservable(observables).lift(new RaceOperator)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},isArray_1=__webpack_require__(27),ArrayObservable_1=__webpack_require__(28),OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.race=race,exports.raceStatic=raceStatic;var RaceOperator=function(){function RaceOperator(){}return RaceOperator.prototype.call=function(subscriber,source){return source.subscribe(new RaceSubscriber(subscriber))},RaceOperator}();exports.RaceOperator=RaceOperator;var RaceSubscriber=function(_super){function RaceSubscriber(destination){_super.call(this,destination),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return __extends(RaceSubscriber,_super),RaceSubscriber.prototype._next=function(observable){this.observables.push(observable)},RaceSubscriber.prototype._complete=function(){var observables=this.observables,len=observables.length;if(0===len)this.destination.complete();else{for(var i=0;i<len&&!this.hasFirst;i++){var observable=observables[i],subscription=subscribeToResult_1.subscribeToResult(this,observable,observable,i);this.subscriptions&&this.subscriptions.push(subscription),this.add(subscription)}this.observables=null}},RaceSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==outerIndex){var subscription=this.subscriptions[i];subscription.unsubscribe(),this.remove(subscription)}this.subscriptions=null}this.destination.next(innerValue)},RaceSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.RaceSubscriber=RaceSubscriber},function(module,exports,__webpack_require__){"use strict";function timeInterval(scheduler){return void 0===scheduler&&(scheduler=async_1.async),this.lift(new TimeIntervalOperator(scheduler))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),async_1=__webpack_require__(18);exports.timeInterval=timeInterval;var TimeInterval=function(){function TimeInterval(value,interval){this.value=value,this.interval=interval}return TimeInterval}();exports.TimeInterval=TimeInterval;var TimeIntervalOperator=function(){function TimeIntervalOperator(scheduler){this.scheduler=scheduler}return TimeIntervalOperator.prototype.call=function(observer,source){return source.subscribe(new TimeIntervalSubscriber(observer,this.scheduler))},TimeIntervalOperator}(),TimeIntervalSubscriber=function(_super){function TimeIntervalSubscriber(destination,scheduler){_super.call(this,destination),this.scheduler=scheduler,this.lastTime=0,this.lastTime=scheduler.now()}return __extends(TimeIntervalSubscriber,_super),TimeIntervalSubscriber.prototype._next=function(value){var now=this.scheduler.now(),span=now-this.lastTime;this.lastTime=now,this.destination.next(new TimeInterval(value,span))},TimeIntervalSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function timestamp(scheduler){return void 0===scheduler&&(scheduler=async_1.async),this.lift(new TimestampOperator(scheduler))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),async_1=__webpack_require__(18);exports.timestamp=timestamp;var Timestamp=function(){function Timestamp(value,timestamp){this.value=value,this.timestamp=timestamp}return Timestamp}();exports.Timestamp=Timestamp;var TimestampOperator=function(){function TimestampOperator(scheduler){this.scheduler=scheduler}return TimestampOperator.prototype.call=function(observer,source){return source.subscribe(new TimestampSubscriber(observer,this.scheduler))},TimestampOperator}(),TimestampSubscriber=function(_super){function TimestampSubscriber(destination,scheduler){_super.call(this,destination),this.scheduler=scheduler}return __extends(TimestampSubscriber,_super),TimestampSubscriber.prototype._next=function(value){var now=this.scheduler.now();this.destination.next(new Timestamp(value,now))},TimestampSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AsyncAction_1=__webpack_require__(54),AsyncScheduler_1=__webpack_require__(55),VirtualTimeScheduler=function(_super){function VirtualTimeScheduler(SchedulerAction,maxFrames){var _this=this;void 0===SchedulerAction&&(SchedulerAction=VirtualAction),void 0===maxFrames&&(maxFrames=Number.POSITIVE_INFINITY),_super.call(this,SchedulerAction,function(){return _this.frame}),this.maxFrames=maxFrames,this.frame=0,this.index=-1}return __extends(VirtualTimeScheduler,_super),VirtualTimeScheduler.prototype.flush=function(){for(var error,action,_a=this,actions=_a.actions,maxFrames=_a.maxFrames;(action=actions.shift())&&(this.frame=action.delay)<=maxFrames&&!(error=action.execute(action.state,action.delay)););if(error){for(;action=actions.shift();)action.unsubscribe();throw error}},VirtualTimeScheduler.frameTimeFactor=10,VirtualTimeScheduler}(AsyncScheduler_1.AsyncScheduler);exports.VirtualTimeScheduler=VirtualTimeScheduler;var VirtualAction=function(_super){function VirtualAction(scheduler,work,index){void 0===index&&(index=scheduler.index+=1),_super.call(this,scheduler,work),this.scheduler=scheduler,this.work=work,this.index=index,this.index=scheduler.index=index}return __extends(VirtualAction,_super),VirtualAction.prototype.schedule=function(state,delay){if(void 0===delay&&(delay=0),!this.id)return _super.prototype.schedule.call(this,state,delay);var action=new VirtualAction(this.scheduler,this.work);return this.add(action),action.schedule(state,delay)},VirtualAction.prototype.requestAsyncId=function(scheduler,id,delay){void 0===delay&&(delay=0),this.delay=scheduler.frame+delay;var actions=scheduler.actions;return actions.push(this),actions.sort(VirtualAction.sortActions),!0},VirtualAction.prototype.recycleAsyncId=function(scheduler,id,delay){void 0===delay&&(delay=0)},VirtualAction.sortActions=function(a,b){return a.delay===b.delay?a.index===b.index?0:a.index>b.index?1:-1:a.delay>b.delay?1:-1},VirtualAction}(AsyncAction_1.AsyncAction);exports.VirtualAction=VirtualAction},function(module,exports,__webpack_require__){"use strict";var AsapAction_1=__webpack_require__(999),AsapScheduler_1=__webpack_require__(1e3);exports.asap=new AsapScheduler_1.AsapScheduler(AsapAction_1.AsapAction)},function(module,exports,__webpack_require__){"use strict";var QueueAction_1=__webpack_require__(1001),QueueScheduler_1=__webpack_require__(1002);exports.queue=new QueueScheduler_1.QueueScheduler(QueueAction_1.QueueAction)},function(module,exports,__webpack_require__){"use strict";var SubscriptionLog=function(){function SubscriptionLog(subscribedFrame,unsubscribedFrame){void 0===unsubscribedFrame&&(unsubscribedFrame=Number.POSITIVE_INFINITY),this.subscribedFrame=subscribedFrame,this.unsubscribedFrame=unsubscribedFrame}return SubscriptionLog}();exports.SubscriptionLog=SubscriptionLog},function(module,exports,__webpack_require__){"use strict";var SubscriptionLog_1=__webpack_require__(255),SubscriptionLoggable=function(){function SubscriptionLoggable(){this.subscriptions=[]}return SubscriptionLoggable.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new SubscriptionLog_1.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},SubscriptionLoggable.prototype.logUnsubscribedFrame=function(index){var subscriptionLogs=this.subscriptions,oldSubscriptionLog=subscriptionLogs[index];subscriptionLogs[index]=new SubscriptionLog_1.SubscriptionLog(oldSubscriptionLog.subscribedFrame,this.scheduler.now())},SubscriptionLoggable}();exports.SubscriptionLoggable=SubscriptionLoggable},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},TimeoutError=function(_super){function TimeoutError(){var err=_super.call(this,"Timeout has occurred");this.name=err.name="TimeoutError",this.stack=err.stack,this.message=err.message}return __extends(TimeoutError,_super),TimeoutError}(Error);exports.TimeoutError=TimeoutError},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},UnsubscriptionError=function(_super){function UnsubscriptionError(errors){_super.call(this),this.errors=errors;var err=Error.call(this,errors?errors.length+" errors occurred during unsubscription:\n  "+errors.map(function(err,i){return i+1+") "+err.toString()}).join("\n  "):"");this.name=err.name="UnsubscriptionError",this.stack=err.stack,this.message=err.message}return __extends(UnsubscriptionError,_super),UnsubscriptionError}(Error);exports.UnsubscriptionError=UnsubscriptionError},function(module,exports,__webpack_require__){"use strict";function applyMixins(derivedCtor,baseCtors){for(var i=0,len=baseCtors.length;i<len;i++)for(var baseCtor=baseCtors[i],propertyKeys=Object.getOwnPropertyNames(baseCtor.prototype),j=0,len2=propertyKeys.length;j<len2;j++){var name_1=propertyKeys[j];derivedCtor.prototype[name_1]=baseCtor.prototype[name_1]}}exports.applyMixins=applyMixins},function(module,exports,__webpack_require__){"use strict";function isObject(x){return null!=x&&"object"==typeof x}exports.isObject=isObject},function(module,exports,__webpack_require__){"use strict";function isPromise(value){return value&&"function"!=typeof value.subscribe&&"function"==typeof value.then}exports.isPromise=isPromise},function(module,exports,__webpack_require__){"use strict";function noop(){}exports.noop=noop},function(module,exports,__webpack_require__){"use strict";function getDef(f,d){return"undefined"==typeof f?"undefined"==typeof d?f:d:f}function boolean(func,def){return func=getDef(func,def),"function"==typeof func?function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return!!func.apply(this,args)}:func?function(){return!0}:function(){return!1}}function integer(func,def){return func=getDef(func,def),"function"==typeof func?function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];var n=parseInt(func.apply(this,args),10);return n!=n?0:n}:(func=parseInt(func,10),func!=func?function(){return 0}:function(){return func})}function string(func,def){return func=getDef(func,def),"function"==typeof func?function(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];return""+func.apply(this,args)}:(func=""+func,function(){return func})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.boolean=boolean,exports.integer=integer,exports.string=string},function(module,exports,__webpack_require__){__webpack_require__(1133),__webpack_require__(277),__webpack_require__(278),__webpack_require__(276),__webpack_require__(275),__webpack_require__(272),__webpack_require__(273),__webpack_require__(274);var documentLang=(angular.element("html").attr("lang")||"en").toLowerCase();__webpack_require__(270)("./angular-locale_"+documentLang+".js");var opApp=__webpack_require__(0).default;window.appBasePath=jQuery("meta[name=app_base_path]").attr("content")||"",opApp.config(["$compileProvider","$locationProvider","$httpProvider",function($compileProvider,$locationProvider,$httpProvider){$compileProvider.debugInfoEnabled("development"===window.openProject.environment),$locationProvider.html5Mode(!0),$httpProvider.defaults.headers.common["X-CSRF-TOKEN"]=jQuery("meta[name=csrf-token]").attr("content"),$httpProvider.defaults.headers.common["X-Authentication-Scheme"]="Session",$httpProvider.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",$httpProvider.interceptors.push(["$q",function($q){return{request:function(config){return config.url.match("(^/templates|\\.html$|^"+window.appBasePath+")")||(config.url=window.appBasePath+config.url),config||$q.when(config)}}}]),angular.element("body").attr("global-drag-and-drop-handler","")}]).run(["$http","$rootScope","$window","TimezoneService","ExpressionService","CacheService","KeyboardShortcutService",function($http,$rootScope,$window,TimezoneService,ExpressionService,CacheService,KeyboardShortcutService){$http.defaults.headers.common.Accept="application/json",$rootScope.DOUBLE_LEFT_CURLY_BRACE=ExpressionService.UNESCAPED_EXPRESSION,$window.innerWidth<680?$rootScope.showNavigation=!1:$rootScope.showNavigation="collapsed"!==$window.sessionStorage.getItem("openproject:navigation-toggle"),TimezoneService.setupLocale(),KeyboardShortcutService.activate(),"test"===$window.openProject.environment&&CacheService.disableCaching(),$rootScope.$on("$stateChangeError",function(event){event.preventDefault()})}]),__webpack_require__(506),__webpack_require__(511),__webpack_require__(516),__webpack_require__(517),__webpack_require__(522),__webpack_require__(531),__webpack_require__(547),__webpack_require__(586),__webpack_require__(608),__webpack_require__(271);var requireGlobals=__webpack_require__(268);requireGlobals.keys().forEach(requireGlobals);var requireTemplate=__webpack_require__(269);requireTemplate.keys().forEach(requireTemplate);var requireComponent=__webpack_require__(267);requireComponent.keys().forEach(requireComponent);const debugOutput=__webpack_require__(9);debugOutput.whenDebugging(function(){const reactivestates=__webpack_require__(26);reactivestates.enableReactiveStatesLogging()})},,,function(module,exports,__webpack_require__){function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){var id=map[req];if(!(id+1))throw new Error("Cannot find module '"+req+"'.");return id}var map={"./angular/angular-injector-bridge.functions.ts":4,"./angular/simple-template-renderer.ts":279,"./animations/toggle-slide.animation.ts":280,"./api/api-paths/api-paths.config.ts":281,"./api/api-paths/api-paths.service.ts":282,"./api/api-paths/v3-path.ts":283,"./api/api-v3-cache.config.ts":284,"./api/api-v3/api-v3-filter-builder.ts":57,"./api/api-v3/hal-link/hal-link.service.ts":127,"./api/api-v3/hal-request/hal-request.service.ts":285,"./api/api-v3/hal-resource-dms/configuration-dm.service.ts":286,"./api/api-v3/hal-resource-dms/help-text-dm.service.ts":287,"./api/api-v3/hal-resource-dms/payload-dm.service.ts":288,"./api/api-v3/hal-resource-dms/query-dm.service.ts":289,"./api/api-v3/hal-resource-dms/query-form-dm.service.ts":290,"./api/api-v3/hal-resource-dms/relations-dm.service.ts":291,"./api/api-v3/hal-resource-dms/root-dm.service.ts":292,"./api/api-v3/hal-resource-factory/hal-resource-factory.service.ts":293,"./api/api-v3/hal-resource-types/hal-resource-types.config.ts":294,"./api/api-v3/hal-resource-types/hal-resource-types.service.ts":295,"./api/api-v3/hal-resources/attachment-collection-resource.service.ts":296,"./api/api-v3/hal-resources/collection-resource.service.ts":88,"./api/api-v3/hal-resources/configuration-resource.service.ts":297,"./api/api-v3/hal-resources/error-resource.service.ts":47,"./api/api-v3/hal-resources/form-resource.service.ts":128,"./api/api-v3/hal-resources/hal-resource.service.ts":7,"./api/api-v3/hal-resources/help-text-resource.service.ts":298,"./api/api-v3/hal-resources/project-resource.service.ts":299,"./api/api-v3/hal-resources/query-filter-instance-resource.service.ts":89,"./api/api-v3/hal-resources/query-filter-instance-schema-resource.service.ts":300,"./api/api-v3/hal-resources/query-filter-resource.service.ts":301,"./api/api-v3/hal-resources/query-form-resource.service.ts":302,"./api/api-v3/hal-resources/query-group-by-resource.service.ts":303,"./api/api-v3/hal-resources/query-operator-resource.service.ts":304,"./api/api-v3/hal-resources/query-resource.service.ts":305,"./api/api-v3/hal-resources/query-schema-resource.service.ts":306,"./api/api-v3/hal-resources/query-sort-by-resource.service.ts":58,"./api/api-v3/hal-resources/relation-resource.service.ts":90,"./api/api-v3/hal-resources/root-resource.service.ts":307,"./api/api-v3/hal-resources/schema-dependency-resource.service.ts":129,"./api/api-v3/hal-resources/schema-resource.service.ts":130,"./api/api-v3/hal-resources/type-resource.service.ts":131,"./api/api-v3/hal-resources/user-resource.service.ts":308,"./api/api-v3/hal-resources/work-package-resource.service.ts":59,"./api/api-v3/hal-resources/wp-collection-resource.service.ts":309,"./api/api-work-packages/api-work-packages.service.ts":310,"./api/app-base-path/app-base-path.service.ts":311,"./api/op-file-upload/op-file-upload.service.ts":312,"./api/path-builder/path-builder.service.ts":313,"./api/urijs/urijs.service.ts":314,"./caching/cache-service.service.ts":315,"./common/autocomplete/users/user-autocomplete-item.html":1018,"./common/collapsible-section/collapsible-section.directive.html":1019,"./common/collapsible-section/collapsible-section.directive.ts":316,"./common/config/configuration.service.ts":317,"./common/edit-actions-bar/edit-actions-bar.directive.html":1020,"./common/edit-actions-bar/edit-actions-bar.directive.ts":318,"./common/filters/html-escape.filter.ts":319,"./common/focus-within/focus-within.directive.ts":320,"./common/global-drag-and-drop-handler/global-drag-and-drop-handler.directive.ts":321,"./common/has-preview/has-preview.directive.ts":322,"./common/help-texts/attribute-help-text.directive.ts":323,"./common/help-texts/attribute-help-text.service.ts":324,"./common/help-texts/help-text.directive.html":1021,"./common/help-texts/help-text.modal.html":1022,"./common/icon/op-icon.ts":325,"./common/keyCodes.enum.ts":40,"./common/latest-items/latest-items.filter.js":495,"./common/lazy/lazy.service.ts":326,"./common/loading-indicator/loading-indicator.service.ts":327,"./common/model-auth/model-auth.service.js":496,"./common/notification-box/notification-box.directive.html":1023,"./common/notification-box/notification-box.directive.js":497,"./common/notifications/notifications.service.ts":328,"./common/path-heleper/path-helper.functions.ts":132,"./common/path-heleper/path-helper.service.js":498,"./common/remote/refresh-on-form-changes.directive.ts":329,"./common/remote/remote-field-updater.directive.ts":330,"./common/set-click-position/set-click-position.ts":91,"./common/ui/detect-dimension-changes.directive.ts":331,"./common/ui/op-drag-scroll.directive.ts":332,"./common/urijs/urijs.service.ts":333,"./common/xss/bindUnescapedHtml/bindUnescapedHtml.directive.ts":334,"./common/xss/expression.service.ts":335,"./context-menus/column-context-menu/column-context-menu.controller.ts":336,"./context-menus/column-context-menu/column-context-menu.service.js":499,"./context-menus/column-context-menu/column-context-menu.template.html":1024,"./context-menus/context-menu.service.ts":337,"./context-menus/create-wp-menu/create-wp-menu.controller.ts":338,"./context-menus/create-wp-menu/create-wp-menu.service.html":1025,"./context-menus/create-wp-menu/create-wp-menu.service.ts":339,"./context-menus/has-dropdown-menu/has-dropdown-menu-directive.ts":340,"./context-menus/settings-menu/settings-menu.controller.ts":341,"./context-menus/settings-menu/settings-menu.service.html":1026,"./context-menus/settings-menu/settings-menu.service.ts":342,"./context-menus/show-more-menu/show-more-menu.service.ts":343,"./context-menus/types-context-menu/types-context-menu.service.html":1027,"./context-menus/types-context-menu/types-context-menu.service.ts":344,"./context-menus/wp-context-menu/wp-context-menu.controller.ts":345,"./context-menus/wp-context-menu/wp-context-menu.service.html":1028,"./context-menus/wp-context-menu/wp-context-menu.service.ts":346,"./filters/abstract-filter-date-time-value/abstract-filter-date-time-value.controller.ts":92,"./filters/filter-boolean-value/filter-boolean-value.directive.html":1029,"./filters/filter-boolean-value/filter-boolean-value.directive.ts":347,"./filters/filter-container/filter-container.directive.html":1030,"./filters/filter-container/filter-container.directive.ts":348,"./filters/filter-date-time-value/filter-date-time-value.directive.html":1031,"./filters/filter-date-time-value/filter-date-time-value.directive.ts":349,"./filters/filter-date-times-value/filter-date-times-value.directive.html":1032,"./filters/filter-date-times-value/filter-date-times-value.directive.ts":350,"./filters/filter-date-value/filter-date-value.directive.html":1033,"./filters/filter-date-value/filter-date-value.directive.ts":351,"./filters/filter-dates-value/filter-dates-value.directive.html":1034,"./filters/filter-dates-value/filter-dates-value.directive.ts":352,"./filters/filter-integer-value/filter-integer-value.directive.html":1035,"./filters/filter-integer-value/filter-integer-value.directive.ts":353,"./filters/filter-string-value/filter-string-value.directive.html":1036,"./filters/filter-string-value/filter-string-value.directive.ts":354,"./filters/filter-toggled-multiselect-value/filter-toggled-multiselect-value.directive.html":1037,"./filters/filter-toggled-multiselect-value/filter-toggled-multiselect-value.directive.ts":355,"./filters/filters.constants.ts":356,"./filters/query-filter/query-filter.directive.ts":357,"./filters/query-filters/query-filters.directive.html":1038,"./filters/query-filters/query-filters.directive.ts":358,"./filters/wp-filters/wp-filters.service.ts":359,"./input/op-auto-complete.directive.ts":360,"./input/transformers/external-2-internal-float.filter.ts":361,"./input/transformers/internal-2-external-float.filter.ts":362,"./input/transformers/transform-date-utc.directive.ts":363,"./input/transformers/transform-date.directive.ts":364,"./input/transformers/transform-duration.directive.ts":365,"./input/transformers/transform-float.directive.ts":366,"./modals/columns-modal/columns-modal.controller.ts":367,"./modals/columns-modal/columns-modal.service.html":1039,"./modals/columns-modal/columns-modal.service.ts":368,"./modals/confirm-dialog/confirm-dialog.modal.html":1040,"./modals/confirm-dialog/confirm-dialog.service.ts":369,"./modals/confirm-form-submit/confirm-form-submit.directive.ts":370,"./modals/export-modal/export-modal.controller.ts":371,"./modals/export-modal/export-modal.service.html":1041,"./modals/export-modal/export-modal.service.ts":372,"./modals/grouping-modal/grouping-modal.controller.ts":373,"./modals/grouping-modal/grouping-modal.service.html":1042,"./modals/grouping-modal/grouping-modal.service.ts":374,"./modals/modal-wrapper/modal-wrapper.directive.ts":375,"./modals/request-for-confirmation/request-for-confirmation.directive.ts":376,"./modals/request-for-confirmation/request-for-confirmation.modal.html":1043,"./modals/save-modal/save-modal.controller.ts":377,"./modals/save-modal/save-modal.service.html":1044,"./modals/save-modal/save-modal.service.ts":378,"./modals/settings-modal/settings-modal.controller.ts":379,"./modals/settings-modal/settings-modal.service.html":1045,"./modals/settings-modal/settings-modal.service.ts":380,"./modals/share-modal/query-sharing-form.directive.ts":381,"./modals/share-modal/query-sharing-form.html":1046,"./modals/share-modal/share-modal.controller.ts":382,"./modals/share-modal/share-modal.service.html":1047,"./modals/share-modal/share-modal.service.ts":383,"./modals/sorting-modal/sorting-modal.controller.ts":384,"./modals/sorting-modal/sorting-modal.service.html":1048,"./modals/sorting-modal/sorting-modal.service.ts":385,"./open-project.module.ts":133,"./responsive/responsive-view.service.ts":386,"./routing/main/work-packages.controller.js":500,"./routing/main/work-packages.html":1049,"./routing/main/work-packages.new.html":1050,"./routing/ui-router.config.ts":387,"./routing/wp-details/wp-details.controller.ts":388,"./routing/wp-details/wp.list.details.html":1051,"./routing/wp-list/wp-list.controller.ts":389,"./routing/wp-list/wp.list.html":1052,"./routing/wp-list/wp.list.new.html":1053,"./routing/wp-show/wp-show.controller.ts":390,"./routing/wp-show/wp.show.html":1054,"./routing/wp-view-base/wp-view-base.controller.ts":93,"./schemas/schema-cache.service.ts":391,"./states.service.ts":392,"./states/state-cache.service.ts":60,"./states/switch-state.ts":134,"./table-pagination/table-pagination.controller.ts":94,"./table-pagination/table-pagination.directive.html":1055,"./table-pagination/table-pagination.directive.ts":393,"./types/form-configuration/group-edit-in-place.directive.html":1056,"./types/form-configuration/group-edit-in-place.directive.ts":394,"./types/form-configuration/types-form-configuration.controller.ts":395,"./user/user-link/user-link.directive.html":1057,"./user/user-link/user-link.directive.ts":396,"./work-packages/work-package-authorization.service.ts":397,"./work-packages/work-package-cache.service.ts":398,"./work-packages/work-package-comment/work-package-comment.directive.html":1058,
"./work-packages/work-package-comment/work-package-comment.directive.ts":399,"./work-packages/work-package-comment/wp-comment-field.module.ts":135,"./work-packages/work-package-more-menu.service.ts":400,"./work-packages/work-package.service.ts":401,"./work-packages/wp-attachments-formattable-field/models/drop-model.ts":136,"./work-packages/wp-attachments-formattable-field/models/editor-model.ts":137,"./work-packages/wp-attachments-formattable-field/models/markup-model.ts":138,"./work-packages/wp-attachments-formattable-field/models/paste-model.ts":139,"./work-packages/wp-attachments-formattable-field/models/single-attachment.ts":140,"./work-packages/wp-attachments-formattable-field/models/work-package-field-model.ts":141,"./work-packages/wp-attachments-formattable-field/wp-attachments-formattable.directive.ts":402,"./work-packages/wp-attachments-formattable-field/wp-attachments-formattable.enums.ts":61,"./work-packages/wp-attachments-formattable-field/wp-attachments-formattable.interfaces.ts":403,"./work-packages/wp-relations-count/wp-relations-count.directive.html":1059,"./work-packages/wp-relations-count/wp-relations-count.directive.ts":404,"./work-packages/wp-single-view/wp-single-view.directive.html":1060,"./work-packages/wp-single-view/wp-single-view.directive.ts":405,"./work-packages/wp-subject/wp-subject.directive.html":1061,"./work-packages/wp-subject/wp-subject.directive.ts":406,"./work-packages/wp-watcher-button/wp-watcher-button.directive.html":1062,"./work-packages/wp-watcher-button/wp-watcher-button.directive.ts":407,"./wp-activity/activity-entry.directive.html":1063,"./wp-activity/activity-entry.directive.js":501,"./wp-activity/activity-link-directive.js":502,"./wp-activity/revision/revision-activity-directive.js":503,"./wp-activity/user/user-activity-directive.ts":408,"./wp-attachments/wp-attachment-list/wp-attachment-list-item.html":1064,"./wp-attachments/wp-attachment-list/wp-attachment-list.directive.html":1065,"./wp-attachments/wp-attachment-list/wp-attachment-list.directive.ts":409,"./wp-attachments/wp-attachments-upload/wp-attachments-upload.directive.ts":410,"./wp-buttons/wp-button.template.html":1066,"./wp-buttons/wp-buttons.module.ts":35,"./wp-buttons/wp-create-button/wp-create-button.controller.ts":411,"./wp-buttons/wp-create-button/wp-create-button.directive.html":1067,"./wp-buttons/wp-create-button/wp-create-button.directive.ts":412,"./wp-buttons/wp-details-view-button/wp-details-view-button.directive.ts":413,"./wp-buttons/wp-filter-button/wp-filter-button.directive.html":1068,"./wp-buttons/wp-filter-button/wp-filter-button.directive.ts":414,"./wp-buttons/wp-list-view-button/wp-list-view-button.directive.ts":415,"./wp-buttons/wp-timeline-toggle-button/wp-timeline-toggle-button.directive.ts":416,"./wp-buttons/wp-timeline-toggle-button/wp-timeline-toggle-button.html":1069,"./wp-buttons/wp-view-button/wp-view-button.directive.ts":417,"./wp-buttons/wp-zen-mode-toggle-button/wp-zen-mode-toggle-button.directive.ts":418,"./wp-copy/wp-copy.controller.ts":419,"./wp-create/wp-create.controller.ts":142,"./wp-create/wp-create.service.ts":420,"./wp-details/wp-details-toolbar.directive.html":1070,"./wp-details/wp-details-toolbar.directive.ts":421,"./wp-display/field-types/wp-display-boolean-field.module.ts":143,"./wp-display/field-types/wp-display-date-field.module.ts":144,"./wp-display/field-types/wp-display-datetime-field.module.ts":145,"./wp-display/field-types/wp-display-duration-field.module.ts":95,"./wp-display/field-types/wp-display-float-field.module.ts":146,"./wp-display/field-types/wp-display-formattable-field.module.ts":147,"./wp-display/field-types/wp-display-id-field.module.ts":148,"./wp-display/field-types/wp-display-integer-field.module.ts":149,"./wp-display/field-types/wp-display-multiple-lines-string-objects-field.module.ts":150,"./wp-display/field-types/wp-display-progress-field.directive.html":1071,"./wp-display/field-types/wp-display-progress-field.module.ts":151,"./wp-display/field-types/wp-display-resource-field.module.ts":152,"./wp-display/field-types/wp-display-resources-field.directive.html":1072,"./wp-display/field-types/wp-display-resources-field.module.ts":96,"./wp-display/field-types/wp-display-spent-time-field.module.ts":153,"./wp-display/field-types/wp-display-text-field.module.ts":154,"./wp-display/field-types/wp-display-work-package-field.module.ts":155,"./wp-display/wp-display-field/wp-display-field.config.ts":422,"./wp-display/wp-display-field/wp-display-field.module.ts":10,"./wp-display/wp-display-field/wp-display-field.service.ts":423,"./wp-edit-form/display-field-renderer.ts":62,"./wp-edit-form/single-view-edit-context.ts":156,"./wp-edit-form/table-row-edit-context.ts":97,"./wp-edit-form/work-package-changeset.ts":36,"./wp-edit-form/work-package-edit-context.ts":424,"./wp-edit-form/work-package-edit-field-handler.ts":98,"./wp-edit-form/work-package-edit-form.ts":48,"./wp-edit-form/work-package-editing-service.ts":425,"./wp-edit-form/wp-edit-form.template.html":1073,"./wp-edit/field-controls/wp-edit-field-controls.directive.html":1074,"./wp-edit/field-controls/wp-edit-field-controls.directive.ts":426,"./wp-edit/field-types/wp-edit-boolean-field.directive.html":1075,"./wp-edit/field-types/wp-edit-boolean-field.module.ts":157,"./wp-edit/field-types/wp-edit-date-field.directive.html":1076,"./wp-edit/field-types/wp-edit-date-field.module.ts":158,"./wp-edit/field-types/wp-edit-duration-field.directive.html":1077,"./wp-edit/field-types/wp-edit-duration-field.module.ts":159,"./wp-edit/field-types/wp-edit-float-field.directive.html":1078,"./wp-edit/field-types/wp-edit-float-field.module.ts":160,"./wp-edit/field-types/wp-edit-integer-field.directive.html":1079,"./wp-edit/field-types/wp-edit-integer-field.module.ts":161,"./wp-edit/field-types/wp-edit-multi-select-field.directive.html":1080,"./wp-edit/field-types/wp-edit-multi-select-field.module.ts":162,"./wp-edit/field-types/wp-edit-select-field.directive.html":1081,"./wp-edit/field-types/wp-edit-select-field.module.ts":163,"./wp-edit/field-types/wp-edit-text-field.directive.html":1082,"./wp-edit/field-types/wp-edit-text-field.module.ts":99,"./wp-edit/field-types/wp-edit-wiki-textarea-field.directive.html":1083,"./wp-edit/field-types/wp-edit-wiki-textarea-field.module.ts":100,"./wp-edit/field-types/wp-edit-work-package-field.module.ts":164,"./wp-edit/op-date-picker/op-date-picker.directive.html":1084,"./wp-edit/op-date-picker/op-date-picker.directive.ts":427,"./wp-edit/wp-edit-field-requirements.directive.ts":428,"./wp-edit/wp-edit-field/wp-edit-field-group.directive.ts":429,"./wp-edit/wp-edit-field/wp-edit-field.config.ts":430,"./wp-edit/wp-edit-field/wp-edit-field.directive.html":1085,"./wp-edit/wp-edit-field/wp-edit-field.directive.ts":431,"./wp-edit/wp-edit-field/wp-edit-field.module.ts":21,"./wp-edit/wp-edit-field/wp-edit-field.service.ts":432,"./wp-edit/wp-edit-field/wp-replacement-label.directive.html":1086,"./wp-edit/wp-edit-field/wp-replacement-label.directive.ts":433,"./wp-edit/wp-notification.service.ts":434,"./wp-fast-table/builders/cell-builder.ts":37,"./wp-fast-table/builders/details-link-builder.ts":165,"./wp-fast-table/builders/modes/grouped/group-header-builder.ts":101,"./wp-fast-table/builders/modes/grouped/grouped-render-pass.ts":166,"./wp-fast-table/builders/modes/grouped/grouped-rows-builder.ts":63,"./wp-fast-table/builders/modes/grouped/grouped-rows-helpers.ts":64,"./wp-fast-table/builders/modes/hierarchy/hierarchy-render-pass.ts":167,"./wp-fast-table/builders/modes/hierarchy/hierarchy-rows-builder.ts":168,"./wp-fast-table/builders/modes/hierarchy/single-hierarchy-row-builder.ts":65,"./wp-fast-table/builders/modes/plain/plain-render-pass.ts":102,"./wp-fast-table/builders/modes/plain/plain-rows-builder.ts":169,"./wp-fast-table/builders/modes/rows-builder.ts":66,"./wp-fast-table/builders/primary-render-pass.ts":103,"./wp-fast-table/builders/relation-cell-builder.ts":104,"./wp-fast-table/builders/relations/relation-row-builder.ts":170,"./wp-fast-table/builders/relations/relations-render-pass.ts":171,"./wp-fast-table/builders/rows/single-row-builder.ts":11,"./wp-fast-table/builders/timeline/timeline-render-pass.ts":172,"./wp-fast-table/builders/timeline/timeline-row-builder.ts":67,"./wp-fast-table/builders/ui-state-link-builder.ts":30,"./wp-fast-table/handlers/cell/edit-cell-handler.ts":173,"./wp-fast-table/handlers/cell/relations-cell-handler.ts":174,"./wp-fast-table/handlers/click-or-enter-handler.ts":49,"./wp-fast-table/handlers/row/click-handler.ts":175,"./wp-fast-table/handlers/row/context-menu-handler.ts":176,"./wp-fast-table/handlers/row/context-menu-keyboard-handler.ts":177,"./wp-fast-table/handlers/row/double-click-handler.ts":178,"./wp-fast-table/handlers/row/group-row-handler.ts":179,"./wp-fast-table/handlers/row/hierarchy-click-handler.ts":180,"./wp-fast-table/handlers/row/wp-state-links-handler.ts":181,"./wp-fast-table/handlers/state/columns-transformer.ts":182,"./wp-fast-table/handlers/state/hierarchy-transformer.ts":183,"./wp-fast-table/handlers/state/relations-transformer.ts":184,"./wp-fast-table/handlers/state/rows-transformer.ts":185,"./wp-fast-table/handlers/state/selection-transformer.ts":186,"./wp-fast-table/handlers/state/timeline-transformer.ts":187,"./wp-fast-table/handlers/table-handler-registry.ts":188,"./wp-fast-table/helpers/wp-table-hierarchy-helpers.ts":50,"./wp-fast-table/helpers/wp-table-row-helpers.ts":189,"./wp-fast-table/state/wp-table-additional-elements.service.ts":435,"./wp-fast-table/state/wp-table-base.service.ts":22,"./wp-fast-table/state/wp-table-columns.service.ts":436,"./wp-fast-table/state/wp-table-filters.service.ts":437,"./wp-fast-table/state/wp-table-group-by.service.ts":438,"./wp-fast-table/state/wp-table-hierarchy.service.ts":439,"./wp-fast-table/state/wp-table-pagination.service.ts":440,"./wp-fast-table/state/wp-table-relation-columns.service.ts":441,"./wp-fast-table/state/wp-table-selection.service.ts":442,"./wp-fast-table/state/wp-table-sort-by.service.ts":443,"./wp-fast-table/state/wp-table-sum.service.ts":444,"./wp-fast-table/state/wp-table-timeline.service.ts":445,"./wp-fast-table/wp-fast-table.ts":190,"./wp-fast-table/wp-table-base.ts":23,"./wp-fast-table/wp-table-columns.ts":191,"./wp-fast-table/wp-table-editing.ts":192,"./wp-fast-table/wp-table-filters.ts":193,"./wp-fast-table/wp-table-group-by.ts":194,"./wp-fast-table/wp-table-hierarchies.ts":195,"./wp-fast-table/wp-table-pagination.ts":196,"./wp-fast-table/wp-table-relation-columns.ts":197,"./wp-fast-table/wp-table-sort-by.ts":198,"./wp-fast-table/wp-table-sum.ts":199,"./wp-fast-table/wp-table-timeline.ts":200,"./wp-fast-table/wp-table.interfaces.ts":446,"./wp-field/wp-field.module.ts":41,"./wp-field/wp-field.service.ts":105,"./wp-inline-create/inline-create-row-builder.ts":201,"./wp-inline-create/wp-inline-create.directive.html":1087,"./wp-inline-create/wp-inline-create.directive.ts":447,"./wp-list/wp-list-checksum.service.ts":448,"./wp-list/wp-list-invalid-query.service.ts":449,"./wp-list/wp-list.service.ts":450,"./wp-list/wp-states-initialization.service.ts":451,"./wp-panels/activity-panel/activity-entry-info.ts":202,"./wp-panels/activity-panel/activity-panel-default.directive.html":1088,"./wp-panels/activity-panel/activity-panel-overview.directive.html":1089,"./wp-panels/activity-panel/activity-panel.directive.ts":452,"./wp-panels/activity-panel/wp-activity.service.ts":453,"./wp-panels/keep-tab/keep-tab.service.ts":454,"./wp-panels/overview-panel/overview-panel.directive.html":1090,"./wp-panels/overview-panel/overview-panel.directive.ts":455,"./wp-panels/relations-panel/relations-panel.directive.html":1091,"./wp-panels/relations-panel/relations-panel.directive.ts":456,"./wp-panels/watchers-panel/watchers-panel.controller.ts":203,"./wp-panels/watchers-panel/watchers-panel.directive.html":1092,"./wp-panels/watchers-panel/watchers-panel.directive.ts":457,"./wp-query-select/wp-query-select.controller.ts":204,"./wp-query-select/wp-query-select.service.ts":458,"./wp-query-select/wp-query-select.template.html":1093,"./wp-query/query-column.ts":51,"./wp-query/url-params-helper.ts":459,"./wp-relations/wp-relation-row/wp-relation-row.directive.ts":460,"./wp-relations/wp-relation-row/wp-relation-row.template.html":1094,"./wp-relations/wp-relations-create/add-child.template.html":1095,"./wp-relations/wp-relations-create/add-fixed-type.template.html":1096,"./wp-relations/wp-relations-create/dynamic-relation-types.template.html":1097,"./wp-relations/wp-relations-create/empty-parents.template.html":1098,"./wp-relations/wp-relations-create/wp-relations-autocomplete/wp-relations-autocomplete.directive.ts":461,"./wp-relations/wp-relations-create/wp-relations-autocomplete/wp-relations-autocomplete.template.html":1099,"./wp-relations/wp-relations-create/wp-relations-create.directive.ts":462,"./wp-relations/wp-relations-group/wp-relations-group.directive.ts":463,"./wp-relations/wp-relations-group/wp-relations-group.template.html":1100,"./wp-relations/wp-relations-hierarchy-row/wp-relations-hierarchy-row.directive.ts":464,"./wp-relations/wp-relations-hierarchy-row/wp-relations-hierarchy-row.template.html":1101,"./wp-relations/wp-relations-hierarchy/wp-relations-hierarchy.directive.ts":465,"./wp-relations/wp-relations-hierarchy/wp-relations-hierarchy.service.ts":466,"./wp-relations/wp-relations-hierarchy/wp-relations-hierarchy.template.html":1102,"./wp-relations/wp-relations.directive.ts":467,"./wp-relations/wp-relations.interfaces.ts":468,"./wp-relations/wp-relations.service.ts":469,"./wp-relations/wp-relations.template.html":1103,"./wp-relations/wp-single-relation.directive.ts":470,"./wp-table/context-menu-helper/wp-context-menu-helper.service.ts":471,"./wp-table/sort-header/sort-header.directive.html":1104,"./wp-table/sort-header/sort-header.directive.ts":472,"./wp-table/table-pagination/wp-table-pagination.directive.ts":473,"./wp-table/timeline/cells/timeline-cell-renderer.ts":106,"./wp-table/timeline/cells/timeline-milestone-cell-renderer.ts":205,"./wp-table/timeline/cells/wp-timeline-cell-mouse-handler.ts":107,"./wp-table/timeline/cells/wp-timeline-cell.ts":68,"./wp-table/timeline/cells/wp-timeline-cells-renderer.ts":206,"./wp-table/timeline/container/wp-timeline-container.directive.ts":474,"./wp-table/timeline/container/wp-timeline-container.html":1105,"./wp-table/timeline/global-elements/timeline-relation-element.ts":207,"./wp-table/timeline/global-elements/timeline-static-element.ts":108,"./wp-table/timeline/global-elements/wp-timeline-relations.directive.ts":475,"./wp-table/timeline/global-elements/wp-timeline-static-elements.directive.ts":476,"./wp-table/timeline/global-elements/wp-timeline.today-line.ts":208,"./wp-table/timeline/grid/wp-timeline-grid.directive.ts":477,"./wp-table/timeline/header/wp-timeline-header.directive.ts":478,"./wp-table/timeline/header/wp-timeline-header.html":1106,"./wp-table/timeline/wp-timeline.ts":24,"./wp-table/wp-group-header/wp-group-header.directive.ts":479,"./wp-table/wp-group-sums/wp-group-sums.directive.ts":480,"./wp-table/wp-table-hover-sync.ts":209,"./wp-table/wp-table-refresh-request.service.ts":481,"./wp-table/wp-table-scroll-sync.ts":109,"./wp-table/wp-table-sums-row/wp-table-sums-row.directive.ts":482,"./wp-table/wp-table.directive.html":1107,"./wp-table/wp-table.directive.ts":483,"./wp-watchers/wp-watcher-entry.directive.html":1108,"./wp-watchers/wp-watcher-entry.directive.ts":484};webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=267},function(module,exports,__webpack_require__){function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){var id=map[req];if(!(id+1))throw new Error("Cannot find module '"+req+"'.");return id}var map={"./browser-specific-flags.ts":485,"./top-shelf.ts":486,"./unsupported-browsers.ts":487};webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=268},function(module,exports,__webpack_require__){function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){var id=map[req];if(!(id+1))throw new Error("Cannot find module '"+req+"'.");return id}var map={"./components/accessible_by_keyboard.html":1109,"./components/accessible_checkbox.html":1110,"./components/accessible_element.html":1111,"./components/authoring.html":1112,"./components/empty_element.html":1113,"./components/icon_wrapper.html":1114,"./components/modal_loading.html":1115,"./components/notifications.html":1116,"./components/selectable_title.html":1117,"./components/sort_link.html":1118,"./components/upload-progress.html":1119,"./components/user_field.html":1120,"./components/zoom_slider.html":1121,"./layout/menu_item.html":1122,"./timelines/timeline_column_data.html":1123,"./timelines/timeline_table.html":1124,"./timelines/timeline_table_container.html":1125,"./timelines/toolbar.html":1126,"./work_packages/activities/_link.html":1127,"./work_packages/activities/_revision.html":1128,"./work_packages/activities/_user.html":1129,"./work_packages/menus/details_more_dropdown_menu.html":1130,"./work_packages/query_columns.html":1131};webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=269},function(module,exports,__webpack_require__){function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){var id=map[req];if(!(id+1))throw new Error("Cannot find module '"+req+"'.");return id}var map={"./angular-locale_af.js":615,"./angular-locale_ar.js":616,"./angular-locale_bg.js":617,"./angular-locale_ca.js":618,"./angular-locale_cs.js":619,"./angular-locale_da.js":620,"./angular-locale_de.js":621,"./angular-locale_en.js":622,"./angular-locale_es.js":623,"./angular-locale_et.js":624,"./angular-locale_fa.js":625,"./angular-locale_fi.js":626,"./angular-locale_fr.js":627,"./angular-locale_he.js":628,"./angular-locale_hr.js":629,"./angular-locale_hu.js":630,"./angular-locale_id.js":631,"./angular-locale_it.js":632,"./angular-locale_ja.js":633,"./angular-locale_ko.js":634,"./angular-locale_lt.js":635,"./angular-locale_lv.js":636,"./angular-locale_nl.js":637,"./angular-locale_no.js":638,"./angular-locale_pl.js":639,"./angular-locale_pt-br.js":640,"./angular-locale_pt.js":641,"./angular-locale_ro.js":642,"./angular-locale_ru.js":643,"./angular-locale_sk.js":644,"./angular-locale_sv-se.js":645,"./angular-locale_th.js":646,"./angular-locale_tr.js":647,"./angular-locale_uk.js":648,"./angular-locale_vi.js":649,"./angular-locale_zh-tw.js":650,"./angular-locale_zh.js":651};webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=270},function(module,exports,__webpack_require__){(function(global){module.exports=global.bowser=__webpack_require__(655)}).call(exports,__webpack_require__(29))},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),SimpleTemplateRenderer=function(){function SimpleTemplateRenderer($compile,$templateCache,$q,$timeout,$rootScope){this.$compile=$compile,this.$templateCache=$templateCache,this.$q=$q,this.$timeout=$timeout,this.$rootScope=$rootScope}return SimpleTemplateRenderer.$inject=["$compile","$templateCache","$q","$timeout","$rootScope"],SimpleTemplateRenderer.prototype.createRenderScope=function(){return this.$rootScope.$new()},SimpleTemplateRenderer.prototype.renderIsolated=function(element,scope,template,scopeValues){var deferred=this.$q.defer();_.assign(scope,scopeValues);var templateEl=angular.element(this.$templateCache.get(template));return this.$compile(templateEl)(scope,function(clonedElement){element[0].innerHTML="",element.append(clonedElement),deferred.resolve(element)}),deferred.promise},SimpleTemplateRenderer}();exports.SimpleTemplateRenderer=SimpleTemplateRenderer,SimpleTemplateRenderer.$inject=["$compile","$templateCache","$q","$timeout","$rootScope"],angular_modules_1.opServicesModule.service("templateRenderer",SimpleTemplateRenderer)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function toggleSlideAnimation($window){function onSlide(done){return function(){angular.element($window).trigger("resize"),done()}}return{beforeAddClass:function(element,className,done){"ng-hide"===className?element.slideUp(150,onSlide(done)):done()},beforeRemoveClass:function(element,className,done){"ng-hide"===className?element.slideDown(150,onSlide(done)):done()}}}toggleSlideAnimation.$inject=["$window"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.animationsModule.animation(".toggle-slide-animation",toggleSlideAnimation)},function(module,exports,__webpack_require__){"use strict";function apiPathsProviderConfig(apiPathsProvider){var configuration=["configuration"],projects=["projects{/project}",{subProjects:"sub_projects"}],workPackages=["work_packages{/wp}",{form:"form",relations:"relations",availableProjects:"available_projects"},{project:projects}],types=["types{/type}",{},projects],queries=["queries{/query}",{default:"default",form:"form",operators:["operators{/operator}"]},{project:projects}],root=[""],helpTexts=["help_texts{/id}"],config={wp:workPackages,wps:workPackages,project:projects,projects:projects,types:types,queries:queries,configuration:configuration,help_texts:helpTexts,root:root};apiPathsProvider.pathConfig={v3:["api/v3",config]}}apiPathsProviderConfig.$inject=["apiPathsProvider"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.opApiModule.config(apiPathsProviderConfig)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),ApiPathsServiceProvider=function(){function ApiPathsServiceProvider(){this.pathConfig={}}return ApiPathsServiceProvider.prototype.$get=function(appBasePath,pathBuilder){var config=pathBuilder.buildPaths({base:[appBasePath,this.pathConfig]});return config.base},ApiPathsServiceProvider}();exports.ApiPathsServiceProvider=ApiPathsServiceProvider,angular_modules_1.opApiModule.provider("apiPaths",ApiPathsServiceProvider)},function(module,exports,__webpack_require__){"use strict";function v3PathsService(apiPaths){return apiPaths.v3}v3PathsService.$inject=["apiPaths"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.opApiModule.factory("v3Path",v3PathsService)},function(module,exports,__webpack_require__){"use strict";function apiV3CacheConfig($provide){$provide.decorator("$http",["$delegate","CacheService",function($delegate,CacheService){var $http=$delegate,wrapper=function(){var args=arguments,request=args[0],requestable=function(){return $http.apply($http,args)},useCaching=request.cache;return request.method=request.method.toUpperCase(),request.headers&&request.headers.caching&&(useCaching=request.headers.caching.enabled),useCaching&&"GET"===request.method?useCaching?CacheService.cachedPromise(requestable,request.url):void 0:(request.cache=!1,requestable())};return Object.keys($http).forEach(function(key){var prop=$http[key],fn=function(){return prop.apply($http,arguments)};wrapper[key]=angular.isFunction(prop)?fn:prop}),wrapper}])}apiV3CacheConfig.$inject=["$provide"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.opApiModule.config(apiV3CacheConfig)},function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=y[2&op[0]?"return":op[0]?"throw":"next"])&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[0,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g};Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),HalRequestService=function(){function HalRequestService($q,$http,halResourceFactory){this.$q=$q,this.$http=$http,this.halResourceFactory=halResourceFactory,this.defaultHeaders={caching:{enabled:!0}}}return HalRequestService.$inject=["$q","$http","halResourceFactory"],HalRequestService.prototype.request=function(method,href,data,headers){var _this=this;if(void 0===headers&&(headers={}),!href)return this.$q.reject();"post"===method&&(data=data||{}),headers=angular.extend({},this.defaultHeaders,headers);var config={method:method,url:href,data:data,headers:headers,cache:headers.caching.enabled},createResource=function(response){return response.data?_this.halResourceFactory.createHalResource(response.data):null};return"get"===method&&(delete config.data,config.params=data),this.$http(config).then(createResource).catch(function(response){return _this.$q.reject(createResource(response))})},HalRequestService.prototype.get=function(href,params,headers){return this.request("get",href,params,headers)},HalRequestService.prototype.getAllPaginated=function(href,expected,params,headers){return void 0===params&&(params={}),void 0===headers&&(headers={}),__awaiter(this,void 0,void 0,function(){var retrieved,page,allResults,results;return __generator(this,function(_a){switch(_a.label){case 0:retrieved=0,page=1,allResults=[],params.pageSize=expected,_a.label=1;case 1:return retrieved<expected?(params.offset=page,[4,this.request("get",href,params,headers)]):[3,3];case 2:if(results=_a.sent(),0===results.count)throw"No more results for this query, but expected more.";return allResults.push(results),retrieved+=results.count,page+=1,[3,1];case 3:return[2,allResults]}})})},HalRequestService.prototype.put=function(href,data,headers){return this.request("put",href,data,headers)},HalRequestService.prototype.post=function(href,data,headers){return this.request("post",href,data,headers)},HalRequestService.prototype.patch=function(href,data,headers){return this.request("patch",href,data,headers)},HalRequestService.prototype.delete=function(href,data,headers){return this.request("delete",href,data,headers)},HalRequestService}();exports.HalRequestService=HalRequestService,angular_modules_1.opApiModule.service("halRequest",HalRequestService)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),ConfigurationDmService=function(){function ConfigurationDmService(halRequest,v3Path){this.halRequest=halRequest,this.v3Path=v3Path}return ConfigurationDmService.$inject=["halRequest","v3Path"],ConfigurationDmService.prototype.load=function(){return this.halRequest.get(this.v3Path.configuration())},ConfigurationDmService}();exports.ConfigurationDmService=ConfigurationDmService,angular_modules_1.opApiModule.service("ConfigurationDm",ConfigurationDmService)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),HelpTextDmService=function(){function HelpTextDmService(halRequest,v3Path){this.halRequest=halRequest,this.v3Path=v3Path}return HelpTextDmService.$inject=["halRequest","v3Path"],HelpTextDmService.prototype.loadAll=function(){return this.halRequest.get(this.v3Path.help_texts())},HelpTextDmService.prototype.load=function(helpTextId){return this.halRequest.get(this.v3Path.help_texts({id:helpTextId}))},HelpTextDmService}();exports.HelpTextDmService=HelpTextDmService,angular_modules_1.opApiModule.service("helpTextDm",HelpTextDmService)},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var hal_resource_service_1=__webpack_require__(7),angular_modules_1=__webpack_require__(0),PayloadDmService=function(){function PayloadDmService(){}return PayloadDmService.prototype.extract=function(resource,schema){var _this=this,payload={_links:{}},nonLinkProperties=[];for(var key in schema)schema.hasOwnProperty(key)&&schema[key].writable&&(resource.$links[key]?Array.isArray(resource[key])?payload._links[key]=_.map(resource[key],function(element){return{href:element.$href}}):payload._links[key]={href:resource[key]&&resource[key].$href}:nonLinkProperties.push(key));return _.each(nonLinkProperties,function(property){resource.hasOwnProperty(property)&&(Array.isArray(resource[property])?payload[property]=_.map(resource[property],function(element){return element instanceof hal_resource_service_1.HalResource?_this.extract(element,element.currentSchema||element.schema):element}):payload[property]=resource[property])}),payload},PayloadDmService}();exports.PayloadDmService=PayloadDmService,angular_modules_1.opApiModule.service("PayloadDm",PayloadDmService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),api_v3_filter_builder_1=__webpack_require__(57),QueryDmService=function(){function QueryDmService(halRequest,v3Path,UrlParamsHelper,PayloadDm,$q){this.halRequest=halRequest,this.v3Path=v3Path,this.UrlParamsHelper=UrlParamsHelper,this.PayloadDm=PayloadDm,this.$q=$q}return QueryDmService.$inject=["halRequest","v3Path","UrlParamsHelper","PayloadDm","$q"],QueryDmService.prototype.find=function(queryData,queryId,projectIdentifier){var path;return path=queryId?this.v3Path.queries({query:queryId}):this.v3Path.queries.default({project:projectIdentifier}),this.halRequest.get(path,queryData,{caching:{enabled:!1}})},QueryDmService.prototype.findDefault=function(queryData,projectIdentifier){return this.find(queryData,void 0,projectIdentifier)},QueryDmService.prototype.reload=function(query,pagination){var path=this.v3Path.queries({query:query.id});return this.halRequest.get(path,pagination,{caching:{enabled:!1}})},QueryDmService.prototype.loadResults=function(query,pagination){if(!query.results)throw"No results embedded when expected";var queryData=this.UrlParamsHelper.buildV3GetQueryFromQueryResource(query,pagination),url=URI(query.results.href).path();return this.halRequest.get(url,queryData,{caching:{
enabled:!1}})},QueryDmService.prototype.save=function(query,form){return this.extractPayload(query,form).then(function(payload){return query.updateImmediately(payload)})},QueryDmService.prototype.create=function(query,form){var _this=this;return this.extractPayload(query,form).then(function(payload){var path=_this.v3Path.queries();return _this.halRequest.post(path,payload)})},QueryDmService.prototype.delete=function(query){return query.delete()},QueryDmService.prototype.toggleStarred=function(query){return query.starred?query.unstar():query.star()},QueryDmService.prototype.all=function(projectIdentifier){var filters=new api_v3_filter_builder_1.ApiV3FilterBuilder;projectIdentifier?filters.add("project_identifier","=",[projectIdentifier]):filters.add("project","!*",[]);var urlQuery={filters:filters.toJson()},caching={caching:{enabled:!1}};return this.halRequest.get(this.v3Path.queries(),urlQuery,caching)},QueryDmService.prototype.extractPayload=function(query,form){var _this=this;return this.$q.all(_.map(query.filters,function(filter){return filter.schema.$load()})).then(function(){return _this.PayloadDm.extract(query,form.schema)})},QueryDmService}();exports.QueryDmService=QueryDmService,angular_modules_1.opApiModule.service("QueryDm",QueryDmService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),QueryFormDmService=function(){function QueryFormDmService(halRequest,v3Path){this.halRequest=halRequest,this.v3Path=v3Path}return QueryFormDmService.$inject=["halRequest","v3Path"],QueryFormDmService.prototype.load=function(query){var payload={name:query.name||"!!!__O__o__O__!!!"};return query.project&&(payload._links={project:{href:query.project.$href}}),query.$links.update(payload)},QueryFormDmService.prototype.loadWithParams=function(params,queryId,projectIdentifier){var payload={};queryId||(payload.name="!!!__O__o__O__!!!"),projectIdentifier&&(payload._links={project:{href:this.v3Path.project({project:projectIdentifier})}});var href;return href=queryId?this.v3Path.queries.form({query:queryId}):this.v3Path.queries.form(),href=URI(href).search(params).toString(),this.halRequest.post(href,payload)},QueryFormDmService}();exports.QueryFormDmService=QueryFormDmService,angular_modules_1.opApiModule.service("QueryFormDm",QueryFormDmService)},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),api_v3_filter_builder_1=__webpack_require__(57),RelationsDmService=function(){function RelationsDmService(halRequest,v3Path,$q){this.halRequest=halRequest,this.v3Path=v3Path,this.$q=$q}return RelationsDmService.$inject=["halRequest","v3Path","$q"],RelationsDmService.prototype.load=function(workPackageId){return this.halRequest.get(this.v3Path.wp.relations({wp:workPackageId}),{},{caching:{enabled:!1}}).then(function(collection){return collection.elements})},RelationsDmService.prototype.loadInvolved=function(workPackageIds){var validIds=_.filter(workPackageIds,function(id){return/\d+/.test(id)});return 0===validIds.length?this.$q.resolve([]):this.halRequest.get("/api/v3/relations",{filters:api_v3_filter_builder_1.buildApiV3Filter("involved","=",validIds).toJson()},{caching:{enabled:!1}}).then(function(collection){return collection.elements})},RelationsDmService}();exports.RelationsDmService=RelationsDmService,angular_modules_1.wpDirectivesModule.service("relationsDm",RelationsDmService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),RootDmService=function(){function RootDmService(halRequest,v3Path){this.halRequest=halRequest,this.v3Path=v3Path}return RootDmService.$inject=["halRequest","v3Path"],RootDmService.prototype.load=function(){return this.halRequest.get(this.v3Path.root())},RootDmService}();exports.RootDmService=RootDmService,angular_modules_1.opApiModule.service("RootDm",RootDmService)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),HalResourceFactoryService=function(){function HalResourceFactoryService(){this.config={}}return Object.defineProperty(HalResourceFactoryService.prototype,"defaultClass",{get:function(){return this.getResourceClassOfType("__default__")},set:function(cls){this.setResourceType("__default__",cls)},enumerable:!0,configurable:!0}),HalResourceFactoryService.prototype.setResourceType=function(typeName,cls){cls._type=typeName,this.config[typeName]={cls:cls,attrCls:{}}},HalResourceFactoryService.prototype.setResourceTypeAttributes=function(typeName,attrTypes){var _this=this;Object.keys(attrTypes).forEach(function(attrName){attrTypes[attrName]=_this.getResourceClassOfType(attrTypes[attrName])}),this.config[typeName]||(this.config[typeName]={}),this.config[typeName].attrCls=attrTypes},HalResourceFactoryService.prototype.createHalResource=function(source){var resourceClass=this.getResourceClassOfType(source._type);return new resourceClass(source)},HalResourceFactoryService.prototype.createLinkedHalResource=function(source,parentType,linkName){var resourceClass=this.getResourceClassOfAttribute(parentType,linkName);return new resourceClass(source,!1)},HalResourceFactoryService.prototype.getResourceClassOfType=function(type){return this.getTypeConfig(type).cls},HalResourceFactoryService.prototype.getResourceClassOfAttribute=function(type,attribute){var typeConfig=this.getTypeConfig(type),resourceClass=typeConfig.attrCls[attribute];return resourceClass?resourceClass:this.defaultClass},HalResourceFactoryService.prototype.getType=function(type){return this.config[type]?type:"__default__"},HalResourceFactoryService.prototype.getTypeConfig=function(type){return this.config[this.getType(type)]},HalResourceFactoryService}();exports.HalResourceFactoryService=HalResourceFactoryService,angular_modules_1.opApiModule.service("halResourceFactory",HalResourceFactoryService)},function(module,exports,__webpack_require__){"use strict";function halResourceTypesConfig(halResourceTypes){halResourceTypes.setResourceTypeConfig({WorkPackage:{className:"WorkPackageResource",attrTypes:{parent:"WorkPackage",ancestors:"WorkPackage",children:"WorkPackage",relations:"Relation",schema:"Schema",type:"Type"}},Activity:{user:"User"},"Activity::Comment":{user:"User"},"Activity::Revision":{user:"User"},Relation:{className:"RelationResource",attrTypes:{from:"WorkPackage",to:"WorkPackage"}},Schema:"SchemaResource",Type:"TypeResource",SchemaDependency:"SchemaDependencyResource",Error:"ErrorResource",User:"UserResource",Collection:"CollectionResource",WorkPackageCollection:"WorkPackageCollectionResource",Query:{className:"QueryResource",attrTypes:{filters:"QueryFilterInstance"}},Form:"FormResource",QueryFilterInstance:{className:"QueryFilterInstanceResource",attrTypes:{schema:"QueryFilterInstanceSchema",filter:"QueryFilter",operator:"QueryOperator"}},QueryFilterInstanceSchema:"QueryFilterInstanceSchemaResource",QueryFilter:"QueryFilterResource",Root:"RootResource",QueryOperator:"QueryOperatorResource",HelpText:"HelpTextResource"})}halResourceTypesConfig.$inject=["halResourceTypes"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.opApiModule.run(halResourceTypesConfig)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),HalResourceTypesService=function(){function HalResourceTypesService($injector,halResourceFactory,HalResource){this.$injector=$injector,this.halResourceFactory=halResourceFactory,halResourceFactory.defaultClass=HalResource}return HalResourceTypesService.$inject=["$injector","halResourceFactory","HalResource"],HalResourceTypesService.prototype.setResourceTypeConfig=function(config){var _this=this,types=Object.keys(config).map(function(typeName){var value=config[typeName],result={typeName:typeName,className:value.className||_this.getClassName(_this.halResourceFactory.defaultClass),attrTypes:value.attrTypes||{}};return angular.isString(value)&&(result.className=value),!value.className&&angular.isObject(value)&&(result.attrTypes=value),result});types.forEach(function(typeConfig){_this.halResourceFactory.setResourceType(typeConfig.typeName,_this.$injector.get(typeConfig.className))}),types.forEach(function(typeConfig){_this.halResourceFactory.setResourceTypeAttributes(typeConfig.typeName,typeConfig.attrTypes)})},HalResourceTypesService.prototype.getClassName=function(cls){if(cls.hasOwnProperty("name"))return cls.name;var matches=cls.toString().match(/^function\s*([^\s(]+)/);return matches[1]},HalResourceTypesService}();exports.HalResourceTypesService=HalResourceTypesService,angular_modules_1.opApiModule.service("halResourceTypes",HalResourceTypesService)},function(module,exports,__webpack_require__){"use strict";function attachmentCollectionResourceService(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return opFileUpload=args[0],AttachmentCollectionResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var opFileUpload,angular_modules_1=__webpack_require__(0),collection_resource_service_1=__webpack_require__(88),AttachmentCollectionResource=function(_super){function AttachmentCollectionResource(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(AttachmentCollectionResource,_super),AttachmentCollectionResource.prototype.upload=function(files){return opFileUpload.upload(this.$href,files)},AttachmentCollectionResource}(collection_resource_service_1.CollectionResource);exports.AttachmentCollectionResource=AttachmentCollectionResource,attachmentCollectionResourceService.$inject=["opFileUpload"],angular_modules_1.opApiModule.factory("AttachmentCollectionResource",attachmentCollectionResourceService)},function(module,exports,__webpack_require__){"use strict";function configurationResource(){return ConfigurationResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var hal_resource_service_1=__webpack_require__(7),angular_modules_1=__webpack_require__(0),ConfigurationResource=function(_super){function ConfigurationResource(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ConfigurationResource,_super),ConfigurationResource}(hal_resource_service_1.HalResource);exports.ConfigurationResource=ConfigurationResource,angular_modules_1.opApiModule.factory("ConfigurationResource",configurationResource)},function(module,exports,__webpack_require__){"use strict";function helpTextResource(){return HelpTextResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var hal_resource_service_1=__webpack_require__(7),angular_modules_1=__webpack_require__(0),HelpTextResource=function(_super){function HelpTextResource(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(HelpTextResource,_super),HelpTextResource}(hal_resource_service_1.HalResource);exports.HelpTextResource=HelpTextResource,angular_modules_1.opApiModule.factory("HelpTextResource",helpTextResource)},function(module,exports,__webpack_require__){"use strict";function projectResource(){return ProjectResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var hal_resource_service_1=__webpack_require__(7),angular_modules_1=__webpack_require__(0),ProjectResource=function(_super){function ProjectResource(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ProjectResource,_super),ProjectResource}(hal_resource_service_1.HalResource);exports.ProjectResource=ProjectResource,angular_modules_1.opApiModule.factory("ProjectResource",projectResource)},function(module,exports,__webpack_require__){"use strict";(function(_){function qfisResource(){return QueryFilterInstanceSchemaResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),schema_resource_service_1=__webpack_require__(130),schema_dependency_resource_service_1=__webpack_require__(129),QueryFilterInstanceSchemaResource=function(_super){function QueryFilterInstanceSchemaResource(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(QueryFilterInstanceSchemaResource,_super),Object.defineProperty(QueryFilterInstanceSchemaResource.prototype,"availableOperators",{get:function(){return this.operator.allowedValues},enumerable:!0,configurable:!0}),QueryFilterInstanceSchemaResource.prototype.$initialize=function(source){_super.prototype.$initialize.call(this,source),source._dependencies&&(this.dependency=new schema_dependency_resource_service_1.SchemaDependencyResource(source._dependencies[0]))},QueryFilterInstanceSchemaResource.prototype.isValueRequired=function(){return!!this.values},QueryFilterInstanceSchemaResource.prototype.isResourceValue=function(){return!(!this.values||!this.values.allowedValues)},QueryFilterInstanceSchemaResource.prototype.resultingSchema=function(operator){var staticSchema=this.$source,dependentSchema=this.dependency.forValue(operator.href.toString()),resultingSchema={};return _.merge(resultingSchema,staticSchema,dependentSchema),new QueryFilterInstanceSchemaResource(resultingSchema)},QueryFilterInstanceSchemaResource}(schema_resource_service_1.SchemaResource);exports.QueryFilterInstanceSchemaResource=QueryFilterInstanceSchemaResource,angular_modules_1.opApiModule.factory("QueryFilterInstanceSchemaResource",qfisResource)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function queryFilterResource(){return QueryFilterResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),hal_resource_service_1=__webpack_require__(7),QueryFilterResource=function(_super){function QueryFilterResource(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(QueryFilterResource,_super),Object.defineProperty(QueryFilterResource.prototype,"id",{get:function(){return this.$source.id||this.idFromLink},set:function(newId){this.$source.id=newId},enumerable:!0,configurable:!0}),QueryFilterResource}(hal_resource_service_1.HalResource);exports.QueryFilterResource=QueryFilterResource,angular_modules_1.opApiModule.factory("QueryFilterResource",queryFilterResource)},function(module,exports,__webpack_require__){"use strict";function formResource(){return QueryFormResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var form_resource_service_1=__webpack_require__(128),angular_modules_1=__webpack_require__(0),QueryFormResource=function(_super){function QueryFormResource(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(QueryFormResource,_super),Object.defineProperty(QueryFormResource.prototype,"filtersSchemas",{get:function(){return this.$embedded.filtersSchemas.elements},enumerable:!0,configurable:!0}),QueryFormResource}(form_resource_service_1.FormResource);exports.QueryFormResource=QueryFormResource,angular_modules_1.opApiModule.factory("QueryFormResource",formResource)},function(module,exports,__webpack_require__){"use strict";function queryGroupByResource(){return QueryGroupByResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var hal_resource_service_1=__webpack_require__(7),angular_modules_1=__webpack_require__(0),QueryGroupByResource=function(_super){function QueryGroupByResource(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(QueryGroupByResource,_super),QueryGroupByResource}(hal_resource_service_1.HalResource);exports.QueryGroupByResource=QueryGroupByResource,angular_modules_1.opApiModule.factory("QueryGroupByResource",queryGroupByResource)},function(module,exports,__webpack_require__){"use strict";function queryOperatorResource(){return QueryOperatorResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),hal_resource_service_1=__webpack_require__(7),QueryOperatorResource=function(_super){function QueryOperatorResource(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(QueryOperatorResource,_super),Object.defineProperty(QueryOperatorResource.prototype,"id",{get:function(){return this.$source.id||this.idFromLink},set:function(val){this.$source.id=val},enumerable:!0,configurable:!0}),Object.defineProperty(QueryOperatorResource.prototype,"idFromLink",{get:function(){if(this.$href){var idPart=hal_resource_service_1.HalResource.idFromLink(this.$href);return decodeURIComponent(idPart)}return""},enumerable:!0,configurable:!0}),QueryOperatorResource}(hal_resource_service_1.HalResource);exports.QueryOperatorResource=QueryOperatorResource,angular_modules_1.opApiModule.factory("QueryOperatorResource",queryOperatorResource)},function(module,exports,__webpack_require__){"use strict";function queryResource(){return QueryResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var hal_resource_service_1=__webpack_require__(7),query_filter_instance_resource_service_1=__webpack_require__(89),angular_modules_1=__webpack_require__(0),QueryResource=function(_super){function QueryResource(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(QueryResource,_super),QueryResource.prototype.$initialize=function(source){_super.prototype.$initialize.call(this,source),this.filters=source.filters.map(function(filter){return new query_filter_instance_resource_service_1.QueryFilterInstanceResource(filter)})},QueryResource}(hal_resource_service_1.HalResource);exports.QueryResource=QueryResource,angular_modules_1.opApiModule.factory("QueryResource",queryResource)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";function rootResource(){return RootResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var hal_resource_service_1=__webpack_require__(7),angular_modules_1=__webpack_require__(0),RootResource=function(_super){function RootResource(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(RootResource,_super),RootResource}(hal_resource_service_1.HalResource);exports.RootResource=RootResource,angular_modules_1.opApiModule.factory("RootResource",rootResource)},function(module,exports,__webpack_require__){"use strict";function userResource(){return UserResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var hal_resource_service_1=__webpack_require__(7),angular_modules_1=__webpack_require__(0),UserResource=function(_super){function UserResource(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(UserResource,_super),Object.defineProperty(UserResource,"active_user_statuses",{get:function(){return["active","registered"]},enumerable:!0,configurable:!0}),Object.defineProperty(UserResource.prototype,"showUserPath",{get:function(){return this.showUser.$link.href},enumerable:!0,configurable:!0}),Object.defineProperty(UserResource.prototype,"isActive",{get:function(){return UserResource.active_user_statuses.indexOf(this.status)>=0},enumerable:!0,configurable:!0}),UserResource}(hal_resource_service_1.HalResource);exports.UserResource=UserResource,angular_modules_1.opApiModule.factory("UserResource",userResource)},function(module,exports,__webpack_require__){"use strict";function workPackageCollectionResource(){return WorkPackageCollectionResource}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var collection_resource_service_1=__webpack_require__(88),angular_modules_1=__webpack_require__(0),WorkPackageCollectionResource=function(_super){function WorkPackageCollectionResource(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(WorkPackageCollectionResource,_super),WorkPackageCollectionResource}(collection_resource_service_1.CollectionResource);exports.WorkPackageCollectionResource=WorkPackageCollectionResource,angular_modules_1.opApiModule.factory("WorkPackageCollectionResource",workPackageCollectionResource)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),api_v3_filter_builder_1=__webpack_require__(57),ApiWorkPackagesService=function(){function ApiWorkPackagesService($q,halRequest,v3Path,states){this.$q=$q,this.halRequest=halRequest,this.v3Path=v3Path,this.states=states}return ApiWorkPackagesService.$inject=["$q","halRequest","v3Path","states"],ApiWorkPackagesService.prototype.loadWorkPackageById=function(id,force){void 0===force&&(force=!1);var url=this.v3Path.wp({wp:id});return this.halRequest.get(url,null,{caching:{enabled:!force}})},ApiWorkPackagesService.prototype.loadWorkPackagesCollectionsFor=function(ids){return this.halRequest.getAllPaginated(this.v3Path.wps(),ids.length,{filters:api_v3_filter_builder_1.buildApiV3Filter("id","=",ids).toJson()},{caching:{enabled:!1}})},ApiWorkPackagesService.prototype.emptyCreateForm=function(request,projectIdentifier){return this.halRequest.post(this.v3Path.wp.form({project:projectIdentifier}),request)},ApiWorkPackagesService.prototype.typedCreateForm=function(typeId,projectIdentifier){var typeUrl=this.v3Path.types({type:typeId}),request={_links:{type:{href:typeUrl}}};return this.halRequest.post(this.v3Path.wp.form({project:projectIdentifier}),request)},ApiWorkPackagesService.prototype.availableProjects=function(projectIdentifier){return this.halRequest.get(this.v3Path.wp.availableProjects({project:projectIdentifier}))},ApiWorkPackagesService.prototype.createWorkPackage=function(payload){return this.halRequest.post(this.v3Path.wps(),payload)},ApiWorkPackagesService}();exports.ApiWorkPackagesService=ApiWorkPackagesService,angular_modules_1.opApiModule.service("apiWorkPackages",ApiWorkPackagesService)},function(module,exports,__webpack_require__){"use strict";function appBasePathService($document){var basePathValue=$document.find('meta[name="app_base_path"]').attr("content");return basePathValue&&basePathValue.replace(/\/$/,"")||""}appBasePathService.$inject=["$document"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.opApiModule.factory("appBasePath",appBasePathService)},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),OpenProjectFileUploadService=function(){function OpenProjectFileUploadService($q,Upload){this.$q=$q,this.Upload=Upload}return OpenProjectFileUploadService.$inject=["$q","Upload"],OpenProjectFileUploadService.prototype.upload=function(url,files){var _this=this;files=_.filter(files,function(file){return"directory"!==file.type});var uploads=_.map(files,function(file){var metadata={description:file.description,fileName:file.customName||file.name},data={metadata:JSON.stringify(metadata),file:file};return _this.Upload.upload({data:data,url:url})}),finished=this.$q.all(uploads);return{uploads:uploads,finished:finished}},OpenProjectFileUploadService}();exports.OpenProjectFileUploadService=OpenProjectFileUploadService,angular_modules_1.opApiModule.service("opFileUpload",OpenProjectFileUploadService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),PathTemplate=function(){function PathTemplate(config,parent){var _this=this;this.config=config,this.parent=parent,this.children={},this.parents={};var children,parents;Array.isArray(config)||(this.config=[config]),_a=this.config,_b=_a[0],this.template=void 0===_b?"":_b,_c=_a[1],children=void 0===_c?{}:_c,_d=_a[2],parents=void 0===_d?{}:_d,angular.forEach(children,function(childConfig,childName){_this.children[childName]=new PathTemplate(childConfig,_this)}),angular.forEach(parents,function(parentConfig,parentName){_this.parents[parentName]=new PathTemplate(parentConfig,_this.parent)});var _a,_b,_c,_d}return PathTemplate.prototype.callable=function(){var _this=this,callable=function(params){return void 0===params&&(params={}),URI.expand(_this.build(params),params).valueOf()};return angular.forEach(this.children,function(child,childName){callable[childName]=child.callable()}),callable},PathTemplate.prototype.build=function(params){var parent,_this=this;params=_.pickBy(params,function(value){return!!value}),Object.keys(params).forEach(function(name){parent=_this.parents[name]}),parent=parent||this.parent;var parentTemplate=parent?parent.build(params)+"/":"";return parentTemplate+this.template},PathTemplate}(),PathBuilderService=function(){function PathBuilderService(){}return PathBuilderService.prototype.buildPaths=function(templates){var pathCollection={};return angular.forEach(templates,function(config,name){pathCollection[name]=new PathTemplate(config).callable()}),pathCollection},PathBuilderService}();exports.PathBuilderService=PathBuilderService,angular_modules_1.opApiModule.service("pathBuilder",PathBuilderService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.opApiModule.value("URI",URI)},function(module,exports){function CacheService($q,CacheFactory){var _promises={},disabled=!1,CacheService={temporaryCache:function(){return CacheService.customCache("openproject-session_cache",{maxAge:6e5,storageMode:"sessionStorage"})},localStorage:function(){return CacheService.customCache("openproject-local_storage_cache",{storageMode:"localStorage"})},memoryStorage:function(){return CacheService.customCache("openproject-memory_storage_cache",{storageMode:"memory"})},customCache:function(identifier,params){var _cache=CacheFactory.get(identifier);return _cache||(_cache=CacheFactory(identifier,params)),disabled&&_cache.disable(),_cache},isCacheDisabled:function(){return disabled},enableCaching:function(){disabled=!1},disableCaching:function(){disabled=!0},clearPromisedKey:function(key,options){options=options||{};var cache=options.cache||CacheService.memoryStorage();cache.remove(key)},cachedPromise:function(promiseFn,key,options){options=options||{};var cachedValue,promise,cache=options.cache||CacheService.memoryStorage(),force=options.force||!1,deferred=$q.defer();return cache.disabled?promiseFn():(cachedValue=cache.get(key),cachedValue&&!force?(deferred.resolve(cachedValue),deferred.promise):_promises[key]?_promises[key]:(promise=promiseFn(),promise.then(function(data){cache.put(key,data),deferred.resolve(data)}).catch(function(error){deferred.reject(error),cache.remove(key)}).finally(function(){return delete _promises[key]}),_promises[key]=deferred.promise,deferred.promise))}};return CacheService}CacheService.$inject=["$q","CacheFactory"],angular.module("openproject.services").factory("CacheService",CacheService)},function(module,exports,__webpack_require__){"use strict";function CollapsibleSection(){return{restrict:"E",replace:!0,
transclude:!0,templateUrl:"/components/common/collapsible-section/collapsible-section.directive.html",scope:{sectionTitle:"@"},bindToController:!0,controller:CollapsibleSectionController,controllerAs:"$ctrl"}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),CollapsibleSectionController=function(){function CollapsibleSectionController($scope,$attrs){this.$scope=$scope,this.$attrs=$attrs,this.expanded=!1,$attrs.initiallyExpanded&&(this.expanded=!0)}return CollapsibleSectionController.$inject=["$scope","$attrs"],CollapsibleSectionController.prototype.toggle=function(){this.expanded=!this.expanded},CollapsibleSectionController}();exports.CollapsibleSectionController=CollapsibleSectionController,angular_modules_1.wpDirectivesModule.directive("collapsibleSection",CollapsibleSection)},function(module,exports,__webpack_require__){"use strict";(function(_){function ConfigurationService($q,$http,$window,PathHelper,I18n){var cache=!1,path=PathHelper.apiConfigurationPath(),fetchSettings=function(){var data=$q.defer(),resolve=$http.get(path);return resolve.success(function(settings){data.resolve(settings)}).error(function(err){data.reject(err)}),data.promise},api=function(){var settings=$q.defer();return cache?settings.resolve(cache):fetchSettings().then(function(data){cache=data,settings.resolve(data)}),settings.promise},initSettings=function(){var settings={},defaults={enabled_modules:[],display:[],user_preferences:{impaired:!1,time_zone:"",others:{comments_sorting:"asc",warn_on_leaving_unsaved:!0,auto_hide_popups:!1}}},gon=$window.gon;return void 0!==gon&&(settings=gon.settings),_.merge(defaults,settings)};return{settings:initSettings(),api:api,displaySettingPresent:function(setting){return this.settings.display.hasOwnProperty(setting)&&this.settings.display[setting]!==!1},accessibilityModeEnabled:function(){return this.settings.user_preferences.impaired},commentsSortedInDescendingOrder:function(){return"desc"===this.settings.user_preferences.others.comments_sorting},warnOnLeavingUnsaved:function(){return this.settings.user_preferences.others.warn_on_leaving_unsaved===!0},autoHidePopups:function(){return this.settings.user_preferences.others.auto_hide_popups===!0},isTimezoneSet:function(){return""!==this.settings.user_preferences.time_zone},timezone:function(){return this.settings.user_preferences.time_zone},dateFormatPresent:function(){return this.displaySettingPresent("date_format")&&""!==this.settings.display.date_format},dateFormat:function(){return this.settings.display.date_format},timeFormatPresent:function(){return this.displaySettingPresent("time_format")&&""!==this.settings.display.time_format},timeFormat:function(){return this.settings.display.time_format},isModuleEnabled:function(module){return this.settings.enabled_modules.indexOf(module)>=0},startOfWeekPresent:function(){return this.displaySettingPresent("start_of_week")&&""!==this.settings.display.start_of_week},startOfWeek:function(){return this.startOfWeekPresent()?this.settings.display.start_of_week:"en"===I18n.locale?1:"de"===I18n.locale?0:""}}}ConfigurationService.$inject=["$q","$http","$window","PathHelper","I18n"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.opConfigModule.factory("ConfigurationService",ConfigurationService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function editActionsBar(){return{restrict:"E",templateUrl:"/components/common/edit-actions-bar/edit-actions-bar.directive.html",require:"^wpEditFieldGroup",link:function(scope,element,attrs,controller){scope.$ctrl.wpEditFieldGroup=controller},scope:{onSave:"&",onCancel:"&"},bindToController:!0,controller:EditActionsBarController,controllerAs:"$ctrl"}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),EditActionsBarController=function(){function EditActionsBarController(I18n){this.saving=!1,this.text={save:I18n.t("js.button_save"),cancel:I18n.t("js.button_cancel")}}return EditActionsBarController.$inject=["I18n"],EditActionsBarController.prototype.save=function(){var _this=this;this.saving||(this.saving=!0,this.wpEditFieldGroup.saveWorkPackage().finally(function(){_this.saving=!1}))},EditActionsBarController.prototype.cancel=function(){this.wpEditFieldGroup.inEditMode=!1,this.onCancel()},EditActionsBarController}();exports.EditActionsBarController=EditActionsBarController,angular_modules_1.wpDirectivesModule.directive("editActionsBar",editActionsBar)},function(module,exports,__webpack_require__){"use strict";(function(_){function htmlEscape(){return function(string){return _.escape(string)}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.filtersModule.filter("htmlEscape",htmlEscape)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function focusWithinDirective($timeout){return{restrict:"A",scope:{selector:"=focusWithin"},link:function(scope,element){var focusedObservable=new rxjs_1.BehaviorSubject(!1);angular_rx_utils_1.scopedObservable(scope,focusedObservable).auditTime(50).subscribe(function(focused){element.toggleClass("-focus",focused)});var focusListener=function(){focusedObservable.next(!0)};element[0].addEventListener("focus",focusListener,!0);var blurListener=function(){focusedObservable.next(!1)};element[0].addEventListener("blur",blurListener,!0),$timeout(function(){element.addClass("focus-within--trigger"),element.find(scope.selector).addClass("focus-within--depending")},0)}}}focusWithinDirective.$inject=["$timeout"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),angular_rx_utils_1=__webpack_require__(8),rxjs_1=__webpack_require__(17);angular_modules_1.wpDirectivesModule.directive("focusWithin",focusWithinDirective)},function(module,exports,__webpack_require__){"use strict";function GlobalDragAndDropHandler(){return{restrict:"A",link:GlobalDragAndDropHandlerLink}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),GlobalDragAndDropHandlerLink=function(){function GlobalDragAndDropHandlerLink($scope,$element){this.$scope=$scope,this.$element=$element,$element.on("dragenter dragover dragleave drop",function(evt){evt.preventDefault()})}return GlobalDragAndDropHandlerLink}();exports.GlobalDragAndDropHandlerLink=GlobalDragAndDropHandlerLink,angular_modules_1.wpDirectivesModule.directive("globalDragAndDropHandler",GlobalDragAndDropHandler)},function(module,exports,__webpack_require__){"use strict";function hasPreview($compile,$rootScope){return{restrict:"A",scope:{},link:function(scope,element,attrs){var href=attrs.href,id=attrs.id,target=attrs.previewArea||"#preview";element.on("click",function(){return jQuery.ajax({url:href,type:"POST",data:angular.element("#"+id.replace(/(-preview)/g,"")).serialize().replace(/_method=(patch|put)&/,""),success:function(data){var el=angular.element(target);scope.$apply(function(){el.html(data),$compile(el.contents())($rootScope)}),angular.element("html, body").animate({scrollTop:angular.element("#preview").offset().top},"slow")}}),!1})}}}hasPreview.$inject=["$compile","$rootScope"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.openprojectModule.directive("hasPreview",hasPreview)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),AttributeHelpTextController=function(){function AttributeHelpTextController($element,$scope,helpTextDm,attributeHelpTexts,$q,ngDialog,I18n){var _this=this;this.$element=$element,this.$scope=$scope,this.helpTextDm=helpTextDm,this.attributeHelpTexts=attributeHelpTexts,this.$q=$q,this.ngDialog=ngDialog,this.I18n=I18n,this.exists=!1,this.text={open_dialog:I18n.t("js.help_texts.show_modal")},this.$scope.text={edit:I18n.t("js.button_edit"),close:I18n.t("js.button_close")},this.$scope.close=function(event){event.preventDefault(),event.stopPropagation(),_this.ngDialog.close("")},this.helpTextId?this.exists=!0:this.load().then(function(resource){return _this.exists=!!resource,resource})}return AttributeHelpTextController.$inject=["$element","$scope","helpTextDm","attributeHelpTexts","$q","ngDialog","I18n"],AttributeHelpTextController.prototype.handleClick=function(){var _this=this;this.load().then(function(resource){_this.renderModal(resource)})},AttributeHelpTextController.prototype.load=function(){return this.helpTextId?this.helpTextDm.load(this.helpTextId):this.attributeHelpTexts.require(this.attribute,this.attributeScope)},AttributeHelpTextController.prototype.renderModal=function(resource){this.$scope.resource=resource,this.ngDialog.open({closeByEscape:!0,showClose:!1,closeByDocument:!0,scope:this.$scope,template:"/components/common/help-texts/help-text.modal.html",className:"ngdialog-theme-openproject -light -wide"})},AttributeHelpTextController}();exports.AttributeHelpTextController=AttributeHelpTextController,angular_modules_1.opUiComponentsModule.component("attributeHelpText",{templateUrl:"/components/common/help-texts/help-text.directive.html",controller:AttributeHelpTextController,controllerAs:"$ctrl",bindings:{attribute:"<",attributeScope:"@",helpTextId:"@?",additionalLabel:"@?"}})},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),reactivestates_1=__webpack_require__(26),AttributeHelpTextsService=function(){function AttributeHelpTextsService(helpTextDm,$q){this.helpTextDm=helpTextDm,this.$q=$q,this.helpTexts=reactivestates_1.input()}return AttributeHelpTextsService.$inject=["helpTextDm","$q"],AttributeHelpTextsService.prototype.require=function(attribute,scope){var _this=this,deferred=this.$q.defer();return this.helpTexts.isPristine()?this.helpTextDm.loadAll().then(function(resources){_this.helpTexts.putValue(resources.elements),deferred.resolve(_this.find(attribute,scope))}):deferred.resolve(this.find(attribute,scope)),deferred.promise},AttributeHelpTextsService.prototype.find=function(attribute,scope){var value=this.helpTexts.getValueOr([]);return _.find(value,function(element){return element.scope===scope&&element.attribute===attribute})},AttributeHelpTextsService}();exports.AttributeHelpTextsService=AttributeHelpTextsService,angular_modules_1.opUiComponentsModule.service("attributeHelpTexts",AttributeHelpTextsService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function opIcon(){return{restrict:"EA",scope:{iconClasses:"@",title:"@iconTitle"},link:function(_scope,element){element.addClass("op-icon--wrapper")},template:'\n    <i class="{{iconClasses}}" aria-hidden="true"></i>\n    <span class="hidden-for-sighted" ng-bind="title" ng-if="title"></span>\n    '}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.opUiComponentsModule.directive("opIcon",opIcon)},function(module,exports){function lazy(obj,property,getter,setter){if(angular.isObject(obj)){var value_1,done_1=!1,config={get:function(){return done_1||(value_1=getter(),done_1=!0),value_1},set:function(){},configurable:!0,enumerable:!0};setter&&(config.set=function(val){value_1=setter(val),done_1=!0}),Object.defineProperty(obj,property,config)}}angular.module("openproject.services").factory("lazy",function(){return lazy})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.indicatorLocationSelector=".loading-indicator--location",exports.indicatorBackgroundSelector=".loading-indicator--background";var LoadingIndicator=function(){function LoadingIndicator(indicator,element){this.indicator=indicator,this.element=element}return Object.defineProperty(LoadingIndicator.prototype,"promise",{set:function(promise){var _this=this;this.start(),promise.finally(function(){setTimeout(function(){return _this.stop()},25)})},enumerable:!0,configurable:!0}),LoadingIndicator.prototype.start=function(){this.indicator.prepend(this.element)},LoadingIndicator.prototype.stop=function(){this.element.remove()},LoadingIndicator}();exports.LoadingIndicator=LoadingIndicator;var LoadingIndicatorService=function(){function LoadingIndicatorService(){this.indicatorTemplate='<div class="loading-indicator--background">\n      <div class="loading-indicator">\n        <div class="block-1"></div>\n        <div class="block-2"></div>\n        <div class="block-3"></div>\n        <div class="block-4"></div>\n        <div class="block-5"></div>\n      </div>\n    </div>\n   '}return Object.defineProperty(LoadingIndicatorService.prototype,"table",{get:function(){return this.indicator("table")},enumerable:!0,configurable:!0}),Object.defineProperty(LoadingIndicatorService.prototype,"wpDetails",{get:function(){return this.indicator("wpDetails")},enumerable:!0,configurable:!0}),Object.defineProperty(LoadingIndicatorService.prototype,"modal",{get:function(){return this.indicator("modal")},enumerable:!0,configurable:!0}),LoadingIndicatorService.prototype.indicator=function(name){var indicator=this.getIndicatorAt(name);return new LoadingIndicator(indicator,jQuery(this.indicatorTemplate))},LoadingIndicatorService.prototype.getIndicatorAt=function(name){return jQuery(exports.indicatorLocationSelector).filter('[data-indicator-name="'+name+'"]')},LoadingIndicatorService}();exports.LoadingIndicatorService=LoadingIndicatorService;var angular_modules_1=__webpack_require__(0);angular_modules_1.opServicesModule.service("loadingIndicator",LoadingIndicatorService)},function(module,exports,__webpack_require__){"use strict";(function(_){function NotificationsService($rootScope,$timeout,ConfigurationService){var createNotification=function(message){return"string"==typeof message?{message:message}:message},createSuccessNotification=function(message){return _.extend(createNotification(message),{type:"success"})},createWarningNotification=function(message){return _.extend(createNotification(message),{type:"warning"})},createErrorNotification=function(message,errors){return _.extend(createNotification(message),{type:"error",errors:errors})},createNoticeNotification=function(message){return _.extend(createNotification(message),{type:"info"})},createWorkPackageUploadNotification=function(message,uploads){if(!uploads.length)throw new Error("Cannot create an upload notification without uploads!");return _.extend(createNotification(message),{type:"upload",uploads:uploads})},broadcast=function(event,data){$rootScope.$broadcast(event,data)},currentNotifications=[],notificationAdded=function(newNotification){var toRemove=currentNotifications.slice(0);_.each(toRemove,function(existingNotification){"success"!==newNotification.type&&"error"!==newNotification.type||remove(existingNotification)}),currentNotifications.push(newNotification)},notificationRemoved=function(removedNotification){_.remove(currentNotifications,function(element){return element===removedNotification})},clearNotifications=function(){currentNotifications.forEach(function(notification){remove(notification)})};$rootScope.$on("notification.remove",function(_e,notification){notificationRemoved(notification)}),$rootScope.$on("notifications.clearAll",function(){clearNotifications()});var add=function(message,timeoutAfter){void 0===timeoutAfter&&(timeoutAfter=5e3);var notification=createNotification(message);return broadcast("notification.add",notification),notificationAdded(notification),"success"===message.type&&ConfigurationService.autoHidePopups()&&$timeout(function(){return remove(notification)},timeoutAfter),notification},addError=function(message,errors){return void 0===errors&&(errors=[]),Array.isArray(errors)||(errors=[errors]),add(createErrorNotification(message,errors))},addWarning=function(message){return add(createWarningNotification(message))},addSuccess=function(message){return add(createSuccessNotification(message))},addNotice=function(message){return add(createNoticeNotification(message))},addWorkPackageUpload=function(message,uploads){return add(createWorkPackageUploadNotification(message,uploads))},remove=function(notification){broadcast("notification.remove",notification)},clear=function(){broadcast("notification.clearAll",null)};return{add:add,remove:remove,clear:clear,addError:addError,addWarning:addWarning,addSuccess:addSuccess,addNotice:addNotice,addWorkPackageUpload:addWorkPackageUpload}}NotificationsService.$inject=["$rootScope","$timeout","ConfigurationService"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.opServicesModule.factory("NotificationsService",NotificationsService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function refreshOnFormChanges($http,$window){return{restrict:"EA",scope:{url:"@",inputSelector:"@"},link:function(scope,element,attr){var form=element.closest("form"),input=element.find(scope.inputSelector);input.on("change",function(){$window.location=scope.url+"?"+form.serialize()})}}}refreshOnFormChanges.$inject=["$http","$window"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.wpDirectivesModule.directive("refreshOnFormChanges",refreshOnFormChanges)},function(module,exports,__webpack_require__){"use strict";(function(_){function remoteFieldUpdater($http){return{restrict:"E",scope:{url:"@",method:"@"},link:function(scope,element){function buildRequest(params){var request={url:scope.url,method:method,headers:{}};return htmlMode?request.headers.Accept="text/html":request.headers.Accept="application/javascript","GET"===method?request.params=params:request.data=params,request}function updater(){var params={};input.each(function(i,el){var field=angular.element(el);params[field.data("remoteFieldKey")]=field.val()}),$http(buildRequest(params)).then(function(response){htmlMode?target.html(response.data):eval(response.data)})}var input=element.find(".remote-field--input"),target=element.find(".remote-field--target"),htmlMode=target.length>0,method=(scope.method||"GET").toUpperCase();input.on("keyup change",_.debounce(function(event){var keyCodesArray=[keyCodes_enum_1.keyCodes.TAB,keyCodes_enum_1.keyCodes.ENTER,keyCodes_enum_1.keyCodes.SHIFT];keyCodesArray.indexOf(event.keyCode)==-1&&void 0!=event.keyCode&&updater()},200))}}}remoteFieldUpdater.$inject=["$http"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),keyCodes_enum_1=__webpack_require__(40);angular_modules_1.wpDirectivesModule.directive("remoteFieldUpdater",remoteFieldUpdater)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function requestInterval(fn,delay){function loop(){handle.value=window.requestAnimationFrame(loop);var current=(new Date).getTime(),delta=current-start;delta>=delay&&(fn(),start=(new Date).getTime())}var start=(new Date).getTime(),handle={};return handle.value=window.requestAnimationFrame(loop),handle}function detectDimensionChanges($window){return{restrict:"A",link:function(scope,element,attr){var el=element[0],height=0,width=0;requestInterval(function(){var newHeight=el.offsetHeight,newWidth=el.offsetWidth;newHeight===height&&newWidth===width||(debug_output_1.debugLog("Dimension change detected on ",element),element.trigger(exports.opDimensionEventName),height=newHeight,width=newWidth)},1e3)}}}detectDimensionChanges.$inject=["$window"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),debug_output_1=__webpack_require__(9);exports.opDimensionEventName="op:resize",angular_modules_1.opUiComponentsModule.directive("detectDimensionChanges",detectDimensionChanges)},function(module,exports,__webpack_require__){"use strict";function opDragScroll(){return{restrict:"A",link:function(scope,element,attr){var mousedownX,mousedownY,eventName="op:dragscroll",mousedown=!1;element.on("mousedown",function(evt){setTimeout(function(){mousedown=!0,mousedownX=evt.clientX,mousedownY=evt.clientY},50,!1)}),element.on("mouseup",function(){mousedown=!1}),element.on("mousemove",function(evt){mousedown&&(element.trigger(eventName,{x:evt.clientX-mousedownX,y:evt.clientY-mousedownY}),mousedownX=evt.clientX,mousedownY=evt.clientY)})}}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.opUiComponentsModule.directive("opDragScroll",opDragScroll)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.openprojectModule.value("URI",URI)},function(module,exports,__webpack_require__){"use strict";function bindUnescapedHtml(ExpressionService,$sce){var foundationModalLink=function(scope){scope.$watch("value",function(value){scope.escapedValue="",value&&(value=ExpressionService.unescape(value.toString()),scope.escapedValue=$sce.trustAsHtml(value))})};return{restrict:"A",template:'<span class="read-value--html" ng-bind-html="escapedValue"></span>',scope:{value:"=bindUnescapedHtml"},link:foundationModalLink}}bindUnescapedHtml.$inject=["ExpressionService","$sce"],Object.defineProperty(exports,"__esModule",{value:!0}),angular.module("openproject.uiComponents").directive("bindUnescapedHtml",bindUnescapedHtml)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),ExpressionService=function(){function ExpressionService(){}return Object.defineProperty(ExpressionService.prototype,"UNESCAPED_EXPRESSION",{get:function(){return"{{"},enumerable:!0,configurable:!0}),Object.defineProperty(ExpressionService.prototype,"ESCAPED_EXPRESSION",{get:function(){return"{{ \\$root\\.DOUBLE_LEFT_CURLY_BRACE }}"},enumerable:!0,configurable:!0}),ExpressionService.prototype.escape=function(input){return input.replace(new RegExp(this.UNESCAPED_EXPRESSION,"g"),this.ESCAPED_EXPRESSION)},ExpressionService.prototype.unescape=function(input){return input.replace(new RegExp(this.ESCAPED_EXPRESSION,"g"),this.UNESCAPED_EXPRESSION)},ExpressionService}();exports.default=ExpressionService,angular_modules_1.opServicesModule.service("ExpressionService",ExpressionService)},function(module,exports,__webpack_require__){"use strict";function ColumnContextMenuController($scope,columnContextMenu,wpTableColumns,wpTableSortBy,wpTableGroupBy,wpTableHierarchies,I18n,columnsModal){$scope.I18n=I18n,$scope.text={sortAscending:I18n.t("js.work_packages.query.sort_ascending"),sortDescending:I18n.t("js.work_packages.query.sort_descending"),groupBy:I18n.t("js.work_packages.query.group"),moveLeft:I18n.t("js.work_packages.query.move_column_left"),moveRight:I18n.t("js.work_packages.query.move_column_right"),hide:I18n.t("js.work_packages.query.hide_column"),insert:I18n.t("js.work_packages.query.insert_columns")},$scope.$watch("column",function(){$scope.column=$scope.column||{name:"id",sortable:!0},$scope.isGroupable=wpTableGroupBy.isGroupable($scope.column)&&!wpTableGroupBy.isCurrentlyGroupedBy($scope.column),$scope.isSortable=wpTableSortBy.isSortable($scope.column)}),$scope.groupBy=function(){wpTableGroupBy.setBy($scope.column)},$scope.sortAscending=function(){wpTableSortBy.addAscending($scope.column)},$scope.sortDescending=function(){wpTableSortBy.addDescending($scope.column)},$scope.moveLeft=function(){wpTableColumns.shift($scope.column,-1)},$scope.moveRight=function(){wpTableColumns.shift($scope.column,1)},$scope.hideColumn=function(){columnContextMenu.close();var previousColumn=wpTableColumns.previous($scope.column);wpTableColumns.removeColumn($scope.column),window.setTimeout(function(){previousColumn?jQuery("#"+previousColumn.id).focus():jQuery("th.checkbox a").focus()},100)},$scope.insertColumns=function(){columnsModal.activate()},$scope.canMoveLeft=function(){return!wpTableColumns.isFirst($scope.column)},$scope.canMoveRight=function(){return!wpTableColumns.isLast($scope.column)},$scope.canBeHidden=function(){return!0},$scope.focusFeature=function(feature){var focus,mergeOrReturn=function(currentState,state){return void 0===currentState?state:currentState&&!state};switch(feature){case"insert":focus=mergeOrReturn(focus,!0);break;case"hide":focus=mergeOrReturn(focus,$scope.canBeHidden());break;case"moveRight":focus=mergeOrReturn(focus,$scope.canMoveRight());break;case"moveLeft":focus=mergeOrReturn(focus,$scope.canMoveLeft());break;case"group":focus=mergeOrReturn(focus,!!$scope.isGroupable);break;default:focus=mergeOrReturn(focus,$scope.canSort())}return focus}}ColumnContextMenuController.$inject=["$scope","columnContextMenu","wpTableColumns","wpTableSortBy","wpTableGroupBy","wpTableHierarchies","I18n","columnsModal"],Object.defineProperty(exports,"__esModule",{value:!0}),angular.module("openproject.workPackages").controller("ColumnContextMenuController",ColumnContextMenuController)},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var ContextMenuService=function(){function ContextMenuService($window,$injector,$q,$timeout,$rootScope){"ngInject";var _this=this;this.$window=$window,this.$injector=$injector,this.$q=$q,this.$timeout=$timeout,this.$rootScope=$rootScope,this.tempDisableGlobalClose=!1,$rootScope.$on("$stateChangeStart",function(){return _this.close()}),$rootScope.$on("repositionDropdown",function(){_this.repositionCurrentElement&&_this.repositionCurrentElement()}),Mousetrap.bind("escape",function(){return _this.close()}),jQuery($window).click(function(){_this.tempDisableGlobalClose||_this.close()})}return ContextMenuService.$inject=["$window","$injector","$q","$timeout","$rootScope"],Object.defineProperty(ContextMenuService.prototype,"active",{get:function(){return this.active_menu},enumerable:!0,configurable:!0}),ContextMenuService.prototype.close=function(disableFocus){return void 0===disableFocus&&(disableFocus=!1),this.repositionCurrentElement=null,this.active?this.active.close(disableFocus):this.$q.when(void 0)},ContextMenuService.prototype.activate=function(contextMenuName,event,locals,positionArgs){var _this=this;this.tempDisableGlobalClose=!0;var deferred=this.$q.defer(),target=jQuery(event.target),contextMenu=this.$injector.get(contextMenuName);return this.close(),contextMenu.open(target,locals).then(function(menuElement){contextMenu.menuElement=menuElement,_this.active_menu=contextMenu,menuElement.trap(),menuElement.on("click",function(evt){angular.element(evt.target).is(":input")&&evt.stopPropagation()}),_this.repositionCurrentElement=function(){return _this.reposition(event,positionArgs)},_this.$timeout(function(){_this.repositionCurrentElement(),menuElement.css("visibility","visible"),deferred.resolve(menuElement),_this.tempDisableGlobalClose=!1})}),deferred.promise},ContextMenuService.prototype.reposition=function(event,positionArgs){if(this.active){var position={my:"left top",at:"right bottom",of:event,collision:"flipfit"};_.assign(position,positionArgs),this.active.menuElement.position(position)}},ContextMenuService}();exports.ContextMenuService=ContextMenuService,angular.module("openproject.services").service("contextMenu",ContextMenuService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function CreateWpDropdownMenuController($scope,states){var wp=states.workPackages.get("new").value;wp&&wp.getForm().then(function(loadedForm){$scope.configureFormLink=loadedForm.configureForm,$scope.queryCustomFields=loadedForm.customFields})}CreateWpDropdownMenuController.$inject=["$scope","states"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.opWorkPackagesModule.controller("CreateWpDropdownMenuController",CreateWpDropdownMenuController)},function(module,exports,__webpack_require__){"use strict";function createWpMenuService(ngContextMenu){return ngContextMenu({templateUrl:"/components/context-menus/create-wp-menu/create-wp-menu.service.html",controller:"CreateWpDropdownMenuController",container:".toolbar"})}createWpMenuService.$inject=["ngContextMenu"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.opWorkPackagesModule.factory("CreateWpDropdownMenu",createWpMenuService)},function(module,exports,__webpack_require__){"use strict";function hasDropdownMenu(contextMenu,FocusHelper){return{restrict:"A",link:function(scope,element,attrs){function open(event){var localKeys=(attrs.locals||"").split(",").map(function(local){return local.trim()});return angular.forEach(localKeys,function(key){locals[key]=scope[key]}),contextMenu.activate(menuName,event,locals,{my:"right top",at:"right bottom",of:positionRelativeTo?element.find(positionRelativeTo):element,within:collisionContainer?angular.element(collisionContainer):window})}var menuName=attrs.target,locals={},positionRelativeTo=(attrs.afterFocusOn,attrs.positionRelativeTo),collisionContainer=attrs.collisionContainer,triggerOnEvent=(attrs.triggerOnEvent||"click")+".dropdown.openproject";Mousetrap(element[0]).bind("shift+alt+f10",function(evt){open(evt)}),element.on(triggerOnEvent,function(event){event.preventDefault(),event.stopPropagation(),scope.$evalAsync(function(){open(event).then(function(menuElement){FocusHelper.focusElement(menuElement.find(".menu-item,input").first(),!0)})})})}}}hasDropdownMenu.$inject=["contextMenu","FocusHelper"],Object.defineProperty(exports,"__esModule",{value:!0}),angular.module("openproject.uiComponents").directive("hasDropdownMenu",hasDropdownMenu)},function(module,exports,__webpack_require__){"use strict";function SettingsDropdownMenuController($scope,$window,I18n,columnsModal,exportModal,saveModal,settingsModal,shareModal,sortingModal,groupingModal,contextMenu,wpTableHierarchies,wpTableSum,wpTableGroupBy,wpListService,states,AuthorisationService,NotificationsService){function showModal(){closeAnyContextMenu(),this.activate()}function showExistingQueryModal(event){closeAnyContextMenu(),this.activate()}function allowQueryAction(event,action){return allowAction(event,"query",action)}function allowWorkPackageAction(event,action){return allowAction(event,"work_packages",action)}function allowFormAction(event,action){return!!form.$links[action]||(event.stopPropagation(),!1)}function allowAction(event,modelName,action){return!!AuthorisationService.can(modelName,action)||(event.stopPropagation(),!1)}function closeAnyContextMenu(){contextMenu.close()}function deleteConfirmed(){return $window.confirm(I18n.t("js.text_query_destroy_confirmation"))}function updateFocusInModal(element_id){setTimeout(function(){jQuery("#"+element_id).focus()},100)}var query,form;$scope.text={group_by_title:function(){return $scope.displayHierarchies?I18n.t("js.work_packages.query.group_by_disabled_by_hierarchy"):I18n.t("js.work_packages.query.hierarchy_mode")},hierarchy_title:function(){return wpTableGroupBy.current?I18n.t("js.work_packages.query.hierarchy_disabled_by_group_by",{column:wpTableGroupBy.current.id}):I18n.t("js.work_packages.query.group_by")},loading:I18n.t("js.label_loading")},states.query.resource.values$().takeUntil(states.table.stopAllSubscriptions).subscribe(function(queryUpdate){$scope.loading=!0,query=queryUpdate}),states.query.form.values$().takeUntil(states.table.stopAllSubscriptions).subscribe(function(formUpdate){form=formUpdate,$scope.displayHierarchies=wpTableHierarchies.isEnabled,$scope.displaySums=wpTableSum.isEnabled,$scope.isGrouped=wpTableGroupBy.isEnabled,$scope.displaySumsLabel=$scope.displaySums?I18n.t("js.toolbar.settings.hide_sums"):I18n.t("js.toolbar.settings.display_sums"),
query.results&&query.results.customFields&&($scope.queryCustomFields=query.results.customFields),$scope.loading=!1}),$scope.saveQuery=function(event){event.stopPropagation(),!query.id&&allowQueryAction(event,"updateImmediately")?saveModal.activate():query.id&&allowQueryAction(event,"updateImmediately")&&wpListService.save(),closeAnyContextMenu()},$scope.deleteQuery=function(event){event.stopPropagation(),allowQueryAction(event,"delete")&&deleteConfirmed()&&wpListService.delete(),closeAnyContextMenu()},$scope.showSaveAsModal=function(event){event.stopPropagation(),allowFormAction(event,"commit")&&(showExistingQueryModal.call(saveModal,event),updateFocusInModal("save-query-name"))},$scope.showShareModal=function(event){event.stopPropagation(),(allowQueryAction(event,"unstar")||allowQueryAction(event,"star"))&&(showExistingQueryModal.call(shareModal,event),updateFocusInModal("show-public"))},$scope.showSettingsModal=function(event){event.stopPropagation(),allowQueryAction(event,"update")&&(showExistingQueryModal.call(settingsModal,event),updateFocusInModal("query_name"))},$scope.showExportModal=function(event){event.stopPropagation(),allowWorkPackageAction(event,"representations")&&(showModal.call(exportModal),setTimeout(function(){updateFocusInModal(jQuery("[id^='export-']").first().attr("id"))}))},$scope.showColumnsModal=function(event){event.stopPropagation(),showModal.call(columnsModal),setTimeout(function(){updateFocusInModal(jQuery("[id^='column-']").first().attr("id"))})},$scope.showGroupingModal=function(event){event.stopPropagation(),showModal.call(groupingModal),updateFocusInModal("selected_columns_new")},$scope.showSortingModal=function(event){event.stopPropagation(),showModal.call(sortingModal),updateFocusInModal("modal-sorting-attribute-0")},$scope.toggleHierarchies=function(){var isEnabled=wpTableHierarchies.isEnabled;wpTableHierarchies.setEnabled(!isEnabled)},$scope.toggleDisplaySums=function(){closeAnyContextMenu(),wpTableSum.toggle()},$scope.showSettingsModalInvalid=function(){return!query.id||AuthorisationService.cannot("query","update")},$scope.showShareModalInvalid=function(){return AuthorisationService.cannot("query","unstar")&&AuthorisationService.cannot("query","star")},$scope.showExportModalInvalid=function(){return AuthorisationService.cannot("work_packages","representations")},$scope.deleteQueryInvalid=function(){return AuthorisationService.cannot("query","delete")},$scope.showSaveModalInvalid=function(){return AuthorisationService.cannot("query","updateImmediately")},$scope.saveQueryInvalid=function(){return AuthorisationService.cannot("query","updateImmediately")}}SettingsDropdownMenuController.$inject=["$scope","$window","I18n","columnsModal","exportModal","saveModal","settingsModal","shareModal","sortingModal","groupingModal","contextMenu","wpTableHierarchies","wpTableSum","wpTableGroupBy","wpListService","states","AuthorisationService","NotificationsService"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.opWorkPackagesModule.controller("SettingsDropdownMenuController",SettingsDropdownMenuController)},function(module,exports,__webpack_require__){"use strict";function settingsMenuService(ngContextMenu){return ngContextMenu({templateUrl:"/components/context-menus/settings-menu/settings-menu.service.html",controller:"SettingsDropdownMenuController",container:".toolbar"})}settingsMenuService.$inject=["ngContextMenu"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.opWorkPackagesModule.factory("SettingsDropdownMenu",settingsMenuService)},function(module,exports,__webpack_require__){"use strict";function showMoreMenuService(ngContextMenu){return ngContextMenu({template:'\n      <div class="dropdown dropdown-relative dropdown-anchor-right dropdownToolbar">\n        <ul class="dropdown-menu" ng-if="actionsAvailable">\n          <li ng-repeat="(action, properties) in permittedActions"\n              class="{{action}}">\n            <!-- The hrefs with empty URLs are necessary for IE10 to focus these links\n            properly. Thus, don\'t remove the hrefs or the empty URLs! -->\n            <a href="" focus="{{ !$index }}"\n               ng-click="triggerMoreMenuAction(action, properties.link)">\n               <op-icon icon-classes="icon-context {{ properties.css.join(\' \') }}"></op-icon>\n               {{ I18n.t(\'js.button_\' + action) }}\n            </a>\n          </li>\n        </ul>\n      </div>\n    ',container:"#action-show-more-dropdown-menu"})}showMoreMenuService.$inject=["ngContextMenu"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.opWorkPackagesModule.factory("ShowMoreDropdownMenu",showMoreMenuService)},function(module,exports,__webpack_require__){"use strict";function typesContextMenuService(ngContextMenu){return ngContextMenu({templateUrl:"/components/context-menus/types-context-menu/types-context-menu.service.html",controller:TypesContextMenuController})}typesContextMenuService.$inject=["ngContextMenu"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),TypesContextMenuController=function(){function TypesContextMenuController($state,$timeout,$scope,wpCreate){var _this=this;this.$state=$state,this.$timeout=$timeout,this.$scope=$scope,this.wpCreate=wpCreate,this.types=[];var project=$scope.projectIdentifier;$scope.$ctrl=this,wpCreate.getEmptyForm(project).then(function(form){_this.types=form.schema.type.allowedValues,_this.$timeout(function(){_this.$scope.$root.$emit("repositionDropdown")})})}return Object.defineProperty(TypesContextMenuController.prototype,"stateName",{get:function(){return this.$scope.stateName},enumerable:!0,configurable:!0}),TypesContextMenuController}();angular_modules_1.opWorkPackagesModule.factory("TypesContextMenu",typesContextMenuService)},function(module,exports,__webpack_require__){"use strict";function wpContextMenuController($scope,$rootScope,$state,states,WorkPackageContextMenuHelper,WorkPackageService,wpRelationsHierarchyService,contextMenu,I18n,$window,wpTableSelection,PERMITTED_CONTEXT_MENU_ACTIONS){function emitClosingEvents(){contextMenu.close()}function deleteSelectedWorkPackages(){var ids=wpTableSelection.getSelectedWorkPackageIds();WorkPackageService.performBulkDelete(ids,!0)}function editSelectedWorkPackages(link){var selected=getSelectedWorkPackages();if(selected.length>1)return void($window.location.href=link)}function copySelectedWorkPackages(link){var selected=getSelectedWorkPackages();if(selected.length>1)return void($window.location.href=link);var params={copiedFromWorkPackageId:selected[0].id};$state.transitionTo("work-packages.list.copy",params)}function getSelectedWorkPackages(){var selectedWorkPackages=wpTableSelection.getSelectedWorkPackages();return 0===selectedWorkPackages.length?[workPackage]:(selectedWorkPackages.indexOf(workPackage)===-1&&selectedWorkPackages.push(workPackage),selectedWorkPackages)}$scope.I18n=I18n;var wpId=$scope.workPackageId,workPackage=states.workPackages.get(wpId).value;wpTableSelection.isSelected(wpId)||wpTableSelection.setSelection(wpId,$scope.rowIndex),$scope.permittedActions=WorkPackageContextMenuHelper.getPermittedActions(getSelectedWorkPackages(),PERMITTED_CONTEXT_MENU_ACTIONS),$scope.isDetailsViewLinkPresent=function(){return!!angular.element("#work-package-context-menu li.open").length},$scope.triggerContextMenuAction=function(action,link){switch(action){case"delete":deleteSelectedWorkPackages();break;case"edit":editSelectedWorkPackages(link);break;case"copy":copySelectedWorkPackages(link);break;case"relation-precedes":$scope.table.timelineController.startAddRelationPredecessor(workPackage);break;case"relation-follows":$scope.table.timelineController.startAddRelationFollower(workPackage);break;case"relation-new-child":wpRelationsHierarchyService.addNewChildWp(workPackage);break;default:$window.location.href=link}},$scope.cancelInlineCreate=function(index,row){$rootScope.$emit("inlineWorkPackageCreateCancelled",index,row),emitClosingEvents()}}wpContextMenuController.$inject=["$scope","$rootScope","$state","states","WorkPackageContextMenuHelper","WorkPackageService","wpRelationsHierarchyService","contextMenu","I18n","$window","wpTableSelection","PERMITTED_CONTEXT_MENU_ACTIONS"],Object.defineProperty(exports,"__esModule",{value:!0}),angular.module("openproject.workPackages").controller("WorkPackageContextMenuController",wpContextMenuController)},function(module,exports){function wpContextMenuService(ngContextMenu){return ngContextMenu({controller:"WorkPackageContextMenuController",controllerAs:"contextMenu",templateUrl:"/components/context-menus/wp-context-menu/wp-context-menu.service.html"})}wpContextMenuService.$inject=["ngContextMenu"],angular.module("openproject.workPackages").factory("WorkPackageContextMenu",wpContextMenuService)},function(module,exports,__webpack_require__){"use strict";(function(_){function booleanValue(){return{restrict:"E",replace:!0,scope:{filter:"="},templateUrl:"/components/filters/filter-boolean-value/filter-boolean-value.directive.html",controller:BooleanValueController,bindToController:!0,controllerAs:"$ctrl"}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),BooleanValueController=function(){function BooleanValueController($scope,I18n){this.$scope=$scope,this.I18n=I18n,this.text={placeholder:I18n.t("js.placeholders.selection"),true:I18n.t("js.general_text_Yes"),false:I18n.t("js.general_text_No")}}return BooleanValueController.$inject=["$scope","I18n"],Object.defineProperty(BooleanValueController.prototype,"value",{get:function(){return this.filter.values[0]},set:function(val){this.filter.values[0]=val},enumerable:!0,configurable:!0}),Object.defineProperty(BooleanValueController.prototype,"hasNoValue",{get:function(){return _.isEmpty(this.filter.values)},enumerable:!0,configurable:!0}),Object.defineProperty(BooleanValueController.prototype,"availableOptions",{get:function(){return[!0,!1]},enumerable:!0,configurable:!0}),BooleanValueController}();exports.BooleanValueController=BooleanValueController,angular_modules_1.filtersModule.directive("filterBooleanValue",booleanValue)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function filterContainerDirective(wpFiltersService){return{restrict:"E",replace:!0,templateUrl:"/components/filters/filter-container/filter-container.directive.html",link:function(scope){scope.wpFilters=wpFiltersService}}}filterContainerDirective.$inject=["wpFiltersService"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.filtersModule.directive("filterContainer",filterContainerDirective)},function(module,exports,__webpack_require__){"use strict";function dateTimeValue(){return{restrict:"E",replace:!0,scope:{filter:"="},templateUrl:"/components/filters/filter-date-time-value/filter-date-time-value.directive.html",controller:DateTimeValueController,bindToController:!0,controllerAs:"$ctrl"}}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),abstract_filter_date_time_value_controller_1=__webpack_require__(92),DateTimeValueController=function(_super){function DateTimeValueController($scope,I18n,TimezoneService){var _this=_super.call(this,$scope,I18n,TimezoneService)||this;return _this.$scope=$scope,_this.I18n=I18n,_this.TimezoneService=TimezoneService,_this}return __extends(DateTimeValueController,_super),DateTimeValueController.$inject=["$scope","I18n","TimezoneService"],Object.defineProperty(DateTimeValueController.prototype,"value",{get:function(){return this.filter.values[0]},set:function(val){this.filter.values=[val]},enumerable:!0,configurable:!0}),Object.defineProperty(DateTimeValueController.prototype,"lowerBoundary",{get:function(){if(this.value&&this.TimezoneService.isValidISODateTime(this.value))return this.TimezoneService.parseDatetime(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(DateTimeValueController.prototype,"upperBoundary",{get:function(){if(this.value&&this.TimezoneService.isValidISODateTime(this.value))return this.TimezoneService.parseDatetime(this.value).add(24,"hours")},enumerable:!0,configurable:!0}),DateTimeValueController}(abstract_filter_date_time_value_controller_1.AbstractDateTimeValueController);exports.DateTimeValueController=DateTimeValueController,angular_modules_1.filtersModule.directive("filterDateTimeValue",dateTimeValue)},function(module,exports,__webpack_require__){"use strict";function dateTimesValue(){return{restrict:"E",replace:!0,scope:{filter:"="},templateUrl:"/components/filters/filter-date-times-value/filter-date-times-value.directive.html",controller:DateTimesValueController,bindToController:!0,controllerAs:"$ctrl"}}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),abstract_filter_date_time_value_controller_1=__webpack_require__(92),DateTimesValueController=function(_super){function DateTimesValueController($scope,I18n,TimezoneService){var _this=_super.call(this,$scope,I18n,TimezoneService)||this;return _this.$scope=$scope,_this.I18n=I18n,_this.TimezoneService=TimezoneService,_this}return __extends(DateTimesValueController,_super),DateTimesValueController.$inject=["$scope","I18n","TimezoneService"],Object.defineProperty(DateTimesValueController.prototype,"begin",{get:function(){return this.filter.values[0]},set:function(val){this.filter.values[0]=val||""},enumerable:!0,configurable:!0}),Object.defineProperty(DateTimesValueController.prototype,"end",{get:function(){return this.filter.values[1]},set:function(val){this.filter.values[1]=val||""},enumerable:!0,configurable:!0}),Object.defineProperty(DateTimesValueController.prototype,"lowerBoundary",{get:function(){return this.begin&&this.TimezoneService.isValidISODateTime(this.begin)?this.TimezoneService.parseDatetime(this.begin):null},enumerable:!0,configurable:!0}),Object.defineProperty(DateTimesValueController.prototype,"upperBoundary",{get:function(){return this.end&&this.TimezoneService.isValidISODateTime(this.end)?this.TimezoneService.parseDatetime(this.end):null},enumerable:!0,configurable:!0}),DateTimesValueController}(abstract_filter_date_time_value_controller_1.AbstractDateTimeValueController);exports.DateTimesValueController=DateTimesValueController,angular_modules_1.filtersModule.directive("filterDateTimesValue",dateTimesValue)},function(module,exports,__webpack_require__){"use strict";function dateValue(){return{restrict:"E",replace:!0,scope:{filter:"="},templateUrl:"/components/filters/filter-date-value/filter-date-value.directive.html",controller:DateValueController,bindToController:!0,controllerAs:"$ctrl"}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),DateValueController=function(){function DateValueController($scope,I18n){this.$scope=$scope,this.I18n=I18n}return DateValueController.$inject=["$scope","I18n"],Object.defineProperty(DateValueController.prototype,"value",{get:function(){return this.filter.values[0]},set:function(val){this.filter.values=[val]},enumerable:!0,configurable:!0}),Object.defineProperty(DateValueController.prototype,"filterDateModelOptions",{get:function(){return{updateOn:"default change blur",debounce:{default:400,change:0,blur:0}}},enumerable:!0,configurable:!0}),DateValueController}();exports.DateValueController=DateValueController,angular_modules_1.filtersModule.directive("filterDateValue",dateValue)},function(module,exports,__webpack_require__){"use strict";function datesValue(){return{restrict:"E",replace:!0,scope:{filter:"="},templateUrl:"/components/filters/filter-dates-value/filter-dates-value.directive.html",controller:DatesValueController,bindToController:!0,controllerAs:"$ctrl"}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),DatesValueController=function(){function DatesValueController($scope,I18n){this.$scope=$scope,this.I18n=I18n}return DatesValueController.$inject=["$scope","I18n"],Object.defineProperty(DatesValueController.prototype,"begin",{get:function(){return this.filter.values[0]},set:function(val){this.filter.values[0]=val||""},enumerable:!0,configurable:!0}),Object.defineProperty(DatesValueController.prototype,"end",{get:function(){return this.filter.values[1]},set:function(val){this.filter.values[1]=val||""},enumerable:!0,configurable:!0}),Object.defineProperty(DatesValueController.prototype,"filterDateModelOptions",{get:function(){return{updateOn:"default change blur",debounce:{default:400,change:0,blur:0}}},enumerable:!0,configurable:!0}),DatesValueController}();exports.DatesValueController=DatesValueController,angular_modules_1.filtersModule.directive("filterDatesValue",datesValue)},function(module,exports,__webpack_require__){"use strict";function integerValue(){return{restrict:"E",replace:!0,scope:{filter:"="},templateUrl:"/components/filters/filter-integer-value/filter-integer-value.directive.html",controller:IntegerValueController,bindToController:!0,controllerAs:"$ctrl"}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),IntegerValueController=function(){function IntegerValueController($scope,I18n){this.$scope=$scope,this.I18n=I18n}return IntegerValueController.$inject=["$scope","I18n"],Object.defineProperty(IntegerValueController.prototype,"value",{get:function(){return parseInt(this.filter.values[0])},set:function(val){"number"==typeof val?this.filter.values=[val.toString()]:this.filter.values=[]},enumerable:!0,configurable:!0}),Object.defineProperty(IntegerValueController.prototype,"filterModelOptions",{get:function(){return{updateOn:"default blur",debounce:{default:400,blur:0}}},enumerable:!0,configurable:!0}),Object.defineProperty(IntegerValueController.prototype,"unit",{get:function(){switch(this.filter.schema.filter.allowedValues[0].id){case"startDate":case"dueDate":case"updatedAt":case"createdAt":return this.I18n.t("js.work_packages.time_relative.days");default:return""}},enumerable:!0,configurable:!0}),IntegerValueController}();exports.IntegerValueController=IntegerValueController,angular_modules_1.filtersModule.directive("filterIntegerValue",integerValue)},function(module,exports,__webpack_require__){"use strict";function stringValue(){return{restrict:"E",replace:!0,scope:{filter:"="},templateUrl:"/components/filters/filter-string-value/filter-string-value.directive.html",controller:StringValueController,bindToController:!0,controllerAs:"$ctrl"}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),StringValueController=function(){function StringValueController($scope,I18n){this.$scope=$scope,this.I18n=I18n}return StringValueController.$inject=["$scope","I18n"],Object.defineProperty(StringValueController.prototype,"value",{get:function(){return this.filter.values[0]},set:function(val){this.filter.values[0]=val||""},enumerable:!0,configurable:!0}),Object.defineProperty(StringValueController.prototype,"filterModelOptions",{get:function(){return{updateOn:"default blur",debounce:{default:400,blur:0}}},enumerable:!0,configurable:!0}),StringValueController}();exports.StringValueController=StringValueController,angular_modules_1.filtersModule.directive("filterStringValue",stringValue)},function(module,exports,__webpack_require__){"use strict";(function(_){function toggledMultiselect(){return{restrict:"EA",replace:!0,scope:{filter:"="},templateUrl:"/components/filters/filter-toggled-multiselect-value/filter-toggled-multiselect-value.directive.html",controller:ToggledMultiselectController,bindToController:!0,controllerAs:"$ctrl"}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),ToggledMultiselectController=function(){function ToggledMultiselectController($scope,I18n,$q,RootDm){this.$scope=$scope,this.I18n=I18n,this.$q=$q,this.RootDm=RootDm,this.availableOptions=[],this.isMultiselect=this.isValueMulti(!0),this.text={placeholder:I18n.t("js.placeholders.selection"),enableMulti:I18n.t("js.work_packages.label_enable_multi_select"),disableMulti:I18n.t("js.work_packages.label_disable_multi_select")},this.fetchAllowedValues()}return ToggledMultiselectController.$inject=["$scope","I18n","$q","RootDm"],Object.defineProperty(ToggledMultiselectController.prototype,"value",{get:function(){return this.isValueMulti()?this.filter.values:this.filter.values[0]},set:function(val){var valToSet=Array.isArray(val)?val:[val];this.filter.values=valToSet},enumerable:!0,configurable:!0}),ToggledMultiselectController.prototype.isValueMulti=function(ignoreStatus){return void 0===ignoreStatus&&(ignoreStatus=!1),this.isMultiselect&&!ignoreStatus||this.filter.values&&this.filter.values.length>1},ToggledMultiselectController.prototype.toggleMultiselect=function(){this.isMultiselect=!this.isMultiselect},Object.defineProperty(ToggledMultiselectController.prototype,"hasNoValue",{get:function(){return _.isEmpty(this.filter.values)},enumerable:!0,configurable:!0}),ToggledMultiselectController.prototype.setAvailableOptions=function(options){this.availableOptions=options.elements},ToggledMultiselectController.prototype.fetchAllowedValues=function(){this.filter.currentSchema.values.allowedValues.$load?this.loadAllowedValues():this.availableOptions=this.filter.currentSchema.values.allowedValues},ToggledMultiselectController.prototype.loadAllowedValues=function(){var _this=this,valuesSchema=this.filter.currentSchema.values,loadingPromises=[valuesSchema.allowedValues.$load()],isUserResource=valuesSchema.type.indexOf("User")>0;isUserResource&&loadingPromises.push(this.RootDm.load()),this.$q.all(loadingPromises).then(function(resources){var options=resources[0].elements;isUserResource&&_this.addMeValue(options,resources[1].user),_this.availableOptions=options}.bind(this))},ToggledMultiselectController.prototype.addMeValue=function(options,currentUser){var me=(currentUser.$href,_.find(options,function(user){return user.$href===currentUser.$href}));me&&(me=angular.copy(me),me.name=this.I18n.t("js.label_me"),options.unshift(me))},ToggledMultiselectController}();exports.ToggledMultiselectController=ToggledMultiselectController,angular_modules_1.filtersModule.directive("filterToggledMultiselectValue",toggledMultiselect)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.filtersModule.constant("ADD_FILTER_SELECT_INDEX",-1)},function(module,exports,__webpack_require__){"use strict";(function(_){function queryFilterDirective($animate,wpTableFilters){return{restrict:"A",scope:!0,link:function(scope,element){function putStateIfComplete(){wpTableFilters.replaceIfComplete(scope.filters)}$animate.enabled(!1,element),scope.$watchCollection("filter.values",function(values,oldValues){_.isEqual(values,oldValues)||putStateIfComplete()}),scope.availableOperators=scope.filter.schema.availableOperators,scope.$watchCollection("filter.operator",function(operator,oldOperator){scope.showValuesInput=scope.filter.currentSchema.isValueRequired(),_.isEqual(operator,oldOperator)||putStateIfComplete()})}}}queryFilterDirective.$inject=["$animate","wpTableFilters"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.filtersModule.directive("queryFilter",queryFilterDirective)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function queryFiltersDirective($timeout,I18n,wpTableFilters,ADD_FILTER_SELECT_INDEX){return{restrict:"E",replace:!0,scope:{},templateUrl:"/components/filters/query-filters/query-filters.directive.html",compile:function(){return{pre:function(scope){function initialize(){scope.filters=wpTableFilters.currentState,updateRemainingFilters()}function updateRemainingFilters(){scope.remainingFilters=scope.filters.remainingFilters}function updateFilterFocus(index){var activeFilterCount=currentFilterLength();if(0==activeFilterCount)scope.focusElementIndex=ADD_FILTER_SELECT_INDEX;else{var filterIndex=index<activeFilterCount?index:activeFilterCount-1,filter=currentFilterAt(filterIndex);scope.focusElementIndex=scope.filters.current.indexOf(filter)}$timeout(function(){scope.$broadcast("updateFocus")},300)}function currentFilterLength(){return scope.filters.current.length}function currentFilterAt(index){return scope.filters.current[index]}scope.I18n=I18n,scope.focusElementIndex,scope.remainingFilters=[],scope.filters,wpTableFilters.observeOnScope(scope).subscribe(initialize),scope.$watch("filterToBeAdded",function(filter){if(filter){scope.filterToBeAdded=void 0;var index=(scope.filters.add(filter),currentFilterLength());updateFilterFocus(index),updateRemainingFilters(),wpTableFilters.replaceIfComplete(scope.filters)}}),scope.deactivateFilter=function(removedFilter){var index=scope.filters.current.indexOf(removedFilter);removedFilter.isCompletelyDefined()?wpTableFilters.remove(removedFilter):scope.filters.remove(removedFilter),updateFilterFocus(index),updateRemainingFilters()}}}}}}queryFiltersDirective.$inject=["$timeout","I18n","wpTableFilters","ADD_FILTER_SELECT_INDEX"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.filtersModule.directive("queryFilters",queryFiltersDirective)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),WorkPackageFiltersService=function(){function WorkPackageFiltersService(){this.visible=!1}return WorkPackageFiltersService.prototype.toggleVisibility=function(){this.visible=!this.visible},WorkPackageFiltersService}();exports.default=WorkPackageFiltersService,angular_modules_1.filtersModule.service("wpFiltersService",WorkPackageFiltersService)},function(module,exports,__webpack_require__){"use strict";function opAutoComplete(AutoCompleteHelper){return{restrict:"AC",scope:!1,link:function(scope,element){AutoCompleteHelper.enableTextareaAutoCompletion(element)}}}opAutoComplete.$inject=["AutoCompleteHelper"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.openprojectModule.directive("opAutoComplete",opAutoComplete)},function(module,exports){function external2internalFloat($locale){return function(input){if(""===input)return null;var decimalSep=$locale.NUMBER_FORMATS.DECIMAL_SEP,groupSep=$locale.NUMBER_FORMATS.GROUP_SEP,ret=input?input.toString().trim().replace(groupSep,"").replace(decimalSep,"."):null;return parseFloat(ret)}}external2internalFloat.$inject=["$locale"],angular.module("openproject").filter("external2internalFloat",external2internalFloat)},function(module,exports){function internal2externalFloat($locale){return function(input){return null===input?"":input.toLocaleString($locale.id,{useGrouping:!1,maximumFractionDigits:20})}}internal2externalFloat.$inject=["$locale"],angular.module("openproject").filter("internal2externalFloat",internal2externalFloat)},function(module,exports){function transformDateUtc(TimezoneService){return{restrict:"A",scope:{},require:"^ngModel",link:function(scope,element,attrs,ngModelController){ngModelController.$parsers.push(function(data){if(!TimezoneService.isValidISODate(data))return"";var d=TimezoneService.parseLocalDateTime(data);return TimezoneService.formattedISODateTime(d)}),ngModelController.$formatters.push(function(data){if(!TimezoneService.isValidISODateTime(data))return"";var d=TimezoneService.parseISODatetime(data);return TimezoneService.formattedISODate(d)})}}}transformDateUtc.$inject=["TimezoneService"],angular.module("openproject").directive("transformDateUtc",transformDateUtc)},function(module,exports){function transformDate(TimezoneService){return{restrict:"A",require:"^ngModel",link:function(scope,element,attrs,ngModelController){ngModelController.$parsers.push(function(data){return moment(data,"YYYY-MM-DD",!0).isValid()?data:null}),ngModelController.$formatters.push(function(data){if(moment(data,"YYYY-MM-DD",!0).isValid()){var d=TimezoneService.parseDate(data);return TimezoneService.formattedISODate(d)}return null})}}}transformDate.$inject=["TimezoneService"],angular.module("openproject").directive("transformDateValue",transformDate)},function(module,exports,__webpack_require__){"use strict";function transformDuration(TimezoneService){return{restrict:"A",require:"ngModel",link:function(scope,element,attrs,ngModelController){ngModelController.$parsers.push(function(value){if(!isNaN(value)){var floatValue=parseFloat(value);return moment.duration(floatValue,"hours")}}),ngModelController.$formatters.push(function(value){return TimezoneService.toHours(value)})}}}transformDuration.$inject=["TimezoneService"],Object.defineProperty(exports,"__esModule",{value:!0}),angular.module("openproject").directive("transformDurationValue",transformDuration)},function(module,exports){function transformFloat($filter){return{restrict:"A",require:"ngModel",link:function(scope,element,attrs,ngModelController){ngModelController.$parsers.push(function(data){return $filter("external2internalFloat")(data)}),ngModelController.$formatters.push(function(data){return $filter("internal2externalFloat")(data)})}}}transformFloat.$inject=["$filter"],angular.module("openproject").directive("transformFloatValue",transformFloat)},function(module,exports,__webpack_require__){"use strict";(function(_){function ColumnsModalController($scope,$timeout,I18n,columnsModal,wpTableColumns,ConfigurationService){var vm=this;vm.name="Columns",vm.closeMe=columnsModal.deactivate,vm.selectedColumns=[],vm.availableColumns=[],vm.unusedColumns=[],vm.text={closePopup:I18n.t("js.close_popup_title"),columnsLabel:I18n.t("js.label_columns"),selectedColumns:I18n.t("js.description_selected_columns"),multiSelectLabel:I18n.t("js.work_packages.label_column_multiselect"),applyButton:I18n.t("js.modals.button_apply"),cancelButton:I18n.t("js.modals.button_cancel")},vm.availableColumns=wpTableColumns.all,vm.unusedColumns=wpTableColumns.unused,vm.selectedColumns=angular.copy(wpTableColumns.getColumns()),vm.impaired=ConfigurationService.accessibilityModeEnabled(),vm.selectedColumnMap={},vm.impaired&&vm.selectedColumns.forEach(function(column){vm.selectedColumnMap[column.id]=!0}),vm.updateSelectedColumns=function(){wpTableColumns.setColumns(vm.selectedColumns),columnsModal.deactivate()},vm.updateUnusedColumns=function(selectedColumns){vm.unusedColumns=_.differenceBy(vm.availableColumns,selectedColumns,"$href")},vm.setSelectedColumn=function(column){vm.selectedColumnMap[column.id]?vm.selectedColumns.push(column):_.remove(vm.selectedColumns,function(c){return c.id===column.id})},$timeout(function(){angular.element(".columns-modal-content .ui-select-match-close").on("dragstart",function(event){event.preventDefault()})}),$scope.$on("uiSelectSort:change",function(event,args){vm.selectedColumns=args.array})}ColumnsModalController.$inject=["$scope","$timeout","I18n","columnsModal","wpTableColumns","ConfigurationService"],
Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.wpControllersModule.controller("ColumnsModalController",ColumnsModalController)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function columnsModalService(btfModal){return btfModal({controller:"ColumnsModalController",controllerAs:"$ctrl",afterFocusOn:"#work-packages-settings-button",templateUrl:"/components/modals/columns-modal/columns-modal.service.html"})}columnsModalService.$inject=["btfModal"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.wpControllersModule.factory("columnsModal",columnsModalService)},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var ConfirmDialogService=function(){function ConfirmDialogService($rootScope,$q,ngDialog,I18n){this.$rootScope=$rootScope,this.$q=$q,this.ngDialog=ngDialog,this.I18n=I18n,this.defaultTexts={title:I18n.t("js.modals.form_submit.title"),text:I18n.t("js.modals.form_submit.text"),button_continue:I18n.t("js.button_continue"),button_cancel:I18n.t("js.button_cancel")}}return ConfirmDialogService.$inject=["$rootScope","$q","ngDialog","I18n"],ConfirmDialogService.prototype.confirm=function(options){var dialog,deferred=this.$q.defer(),scope=this.$rootScope.$new();return scope.text=options.text,_.defaults(scope.text,this.defaultTexts),scope.confirmAndClose=function(){scope.confirmed=!0,dialog.close()},scope.cancel=function(){scope.confirmed=!1,dialog.close()},dialog=this.ngDialog.open({closeByEscape:_.defaultTo(options.closeByDocument,!0),showClose:_.defaultTo(options.closeByDocument,!0),scope:scope,template:"/components/modals/confirm-dialog/confirm-dialog.modal.html",className:"ngdialog-theme-openproject",preCloseCallback:function(){return scope.confirmed?deferred.resolve():deferred.reject(),!0}}),deferred.promise},ConfirmDialogService}();exports.ConfirmDialogService=ConfirmDialogService,angular.module("openproject.uiComponents").service("confirmDialog",ConfirmDialogService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function confirmFormSubmit(){return{restrict:"AC",scope:{},bindToController:!0,controller:ConfirmFormSubmitController,controllerAs:"$ctrl"}}Object.defineProperty(exports,"__esModule",{value:!0});var ConfirmFormSubmitController=function(){function ConfirmFormSubmitController($element,confirmDialog,I18n){var _this=this;this.$element=$element,this.confirmDialog=confirmDialog,this.I18n=I18n,this.confirmed=!1,this.text={title:I18n.t("js.modals.form_submit.title"),text:I18n.t("js.modals.form_submit.text")},$element.on("submit",function(evt){return!!_this.confirmed||(evt.preventDefault(),_this.openConfirmationDialog(),!1)})}return ConfirmFormSubmitController.$inject=["$element","confirmDialog","I18n"],ConfirmFormSubmitController.prototype.openConfirmationDialog=function(){var _this=this;this.confirmDialog.confirm({text:this.text,closeByEscape:!0,showClose:!0,closeByDocument:!0}).then(function(){_this.confirmed=!0,_this.$element.trigger("submit")}).catch(function(){return _this.confirmed=!1})},ConfirmFormSubmitController}();exports.ConfirmFormSubmitController=ConfirmFormSubmitController,angular.module("openproject.uiComponents").directive("confirmFormSubmit",confirmFormSubmit)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),ExportModalController=function(){function ExportModalController(exportModal,UrlParamsHelper,states,wpTableColumns){this.UrlParamsHelper=UrlParamsHelper,this.states=states,this.wpTableColumns=wpTableColumns;var results=this.states.table.results.value;this.name="Export",this.closeMe=exportModal.deactivate,this.exportOptions=this.buildExportOptions(results)}return ExportModalController.$inject=["exportModal","UrlParamsHelper","states","wpTableColumns"],ExportModalController.prototype.buildExportOptions=function(results){var _this=this;return results.representations.map(function(format){var link=format.$link;return{identifier:link.identifier,label:link.title,url:_this.addColumnsToHref(format.href)}})},ExportModalController.prototype.addColumnsToHref=function(href){var columns=this.wpTableColumns.getColumns(),columnIds=columns.map(function(column){return column.id});return href+"&"+this.UrlParamsHelper.buildQueryString({"columns[]":columnIds})},ExportModalController}();angular_modules_1.wpControllersModule.controller("ExportModalController",ExportModalController)},function(module,exports,__webpack_require__){"use strict";function exportModalService(btfModal){return btfModal({controller:"ExportModalController",controllerAs:"$ctrl",afterFocusOn:"#work-packages-settings-button",templateUrl:"/components/modals/export-modal/export-modal.service.html"})}exportModalService.$inject=["btfModal"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.wpControllersModule.factory("exportModal",exportModalService)},function(module,exports,__webpack_require__){"use strict";function GroupingModalController($scope,groupingModal,wpTableGroupBy,I18n){this.name="GroupBy",this.closeMe=groupingModal.deactivate;({title:I18n.t("js.inplace.clear_value_label")});$scope.vm={},wpTableGroupBy.onReady($scope).then(function(){$scope.vm.available=wpTableGroupBy.available,$scope.vm.current=wpTableGroupBy.current}),$scope.updateGroupBy=function(){wpTableGroupBy.set($scope.vm.current),groupingModal.deactivate()}}GroupingModalController.$inject=["$scope","groupingModal","wpTableGroupBy","I18n"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.wpControllersModule.controller("GroupingModalController",GroupingModalController)},function(module,exports,__webpack_require__){"use strict";function groupingModalService(btfModal){return btfModal({controller:"GroupingModalController",controllerAs:"$ctrl",afterFocusOn:"#work-packages-settings-button",templateUrl:"/components/modals/grouping-modal/grouping-modal.service.html"})}groupingModalService.$inject=["btfModal"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.wpControllersModule.factory("groupingModal",groupingModalService)},function(module,exports,__webpack_require__){"use strict";function modalWrapper(){return{restrict:"E",scope:{modalParams:"=",activationLinkId:"=?"},controller:ModalWrapperController,controllerAs:"$ctrl",bindToController:!0}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),ModalWrapperController=function(){function ModalWrapperController($element,$scope,$attrs,ngDialog){var _this=this;this.$element=$element,this.$scope=$scope,this.$attrs=$attrs,this.ngDialog=ngDialog,this.iframeSelector=".iframe-target-wrapper",this.modalOptions={plain:!0,closeByEscape:!0,closeByDocument:!1,className:"ngdialog-theme-openproject"};var activationLink=$element.find(".modal-wrapper--activation-link");this.activationLinkId&&(activationLink=jQuery(this.activationLinkId));var wrappedElement=$element.find(".modal-wrapper--content");this.modalBody=wrappedElement.html(),$attrs.iframeUrl&&this.appendIframe($attrs.iframeUrl),angular.extend(this.modalOptions,this.modalParams||{}),this.modalOptions.template=this.modalBody,$attrs.initialize?this.initialize():activationLink.click(function(){return _this.initialize()})}return ModalWrapperController.$inject=["$element","$scope","$attrs","ngDialog"],ModalWrapperController.prototype.initialize=function(){this.modal=this.ngDialog.open(this.modalOptions)},ModalWrapperController.prototype.appendIframe=function(url){var subdom=angular.element(this.modalBody),iframe=angular.element('<iframe frameborder="0" height="305" allowfullscreen>></iframe>');iframe.attr("src",url),subdom.find(this.iframeSelector).append(iframe),this.modalBody=subdom.html()},ModalWrapperController}();exports.ModalWrapperController=ModalWrapperController,angular_modules_1.opUiComponentsModule.directive("modalWrapper",modalWrapper)},function(module,exports,__webpack_require__){"use strict";function requestForConfirmation(){return{restrict:"AC",scope:{},bindToController:!0,controller:RequestForConfirmationController,controllerAs:"$ctrl"}}Object.defineProperty(exports,"__esModule",{value:!0});var RequestForConfirmationController=function(){function RequestForConfirmationController($element,$scope,$http,$q,ngDialog,I18n){var _this=this;this.$element=$element,this.$scope=$scope,this.$http=$http,this.$q=$q,this.ngDialog=ngDialog,this.I18n=I18n,this.passwordConfirmed=!1,this.$scope.text={title_confirmation:I18n.t("js.password_confirmation.title"),field_description:I18n.t("js.password_confirmation.field_description"),confirm_button:I18n.t("js.button_confirm"),password:I18n.t("js.label_password")},this.$scope.dialog={password_value:""},$element.submit(function(evt){_this.passwordConfirmed||(evt.preventDefault(),_this.openConfirmationDialog())})}return RequestForConfirmationController.$inject=["$element","$scope","$http","$q","ngDialog","I18n"],RequestForConfirmationController.prototype.openConfirmationDialog=function(){var _this=this;this.ngDialog.open({closeByEscape:!1,showClose:!1,closeByDocument:!1,scope:this.$scope,template:"/components/modals/request-for-confirmation/request-for-confirmation.modal.html",className:"ngdialog-theme-openproject",preCloseCallback:function(){return _this.appendPassword(),_this.$element.submit(),!0}})},RequestForConfirmationController.prototype.appendPassword=function(){angular.element("<input>").attr({type:"hidden",name:"_password_confirmation",value:this.$scope.dialog.password_value}).appendTo(this.$element),this.passwordConfirmed=!0},RequestForConfirmationController}();exports.RequestForConfirmationController=RequestForConfirmationController,angular.module("openproject.uiComponents").directive("requestForConfirmation",requestForConfirmation)},function(module,exports,__webpack_require__){"use strict";function SaveModalController($scope,saveModal,states,wpListService,wpNotificationsService,$q,NotificationsService){this.name="Save",this.closeMe=saveModal.deactivate,$scope.isStarred=!1,$scope.isPublic=!1,$scope.setValues=function(isStarred,isPublic){$scope.isStarred=isStarred,$scope.isPublic=isPublic},$scope.saveQueryAs=function(name){var query=states.query.resource.value;query.public=$scope.isPublic,wpListService.create(query,name).then(function(savedQuery){return $scope.isStarred&&!savedQuery.starred?wpListService.toggleStarred(savedQuery).then(function(){return saveModal.deactivate()}):(saveModal.deactivate(),$q.when(!0))}).catch(function(error){return wpNotificationsService.handleErrorResponse(error)})}}SaveModalController.$inject=["$scope","saveModal","states","wpListService","wpNotificationsService","$q","NotificationsService"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.wpControllersModule.controller("SaveModalController",SaveModalController)},function(module,exports,__webpack_require__){"use strict";function saveModalService(btfModal){return btfModal({controller:"SaveModalController",controllerAs:"$ctrl",afterFocusOn:"#work-packages-settings-button",templateUrl:"/components/modals/save-modal/save-modal.service.html"})}saveModalService.$inject=["btfModal"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.wpControllersModule.factory("saveModal",saveModalService)},function(module,exports,__webpack_require__){"use strict";function SettingsModalController($scope,states,settingsModal,wpListService){var query=states.query.resource.value;this.name="Settings",this.closeMe=settingsModal.deactivate,$scope.queryName=query.name,$scope.updateQuery=function(){query.name=$scope.queryName,wpListService.save(query).then(function(){settingsModal.deactivate()})}}SettingsModalController.$inject=["$scope","states","settingsModal","wpListService"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.wpControllersModule.controller("SettingsModalController",SettingsModalController)},function(module,exports,__webpack_require__){"use strict";function settingsModalService(btfModal){return btfModal({controller:"SettingsModalController",controllerAs:"$ctrl",afterFocusOn:"#work-packages-settings-button",templateUrl:"/components/modals/settings-modal/settings-modal.service.html"})}settingsModalService.$inject=["btfModal"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.wpControllersModule.factory("settingsModal",settingsModalService)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),QuerySharingForm=function(){function QuerySharingForm($scope,states,AuthorisationService,I18n){this.$scope=$scope,this.states=states,this.AuthorisationService=AuthorisationService,this.I18n=I18n,this.canPublish=!1;var form=(this.states.query.resource.value,states.query.form.value);this.canPublish=form.schema.public.writable,this.text={showInMenu:I18n.t("js.label_show_in_menu"),visibleForOthers:I18n.t("js.label_visible_for_others")}}return QuerySharingForm.$inject=["$scope","states","AuthorisationService","I18n"],Object.defineProperty(QuerySharingForm.prototype,"canStar",{get:function(){return this.isSave||this.AuthorisationService.can("query","star")||this.AuthorisationService.can("query","unstar")},enumerable:!0,configurable:!0}),QuerySharingForm.prototype.changed=function(){this.onChange({isStarred:!!this.isStarred,isPublic:!!this.isPublic})},QuerySharingForm}();exports.QuerySharingForm=QuerySharingForm,angular_modules_1.wpControllersModule.component("querySharingForm",{templateUrl:"/components/modals/share-modal/query-sharing-form.html",controller:QuerySharingForm,bindings:{onChange:"&",isStarred:"<",isPublic:"<",isSave:"<?"}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),ShareModalController=function(){function ShareModalController(shareModal,states,NotificationsService,wpListService,$q){this.shareModal=shareModal,this.states=states,this.NotificationsService=NotificationsService,this.wpListService=wpListService,this.$q=$q,this.name="Share",this.name="Share",this.query=this.states.query.resource.value,this.isStarred=this.query.starred,this.isPublic=this.query.public}return ShareModalController.$inject=["shareModal","states","NotificationsService","wpListService","$q"],ShareModalController.prototype.setValues=function(isStarred,isPublic){this.isStarred=isStarred,this.isPublic=isPublic},ShareModalController.prototype.closeModal=function(){this.shareModal.deactivate()},ShareModalController.prototype.closeAndReport=function(message){this.shareModal.deactivate(),this.NotificationsService.addSuccess(message.text)},ShareModalController.prototype.saveQuery=function(){var _this=this,promises=[];this.query.public!==this.isPublic&&(this.query.public=this.isPublic,promises.push(this.wpListService.save(this.query))),this.query.starred!==this.isStarred&&promises.push(this.wpListService.toggleStarred(this.query)),this.$q.all(promises).then(function(){_this.shareModal.deactivate()})},ShareModalController}();exports.ShareModalController=ShareModalController,angular_modules_1.wpControllersModule.controller("ShareModalController",ShareModalController)},function(module,exports,__webpack_require__){"use strict";function shareModalService(btfModal){return btfModal({controller:"ShareModalController",controllerAs:"$ctrl",afterFocusOn:"#work-packages-settings-button",templateUrl:"/components/modals/share-modal/share-modal.service.html"})}shareModalService.$inject=["btfModal"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.wpControllersModule.factory("shareModal",shareModalService)},function(module,exports,__webpack_require__){"use strict";(function(_){function SortingModalController(sortingModal,$scope,wpTableSortBy,I18n){function fillUpSortElements(){for(;$scope.sortationObjects.length<3;)$scope.sortationObjects.push(new SortModalObject(null,query_sort_by_resource_service_1.QUERY_SORT_BY_ASC))}this.name="Sorting",this.closeMe=sortingModal.deactivate,$scope.currentSortation=[],$scope.availableColumns=[],$scope.allColumns=[],$scope.sortationObjects=[],wpTableSortBy.onReady($scope).then(function(){$scope.currentSortation=wpTableSortBy.currentSortBys;var availableSortation=wpTableSortBy.available,allColumns=_.map(availableSortation,function(sort){return sort.column});$scope.allColumns=_.uniqBy(allColumns,"$href"),_.each($scope.currentSortation,function(sort){$scope.sortationObjects.push(new SortModalObject(sort.column,sort.direction.$href))}),fillUpSortElements()}),$scope.$watchCollection("sortationObjects",function(){var usedColumns=_.map($scope.sortationObjects,function(object){return object.column});$scope.availableColumns=_.differenceBy($scope.allColumns,usedColumns,"$href")}),$scope.availableColumnsAndCurrent=function(column){return _.uniqBy(_.concat($scope.availableColumns,_.compact([column])),"$href")},$scope.updateSortation=function(){var sortElements=$scope.sortationObjects.filter(function(object){return object.column}).map(function(object){return _.find(wpTableSortBy.available,function(availableSort){return availableSort.column.$href===object.column.$href&&availableSort.direction.$href===object.direction})});wpTableSortBy.set(_.compact(sortElements)),sortingModal.deactivate()},$scope.availableDirections=[{$href:query_sort_by_resource_service_1.QUERY_SORT_BY_ASC,name:I18n.t("js.label_ascending")},{$href:query_sort_by_resource_service_1.QUERY_SORT_BY_DESC,name:I18n.t("js.label_descending")}]}SortingModalController.$inject=["sortingModal","$scope","wpTableSortBy","I18n"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),query_sort_by_resource_service_1=__webpack_require__(58),SortModalObject=function(){function SortModalObject(column,direction){this.column=column,this.direction=direction}return SortModalObject}();angular_modules_1.wpControllersModule.controller("SortingModalController",SortingModalController)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function sortingModalService(btfModal){return btfModal({controller:"SortingModalController",controllerAs:"$ctrl",afterFocusOn:"#work-packages-settings-button",templateUrl:"/components/modals/sorting-modal/sorting-modal.service.html"})}sortingModalService.$inject=["btfModal"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.wpControllersModule.factory("sortingModal",sortingModalService)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ResponsiveView=function(){function ResponsiveView($window){this.$window=$window,this.small=680}return ResponsiveView.$inject=["$window"],ResponsiveView.prototype.isSmall=function(){return this.$window.innerWidth<=this.small},ResponsiveView.prototype.onResize=function(callback){angular.element(this.$window).on("resize",callback)},ResponsiveView}();exports.ResponsiveView=ResponsiveView,angular.module("openproject.responsive").service("responsiveView",ResponsiveView)},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),panels={get overview(){return{url:"/overview",reloadOnSearch:!1,template:'<overview-panel work-package="$ctrl.workPackage"></overview-panel>'}},get watchers(){return{url:"/watchers",reloadOnSearch:!1,template:'<watchers-panel ng-if="$ctrl.workPackage" work-package="$ctrl.workPackage"></watchers-panel>'}},get activity(){return{url:"/activity",reloadOnSearch:!1,template:'<activity-panel ng-if="$ctrl.workPackage" work-package="$ctrl.workPackage"></activity-panel>'}},get activityDetails(){var activity=this.activity;return activity.url="#{activity_no:d+}",activity},get relations(){return{url:"/relations",reloadOnSearch:!1,template:' <relations-panel\n                    ng-if="$ctrl.workPackage"\n                    work-package="$ctrl.workPackage"\n                  ></relations-panel>'}}};angular_modules_1.openprojectModule.config(["$stateProvider","$urlRouterProvider","$urlMatcherFactoryProvider",function($stateProvider,$urlRouterProvider,$urlMatcherFactoryProvider){$urlMatcherFactoryProvider.strictMode(!1),$stateProvider.state("work-packages",{url:"/{projects}/{projectPath}/work_packages?query_id&query_props",abstract:!0,params:{projectPath:{value:null,squash:!0},projects:{value:null,squash:!0},query_id:{dynamic:!0},query_props:{dynamic:!0}},templateUrl:"/components/routing/main/work-packages.html",controller:"WorkPackagesController"}).state("work-packages.new",{url:"/new?type&parent_id",templateUrl:"/components/routing/main/work-packages.new.html",resolve:{successState:function(){return"work-packages.show"}},controller:"WorkPackageCreateController",controllerAs:"$ctrl",reloadOnSearch:!1,onEnter:function(){return angular.element("body").addClass("full-create")},onExit:function(){return angular.element("body").removeClass("full-create")}}).state("work-packages.copy",{url:"/{copiedFromWorkPackageId:[0-9]+}/copy",controller:"WorkPackageCopyController",controllerAs:"$ctrl",reloadOnSearch:!1,resolve:{successState:function(){return"work-packages.show"}},templateUrl:"/components/routing/main/work-packages.new.html",onEnter:function(){angular.element("body").addClass("action-show")},onExit:function(){return angular.element("body").removeClass("action-show")}}).state("work-packages.show",{url:"/{workPackageId:[0-9]+}",redirectTo:"work-packages.show.activity",templateUrl:"/components/routing/wp-show/wp.show.html",controller:"WorkPackageShowController",controllerAs:"$ctrl",onEnter:function(){return angular.element("body").addClass("action-show")},onExit:function(){return angular.element("body").removeClass("action-show")}}).state("work-packages.show.activity",panels.activity).state("work-packages.show.activity.details",panels.activityDetails).state("work-packages.show.relations",panels.relations).state("work-packages.show.watchers",panels.watchers).state("work-packages.list",{url:"",controller:"WorkPackagesListController",templateUrl:"/components/routing/wp-list/wp.list.html",reloadOnSearch:!1,onEnter:function(){return angular.element("body").addClass("action-index")},onExit:function(){return angular.element("body").removeClass("action-index")}}).state("work-packages.list.new",{url:"/create_new?type&parent_id",controller:"WorkPackageCreateController",controllerAs:"$ctrl",templateUrl:"/components/routing/wp-list/wp.list.new.html",reloadOnSearch:!1,resolve:{successState:function(){return"work-packages.list.details.overview"}},onEnter:function(){return angular.element("body").addClass("action-create")},onExit:function(){return angular.element("body").removeClass("action-create")}}).state("work-packages.list.copy",{url:"/details/{copiedFromWorkPackageId:[0-9]+}/copy",controller:"WorkPackageCopyController",controllerAs:"$ctrl",resolve:{successState:function(){return"work-packages.list.details"}},templateUrl:"/components/routing/wp-list/wp.list.new.html",reloadOnSearch:!1,onEnter:function(){return angular.element("body").addClass("action-details")},onExit:function(){return angular.element("body").removeClass("action-details")}}).state("work-packages.list.details",{redirectTo:"work-packages.list.details.overview",url:"/details/{workPackageId:[0-9]+}",templateUrl:"/components/routing/wp-details/wp.list.details.html",controller:"WorkPackageDetailsController",controllerAs:"$ctrl",reloadOnSearch:!1,params:{focus:{dynamic:!0,value:!0}},onEnter:function(){return angular.element("body").addClass("action-details")},onExit:function(){return angular.element("body").removeClass("action-details")}}).state("work-packages.list.details.overview",panels.overview).state("work-packages.list.details.activity",panels.activity).state("work-packages.list.details.activity.details",panels.activityDetails).state("work-packages.list.details.relations",panels.relations).state("work-packages.list.details.watchers",panels.watchers)}]).run(["$location","$rootElement","$timeout","$rootScope","$state","$window",function($location,$rootElement,$timeout,$rootScope,$state,$window){$rootElement.off("click"),$rootElement.on("click","a[data-ui-route]",function(event){if(0===jQuery("div[ui-view]").length||event.shiftKey||event.ctrlKey||event.metaKey||2===event.which)return!0;var el=jQuery(event.target).closest("a[data-ui-route]");try{var stateName_1=el.data("uiRoute"),params_1=$rootScope.$eval(el.data("uiRouteParams"))||{};return $timeout(function(){return $state.go(stateName_1,params_1)}),event.preventDefault(),!1}catch(e){return console.error("Tried to parse ui-route link but failed with: "+e),!0}}),angular.element("body").on("click",'a[href="#"]',function(evt){evt.preventDefault()}),$rootScope.$on("$stateChangeStart",function(event,toState,toParams){$rootScope.$emit("notifications.clearAll");var projectIdentifier=toParams.projectPath||$rootScope.projectIdentifier;if(!toParams.projects&&projectIdentifier){var newParams=_.clone(toParams);_.assign(newParams,{projectPath:projectIdentifier,projects:"projects"}),$state.go(toState,newParams)}})}])}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),angular_rx_utils_1=__webpack_require__(8),wp_view_base_controller_1=__webpack_require__(93),WorkPackageDetailsController=function(_super){function WorkPackageDetailsController($scope,states,keepTab,wpTableSelection,$state){var _this=_super.call(this,$scope,$state.params.workPackageId)||this;_this.$scope=$scope,_this.states=states,_this.keepTab=keepTab,_this.wpTableSelection=wpTableSelection,_this.$state=$state,_this.observeWorkPackage();var wpId=$state.params.workPackageId,focusState=_this.states.focusedWorkPackage,focusedWP=focusState.value;return focusedWP?_this.wpTableSelection.isSelected(wpId)||_this.wpTableSelection.setRowState(wpId,!0):(focusState.putValue(wpId),_this.wpTableSelection.setRowState(wpId,!0)),angular_rx_utils_1.scopedObservable($scope,_this.states.focusedWorkPackage.values$()).map(function(wpId){return wpId.toString()}).distinctUntilChanged().subscribe(function(newId){wpId!==newId&&$state.includes("work-packages.list.details")&&$state.go($state.current.name,{workPackageId:newId,focus:!1})}),_this}return __extends(WorkPackageDetailsController,_super),WorkPackageDetailsController.$inject=["$scope","states","keepTab","wpTableSelection","$state"],WorkPackageDetailsController.prototype.close=function(){this.$state.go("work-packages.list",this.$state.params)},WorkPackageDetailsController.prototype.switchToFullscreen=function(){this.$state.go(this.keepTab.currentShowState,this.$state.params)},Object.defineProperty(WorkPackageDetailsController.prototype,"shouldFocus",{get:function(){return this.$state.params.focus===!0},enumerable:!0,configurable:!0}),WorkPackageDetailsController.prototype.initializeTexts=function(){_super.prototype.initializeTexts.call(this),this.text.closeDetailsView=this.I18n.t("js.button_close_details"),this.text.goTofullScreen=this.I18n.t("js.work_packages.message_successful_show_in_fullscreen")},WorkPackageDetailsController}(wp_view_base_controller_1.WorkPackageViewController);exports.WorkPackageDetailsController=WorkPackageDetailsController,angular_modules_1.wpControllersModule.controller("WorkPackageDetailsController",WorkPackageDetailsController)},function(module,exports,__webpack_require__){"use strict";function WorkPackagesListController($scope,$state,AuthorisationService,states,wpTableRefresh,wpTableColumns,wpTableSortBy,wpTableGroupBy,wpTableFilters,wpTableSum,wpTableTimeline,wpTableHierarchies,wpTableRelationColumns,wpTablePagination,wpListService,wpListChecksumService,loadingIndicator,I18n){function initialSetup(){var loadingRequired=wpListChecksumService.isUninitialized();setupQueryObservers(),loadingRequired&&(wpTableRefresh.clear("Impending query loading."),loadQuery()),setupRefreshObserver()}function setupQueryObservers(){angular_rx_utils_1.scopedObservable($scope,states.tableRendering.onQueryUpdated.values$()).take(1).subscribe(function(){return $scope.tableInformationLoaded=!0}),states.query.resource.values$().takeUntil(angular_rx_utils_1.scopeDestroyed$($scope)).distinctUntilChanged(function(query,formerQuery){return query.id===formerQuery.id}).subscribe(function(query){updateTitle(query)}),states.query.resource.values$().takeUntil(angular_rx_utils_1.scopeDestroyed$($scope)).distinctUntilChanged(function(query,formerQuery){return query.id===formerQuery.id}).withLatestFrom(wpTablePagination.state.values$()).subscribe(function(_a){var query=_a[0],pagination=_a[1];wpListChecksumService.setToQuery(query,pagination)}),states.query.context.fireOnStateChange(wpTablePagination.state,"Query loaded").values$().withLatestFrom(states.query.resource.values$()).takeUntil(angular_rx_utils_1.scopeDestroyed$($scope)).subscribe(function(_a){var pagination=_a[0],query=_a[1];wpListChecksumService.isQueryOutdated(query,pagination)&&(wpListChecksumService.update(query,pagination),updateResultsVisibly())}),setupChangeObserver(wpTableFilters),setupChangeObserver(wpTableGroupBy),setupChangeObserver(wpTableSortBy),setupChangeObserver(wpTableSum),setupChangeObserver(wpTableTimeline),setupChangeObserver(wpTableTimeline),setupChangeObserver(wpTableHierarchies),setupChangeObserver(wpTableColumns)}function setupChangeObserver(service){var queryState=states.query.resource;states.query.context.fireOnStateChange(service.state,"Query loaded").values$().takeUntil(angular_rx_utils_1.scopeDestroyed$($scope)).filter(function(){return queryState.hasValue()&&service.hasChanged(queryState.value)}).subscribe(function(){var newQuery=queryState.value,triggerUpdate=service.applyToQuery(newQuery);states.query.resource.putValue(newQuery),wpListChecksumService.updateIfDifferent(newQuery,wpTablePagination.current),triggerUpdate&&wpTableRefresh.request(!0,"Query updated by user")})}function setupRefreshObserver(){wpTableRefresh.state.values$("Refresh listener in wp-list.controller").takeUntil(angular_rx_utils_1.scopeDestroyed$($scope)).auditTime(20).subscribe(function(refreshVisibly){refreshVisibly?(debug_output_1.debugLog("Refreshing work package results visibly."),updateResultsVisibly()):(debug_output_1.debugLog("Refreshing work package results in the background."),updateResults())})}function loadQuery(){wpListChecksumService.clear(),loadingIndicator.table.promise=wpListService.fromQueryParams($state.params,$scope.projectIdentifier).then(function(){return states.table.rendered.valuesPromise()})}function updateResults(){return wpListService.reloadCurrentResultsList()}function updateToFirstResultsPage(){return wpListService.loadCurrentResultsListFirstPage()}function updateResultsVisibly(firstPage){void 0===firstPage&&(firstPage=!1),firstPage?loadingIndicator.table.promise=updateToFirstResultsPage():loadingIndicator.table.promise=updateResults();
}function updateTitle(query){query.id?$scope.selectedTitle=query.name:$scope.selectedTitle=I18n.t("js.label_work_package_plural")}$scope.projectIdentifier=$state.params.projectPath||null,$scope.I18n=I18n,$scope.text={jump_to_pagination:I18n.t("js.work_packages.jump_marks.pagination"),text_jump_to_pagination:I18n.t("js.work_packages.jump_marks.label_pagination")},$scope.$on("$destroy",function(){wpTableRefresh.clear("Table controller scope destroyed.")}),$scope.setAnchorToNextElement=function(){var selectors="#pagination--next-link, #pagination--prev-link, #pagination-empty-text",visibleLink=jQuery(selectors).not(":hidden").first();visibleLink.length&&visibleLink.focus()},$scope.allowed=function(model,permission){return AuthorisationService.can(model,permission)},initialSetup(),$scope.$watchCollection(function(){return{query_id:$state.params.query_id,query_props:$state.params.query_props}},function(params){var newChecksum=params.query_props,newId=params.query_id&&parseInt(params.query_id);wpListChecksumService.executeIfOutdated(newId,newChecksum,loadQuery)})}WorkPackagesListController.$inject=["$scope","$state","AuthorisationService","states","wpTableRefresh","wpTableColumns","wpTableSortBy","wpTableGroupBy","wpTableFilters","wpTableSum","wpTableTimeline","wpTableHierarchies","wpTableRelationColumns","wpTablePagination","wpListService","wpListChecksumService","loadingIndicator","I18n"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_rx_utils_1=__webpack_require__(8),debug_output_1=__webpack_require__(9);angular.module("openproject.workPackages.controllers").controller("WorkPackagesListController",WorkPackagesListController)},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),wp_view_base_controller_1=__webpack_require__(93),WorkPackageShowController=function(_super){function WorkPackageShowController($scope,$state,wpMoreMenuService){var _this=_super.call(this,$scope,$state.params.workPackageId)||this;return _this.$scope=$scope,_this.$state=$state,_this.wpMoreMenuService=wpMoreMenuService,_this.observeWorkPackage(),_this}return __extends(WorkPackageShowController,_super),WorkPackageShowController.$inject=["$scope","$state","wpMoreMenuService"],WorkPackageShowController.prototype.init=function(){var _this=this;_super.prototype.init.call(this),this.wpMoreMenu=new this.wpMoreMenuService(this.workPackage),this.wpMoreMenu.initialize().then(function(){_this.$scope.permittedActions=_this.wpMoreMenu.permittedActions,_this.$scope.actionsAvailable=_this.wpMoreMenu.actionsAvailable}),this.setWorkPackageScopeProperties(this.workPackage),this.text.goToList=this.I18n.t("js.button_back_to_list_view"),this.$scope.triggerMoreMenuAction=this.wpMoreMenu.triggerMoreMenuAction.bind(this.wpMoreMenu)},WorkPackageShowController.prototype.goToList=function(){this.$state.go("work-packages.list",this.$state.params)},WorkPackageShowController.prototype.setWorkPackageScopeProperties=function(wp){this.isWatched=wp.hasOwnProperty("unwatch"),this.displayWatchButton=wp.hasOwnProperty("unwatch")||wp.hasOwnProperty("watch"),wp.watchers&&(this.watchers=wp.watchers.elements),this.type=wp.type,this.author=wp.author,this.authorPath=this.author.showUserPath,this.authorActive=this.author.isActive,this.attachments=wp.attachments.elements},WorkPackageShowController}(wp_view_base_controller_1.WorkPackageViewController);exports.WorkPackageShowController=WorkPackageShowController,angular_modules_1.wpControllersModule.controller("WorkPackageShowController",WorkPackageShowController)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),SchemaCacheService=function(){function SchemaCacheService(states,$q){this.states=states,this.$q=$q}return SchemaCacheService.$inject=["states","$q"],SchemaCacheService.prototype.ensureLoaded=function(workPackage){var state=this.state(workPackage);return state.hasValue()?this.$q.when(state.value):this.load(workPackage).valuesPromise()},SchemaCacheService.prototype.state=function(workPackage){var schema=workPackage.$links.schema;return this.states.schemas.get(schema.href)},SchemaCacheService.prototype.load=function(workPackage,forceUpdate){void 0===forceUpdate&&(forceUpdate=!1);var state=this.state(workPackage);return forceUpdate&&state.clear(),state.putFromPromiseIfPristine(function(){var resource=workPackage.createLinkedResource("schema",workPackage.$links.schema.$link);return resource.$load()}),state},SchemaCacheService}();exports.SchemaCacheService=SchemaCacheService,angular_modules_1.opWorkPackagesModule.service("schemaCacheService",SchemaCacheService)},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var reactivestates_1=__webpack_require__(26),rxjs_1=__webpack_require__(17),angular_modules_1=__webpack_require__(0),switch_state_1=__webpack_require__(134),States=function(_super){function States(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.name="MainStore",_this.workPackages=reactivestates_1.multiInput(),_this.schemas=reactivestates_1.multiInput(),_this.types=reactivestates_1.multiInput(),_this.table=new TableState,_this.query=new QueryStates,_this.tableRendering=new TableRenderingStates(_this),_this.updates=new UserUpdaterStates(_this),_this.focusedWorkPackage=reactivestates_1.input(),_this}return __extends(States,_super),States}(reactivestates_1.StatesGroup);exports.States=States;var TableState=function(_super){function TableState(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.name="TableStore",_this.results=reactivestates_1.input(),_this.rows=reactivestates_1.input(),_this.groups=reactivestates_1.input(),_this.columns=reactivestates_1.input(),_this.filters=reactivestates_1.input(),_this.sortBy=reactivestates_1.input(),_this.groupBy=reactivestates_1.input(),_this.sum=reactivestates_1.input(),_this.pagination=reactivestates_1.input(),_this.selection=reactivestates_1.input(),_this.collapsedGroups=reactivestates_1.input(),_this.hierarchies=reactivestates_1.input(),_this.rendered=reactivestates_1.input(),_this.renderedWorkPackages=reactivestates_1.derive(_this.rendered,function($){return $.map(function(rows){return rows.filter(function(row){return!!row.workPackageId})})}),_this.timelineVisible=reactivestates_1.input(),_this.stopAllSubscriptions=new rxjs_1.Subject,_this.refreshRequired=reactivestates_1.input(),_this.relationColumns=reactivestates_1.input(),_this.additionalRequiredWorkPackages=reactivestates_1.input(),_this}return __extends(TableState,_super),TableState}(reactivestates_1.StatesGroup);exports.TableState=TableState;var QueryStates=function(){function QueryStates(){this.context=new switch_state_1.SwitchState,this.resource=reactivestates_1.input(),this.form=reactivestates_1.input(),this.available=new QueryAvailableDataStates}return QueryStates}();exports.QueryStates=QueryStates;var QueryAvailableDataStates=function(){function QueryAvailableDataStates(){this.columns=reactivestates_1.input(),this.sortBy=reactivestates_1.input(),this.groupBy=reactivestates_1.input()}return QueryAvailableDataStates}();exports.QueryAvailableDataStates=QueryAvailableDataStates;var TableRenderingStates=function(){function TableRenderingStates(states){this.states=states,this.combinedTableStates=reactivestates_1.combine(this.states.table.rows,this.states.table.columns,this.states.table.sum,this.states.table.groupBy,this.states.table.sortBy,this.states.table.additionalRequiredWorkPackages),this.onQueryUpdated=reactivestates_1.derive(this.combinedTableStates,function($,input){return $.mapTo(null)})}return TableRenderingStates}();exports.TableRenderingStates=TableRenderingStates;var UserUpdaterStates=function(){function UserUpdaterStates(states){this.states=states,this.columnsUpdates=this.states.query.context.fireOnStateChange(this.states.table.columns,"Query loaded"),this.hierarchyUpdates=this.states.query.context.fireOnStateChange(this.states.table.hierarchies,"Query loaded"),this.relationUpdates=this.states.query.context.fireOnStateChange(this.states.table.relationColumns,"Query loaded")}return UserUpdaterStates}();exports.UserUpdaterStates=UserUpdaterStates;var ctx=reactivestates_1.createNewContext(),states=ctx.create(States);angular_modules_1.opServicesModule.value("states",states)},function(module,exports,__webpack_require__){"use strict";function tablePagination(PaginationService){return{restrict:"EA",templateUrl:"/components/table-pagination/table-pagination.directive.html",scope:{updateResults:"&",totalEntries:"="},controller:table_pagination_controller_1.TablePaginationController,link:function(scope,element,attributes,controller){scope.selectPerPage=function(perPage){PaginationService.setPerPage(perPage),scope.showPage(1)},scope.showPage=function(pageNumber){PaginationService.setPage(pageNumber),controller.updateCurrentRangeLabel(),controller.updatePageNumbers(),scope.updateResults()},controller.updateCurrentRangeLabel(),controller.updatePageNumbers()}}}tablePagination.$inject=["PaginationService"],Object.defineProperty(exports,"__esModule",{value:!0});var table_pagination_controller_1=__webpack_require__(94),angular_modules_1=__webpack_require__(0);angular_modules_1.opUiComponentsModule.directive("tablePagination",tablePagination)},function(module,exports,__webpack_require__){"use strict";function groupEditInPlace($timeout,$parse){return{restrict:"E",templateUrl:"/components/types/form-configuration/group-edit-in-place.directive.html",scope:{onvaluechange:"=",onupsale:"="},link:function(scope,element,attributes){scope.editing=!1,scope.name=attributes.name||"",scope.nameOriginal=attributes.name||"",scope.enterEditingMode=function(){return attributes.onupsale?void scope.onupsale():(scope.editing=!0,scope.nameBefore=scope.name,void $timeout(function(){angular.element("input",element).trigger("focus")},100))},scope.leaveEditingMode=function(){null!=scope.name&&scope.name.trim().length>0&&(scope.editing=!1)},scope.cancelEdition=function(){scope.name=scope.nameBefore,scope.leaveEditingMode()},scope.saveEdition=function(){var newValue=angular.element("input",element[0]).first().val();scope.nameOriginal=scope.name,scope.name=newValue.trim(),scope.leaveEditingMode(),scope.nameOriginal!=scope.name&&attributes.onvaluechange&&scope.onvaluechange(attributes.key,newValue)},scope.keyDown=function($event){return 27==$event.keyCode&&scope.cancelEdition(),13==$event.keyCode&&(angular.element("input",element[0]).blur(),$event.preventDefault(),$event.stopPropagation()),!1},attributes.onupsale||null!=attributes.name&&0!==attributes.name.length||scope.enterEditingMode()}}}groupEditInPlace.$inject=["$timeout","$parse"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.openprojectModule.directive("groupEditInPlace",groupEditInPlace)},function(module,exports,__webpack_require__){"use strict";function typesFormConfigurationCtrl(dragulaService,NotificationsService,I18n,$scope,$element,confirmDialog,$window,$compile,$timeout){autoScroll(window,{margin:20,maxSpeed:5,scrollWhenOutside:!0,autoScroll:function(){var groups=dragulaService.find($scope,"groups").drake,attributes=dragulaService.find($scope,"attributes").drake;return this.down&&(groups.dragging||attributes.dragging)}});dragulaService.options($scope,"groups",{moves:function(el,container,handle){var editing=angular.element(el).find(".group-edit-in-place--input").length>0;return!editing&&handle.classList.contains("group-handle")}}),dragulaService.options($scope,"attributes",{moves:function(el,container,handle){return handle.classList.contains("attribute-handle")}}),$scope.resetToDefault=function($event){confirmDialog.confirm({text:{title:I18n.t("js.types.attribute_groups.reset_title"),text:I18n.t("js.types.attribute_groups.confirm_reset"),button_continue:I18n.t("js.label_reset")}}).then(function(){var form=angular.element($event.target).parents("form");angular.element("input#type_attribute_groups").first().val(JSON.stringify([])),form.submit()})},$scope.deactivateAttribute=function($event){angular.element($event.target).parents(".type-form-conf-attribute").appendTo("#type-form-conf-inactive-group .attributes"),$scope.updateHiddenFields()},$scope.deleteGroup=function($event){var group=angular.element($event.target).parents(".type-form-conf-group"),attributes=angular.element(".attributes",group).children(),inactiveAttributes=angular.element("#type-form-conf-inactive-group .attributes");inactiveAttributes.prepend(attributes),group.remove(),$scope.updateHiddenFields()},$scope.addGroup=function(event){var newGroup=angular.element("#type-form-conf-group-template").clone(),draggableGroups=angular.element("#draggable-groups"),randomId=Math.ceil(1e7*Math.random()).toString();newGroup.attr("id",null),newGroup.attr("data-key",randomId),newGroup.attr("data-original-key",randomId),angular.element("group-edit-in-place",newGroup).attr("key",randomId),draggableGroups.prepend(newGroup),$compile(newGroup)($scope)},$scope.updateHiddenFields=function(){var inputAttributeGroups,groups=angular.element(".type-form-conf-group").not("#type-form-conf-group-template").toArray(),seenGroupNames={},newAttrGroups=[];NotificationsService.clear(),groups.forEach(function(group){var groupKey=angular.element(group).attr("data-key"),keyIsSymbol=JSON.parse(angular.element(group).attr("data-key-is-symbol")),attributes=angular.element(".type-form-conf-attribute",group).toArray(),attrKeys=[];if(angular.element(group).removeClass("-error"),null!=groupKey&&0!==groupKey.length){if(seenGroupNames[groupKey.toLowerCase()])return NotificationsService.addError(I18n.t("js.types.attribute_groups.error_duplicate_group_name",{group:groupKey})),void angular.element(group).addClass("-error");seenGroupNames[groupKey.toLowerCase()]=!0,attributes.forEach(function(attribute){var attr=angular.element(attribute),key=attr.attr("data-key");attrKeys.push(key)}),newAttrGroups.push([groupKey,attrKeys,keyIsSymbol])}}),inputAttributeGroups=angular.element("input#type_attribute_groups").first(),inputAttributeGroups.val(JSON.stringify(newAttrGroups))},$scope.groupNameChange=function(key,newValue){angular.element('.type-form-conf-group[data-original-key="'+key+'"]').attr("data-key",newValue).attr("data-key-is-symbol","false"),$scope.updateHiddenFields()};var scope=$scope;$scope.$on("groups.drop",function(e,el){$timeout(function(){scope.updateHiddenFields()},1)}),$scope.$on("attributes.drop",function(e,el){$timeout(function(){scope.updateHiddenFields()},1)}),$scope.showEEOnlyHint=function(){confirmDialog.confirm({text:{title:I18n.t("js.types.attribute_groups.upgrade_to_ee"),text:I18n.t("js.types.attribute_groups.upgrade_to_ee_text"),button_continue:I18n.t("js.types.attribute_groups.more_information"),button_cancel:I18n.t("js.types.attribute_groups.nevermind")}}).then(function(){window.location.href=$scope.upsaleLink})}}typesFormConfigurationCtrl.$inject=["dragulaService","NotificationsService","I18n","$scope","$element","confirmDialog","$window","$compile","$timeout"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),autoScroll=__webpack_require__(663);angular_modules_1.openprojectModule.controller("TypesFormConfigurationCtrl",typesFormConfigurationCtrl)},function(module,exports,__webpack_require__){"use strict";function userLink(I18n){return{restrict:"E",templateUrl:"/components/user/user-link/user-link.directive.html",scope:{user:"="},link:function(scope){scope.user.$load().then(function(){scope.href=scope.user.showUser.href}),scope.text={name:scope.user.name,label:I18n.t("js.label_author",{author:scope.user.name})}}}}userLink.$inject=["I18n"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.openprojectModule.directive("userLink",userLink)},function(module,exports,__webpack_require__){"use strict";(function(_){function wpAuthorizationService(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return $state=args[0],PathHelper=args[1],WorkPackageAuthorization}Object.defineProperty(exports,"__esModule",{value:!0});var $state,PathHelper,angular_modules_1=__webpack_require__(0),WorkPackageAuthorization=function(){function WorkPackageAuthorization(workPackage){this.workPackage=workPackage,this.project=workPackage.project}return Object.defineProperty(WorkPackageAuthorization.prototype,"allActions",{get:function(){return{workPackage:this.workPackage,project:this.project}},enumerable:!0,configurable:!0}),WorkPackageAuthorization.prototype.copyLink=function(){var stateName=$state.current.name;return 0===stateName.indexOf("work-packages.show")?PathHelper.workPackageCopyPath(this.workPackage.id):0===stateName.indexOf("work-packages.list.details")?PathHelper.workPackageDetailsCopyPath(this.project.identifier,this.workPackage.id):void 0},WorkPackageAuthorization.prototype.linkForAction=function(action){return"copy"===action.key?action.link=this.copyLink():action.link=this.allActions[action.resource][action.link].href,action},WorkPackageAuthorization.prototype.isPermitted=function(action){return void 0!==this.allActions[action.resource]&&void 0!==this.allActions[action.resource][action.link]},WorkPackageAuthorization.prototype.permittedActionKeys=function(allowedActions){var _this=this,validActions=_.filter(allowedActions,function(action){return _this.isPermitted(action)});return _.map(validActions,function(action){return action.key})},WorkPackageAuthorization.prototype.permittedActionsWithLinks=function(allowedActions){var _this=this,validActions=_.filter(_.cloneDeep(allowedActions),function(action){return _this.isPermitted(action)}),allowed=_.map(validActions,function(action){return _this.linkForAction(action)});return allowed},WorkPackageAuthorization}();exports.WorkPackageAuthorization=WorkPackageAuthorization,wpAuthorizationService.$inject=["$state","PathHelper"],angular_modules_1.opWorkPackagesModule.factory("WorkPackageAuthorization",wpAuthorizationService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){function getWorkPackageId(id){return(id||"__new_work_package__").toString()}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),state_cache_service_1=__webpack_require__(60),WorkPackageCacheService=function(_super){function WorkPackageCacheService(states,$q,wpNotificationsService,schemaCacheService,apiWorkPackages){var _this=_super.call(this)||this;return _this.states=states,_this.$q=$q,_this.wpNotificationsService=wpNotificationsService,_this.schemaCacheService=schemaCacheService,_this.apiWorkPackages=apiWorkPackages,_this}return __extends(WorkPackageCacheService,_super),WorkPackageCacheService.$inject=["states","$q","wpNotificationsService","schemaCacheService","apiWorkPackages"],WorkPackageCacheService.prototype.updateValue=function(id,val){this.updateWorkPackageList([val])},WorkPackageCacheService.prototype.updateWorkPackage=function(wp){this.updateWorkPackageList([wp])},WorkPackageCacheService.prototype.updateWorkPackageList=function(list){for(var _this=this,_loop_1=function(){var wp=i,workPackageId=getWorkPackageId(wp.id);return wp.isNew?(this_1.multiState.get(workPackageId).putValue(wp),"continue"):void this_1.schemaCacheService.ensureLoaded(wp).then(function(){_this.multiState.get(workPackageId).putValue(wp)})},this_1=this,_i=0,list_1=list;_i<list_1.length;_i++){var i=list_1[_i];_loop_1()}},WorkPackageCacheService.prototype.saveWorkPackage=function(workPackage){var _this=this;if(!workPackage.dirty&&!workPackage.isNew)return this.$q.reject(null);var deferred=this.$q.defer();return workPackage.save().then(function(){_this.wpNotificationsService.showSave(workPackage),deferred.resolve(workPackage)}).catch(function(error){_this.wpNotificationsService.handleErrorResponse(error,workPackage),deferred.reject(workPackage)}),deferred.promise},WorkPackageCacheService.prototype.loadWorkPackage=function(workPackageId,forceUpdate){void 0===forceUpdate&&(forceUpdate=!1);var state=this.state(workPackageId);return"new"===workPackageId?state:(this.require(workPackageId,forceUpdate),state)},WorkPackageCacheService.prototype.loadAll=function(ids){var _this=this;return new Promise(function(resolve,reject){_this.apiWorkPackages.loadWorkPackagesCollectionsFor(_.uniq(ids)).then(function(pagedResults){_.each(pagedResults,function(results){results.schemas&&_.each(results.schemas.elements,function(schema){_this.states.schemas.get(schema.href).putValue(schema)}),results.elements&&_this.updateWorkPackageList(results.elements),resolve(void 0)})},reject)})},WorkPackageCacheService.prototype.load=function(id){var _this=this;return new Promise(function(resolve,reject){_this.apiWorkPackages.loadWorkPackageById(id,!0).then(function(workPackage){_this.schemaCacheService.ensureLoaded(workPackage).then(function(){_this.multiState.get(id).putValue(workPackage),resolve(workPackage)},reject)},reject)})},Object.defineProperty(WorkPackageCacheService.prototype,"multiState",{get:function(){return this.states.workPackages},enumerable:!0,configurable:!0}),WorkPackageCacheService}(state_cache_service_1.StateCacheService);exports.WorkPackageCacheService=WorkPackageCacheService,angular_modules_1.opWorkPackagesModule.service("wpCacheService",WorkPackageCacheService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function workPackageComment(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"/components/work-packages/work-package-comment/work-package-comment.directive.html",scope:{workPackage:"=",activities:"="},controllerAs:"vm",bindToController:!0,controller:CommentFieldDirectiveController}}Object.defineProperty(exports,"__esModule",{value:!0});var wp_comment_field_module_1=__webpack_require__(135),error_resource_service_1=__webpack_require__(47),CommentFieldDirectiveController=function(){function CommentFieldDirectiveController($scope,$rootScope,$timeout,$q,$element,ActivityService,ConfigurationService,loadingIndicator,wpCacheService,wpNotificationsService,NotificationsService,I18n){var _this=this;this.$scope=$scope,this.$rootScope=$rootScope,this.$timeout=$timeout,this.$q=$q,this.$element=$element,this.ActivityService=ActivityService,this.ConfigurationService=ConfigurationService,this.loadingIndicator=loadingIndicator,this.wpCacheService=wpCacheService,this.wpNotificationsService=wpNotificationsService,this.NotificationsService=NotificationsService,this.I18n=I18n,this.editing=!1,this._forceFocus=!1,this.text={editTitle:I18n.t("js.label_add_comment_title"),addComment:I18n.t("js.label_add_comment"),cancelTitle:I18n.t("js.label_cancel_comment"),placeholder:I18n.t("js.label_add_comment_title")},this.field=new wp_comment_field_module_1.WorkPackageCommentField(this.workPackage,I18n),this.canAddComment=!!this.workPackage.addComment,this.showAbove=ConfigurationService.commentsSortedInDescendingOrder(),$scope.$on("workPackage.comment.quoteThis",function(evt,quote){_this.field.initializeFieldValue(quote),_this.editing=!0,_this.$element.find(".work-packages--activity--add-comment")[0].scrollIntoView()})}return CommentFieldDirectiveController.$inject=["$scope","$rootScope","$timeout","$q","$element","ActivityService","ConfigurationService","loadingIndicator","wpCacheService","wpNotificationsService","NotificationsService","I18n"],Object.defineProperty(CommentFieldDirectiveController.prototype,"htmlId",{get:function(){return"wp-comment-field"},enumerable:!0,configurable:!0}),Object.defineProperty(CommentFieldDirectiveController.prototype,"active",{get:function(){return this.editing},enumerable:!0,configurable:!0}),Object.defineProperty(CommentFieldDirectiveController.prototype,"inEditMode",{get:function(){return!1},enumerable:!0,configurable:!0}),CommentFieldDirectiveController.prototype.shouldFocus=function(){return this._forceFocus},CommentFieldDirectiveController.prototype.activate=function(withText){var _this=this;this._forceFocus=!0,this.field.initializeFieldValue(withText),this.editing=!0,this.$timeout(function(){return _this.$element.find(".wp-inline-edit--field").focus()})},CommentFieldDirectiveController.prototype.handleUserSubmit=function(){var _this=this;if(!this.field.isEmpty()){this.field.isBusy=!0;var indicator=this.loadingIndicator.wpDetails;indicator.promise=this.ActivityService.createComment(this.workPackage,this.field.value).then(function(){_this.editing=!1,_this.NotificationsService.addSuccess(_this.I18n.t("js.work_packages.comment_added")),_this.workPackage.activities.$load(!0).then(function(){_this.wpCacheService.updateWorkPackage(_this.workPackage)}),_this._forceFocus=!0}).catch(function(error){error instanceof error_resource_service_1.ErrorResource?_this.wpNotificationsService.showError(error,_this.workPackage):_this.NotificationsService.addError(_this.I18n.t("js.work_packages.comment_send_failed"))}).finally(function(){_this.field.isBusy=!1})}},CommentFieldDirectiveController.prototype.handleUserCancel=function(){this.editing=!1,this.field.initializeFieldValue(),this._forceFocus=!0},CommentFieldDirectiveController}();exports.CommentFieldDirectiveController=CommentFieldDirectiveController,angular.module("openproject.workPackages.directives").directive("workPackageComment",workPackageComment)},function(module,exports,__webpack_require__){"use strict";function wpMoreMenuService(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return $state=args[0],states=args[1],$window=args[2],$location=args[3],HookService=args[4],WorkPackageService=args[5],AuthorisationService=args[6],WorkPackageAuthorization=args[7],PERMITTED_MORE_MENU_ACTIONS=args[8],WorkPackageMoreMenuService}Object.defineProperty(exports,"__esModule",{value:!0});var $state,$window,$location,states,HookService,WorkPackageService,AuthorisationService,WorkPackageAuthorization,PERMITTED_MORE_MENU_ACTIONS,path_helper_functions_1=__webpack_require__(132),WorkPackageMoreMenuService=function(){function WorkPackageMoreMenuService(workPackage){this.workPackage=workPackage}return WorkPackageMoreMenuService.prototype.deleteSelectedWorkPackage=function(){var promise=WorkPackageService.performBulkDelete([this.workPackage.id],!0);promise.then(function(){states.focusedWorkPackage.clear(),$state.go("work-packages.list")})},WorkPackageMoreMenuService.prototype.triggerMoreMenuAction=function(action,link){switch(action){case"delete":this.deleteSelectedWorkPackage();break;default:var normalized=path_helper_functions_1.PathHelperFunctions.removeBasePathFromLink(link);this.isLinkToAnguluar(normalized)?$location.path(normalized):$window.location.href=link}},WorkPackageMoreMenuService.prototype.initialize=function(){var _this=this;return this.workPackage.project.$load().then(function(){AuthorisationService.initModelAuth("work_package",_this.workPackage.$links);var authorization=new WorkPackageAuthorization(_this.workPackage);_this.permittedActions=angular.extend(_this.getPermittedActions(authorization,PERMITTED_MORE_MENU_ACTIONS),_this.getPermittedPluginActions(authorization))})},Object.defineProperty(WorkPackageMoreMenuService.prototype,"actionsAvailable",{get:function(){return Object.keys(this.permittedActions).length>0},enumerable:!0,configurable:!0}),WorkPackageMoreMenuService.prototype.getPermittedActions=function(authorization,permittedMoreMenuActions){var permittedActions=authorization.permittedActionsWithLinks(permittedMoreMenuActions),augmentedActions={};return angular.forEach(permittedActions,function(permission){var css=[permission.icon||"icon-"+permission.key];this[permission.key]={link:permission.link,css:css}},augmentedActions),augmentedActions},WorkPackageMoreMenuService.prototype.getPermittedPluginActions=function(authorization){var pluginActions=[];angular.forEach(HookService.call("workPackageDetailsMoreMenu"),function(action){pluginActions=pluginActions.concat(action)});var permittedPluginActions=authorization.permittedActionsWithLinks(pluginActions),augmentedPluginActions={};return angular.forEach(permittedPluginActions,function(action){var css=[].concat(action.css);0===css.length&&(css=["icon-"+action.key]),this[action.key]={link:action.link,css:css}},augmentedPluginActions),augmentedPluginActions},WorkPackageMoreMenuService.prototype.isLinkToAnguluar=function(link){var stateForLink=$state.get().filter(function(state){return state.$$state().url.exec(link)});return stateForLink.length>0},WorkPackageMoreMenuService}();exports.WorkPackageMoreMenuService=WorkPackageMoreMenuService,wpMoreMenuService.$inject=["$state","states","$window","$location","HookService","WorkPackageService","AuthorisationService","WorkPackageAuthorization","PERMITTED_MORE_MENU_ACTIONS"],angular.module("openproject.workPackages.services").service("wpMoreMenuService",wpMoreMenuService)},function(module,exports,__webpack_require__){"use strict";function WorkPackageService($http,$window,$cacheFactory,$state,states,I18n,PathHelper,UrlParamsHelper,NotificationsService){var workPackageCache=$cacheFactory("workPackageCache"),WorkPackageService={doQuery:function(url,params){return $http({method:"GET",url:url,params:params,headers:{caching:{enabled:!1},"Content-Type":"application/x-www-form-urlencoded"}}).then(function(response){return response.data},function(failedResponse){var error="";error=404===failedResponse.status?I18n.t("js.work_packages.query.errors.not_found"):I18n.t("js.work_packages.query.errors.unretrievable_query"),NotificationsService.addError(error)})},performBulkDelete:function(ids,defaultHandling){if(!defaultHandling||$window.confirm(I18n.t("js.text_work_packages_destroy_confirmation"))){var params={"ids[]":ids},promise=$http.delete(PathHelper.workPackagesBulkDeletePath(),{params:params});return defaultHandling&&promise.then(function(){NotificationsService.addSuccess(I18n.t("js.work_packages.message_successful_bulk_delete")),states.table.refreshRequired.putValue(!0),$state.includes("**.list.details.**")&&ids.indexOf(+$state.params.workPackageId)>-1&&$state.go("work-packages.list",$state.params)}).catch(function(){params=UrlParamsHelper.buildQueryString(params),window.location.href=PathHelper.workPackagesBulkDeletePath()+"?"+params}),promise}},cache:function(){return workPackageCache}};return WorkPackageService}WorkPackageService.$inject=["$http","$window","$cacheFactory","$state","states","I18n","PathHelper","UrlParamsHelper","NotificationsService"],Object.defineProperty(exports,"__esModule",{value:!0}),angular.module("openproject.services").factory("WorkPackageService",WorkPackageService)},function(module,exports,__webpack_require__){"use strict";function wpAttachmentsFormattable(){return{bindToController:!0,controller:WpAttachmentsFormattableController,
link:function(scope,element,attrs,controllers){scope.workPackage=(controllers[0]||controllers[1]).workPackage,scope.attribute=scope.$eval(attrs.fieldName)},require:["?^wpSingleView","?^workPackageComment"],restrict:"A"}}Object.defineProperty(exports,"__esModule",{value:!0});var wp_attachments_formattable_enums_1=__webpack_require__(61),angular_modules_1=__webpack_require__(0),markup_model_1=__webpack_require__(138),editor_model_1=__webpack_require__(137),paste_model_1=__webpack_require__(139),work_package_field_model_1=__webpack_require__(141),drop_model_1=__webpack_require__(136),single_attachment_1=__webpack_require__(140),WpAttachmentsFormattableController=function(){function WpAttachmentsFormattableController($scope,$element,$rootScope,$location,wpCacheService,$timeout,$q,$state,loadingIndicator,keepTab){var _this=this;this.$scope=$scope,this.$element=$element,this.$rootScope=$rootScope,this.$location=$location,this.wpCacheService=wpCacheService,this.$timeout=$timeout,this.$q=$q,this.$state=$state,this.loadingIndicator=loadingIndicator,this.keepTab=keepTab,this.handleDrop=function(evt){evt.preventDefault(),evt.stopPropagation();var _a=_this.getEditor(),editor=_a[1],originalEvent=evt.originalEvent,workPackage=_this.$scope.workPackage,dropData=new drop_model_1.DropModel(_this.$location,originalEvent.dataTransfer,workPackage);angular.isUndefined(dropData.webLinkUrl)&&angular.isUndefined(dropData.files)||(dropData.isUpload?_this.uploadAndInsert(dropData.files,editor):_this.insertUrls(dropData,editor),_this.openDetailsView(workPackage.id.toString()),_this.removeHighlight())},this.handlePaste=function(evt){var _a=_this.getEditor(),viewMode=_a[0],editor=_a[1];if(viewMode!==wp_attachments_formattable_enums_1.ViewMode.EDIT)return!0;var pasteEvt=evt.originalEvent,pasteData=new paste_model_1.PasteModel(pasteEvt.clipboardData),count=pasteData.files.length;return 0===count||(_this.uploadAndInsert(pasteData.files,editor),evt.preventDefault(),evt.stopPropagation(),!1)},this.highlightDroppable=function(evt){evt.originalEvent.dataTransfer.dropEffect="copy",_this.$element.hasClass("is-droppable")||_this.$element.addClass("is-droppable")},this.removeHighlight=function(){_this.$element.removeClass("is-droppable")},$element.on("paste",this.handlePaste),$element.on("drop",this.handleDrop),$element.on("dragover",this.highlightDroppable),$element.on("dragleave",this.removeHighlight),$element.on("dragenter dragleave dragover",this.prevDefault)}return WpAttachmentsFormattableController.$inject=["$scope","$element","$rootScope","$location","wpCacheService","$timeout","$q","$state","loadingIndicator","keepTab"],WpAttachmentsFormattableController.prototype.getEditor=function(){var viewMode,model,textarea=this.$element.find("textarea");return textarea.length>0?(viewMode=wp_attachments_formattable_enums_1.ViewMode.EDIT,model=new editor_model_1.EditorModel(textarea,new markup_model_1.MarkupModel)):(viewMode=wp_attachments_formattable_enums_1.ViewMode.SHOW,model=new work_package_field_model_1.WorkPackageFieldModel(this.$scope.workPackage,this.$scope.attribute,new markup_model_1.MarkupModel)),[viewMode,model]},WpAttachmentsFormattableController.prototype.uploadAndInsert=function(files,model){var _this=this,wp=this.$scope.workPackage;return wp.isNew?this.insertDelayedAttachments(files,model,wp):void wp.uploadAttachments(files).then(function(attachments){return attachments.elements}).then(function(updatedAttachments){angular.isUndefined(updatedAttachments)||(updatedAttachments=_this.sortAttachments(updatedAttachments),1===files.length?_this.insertSingleAttachment(updatedAttachments,model):files.length>1&&_this.insertMultipleAttachments(files.length,updatedAttachments,model),model.save())})},WpAttachmentsFormattableController.prototype.sortAttachments=function(updatedAttachments){return updatedAttachments.sort(function(a,b){return a.id>b.id?1:-1}),updatedAttachments},WpAttachmentsFormattableController.prototype.insertSingleAttachment=function(updatedAttachments,description){var currentFile=new single_attachment_1.SingleAttachmentModel(updatedAttachments[updatedAttachments.length-1]);description.insertAttachmentLink(currentFile.url,currentFile.isAnImage?wp_attachments_formattable_enums_1.InsertMode.INLINE:wp_attachments_formattable_enums_1.InsertMode.ATTACHMENT)},WpAttachmentsFormattableController.prototype.insertMultipleAttachments=function(count,updatedAttachments,description){for(var i=updatedAttachments.length-1;i>=updatedAttachments.length-count;i--)description.insertAttachmentLink(updatedAttachments[i].downloadLocation.href,wp_attachments_formattable_enums_1.InsertMode.ATTACHMENT,!0)},WpAttachmentsFormattableController.prototype.insertDelayedAttachments=function(files,description,workPackage){for(var i=0;i<files.length;i++){var currentFile=new single_attachment_1.SingleAttachmentModel(files[i]),insertMode=currentFile.isAnImage?wp_attachments_formattable_enums_1.InsertMode.INLINE:wp_attachments_formattable_enums_1.InsertMode.ATTACHMENT,name_1=files[i].customName||files[i].name;description.insertAttachmentLink(name_1.replace(/ /g,"_"),insertMode,!0),workPackage.pendingAttachments.push(files[i])}description.save()},WpAttachmentsFormattableController.prototype.insertUrls=function(dropData,description){var insertUrl=dropData.isAttachmentOfCurrentWp()?dropData.removeHostInformationFromUrl():dropData.webLinkUrl,insertAlternative=dropData.isWebImage()?wp_attachments_formattable_enums_1.InsertMode.INLINE:wp_attachments_formattable_enums_1.InsertMode.LINK,insertMode=dropData.isAttachmentOfCurrentWp()?wp_attachments_formattable_enums_1.InsertMode.ATTACHMENT:insertAlternative;description.insertWebLink(insertUrl,insertMode),description.save()},WpAttachmentsFormattableController.prototype.openDetailsView=function(wpId){var stateName=this.$state.current.name;stateName.indexOf("work-packages.list")>-1&&this.$state.params.workPackageId!==wpId&&(this.loadingIndicator.mainPage=this.$state.go(this.keepTab.currentDetailsState,{workPackageId:wpId}))},WpAttachmentsFormattableController.prototype.prevDefault=function(evt){evt.preventDefault(),evt.stopPropagation()},WpAttachmentsFormattableController}();exports.WpAttachmentsFormattableController=WpAttachmentsFormattableController,angular_modules_1.openprojectModule.directive("wpAttachmentsFormattable",wpAttachmentsFormattable)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),angular_rx_utils_1=__webpack_require__(8),WorkPackageRelationsCount=function(){function WorkPackageRelationsCount($scope,wpRelations){var _this=this;this.$scope=$scope,this.wpRelations=wpRelations,this.count=0,this.wpRelations.require(this.wpId.toString()),angular_rx_utils_1.scopedObservable(this.$scope,this.wpRelations.state(this.wpId.toString()).values$()).subscribe(function(relations){return _this.count=_.size(relations)})}return WorkPackageRelationsCount.$inject=["$scope","wpRelations"],WorkPackageRelationsCount}();exports.WorkPackageRelationsCount=WorkPackageRelationsCount,angular_modules_1.wpControllersModule.component("wpRelationsCount",{templateUrl:"/components/work-packages/wp-relations-count/wp-relations-count.directive.html",controller:WorkPackageRelationsCount,bindings:{wpId:"<"}})}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function wpSingleViewDirective(){return{restrict:"E",templateUrl:"/components/work-packages/wp-single-view/wp-single-view.directive.html",scope:{workPackage:"=?"},require:["^wpEditFieldGroup"],link:function(scope,element,attrs,controllers){scope.$ctrl.wpEditFieldGroup=controllers[0],scope.$ctrl.initialize()},bindToController:!0,controller:WorkPackageSingleViewController,controllerAs:"$ctrl"}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),angular_rx_utils_1=__webpack_require__(8),debug_output_1=__webpack_require__(9),WorkPackageSingleViewController=function(){function WorkPackageSingleViewController($scope,$rootScope,$stateParams,I18n,states,wpEditing,wpDisplayField,wpCacheService){this.$scope=$scope,this.$rootScope=$rootScope,this.$stateParams=$stateParams,this.I18n=I18n,this.states=states,this.wpEditing=wpEditing,this.wpDisplayField=wpDisplayField,this.wpCacheService=wpCacheService,this.groupedFields=[],this.specialFields=[],this.firstTimeFocused=!1}return WorkPackageSingleViewController.$inject=["$scope","$rootScope","$stateParams","I18n","states","wpEditing","wpDisplayField","wpCacheService"],WorkPackageSingleViewController.prototype.initialize=function(){var _this=this;this.setupI18nTexts(),this.workPackage.attachments&&this.workPackage.attachments.updateElements(),angular_rx_utils_1.scopedObservable(this.$scope,this.wpEditing.temporaryEditResource(this.workPackage.id).values$()).subscribe(function(resource){_this.specialFields=_this.getFields(resource,["project","status"]);var attributeGroups=resource.schema._attributeGroups;return attributeGroups?void(_this.groupedFields=attributeGroups.map(function(groups){return{name:groups[0],members:_this.getFields(resource,groups[1])}})):void(_this.groupedFields=[])})},WorkPackageSingleViewController.prototype.shouldHideGroup=function(group){return 0===group.members.length},WorkPackageSingleViewController.prototype.shouldHideField=function(descriptor){var field=descriptor.field||descriptor.fields[0];return this.wpEditFieldGroup.inEditMode&&!field.writable},Object.defineProperty(WorkPackageSingleViewController.prototype,"idLabel",{get:function(){var label=this.I18n.t("js.label_work_package");return label+" #"+this.workPackage.id},enumerable:!0,configurable:!0}),WorkPackageSingleViewController.prototype.setupI18nTexts=function(){this.text={dropFiles:this.I18n.t("js.label_drop_files"),dropFilesHint:this.I18n.t("js.label_drop_files_hint"),fields:{description:this.I18n.t("js.work_packages.properties.description")},date:{startDate:this.I18n.t("js.label_no_start_date"),dueDate:this.I18n.t("js.label_no_due_date")},infoRow:{createdBy:this.I18n.t("js.label_created_by"),lastUpdatedOn:this.I18n.t("js.label_last_updated_on")}}},WorkPackageSingleViewController.prototype.getFields=function(resource,fieldNames){var _this=this,descriptors=[];return fieldNames.forEach(function(fieldName){if("date"===fieldName)return void descriptors.push(_this.getDateField(resource));if(!resource.schema[fieldName])return void debug_output_1.debugLog("Unknown field for current schema",fieldName);var field=_this.displayField(resource,fieldName);descriptors.push({name:fieldName,label:field.label,multiple:!1,spanAll:field.isFormattable,field:field})}),descriptors},WorkPackageSingleViewController.prototype.getDateField=function(resource){var object={name:"date",label:this.I18n.t("js.work_packages.properties.date"),multiple:!1};return resource.schema.hasOwnProperty("date")?object.field=this.displayField(resource,"date"):(object.fields=[this.displayField(resource,"startDate"),this.displayField(resource,"dueDate")],object.multiple=!0),object},WorkPackageSingleViewController.prototype.displayField=function(resource,name){return this.wpDisplayField.getField(resource,name,resource.schema[name])},Object.defineProperty(WorkPackageSingleViewController.prototype,"form",{get:function(){return this.wpEditFieldGroup.form},enumerable:!0,configurable:!0}),WorkPackageSingleViewController}();exports.WorkPackageSingleViewController=WorkPackageSingleViewController,angular_modules_1.opWorkPackagesModule.directive("wpSingleView",wpSingleViewDirective)},function(module,exports,__webpack_require__){"use strict";function wpSubjectDirective(){return{restrict:"E",templateUrl:"/components/work-packages/wp-subject/wp-subject.directive.html",scope:{workPackage:"=?"},bindToController:!0,controller:WorkPackageSubjectController,controllerAs:"$ctrl"}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),angular_rx_utils_1=__webpack_require__(8),WorkPackageSubjectController=function(){function WorkPackageSubjectController($scope,$stateParams,wpCacheService){var _this=this;this.$scope=$scope,this.$stateParams=$stateParams,this.wpCacheService=wpCacheService,this.workPackage||angular_rx_utils_1.scopedObservable($scope,wpCacheService.loadWorkPackage($stateParams.workPackageId).values$()).subscribe(function(wp){_this.workPackage=wp})}return WorkPackageSubjectController.$inject=["$scope","$stateParams","wpCacheService"],WorkPackageSubjectController}();exports.WorkPackageSubjectController=WorkPackageSubjectController,angular_modules_1.opWorkPackagesModule.directive("wpSubject",wpSubjectDirective)},function(module,exports,__webpack_require__){"use strict";function wpWatcherButton(){return{replace:!0,templateUrl:"/components/work-packages/wp-watcher-button/wp-watcher-button.directive.html",scope:{workPackage:"=",showText:"=",disabled:"="},bindToController:!0,controller:WorkPackageWatcherButtonController,controllerAs:"vm"}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),angular_rx_utils_1=__webpack_require__(8),WorkPackageWatcherButtonController=function(){function WorkPackageWatcherButtonController($scope,$rootScope,I18n,wpCacheService){var _this=this;this.$scope=$scope,this.$rootScope=$rootScope,this.I18n=I18n,this.wpCacheService=wpCacheService,angular_rx_utils_1.scopedObservable($scope,wpCacheService.loadWorkPackage(this.workPackage.id).values$()).subscribe(function(wp){_this.workPackage=wp,_this.setWatchStatus()})}return WorkPackageWatcherButtonController.$inject=["$scope","$rootScope","I18n","wpCacheService"],Object.defineProperty(WorkPackageWatcherButtonController.prototype,"isWatched",{get:function(){return this.workPackage.hasOwnProperty("unwatch")},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageWatcherButtonController.prototype,"displayWatchButton",{get:function(){return this.isWatched||this.workPackage.hasOwnProperty("watch")},enumerable:!0,configurable:!0}),WorkPackageWatcherButtonController.prototype.toggleWatch=function(){var _this=this,toggleLink=this.nextStateLink();toggleLink(toggleLink.$link.payload).then(function(){_this.wpCacheService.loadWorkPackage(_this.workPackage.id,!0)})},WorkPackageWatcherButtonController.prototype.nextStateLink=function(){var linkName=this.isWatched?"unwatch":"watch";return this.workPackage[linkName]},WorkPackageWatcherButtonController.prototype.setWatchStatus=function(){this.isWatched?(this.buttonTitle=this.I18n.t("js.label_unwatch_work_package"),this.buttonText=this.I18n.t("js.label_unwatch"),this.buttonClass="-active",this.buttonId="unwatch-button",this.watchIconClass="icon-watched"):(this.buttonTitle=this.I18n.t("js.label_watch_work_package"),this.buttonText=this.I18n.t("js.label_watch"),this.buttonClass="",this.buttonId="watch-button",this.watchIconClass="icon-unwatched")},WorkPackageWatcherButtonController}();exports.WorkPackageWatcherButtonController=WorkPackageWatcherButtonController,angular_modules_1.wpDirectivesModule.directive("wpWatcherButton",wpWatcherButton)},function(module,exports,__webpack_require__){"use strict";function userActivity($uiViewScroll,$timeout,$location,$sce,I18n,PathHelper,ActivityService,wpCacheService,ConfigurationService,AutoCompleteHelper,TextileService){return{restrict:"E",replace:!0,templateUrl:"/templates/work_packages/activities/_user.html",scope:{workPackage:"=",activity:"=",activityNo:"=",activityLabel:"=",isInitial:"="},link:function(scope,element){function quotedText(rawComment){var quoted=rawComment.split("\n").map(function(line){return"\n> "+line}).join("");return scope.userName+" wrote:"+quoted}scope.$watch("inEdit",function(newVal,oldVal){var textarea=element.find(".edit-comment-text");newVal?$timeout(function(){AutoCompleteHelper.enableTextareaAutoCompletion(textarea),textarea.focus(),textarea.on("keydown keypress",function(e){27===e.keyCode&&(scope.inEdit=!1)})}):textarea.off("keydown keypress")}),scope.I18n=I18n,scope.inEdit=!1,scope.inPreview=!1,scope.userCanEdit=!!scope.activity.update,scope.userCanQuote=!!scope.workPackage.addComment,scope.accessibilityModeEnabled=ConfigurationService.accessibilityModeEnabled(),scope.activity.user.$load().then(function(user){scope.userId=user.id,scope.userName=user.name,scope.userAvatar=user.avatar,scope.userActive=user.isActive,scope.userPath=user.showUser.href,scope.userLabel=I18n.t("js.label_author",{user:scope.userName})}),scope.postedComment=$sce.trustAsHtml(scope.activity.comment.html),scope.postedComment&&(scope.activityLabelWithComment=I18n.t("js.label_activity_with_comment_no",{activityNo:scope.activityNo})),scope.details=[],angular.forEach(scope.activity.details,function(detail){this.push($sce.trustAsHtml(detail.html))},scope.details),$timeout(function(){$location.hash()==="activity-"+scope.activityNo&&$uiViewScroll(element)}),scope.editComment=function(){scope.activity.editedComment=scope.activity.comment.raw,scope.inEdit=!0},scope.cancelEdit=function(){scope.inEdit=!1,scope.focusEditIcon()},scope.quoteComment=function(){scope.$emit("workPackage.comment.quoteThis",quotedText(scope.activity.comment.raw))},scope.updateComment=function(){ActivityService.updateComment(scope.activity,scope.activity.editedComment||"").then(function(){scope.workPackage.updateActivities(),scope.inEdit=!1}),scope.focusEditIcon()},scope.focusEditIcon=function(){jQuery(".edit-activity--"+scope.activityNo+" a").focus()},scope.toggleCommentPreview=function(){scope.isPreview=!scope.isPreview,scope.previewHtml="",scope.isPreview&&TextileService.renderWithWorkPackageContext(scope.workPackage,scope.activity.editedComment).then(function(r){scope.previewHtml=$sce.trustAsHtml(r.data)},function(){scope.isPreview=!1})};var focused=!1;scope.focus=function(){$timeout(function(){focused=!0})},scope.blur=function(){$timeout(function(){focused=!1})},scope.focussing=function(){return focused},element.bind("focusin",scope.focus),element.bind("focusout",scope.blur)}}}userActivity.$inject=["$uiViewScroll","$timeout","$location","$sce","I18n","PathHelper","ActivityService","wpCacheService","ConfigurationService","AutoCompleteHelper","TextileService"],Object.defineProperty(exports,"__esModule",{value:!0}),angular.module("openproject.workPackages.activities").directive("userActivity",userActivity)},function(module,exports,__webpack_require__){"use strict";function wpAttachmentListDirective(){return{restrict:"E",templateUrl:"/components/wp-attachments/wp-attachment-list/wp-attachment-list.directive.html",scope:{workPackage:"="},controller:WorkPackageAttachmentListController,controllerAs:"$ctrl",bindToController:!0}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),WorkPackageAttachmentListController=function(){function WorkPackageAttachmentListController(wpNotificationsService,I18n){this.wpNotificationsService=wpNotificationsService,this.text={},this.itemTemplateUrl="/components/wp-attachments/wp-attachment-list/wp-attachment-list-item.html",this.text={destroyConfirmation:I18n.t("js.text_attachment_destroy_confirmation"),removeFile:function(arg){return I18n.t("js.label_remove_file",arg)}},this.workPackage.attachments&&this.workPackage.attachments.updateElements()}return WorkPackageAttachmentListController.$inject=["wpNotificationsService","I18n"],WorkPackageAttachmentListController}();exports.WorkPackageAttachmentListController=WorkPackageAttachmentListController,angular_modules_1.wpDirectivesModule.directive("wpAttachmentList",wpAttachmentListDirective)},function(module,exports,__webpack_require__){"use strict";function wpUploadDirective(){function wpUploadDirectiveLink(scope,element){element.click(function(){return element.children().first().click()})}return{restrict:"AE",template:'\n      <div\n        class="wp-attachment-upload"\n        ng-if="$ctrl.workPackage.canAddAttachments"\n        ngf-drop\n        ngf-select\n        ngf-change="$ctrl.uploadFiles($files)"\n        ngf-multiple="true"\n        ngf-validate="{ size: {max: ::$ctrl.maxFileSize} }"\n        tabindex="0"\n        aria-label="{{ ::$ctrl.text.uploadLabel }}"\n        click-on-keypress="[13, 32]"\n        ng-transclude>\n      </div>',transclude:!0,scope:{workPackage:"="},controller:WorkPackageUploadDirectiveController,controllerAs:"$ctrl",bindToController:!0,link:wpUploadDirectiveLink}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),WorkPackageUploadDirectiveController=function(){function WorkPackageUploadDirectiveController($q,ConfigurationService,I18n){var _this=this;this.$q=$q,this.I18n=I18n,this.text={uploadLabel:I18n.t("js.label_add_attachments")},ConfigurationService.api().then(function(settings){_this.maxFileSize=settings.maximumAttachmentFileSize})}return WorkPackageUploadDirectiveController.$inject=["$q","ConfigurationService","I18n"],WorkPackageUploadDirectiveController.prototype.uploadFiles=function(files){if(void 0!==files&&0!==files.length){if(this.workPackage.isNew)return void(_a=this.workPackage.pendingAttachments).push.apply(_a,files);this.workPackage.uploadAttachments(files);var _a}},WorkPackageUploadDirectiveController}();exports.WorkPackageUploadDirectiveController=WorkPackageUploadDirectiveController,angular_modules_1.wpDirectivesModule.directive("wpAttachmentsUpload",wpUploadDirective)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),WorkPackageCreateButtonController=function(){function WorkPackageCreateButtonController($state,I18n){this.$state=$state,this.I18n=I18n,this.text={createWithDropdown:I18n.t("js.work_packages.create.button"),createButton:I18n.t("js.label_work_package"),explanation:I18n.t("js.label_create_work_package")}}return WorkPackageCreateButtonController.$inject=["$state","I18n"],WorkPackageCreateButtonController.prototype.createWorkPackage=function(){this.$state.go(this.stateName,{projectPath:this.projectIdentifier})},WorkPackageCreateButtonController.prototype.isDisabled=function(){return!this.allowed||this.$state.includes("**.new")},WorkPackageCreateButtonController}();exports.default=WorkPackageCreateButtonController,angular_modules_1.wpButtonsModule.controller("WorkPackageCreateButtonController",WorkPackageCreateButtonController)},function(module,exports,__webpack_require__){"use strict";function wpCreateButton(){return{restrict:"E",templateUrl:"/components/wp-buttons/wp-create-button/wp-create-button.directive.html",scope:{projectIdentifier:"=",allowed:"=",stateName:"@"},bindToController:!0,controllerAs:"$ctrl",controller:"WorkPackageCreateButtonController"}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.wpButtonsModule.directive("wpCreateButton",wpCreateButton)},function(module,exports,__webpack_require__){"use strict";function wpDetailsViewButton(){return wp_buttons_module_1.wpButtonDirective({scope:{projectIdentifier:"=?"},controller:WorkPackageDetailsViewButtonController})}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),wp_buttons_module_1=__webpack_require__(35),WorkPackageDetailsViewButtonController=function(_super){function WorkPackageDetailsViewButtonController($state,states,I18n,loadingIndicator,keepTab){"ngInject";var _this=_super.call(this,I18n)||this;return _this.$state=$state,_this.states=states,_this.I18n=I18n,_this.loadingIndicator=loadingIndicator,_this.keepTab=keepTab,_this.accessKey=8,_this.activeState="work-packages.list.details",_this.listState="work-packages.list",_this.buttonId="work-packages-details-view-button",_this.buttonClass="toolbar-icon",_this.iconClass="icon-info2",_this.activateLabel=I18n.t("js.button_open_details"),_this.deactivateLabel=I18n.t("js.button_close_details"),_this}return __extends(WorkPackageDetailsViewButtonController,_super),WorkPackageDetailsViewButtonController.$inject=["$state","states","I18n","loadingIndicator","keepTab"],Object.defineProperty(WorkPackageDetailsViewButtonController.prototype,"label",{get:function(){return this.isActive()?this.deactivateLabel:this.activateLabel},enumerable:!0,configurable:!0}),WorkPackageDetailsViewButtonController.prototype.isToggle=function(){return!0},WorkPackageDetailsViewButtonController.prototype.isActive=function(){return this.$state.includes(this.activeState)},WorkPackageDetailsViewButtonController.prototype.performAction=function(){this.isActive()?this.openListView():this.openDetailsView()},WorkPackageDetailsViewButtonController.prototype.openListView=function(){var params={projectPath:this.projectIdentifier};angular.extend(params,this.$state.params),this.$state.go(this.listState,params)},WorkPackageDetailsViewButtonController.prototype.openDetailsView=function(){var params={workPackageId:this.states.focusedWorkPackage.value,projectPath:this.projectIdentifier};angular.extend(params,this.$state.params),this.loadingIndicator.mainPage=this.$state.go.apply(this.$state,[this.keepTab.currentDetailsState,params])},WorkPackageDetailsViewButtonController}(wp_buttons_module_1.WorkPackageButtonController);exports.WorkPackageDetailsViewButtonController=WorkPackageDetailsViewButtonController,angular_modules_1.wpButtonsModule.directive("wpDetailsViewButton",wpDetailsViewButton)},function(module,exports,__webpack_require__){"use strict";function wpFilterButton(){return wp_buttons_module_1.wpButtonDirective({templateUrl:"/components/wp-buttons/wp-filter-button/wp-filter-button.directive.html",controller:WorkPackageFilterButtonController})}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),wp_buttons_module_1=__webpack_require__(35),WorkPackageFilterButtonController=function(_super){function WorkPackageFilterButtonController(I18n,$scope,wpFiltersService,wpTableFilters){"ngInject";var _this=_super.call(this,I18n)||this;return _this.I18n=I18n,_this.$scope=$scope,_this.wpFiltersService=wpFiltersService,_this.wpTableFilters=wpTableFilters,_this.initialized=!1,_this.buttonId="work-packages-filter-toggle-button",_this.iconClass="icon-filter",_this.setupObserver(),_this}return __extends(WorkPackageFilterButtonController,_super),WorkPackageFilterButtonController.$inject=["I18n","$scope","wpFiltersService","wpTableFilters"],Object.defineProperty(WorkPackageFilterButtonController.prototype,"labelKey",{get:function(){return"js.button_filter"},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageFilterButtonController.prototype,"textKey",{get:function(){return"js.toolbar.filter"},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageFilterButtonController.prototype,"label",{get:function(){return this.prefix+this.text.label},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageFilterButtonController.prototype,"filterCount",{get:function(){return this.count},enumerable:!0,configurable:!0}),WorkPackageFilterButtonController.prototype.isActive=function(){return this.wpFiltersService.visible},WorkPackageFilterButtonController.prototype.performAction=function(){this.toggleVisibility()},WorkPackageFilterButtonController.prototype.toggleVisibility=function(){this.wpFiltersService.toggleVisibility()},WorkPackageFilterButtonController.prototype.setupObserver=function(){var _this=this;this.wpTableFilters.observeOnScope(this.$scope).subscribe(function(state){_this.count=state.current.length,_this.initialized=!0})},WorkPackageFilterButtonController}(wp_buttons_module_1.WorkPackageButtonController);exports.WorkPackageFilterButtonController=WorkPackageFilterButtonController,angular_modules_1.wpButtonsModule.directive("wpFilterButton",wpFilterButton)},function(module,exports,__webpack_require__){"use strict";function wpListViewButton(){return wp_buttons_module_1.wpButtonDirective({scope:{projectIdentifier:"=",editAll:"="},controller:WorkPackageListViewButtonController})}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),wp_buttons_module_1=__webpack_require__(35),WorkPackageListViewButtonController=function(_super){function WorkPackageListViewButtonController($state,I18n){"ngInject";var _this=_super.call(this,$state,I18n)||this;return _this.$state=$state,_this.I18n=I18n,_this.accessKey=8,_this.activeState="work-packages.list",_this.buttonId="work-packages-list-view-button",_this.iconClass="icon-view-list",_this}return __extends(WorkPackageListViewButtonController,_super),WorkPackageListViewButtonController.$inject=["$state","I18n"],Object.defineProperty(WorkPackageListViewButtonController.prototype,"labelKey",{get:function(){return"js.button_list_view"},enumerable:!0,configurable:!0}),WorkPackageListViewButtonController.prototype.isActive=function(){return this.$state.is(this.activeState)},Object.defineProperty(WorkPackageListViewButtonController.prototype,"disabled",{get:function(){return!1},enumerable:!0,configurable:!0}),WorkPackageListViewButtonController.prototype.performAction=function(){this.openListView()},WorkPackageListViewButtonController.prototype.openListView=function(){var params={projectPath:this.projectIdentifier};angular.extend(params,this.$state.params),this.$state.go(this.activeState,params)},WorkPackageListViewButtonController}(wp_buttons_module_1.WorkPackageNavigationButtonController);exports.WorkPackageListViewButtonController=WorkPackageListViewButtonController,angular_modules_1.wpButtonsModule.directive("wpListViewButton",wpListViewButton)},function(module,exports,__webpack_require__){"use strict";function wpTimelineToggleButton(){return wp_buttons_module_1.wpButtonDirective({require:"^wpTimelineContainer",templateUrl:"/components/wp-buttons/wp-timeline-toggle-button/wp-timeline-toggle-button.html",controller:WorkPackageTimelineButtonController})}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),wp_buttons_module_1=__webpack_require__(35),WorkPackageTimelineButtonController=function(_super){function WorkPackageTimelineButtonController(I18n,wpTableTimeline){"ngInject";var _this=_super.call(this,I18n)||this;return _this.I18n=I18n,_this.wpTableTimeline=wpTableTimeline,_this.buttonId="work-packages-timeline-toggle-button",_this.iconClass="icon-view-timeline",_this.minZoomLevel="days",_this.maxZoomLevel="years",_this.activateLabel=I18n.t("js.timelines.button_activate"),
_this.deactivateLabel=I18n.t("js.timelines.button_deactivate"),_this.text.zoomIn=I18n.t("js.timelines.zoom.in"),_this.text.zoomOut=I18n.t("js.timelines.zoom.out"),_this}return __extends(WorkPackageTimelineButtonController,_super),WorkPackageTimelineButtonController.$inject=["I18n","wpTableTimeline"],Object.defineProperty(WorkPackageTimelineButtonController.prototype,"label",{get:function(){return this.isActive()?this.deactivateLabel:this.activateLabel},enumerable:!0,configurable:!0}),WorkPackageTimelineButtonController.prototype.isToggle=function(){return!0},WorkPackageTimelineButtonController.prototype.isActive=function(){return this.wpTableTimeline.isVisible},WorkPackageTimelineButtonController.prototype.updateZoom=function(delta){this.wpTableTimeline.updateZoom(delta)},Object.defineProperty(WorkPackageTimelineButtonController.prototype,"currentZoom",{get:function(){return this.wpTableTimeline.zoomLevel},enumerable:!0,configurable:!0}),WorkPackageTimelineButtonController.prototype.performAction=function(){this.toggleTimeline()},WorkPackageTimelineButtonController.prototype.toggleTimeline=function(){this.wpTableTimeline.toggle()},WorkPackageTimelineButtonController}(wp_buttons_module_1.WorkPackageButtonController);exports.WorkPackageTimelineButtonController=WorkPackageTimelineButtonController,angular_modules_1.wpButtonsModule.directive("wpTimelineToggleButton",wpTimelineToggleButton)},function(module,exports,__webpack_require__){"use strict";function wpViewButton(){return wp_buttons_module_1.wpButtonDirective({scope:{workPackageId:"=?"},controller:WorkPackageViewButtonController})}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),wp_buttons_module_1=__webpack_require__(35),WorkPackageViewButtonController=function(_super){function WorkPackageViewButtonController($state,states,I18n,keepTab){"ngInject";var _this=_super.call(this,$state,I18n)||this;return _this.$state=$state,_this.states=states,_this.I18n=I18n,_this.keepTab=keepTab,_this.accessKey=9,_this.activeState="work-packages.show",_this.buttonId="work-packages-show-view-button",_this.iconClass="icon-view-fullscreen",_this}return __extends(WorkPackageViewButtonController,_super),WorkPackageViewButtonController.$inject=["$state","states","I18n","keepTab"],Object.defineProperty(WorkPackageViewButtonController.prototype,"labelKey",{get:function(){return"js.button_show_view"},enumerable:!0,configurable:!0}),WorkPackageViewButtonController.prototype.performAction=function(){this.openWorkPackageShowView()},WorkPackageViewButtonController.prototype.openWorkPackageShowView=function(){var args=["work-packages.new",this.$state.params],id=this.$state.params.workPackageId||this.workPackageId||this.states.focusedWorkPackage.value;if(!this.$state.is("work-packages.list.new")){var params={workPackageId:id};args=[this.keepTab.currentShowState,params],angular.extend(params,this.$state.params)}this.$state.go.apply(this.$state,args)},WorkPackageViewButtonController}(wp_buttons_module_1.WorkPackageNavigationButtonController);exports.WorkPackageViewButtonController=WorkPackageViewButtonController,angular_modules_1.wpButtonsModule.directive("wpViewButton",wpViewButton)},function(module,exports,__webpack_require__){"use strict";function wpZenModeToggleButton(){return wp_buttons_module_1.wpButtonDirective({controller:WorkPackageZenModeButtonController})}var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),wp_buttons_module_1=__webpack_require__(35),screenfull=__webpack_require__(1016),WorkPackageZenModeButtonController=function(_super){function WorkPackageZenModeButtonController(I18n,$scope){var _this=_super.call(this,I18n)||this;_this.I18n=I18n,_this.$scope=$scope,_this.buttonId="work-packages-zen-mode-toggle-button",_this.buttonClass="toolbar-icon",_this.iconClass="icon-zen-mode",_this.scope=$scope,_this.activateLabel=I18n.t("js.zen_mode.button_activate"),_this.deactivateLabel=I18n.t("js.zen_mode.button_deactivate");var self=_this;return screenfull.enabled&&screenfull.onchange(function(){screenfull.isFullscreen||(self.deactivateZenMode(),self.scope.$apply())}),_this}return __extends(WorkPackageZenModeButtonController,_super),Object.defineProperty(WorkPackageZenModeButtonController.prototype,"label",{get:function(){return this.isActive()?this.deactivateLabel:this.activateLabel},enumerable:!0,configurable:!0}),WorkPackageZenModeButtonController.prototype.isToggle=function(){return!0},WorkPackageZenModeButtonController.prototype.isActive=function(){return WorkPackageZenModeButtonController.inZenMode},WorkPackageZenModeButtonController.prototype.deactivateZenMode=function(){WorkPackageZenModeButtonController.inZenMode=!1,angular.element("body").removeClass("zen-mode"),this.disabled=!1,screenfull.enabled&&screenfull.isFullscreen&&screenfull.exit()},WorkPackageZenModeButtonController.prototype.activateZenMode=function(){WorkPackageZenModeButtonController.inZenMode=!0,angular.element("body").addClass("zen-mode"),screenfull.enabled&&screenfull.request()},WorkPackageZenModeButtonController.prototype.performAction=function(){WorkPackageZenModeButtonController.inZenMode?this.deactivateZenMode():this.activateZenMode()},WorkPackageZenModeButtonController}(wp_buttons_module_1.WorkPackageButtonController);WorkPackageZenModeButtonController.inZenMode=!1,exports.WorkPackageZenModeButtonController=WorkPackageZenModeButtonController,angular_modules_1.wpButtonsModule.directive("wpZenModeToggleButton",wpZenModeToggleButton)},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),angular_rx_utils_1=__webpack_require__(8),wp_create_controller_1=__webpack_require__(142),WorkPackageCopyController=function(_super){function WorkPackageCopyController(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(WorkPackageCopyController,_super),WorkPackageCopyController.prototype.newWorkPackageFromParams=function(stateParams){var _this=this,deferred=this.$q.defer();return angular_rx_utils_1.scopedObservable(this.$scope,this.wpCacheService.loadWorkPackage(stateParams.copiedFromWorkPackageId).values$()).take(1).subscribe(function(wp){_this.createCopyFrom(wp).then(function(changeset){deferred.resolve(changeset)})}),deferred.promise},WorkPackageCopyController.prototype.createCopyFrom=function(wp){var _this=this,changeset=this.wpEditing.changesetFor(wp);return changeset.getForm().then(function(form){return _this.wpCreate.copyWorkPackage(form,wp.project.identifier)})},WorkPackageCopyController}(wp_create_controller_1.WorkPackageCreateController);exports.WorkPackageCopyController=WorkPackageCopyController,angular_modules_1.wpDirectivesModule.controller("WorkPackageCopyController",WorkPackageCopyController)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),rxjs_1=__webpack_require__(17),work_package_resource_service_1=__webpack_require__(59),work_package_changeset_1=__webpack_require__(36),WorkPackageCreateService=function(){function WorkPackageCreateService($q,wpCacheService,apiWorkPackages){this.$q=$q,this.wpCacheService=wpCacheService,this.apiWorkPackages=apiWorkPackages,this.newWorkPackageCreatedSubject=new rxjs_1.Subject}return WorkPackageCreateService.$inject=["$q","wpCacheService","apiWorkPackages"],WorkPackageCreateService.prototype.newWorkPackageCreated=function(wp){this.newWorkPackageCreatedSubject.next(wp)},WorkPackageCreateService.prototype.onNewWorkPackage=function(){return this.newWorkPackageCreatedSubject.asObservable()},WorkPackageCreateService.prototype.createNewWorkPackage=function(projectIdentifier){var _this=this;return this.getEmptyForm(projectIdentifier).then(function(form){return _this.fromCreateForm(form)})},WorkPackageCreateService.prototype.createNewTypedWorkPackage=function(projectIdentifier,type){var _this=this;return this.apiWorkPackages.typedCreateForm(type,projectIdentifier).then(function(form){return _this.fromCreateForm(form)})},WorkPackageCreateService.prototype.fromCreateForm=function(form){var wp=new work_package_resource_service_1.WorkPackageResource(form.payload.$plain(),!0);return wp.initializeNewResource(form),new work_package_changeset_1.WorkPackageChangeset(wp,form)},WorkPackageCreateService.prototype.copyFrom=function(otherForm,form){var wp=new work_package_resource_service_1.WorkPackageResource(otherForm.payload.$plain(),!0);return wp.lockVersion=form.payload.lockVersion,wp.initializeNewResource(form),new work_package_changeset_1.WorkPackageChangeset(wp,form)},WorkPackageCreateService.prototype.copyWorkPackage=function(copyFromForm,projectIdentifier){var _this=this,request=copyFromForm.payload.$source;return this.apiWorkPackages.emptyCreateForm(request,projectIdentifier).then(function(form){return _this.copyFrom(copyFromForm,form)})},WorkPackageCreateService.prototype.getEmptyForm=function(projectIdentifier){return this.form||(this.form=this.apiWorkPackages.emptyCreateForm({},projectIdentifier)),this.form},WorkPackageCreateService}();exports.WorkPackageCreateService=WorkPackageCreateService,angular_modules_1.wpServicesModule.service("wpCreate",WorkPackageCreateService)},function(module,exports,__webpack_require__){"use strict";function wpDetailsToolbar(I18n,wpEditing,wpMoreMenuService){return{restrict:"E",templateUrl:"/components/wp-details/wp-details-toolbar.directive.html",scope:{workPackage:"="},link:function(scope,attr,element){var wpMoreMenu=new wpMoreMenuService(scope.workPackage);wpMoreMenu.initialize().then(function(){scope.permittedActions=wpMoreMenu.permittedActions,scope.actionsAvailable=wpMoreMenu.actionsAvailable}),scope.triggerMoreMenuAction=wpMoreMenu.triggerMoreMenuAction.bind(wpMoreMenu),scope.displayWatchButton=scope.workPackage.hasOwnProperty("unwatch")||scope.workPackage.hasOwnProperty("watch"),scope.I18n=I18n}}}wpDetailsToolbar.$inject=["I18n","wpEditing","wpMoreMenuService"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.openprojectModule.directive("wpDetailsToolbar",wpDetailsToolbar)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var wp_display_text_field_module_1=__webpack_require__(154),wp_display_resource_field_module_1=__webpack_require__(152),wp_display_resources_field_module_1=__webpack_require__(96),wp_display_formattable_field_module_1=__webpack_require__(147),wp_display_duration_field_module_1=__webpack_require__(95),wp_display_date_field_module_1=__webpack_require__(144),wp_display_datetime_field_module_1=__webpack_require__(145),wp_display_id_field_module_1=__webpack_require__(148),wp_display_boolean_field_module_1=__webpack_require__(143),wp_display_progress_field_module_1=__webpack_require__(151),angular_modules_1=__webpack_require__(0),wp_display_spent_time_field_module_1=__webpack_require__(153),wp_display_integer_field_module_1=__webpack_require__(149),wp_display_work_package_field_module_1=__webpack_require__(155),wp_display_float_field_module_1=__webpack_require__(146);angular_modules_1.openprojectModule.run(["wpDisplayField",function(wpDisplayField){wpDisplayField.defaultType="text",wpDisplayField.addFieldType(wp_display_text_field_module_1.TextDisplayField,"text",["String"]).addFieldType(wp_display_float_field_module_1.FloatDisplayField,"float",["Float"]).addFieldType(wp_display_integer_field_module_1.IntegerDisplayField,"integer",["Integer"]).addFieldType(wp_display_resource_field_module_1.ResourceDisplayField,"resource",["User","Project","Type","Status","Priority","Version","Category","CustomOption"]).addFieldType(wp_display_resources_field_module_1.ResourcesDisplayField,"resources",["[]CustomOption","[]User"]).addFieldType(wp_display_formattable_field_module_1.FormattableDisplayField,"formattable",["Formattable"]).addFieldType(wp_display_duration_field_module_1.DurationDisplayField,"duration",["Duration"]).addFieldType(wp_display_date_field_module_1.DateDisplayField,"date",["Date"]).addFieldType(wp_display_datetime_field_module_1.DateTimeDisplayField,"datetime",["DateTime"]).addFieldType(wp_display_boolean_field_module_1.BooleanDisplayField,"boolean",["Boolean"]).addFieldType(wp_display_progress_field_module_1.ProgressDisplayField,"progress",["percentageDone"]).addFieldType(wp_display_work_package_field_module_1.WorkPackageDisplayField,"work_package",["WorkPackage"]).addFieldType(wp_display_spent_time_field_module_1.SpentTimeDisplayField,"spentTime",["spentTime"]).addFieldType(wp_display_id_field_module_1.IdDisplayField,"id",["id"])}])},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_display_field_module_1=__webpack_require__(10),wp_field_service_1=__webpack_require__(105),WorkPackageDisplayFieldService=function(_super){function WorkPackageDisplayFieldService(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(WorkPackageDisplayFieldService,_super),Object.defineProperty(WorkPackageDisplayFieldService,"fieldFactory",{get:function(){return wp_display_field_module_1.DisplayFieldFactory},enumerable:!0,configurable:!0}),WorkPackageDisplayFieldService}(wp_field_service_1.WorkPackageFieldService);exports.WorkPackageDisplayFieldService=WorkPackageDisplayFieldService,angular.module("openproject").service("wpDisplayField",WorkPackageDisplayFieldService)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),work_package_edit_form_1=__webpack_require__(48),work_package_changeset_1=__webpack_require__(36),state_cache_service_1=__webpack_require__(60),reactivestates_1=__webpack_require__(26),WPChangesetStates=function(_super){function WPChangesetStates(){var _this=_super.call(this)||this;return _this.name="WP-Changesets",_this.changesets=reactivestates_1.multiInput(),_this.initializeMembers(),_this}return __extends(WPChangesetStates,_super),WPChangesetStates}(reactivestates_1.StatesGroup),WorkPackageEditingService=function(_super){function WorkPackageEditingService(wpCacheService){var _this=_super.call(this)||this;return _this.wpCacheService=wpCacheService,_this.stateGroup=new WPChangesetStates,_this}return __extends(WorkPackageEditingService,_super),WorkPackageEditingService.$inject=["wpCacheService"],WorkPackageEditingService.prototype.changesetFor=function(workPackage){var state=this.multiState.get(workPackage.id);return state.isPristine()&&state.putValue(new work_package_changeset_1.WorkPackageChangeset(workPackage)),state.value},WorkPackageEditingService.prototype.temporaryEditResource=function(id){var combined=reactivestates_1.combine(this.wpCacheService.state(id),this.state(id));return reactivestates_1.deriveRaw(combined,function($){return $.map(function(_a){var wp=_a[0],changeset=_a[1];return wp&&changeset&&changeset.resource?changeset.resource:wp})})},WorkPackageEditingService.prototype.stopEditing=function(workPackageId){var state=this.multiState.get(workPackageId);state&&state.clear()},WorkPackageEditingService.prototype.saveChanges=function(workPackageId){var state=this.state(workPackageId);if(state.hasValue()){var changeset=state.value;return new work_package_edit_form_1.WorkPackageEditForm(changeset.workPackage).submit()}return Promise.reject("No changeset present")},WorkPackageEditingService.prototype.load=function(id){return this.wpCacheService.require(id).then(function(wp){return new work_package_changeset_1.WorkPackageChangeset(wp)})},WorkPackageEditingService.prototype.loadAll=function(ids){var _this=this;return Promise.all(ids.map(function(id){return _this.load(id)}))},Object.defineProperty(WorkPackageEditingService.prototype,"multiState",{get:function(){return this.stateGroup.changesets},enumerable:!0,configurable:!0}),WorkPackageEditingService}(state_cache_service_1.StateCacheService);exports.WorkPackageEditingService=WorkPackageEditingService,angular_modules_1.wpServicesModule.service("wpEditing",WorkPackageEditingService)},function(module,exports,__webpack_require__){"use strict";function wpEditFieldControls(){return{restrict:"E",templateUrl:"/components/wp-edit/field-controls/wp-edit-field-controls.directive.html",scope:{fieldController:"=",onSave:"&",onCancel:"&",cancelTitle:"@",saveTitle:"@"},controller:WorkPackageFieldControlsController,controllerAs:"vm",bindToController:!0}}Object.defineProperty(exports,"__esModule",{value:!0});var WorkPackageFieldControlsController=function(){function WorkPackageFieldControlsController(){}return Object.defineProperty(WorkPackageFieldControlsController.prototype,"field",{get:function(){return this.fieldController.field},enumerable:!0,configurable:!0}),WorkPackageFieldControlsController}();exports.WorkPackageFieldControlsController=WorkPackageFieldControlsController,angular.module("openproject").directive("wpEditFieldControls",wpEditFieldControls)},function(module,exports){function opDatePickerLink(scope,element,_attrs){function showDatePicker(){var options={onSelect:function(date){datePickerInstance.hide();var val=date;""===input.val().trim()&&(val=null),input.val(val),onChange()},onClose:onClose};datePickerInstance=new DatePicker(input,input.val(),options),datePickerInstance.show()}if(!this.ConfigurationService.accessibilityModeEnabled()){var datePickerInstance,input=element.find("input"),DatePicker=this.Datepicker,defaultHandler=function(){input.change()},onChange=scope.onChange||defaultHandler,onClose=scope.onClose||defaultHandler;input.focus(function(){showDatePicker()}),input.keydown(function(event){""===input.val()&&datePickerInstance.clear()})}}function opDatePicker(ConfigurationService,Datepicker){var dependencies={ConfigurationService:ConfigurationService,Datepicker:Datepicker};return{restrict:"E",transclude:!0,templateUrl:"/components/wp-edit/op-date-picker/op-date-picker.directive.html",link:angular.bind(dependencies,opDatePickerLink),scope:{onChange:"&?",onClose:"&?"}}}opDatePicker.$inject=["ConfigurationService","Datepicker"],angular.module("openproject").directive("opDatePicker",opDatePicker)},function(module,exports){function wpEditFieldRequirementsLink(scope,element,attrs){scope.schema.required&&element.attr("aria-required","true")}function wpEditFieldRequirements(){return{restrict:"A",scope:{schema:"=wpEditFieldRequirements"},link:wpEditFieldRequirementsLink}}angular.module("openproject").directive("wpEditFieldRequirements",wpEditFieldRequirements)},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),work_package_edit_form_1=__webpack_require__(48),single_view_edit_context_1=__webpack_require__(156),reactivestates_1=__webpack_require__(26),angular_rx_utils_1=__webpack_require__(8),WorkPackageEditFieldGroupController=function(){function WorkPackageEditFieldGroupController($scope,$state,states,wpEditing,wpNotificationsService,wpTableSelection,$rootScope,$window,ConfigurationService,$q,I18n){var _this=this;this.$scope=$scope,this.$state=$state,this.states=states,this.wpEditing=wpEditing,this.wpNotificationsService=wpNotificationsService,this.wpTableSelection=wpTableSelection,this.$rootScope=$rootScope,this.$window=$window,this.ConfigurationService=ConfigurationService,this.$q=$q,this.I18n=I18n,this.fields={},this.registeredFields=reactivestates_1.input();var confirmText=I18n.t("js.work_packages.confirm_edit_cancel"),requiresConfirmation=ConfigurationService.warnOnLeavingUnsaved();this.unregisterListener=$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){if(_this.editMode&&!_this.allowedStateChange(toState,toParams,fromState,fromParams)){if(requiresConfirmation&&!$window.confirm(confirmText))return event.preventDefault();_this.stop()}}),$scope.$on("$destroy",function(){_this.unregisterListener(),_this.form.destroy()})}return WorkPackageEditFieldGroupController.$inject=["$scope","$state","states","wpEditing","wpNotificationsService","wpTableSelection","$rootScope","$window","ConfigurationService","$q","I18n"],WorkPackageEditFieldGroupController.prototype.$onInit=function(){var _this=this,context=new single_view_edit_context_1.SingleViewEditContext(this);this.form=work_package_edit_form_1.WorkPackageEditForm.createInContext(context,this.workPackage,this.inEditMode),this.states.workPackages.get(this.workPackage.id).values$().takeUntil(angular_rx_utils_1.scopeDestroyed$(this.$scope)).subscribe(function(wp){_.each(_this.fields,function(ctrl){return _this.updateDisplayField(ctrl,wp)})}),this.inEditMode&&this.start()},Object.defineProperty(WorkPackageEditFieldGroupController.prototype,"editMode",{get:function(){return this.inEditMode&&this.form.editMode},enumerable:!0,configurable:!0}),WorkPackageEditFieldGroupController.prototype.register=function(field){var _this=this;this.fields[field.fieldName]=field,this.registeredFields.putValue(_.keys(this.fields)),this.inEditMode?field.activateOnForm(this.form,!0):this.states.workPackages.get(this.workPackage.id).valuesPromise().then(function(wp){return _this.updateDisplayField(field,wp)})},WorkPackageEditFieldGroupController.prototype.waitForField=function(name){var _this=this;return this.registeredFields.values$().filter(function(keys){return keys.indexOf(name)>=0}).take(1).map(function(){return _this.fields[name]}).toPromise()},WorkPackageEditFieldGroupController.prototype.start=function(){var _this=this;_.each(this.fields,function(ctrl){return _this.form.activate(ctrl.fieldName)})},WorkPackageEditFieldGroupController.prototype.stop=function(){this.wpEditing.stopEditing(this.workPackage.id)},WorkPackageEditFieldGroupController.prototype.saveWorkPackage=function(){var _this=this,isInitial=this.workPackage.isNew;return this.form.submit().then(function(savedWorkPackage){_this.wpEditing.stopEditing(_this.workPackage.id),_this.successState&&_this.$state.go(_this.successState,{workPackageId:savedWorkPackage.id}).then(function(){_this.wpTableSelection.focusOn(savedWorkPackage.id),_this.wpNotificationsService.showSave(savedWorkPackage,isInitial)})})},WorkPackageEditFieldGroupController.prototype.updateDisplayField=function(field,wp){field.workPackage=wp,field.render()},WorkPackageEditFieldGroupController.prototype.allowedStateChange=function(toState,toParams,fromState,fromParams){return fromState.name.match(/\.(new|copy)$/)?fromState.controller===toState.controller:void 0!==toParams.workPackageId&&toParams.workPackageId===fromParams.workPackageId},WorkPackageEditFieldGroupController}();exports.WorkPackageEditFieldGroupController=WorkPackageEditFieldGroupController,angular_modules_1.opWorkPackagesModule.directive("wpEditFieldGroup",function(){return{restrict:"EA",controller:WorkPackageEditFieldGroupController,bindToController:!0,controllerAs:"$fieldGroupCtrl",scope:{workPackage:"=",successState:"=?",inEditMode:"=?"}}})}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var wp_edit_text_field_module_1=__webpack_require__(99),wp_edit_integer_field_module_1=__webpack_require__(161),wp_edit_duration_field_module_1=__webpack_require__(159),wp_edit_select_field_module_1=__webpack_require__(163),wp_edit_multi_select_field_module_1=__webpack_require__(162),wp_edit_float_field_module_1=__webpack_require__(160),wp_edit_boolean_field_module_1=__webpack_require__(157),wp_edit_date_field_module_1=__webpack_require__(158),wp_edit_wiki_textarea_field_module_1=__webpack_require__(100),wp_edit_work_package_field_module_1=__webpack_require__(164),angular_modules_1=__webpack_require__(0);angular_modules_1.openprojectModule.run(["wpEditField",function(wpEditField){wpEditField.defaultType="text",wpEditField.addFieldType(wp_edit_text_field_module_1.TextEditField,"text",["String"]).addFieldType(wp_edit_integer_field_module_1.IntegerEditField,"integer",["Integer"]).addFieldType(wp_edit_duration_field_module_1.DurationEditField,"duration",["Duration"]).addFieldType(wp_edit_select_field_module_1.SelectEditField,"select",["Priority","Status","Type","User","Version","Category","CustomOption","Project"]).addFieldType(wp_edit_multi_select_field_module_1.MultiSelectEditField,"multi-select",["[]CustomOption","[]User"]).addFieldType(wp_edit_float_field_module_1.FloatEditField,"float",["Float"]).addFieldType(wp_edit_work_package_field_module_1.WorkPackageEditField,"workPackage",["WorkPackage"]).addFieldType(wp_edit_integer_field_module_1.IntegerEditField,"integer",["Integer"]).addFieldType(wp_edit_boolean_field_module_1.BooleanEditField,"boolean",["Boolean"]).addFieldType(wp_edit_date_field_module_1.DateEditField,"date",["Date"]).addFieldType(wp_edit_wiki_textarea_field_module_1.WikiTextareaEditField,"wiki-textarea",["Formattable"])}])},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),display_field_renderer_1=__webpack_require__(62),set_click_position_1=__webpack_require__(91),WorkPackageEditFieldController=function(){function WorkPackageEditFieldController(states,$scope,$element,$timeout,$q,NotificationsService,wpNotificationsService,ConfigurationService,contextMenu,wpEditing,wpCacheService,ENTER_KEY,I18n){this.states=states,this.$scope=$scope,this.$element=$element,this.$timeout=$timeout,this.$q=$q,this.NotificationsService=NotificationsService,this.wpNotificationsService=wpNotificationsService,this.ConfigurationService=ConfigurationService,this.contextMenu=contextMenu,this.wpEditing=wpEditing,this.wpCacheService=wpCacheService,this.ENTER_KEY=ENTER_KEY,this.I18n=I18n,this.fieldRenderer=new display_field_renderer_1.DisplayFieldRenderer("single-view"),this.editFieldContainerClass=display_field_renderer_1.editFieldContainerClass,this.active=!1}return WorkPackageEditFieldController.$inject=["states","$scope","$element","$timeout","$q","NotificationsService","wpNotificationsService","ConfigurationService","contextMenu","wpEditing","wpCacheService","ENTER_KEY","I18n"],WorkPackageEditFieldController.prototype.$onInit=function(){this.wpEditFieldGroup.register(this)},WorkPackageEditFieldController.prototype.render=function(){var el=this.fieldRenderer.render(this.resource,this.fieldName,this.displayPlaceholder);this.displayContainer[0].innerHTML="",this.displayContainer[0].appendChild(el)},WorkPackageEditFieldController.prototype.deactivate=function(focus){var _this=this;void 0===focus&&(focus=!1),this.editContainer.empty().hide(),this.displayContainer.show(),this.$scope.$evalAsync(function(){return _this.active=!1}),focus&&this.$element.find("."+display_field_renderer_1.displayClassName).focus()},Object.defineProperty(WorkPackageEditFieldController.prototype,"resource",{get:function(){return this.wpEditing.temporaryEditResource(this.workPackage.id).getValueOr(this.workPackage)},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageEditFieldController.prototype,"isEditable",{get:function(){var fieldSchema=this.resource.schema[this.fieldName];return this.resource.isEditable&&fieldSchema&&fieldSchema.writable},enumerable:!0,configurable:!0}),WorkPackageEditFieldController.prototype.activateIfEditable=function(event){this.isEditable&&this.handleUserActivate(event),this.contextMenu.close(),event.stopImmediatePropagation()},WorkPackageEditFieldController.prototype.activate=function(noWarnings){return void 0===noWarnings&&(noWarnings=!1),this.activateOnForm(this.wpEditFieldGroup.form,noWarnings)},WorkPackageEditFieldController.prototype.activateOnForm=function(form,noWarnings){var _this=this;void 0===noWarnings&&(noWarnings=!1);var promise=form.activate(this.fieldName,noWarnings);return promise.then(function(){return _this.active=!0}).catch(function(){return _this.deactivate(!0)}),promise},WorkPackageEditFieldController.prototype.handleUserActivate=function(evt){var positionOffset=0;if(evt){var target=jQuery(evt.target);if(target.closest("a",this.displayContainer[0]).length>0)return!0;positionOffset=set_click_position_1.ClickPositionMapper.getPosition(evt)}return this.activate().then(function(handler){handler.focus();var input=handler.element.find("input");set_click_position_1.ClickPositionMapper.setPosition(input,positionOffset)}),!1},Object.defineProperty(WorkPackageEditFieldController.prototype,"displayContainer",{get:function(){return this.$element.find(".__d_display_container")},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageEditFieldController.prototype,"editContainer",{get:function(){return this.$element.find(".__d_edit_container")},enumerable:!0,configurable:!0}),WorkPackageEditFieldController.prototype.reset=function(workPackage){this.workPackage=workPackage,this.render(),this.deactivate()},WorkPackageEditFieldController}();exports.WorkPackageEditFieldController=WorkPackageEditFieldController,angular_modules_1.opWorkPackagesModule.component("wpEditField",{templateUrl:"/components/wp-edit/wp-edit-field/wp-edit-field.directive.html",controller:WorkPackageEditFieldController,controllerAs:"vm",bindings:{fieldName:"<",wrapperClasses:"<?",workPackageId:"<",displayPlaceholder:"<?"},require:{wpEditFieldGroup:"^wpEditFieldGroup"}})},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_edit_field_module_1=__webpack_require__(21),wp_field_service_1=__webpack_require__(105),WorkPackageEditFieldService=function(_super){function WorkPackageEditFieldService(){return null!==_super&&_super.apply(this,arguments)||this;
}return __extends(WorkPackageEditFieldService,_super),Object.defineProperty(WorkPackageEditFieldService,"fieldFactory",{get:function(){return wp_edit_field_module_1.EditFieldFactory},enumerable:!0,configurable:!0}),WorkPackageEditFieldService.prototype.getField=function(changeset,fieldName,schema){return this.constructor.fieldFactory.create(changeset,fieldName,schema)},WorkPackageEditFieldService}(wp_field_service_1.WorkPackageFieldService);exports.WorkPackageEditFieldService=WorkPackageEditFieldService,angular.module("openproject").service("wpEditField",WorkPackageEditFieldService)},function(module,exports,__webpack_require__){"use strict";function wpReplacementLabelLink(scope,element,attrs,controllers){controllers[1].wpEditFieldGroup=controllers[0]}function wpReplacementLabel(){return{restrict:"A",templateUrl:"/components/wp-edit/wp-edit-field/wp-replacement-label.directive.html",transclude:!0,scope:{fieldName:"=wpReplacementLabel"},require:["^wpEditFieldGroup","wpReplacementLabel"],link:wpReplacementLabelLink,controller:WorkPackageReplacementLabelController,controllerAs:"vm",bindToController:!0}}Object.defineProperty(exports,"__esModule",{value:!0});var WorkPackageReplacementLabelController=function(){function WorkPackageReplacementLabelController($scope,$element){this.$scope=$scope,this.$element=$element}return WorkPackageReplacementLabelController.$inject=["$scope","$element"],WorkPackageReplacementLabelController.prototype.activate=function(evt){var target=jQuery(evt.target);return!!target.closest(".help-text--entry").length||(this.wpEditFieldGroup.fields[this.fieldName].handleUserActivate(null),!1)},WorkPackageReplacementLabelController}();exports.WorkPackageReplacementLabelController=WorkPackageReplacementLabelController,angular.module("openproject").directive("wpReplacementLabel",wpReplacementLabel)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var error_resource_service_1=__webpack_require__(47),angular_modules_1=__webpack_require__(0),WorkPackageNotificationService=function(){function WorkPackageNotificationService(I18n,$state,NotificationsService,loadingIndicator){this.I18n=I18n,this.$state=$state,this.NotificationsService=NotificationsService,this.loadingIndicator=loadingIndicator}return WorkPackageNotificationService.$inject=["I18n","$state","NotificationsService","loadingIndicator"],WorkPackageNotificationService.prototype.showSave=function(workPackage,isCreate){void 0===isCreate&&(isCreate=!1);var message={message:this.I18n.t("js.notice_successful_"+(isCreate?"create":"update"))};this.$state.includes("work-packages.show")||(message.link=this.showInFullScreenLink(workPackage)),this.NotificationsService.addSuccess(message)},WorkPackageNotificationService.prototype.handleRawError=function(response,workPackage){if(response&&response.data&&"Error"===response.data._type){var resource=new error_resource_service_1.ErrorResource(response.data);return this.handleErrorResponse(resource,workPackage)}this.showGeneralError()},WorkPackageNotificationService.prototype.handleErrorResponse=function(errorResource,workPackage){return errorResource instanceof error_resource_service_1.ErrorResource?workPackage?this.showError(errorResource,workPackage):void this.showApiErrorMessages(errorResource):this.showGeneralError()},WorkPackageNotificationService.prototype.showError=function(errorResource,workPackage){this.showCustomError(errorResource,workPackage)||this.showApiErrorMessages(errorResource)},WorkPackageNotificationService.prototype.showGeneralError=function(){this.NotificationsService.addError(this.I18n.t("js.error.internal"))},WorkPackageNotificationService.prototype.showEditingBlockedError=function(attribute){this.NotificationsService.addError(this.I18n.t("js.work_packages.error.edit_prohibited",{attribute:attribute}))},WorkPackageNotificationService.prototype.showCustomError=function(errorResource,workPackage){if("urn:openproject-org:api:v3:errors:PropertyFormatError"===errorResource.errorIdentifier){var attributeName=workPackage.schema[errorResource.details.attribute].name,attributeType=workPackage.schema[errorResource.details.attribute].type.toLowerCase(),i18nString="js.work_packages.error.format."+attributeType;return void 0!==this.I18n.lookup(i18nString)&&(this.NotificationsService.addError(this.I18n.t(i18nString,{attribute:attributeName})),!0)}return!1},WorkPackageNotificationService.prototype.showApiErrorMessages=function(errorResource){var messages=errorResource.errorMessages;return messages.length>1?this.NotificationsService.addError("",messages):this.NotificationsService.addError(messages[0]),!0},WorkPackageNotificationService.prototype.showInFullScreenLink=function(workPackage){var _this=this;return{target:function(){_this.loadingIndicator.mainPage=_this.$state.go("work-packages.show.activity",{workPackageId:workPackage.id})},text:this.I18n.t("js.work_packages.message_successful_show_in_fullscreen")}},WorkPackageNotificationService}();exports.WorkPackageNotificationService=WorkPackageNotificationService,angular_modules_1.wpServicesModule.service("wpNotificationsService",WorkPackageNotificationService)},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),WorkPackageTableAdditionalElementsService=function(){function WorkPackageTableAdditionalElementsService(states,wpTableHierarchies,wpTableColumns,$q,halRequest,wpCacheService,wpRelations){this.states=states,this.wpTableHierarchies=wpTableHierarchies,this.wpTableColumns=wpTableColumns,this.$q=$q,this.halRequest=halRequest,this.wpCacheService=wpCacheService,this.wpRelations=wpRelations}return WorkPackageTableAdditionalElementsService.$inject=["states","wpTableHierarchies","wpTableColumns","$q","halRequest","wpCacheService","wpRelations"],WorkPackageTableAdditionalElementsService.prototype.initialize=function(rows){var _this=this;Promise.all([this.requireInvolvedRelations(rows.map(function(el){return el.id})),this.requireHierarchyElements(rows)]).then(function(results){_this.loadAdditional(_.flatten(results))})},WorkPackageTableAdditionalElementsService.prototype.loadAdditional=function(wpIds){var _this=this;this.wpCacheService.requireAll(wpIds).then(function(){_this.states.table.additionalRequiredWorkPackages.putValue(null,"All required work packages are loaded")})},WorkPackageTableAdditionalElementsService.prototype.requireInvolvedRelations=function(rows){var _this=this;return this.wpTableColumns.hasRelationColumns()?this.wpRelations.requireAll(rows,!0).then(function(){var ids=_this.getInvolvedWorkPackages(rows.map(function(id){return _this.wpRelations.state(id).value}));return _.flatten(ids)}):Promise.resolve([])},WorkPackageTableAdditionalElementsService.prototype.requireHierarchyElements=function(rows){if(!this.wpTableHierarchies.isEnabled)return Promise.resolve([]);var ids=_.flatten(rows.map(function(el){return el.ancestorIds}));return Promise.resolve(ids)},WorkPackageTableAdditionalElementsService.prototype.getInvolvedWorkPackages=function(states){var ids=[];return _.each(states,function(relations){_.each(relations,function(resource){ids.push(resource.ids.from,resource.ids.to)})}),ids},WorkPackageTableAdditionalElementsService}();exports.WorkPackageTableAdditionalElementsService=WorkPackageTableAdditionalElementsService,angular_modules_1.opServicesModule.service("wpTableAdditionalElements",WorkPackageTableAdditionalElementsService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_table_base_service_1=__webpack_require__(22),angular_modules_1=__webpack_require__(0),wp_table_columns_1=__webpack_require__(191),query_column_1=__webpack_require__(51),WorkPackageTableColumnsService=function(_super){function WorkPackageTableColumnsService(states){var _this=_super.call(this,states)||this;return _this.states=states,_this.stateName="columns",_this}return __extends(WorkPackageTableColumnsService,_super),WorkPackageTableColumnsService.$inject=["states"],WorkPackageTableColumnsService.prototype.initialize=function(query,schema){var state=new wp_table_columns_1.WorkPackageTableColumns(query);this.state.putValue(state)},WorkPackageTableColumnsService.prototype.update=function(query,schema){var currentState=this.currentState;currentState?(currentState.update(query,schema),this.state.putValue(currentState)):this.initialize(query,schema)},WorkPackageTableColumnsService.prototype.hasChanged=function(query){var comparer=function(columns){return columns.map(function(c){return c.href})};return!_.isEqual(comparer(query.columns),comparer(this.getColumns()))},WorkPackageTableColumnsService.prototype.applyToQuery=function(query){return query.columns=_.cloneDeep(this.getColumns()),this.hasRelationColumns()},WorkPackageTableColumnsService.prototype.hasRelationColumns=function(){var relationColumns=[query_column_1.queryColumnTypes.RELATION_OF_TYPE,query_column_1.queryColumnTypes.RELATION_TO_TYPE];return!!_.find(this.getColumns(),function(c){return relationColumns.indexOf(c._type)>=0})},WorkPackageTableColumnsService.prototype.getColumns=function(){return this.currentState&&this.currentState.getColumns()||[]},WorkPackageTableColumnsService.prototype.index=function(id){return _.findIndex(this.getColumns(),function(column){return column.id===id})},WorkPackageTableColumnsService.prototype.findById=function(id){return _.find(this.getColumns(),function(column){return column.id===id})},WorkPackageTableColumnsService.prototype.previous=function(column){var index=this.index(column.id);return index<=0?null:this.getColumns()[index-1]},WorkPackageTableColumnsService.prototype.next=function(column){var index=this.index(column.id);return index===-1||this.isLast(name)?null:this.getColumns()[index+1]},WorkPackageTableColumnsService.prototype.isFirst=function(column){return 0===this.index(column.id)},WorkPackageTableColumnsService.prototype.isLast=function(column){return this.index(column.id)===this.columnCount-1},WorkPackageTableColumnsService.prototype.setColumns=function(columns){var currentState=this.currentState;currentState.current=columns,this.state.putValue(currentState)},WorkPackageTableColumnsService.prototype.moveColumn=function(fromIndex,toIndex){var columns=this.getColumns();toIndex>=columns.length&&(toIndex=columns.length-1),toIndex<0&&(toIndex=0);var element=columns[fromIndex];columns.splice(fromIndex,1),columns.splice(toIndex,0,element),this.setColumns(columns)},WorkPackageTableColumnsService.prototype.shift=function(column,offset){var index=this.index(column.id);index!==-1&&this.moveColumn(index,index+offset)},WorkPackageTableColumnsService.prototype.addColumn=function(id,position){var columns=this.getColumns();if(void 0===position&&(position=columns.length),this.index(id)===-1){var newColumn=_.find(this.all,function(column){return column.id===id});if(!newColumn)throw"Column with provided name is not found";columns.splice(position,0,newColumn),this.setColumns(columns)}},WorkPackageTableColumnsService.prototype.removeColumn=function(column){var index=this.index(column.id);if(index!==-1){var columns=this.getColumns();columns.splice(index,1),this.setColumns(columns)}},Object.defineProperty(WorkPackageTableColumnsService.prototype,"currentState",{get:function(){return this.state.value},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTableColumnsService.prototype,"availableState",{get:function(){return this.states.query.available.columns},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTableColumnsService.prototype,"columnCount",{get:function(){return this.getColumns().length},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTableColumnsService.prototype,"all",{get:function(){return this.availableState.getValueOr([])},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTableColumnsService.prototype,"unused",{get:function(){return _.differenceBy(this.all,this.getColumns(),"$href")},enumerable:!0,configurable:!0}),WorkPackageTableColumnsService}(wp_table_base_service_1.WorkPackageTableBaseService);exports.WorkPackageTableColumnsService=WorkPackageTableColumnsService,angular_modules_1.opServicesModule.service("wpTableColumns",WorkPackageTableColumnsService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_table_base_service_1=__webpack_require__(22),angular_modules_1=__webpack_require__(0),wp_table_filters_1=__webpack_require__(193),WorkPackageTableFiltersService=function(_super){function WorkPackageTableFiltersService(states,$q){var _this=_super.call(this,states)||this;return _this.states=states,_this.$q=$q,_this.stateName="filters",_this}return __extends(WorkPackageTableFiltersService,_super),WorkPackageTableFiltersService.$inject=["states","$q"],WorkPackageTableFiltersService.prototype.initialize=function(query,schema){var _this=this,filters=_.map(query.filters,function(filter){return filter.$copy()});this.loadCurrentFiltersSchemas(filters).then(function(){var newState=new wp_table_filters_1.WorkPackageTableFilters(filters,schema);_this.state.putValue(newState)})},WorkPackageTableFiltersService.prototype.hasChanged=function(query){var comparer=function(filter){return filter.map(function(el){return el.$plain()})};return!_.isEqual(comparer(query.filters),comparer(this.current))},WorkPackageTableFiltersService.prototype.applyToQuery=function(query){return query.filters=_.cloneDeep(this.current),!0},Object.defineProperty(WorkPackageTableFiltersService.prototype,"currentState",{get:function(){return this.state.value},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTableFiltersService.prototype,"current",{get:function(){return this.currentState?_.map(this.currentState.current,function(filter){return filter.$copy()}):[]},enumerable:!0,configurable:!0}),WorkPackageTableFiltersService.prototype.replace=function(newState){this.state.putValue(newState)},WorkPackageTableFiltersService.prototype.replaceIfComplete=function(newState){newState.isComplete()&&this.state.putValue(newState)},WorkPackageTableFiltersService.prototype.remove=function(removedFilter){this.currentState.remove(removedFilter),this.state.putValue(this.currentState)},WorkPackageTableFiltersService.prototype.loadCurrentFiltersSchemas=function(filters){var _this=this;return this.$q.all(_.map(filters,function(filter){return _this.loadFilterSchema(filter)}))},WorkPackageTableFiltersService.prototype.loadFilterSchema=function(filter){var _this=this,deferred=this.$q.defer();return filter.schema.$load().then(function(){_.has(filter,["values.length","currentSchema.values.allowedValues.$load"])?filter.currentSchema.values.allowedValues.$load().then(function(options){_this.setLoadedValues(filter,options),deferred.resolve()}):deferred.resolve()}),deferred.promise},WorkPackageTableFiltersService.prototype.setLoadedValues=function(filter,options){_.each(filter.values,function(value,index){var loadedHalResource=_.find(options.elements,function(option){return option.$href===value.$href});if(!loadedHalResource)throw"HalResource not in list of allowed values.";filter.values[index]=loadedHalResource})},WorkPackageTableFiltersService}(wp_table_base_service_1.WorkPackageTableBaseService);exports.WorkPackageTableFiltersService=WorkPackageTableFiltersService,angular_modules_1.opServicesModule.service("wpTableFilters",WorkPackageTableFiltersService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),wp_table_group_by_1=__webpack_require__(194),wp_table_base_service_1=__webpack_require__(22),WorkPackageTableGroupByService=function(_super){function WorkPackageTableGroupByService(states){var _this=_super.call(this,states)||this;return _this.states=states,_this.stateName="groupBy",_this}return __extends(WorkPackageTableGroupByService,_super),WorkPackageTableGroupByService.$inject=["states"],WorkPackageTableGroupByService.prototype.initialize=function(query){this.state.putValue(new wp_table_group_by_1.WorkPackageTableGroupBy(query))},WorkPackageTableGroupByService.prototype.update=function(query){var currentState=this.currentState;currentState?(currentState.update(query),this.state.putValue(currentState)):this.initialize(query)},WorkPackageTableGroupByService.prototype.hasChanged=function(query){var comparer=function(groupBy){return groupBy?groupBy.href:null};return!_.isEqual(comparer(query.groupBy),comparer(this.current))},WorkPackageTableGroupByService.prototype.applyToQuery=function(query){return query.groupBy=_.cloneDeep(this.current),!0},WorkPackageTableGroupByService.prototype.isGroupable=function(column){return!!_.find(this.available,function(candidate){return candidate.id===column.id})},WorkPackageTableGroupByService.prototype.set=function(groupBy){var currentState=this.currentState;if(currentState.current=groupBy,groupBy){var hierarchy=this.states.table.hierarchies.value;hierarchy.current=!1,this.states.table.hierarchies.putValue(hierarchy)}this.state.putValue(currentState)},WorkPackageTableGroupByService.prototype.setBy=function(column){var groupBy=(this.currentState,_.find(this.available,function(candidate){return candidate.id===column.id}));groupBy&&this.set(groupBy)},Object.defineProperty(WorkPackageTableGroupByService.prototype,"currentState",{get:function(){return this.state.value},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTableGroupByService.prototype,"availableState",{get:function(){return this.states.query.available.groupBy},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTableGroupByService.prototype,"current",{get:function(){return this.currentState?this.currentState.current:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTableGroupByService.prototype,"isEnabled",{get:function(){return!!this.current},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTableGroupByService.prototype,"available",{get:function(){return this.availableState.getValueOr([])},enumerable:!0,configurable:!0}),WorkPackageTableGroupByService.prototype.isCurrentlyGroupedBy=function(column){return!(!this.current||this.current.id!==column.id)},WorkPackageTableGroupByService}(wp_table_base_service_1.WorkPackageTableBaseService);exports.WorkPackageTableGroupByService=WorkPackageTableGroupByService,angular_modules_1.opServicesModule.service("wpTableGroupBy",WorkPackageTableGroupByService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),wp_table_base_service_1=__webpack_require__(22),wp_table_hierarchies_1=__webpack_require__(195),WorkPackageTableHierarchiesService=function(_super){function WorkPackageTableHierarchiesService(states,wpCacheService){var _this=_super.call(this,states)||this;return _this.states=states,_this.wpCacheService=wpCacheService,_this.stateName="hierarchies",_this}return __extends(WorkPackageTableHierarchiesService,_super),WorkPackageTableHierarchiesService.$inject=["states","wpCacheService"],WorkPackageTableHierarchiesService.prototype.initialize=function(query){var current=new wp_table_hierarchies_1.WorkPackageTableHierarchies(query.showHierarchies);this.state.putValue(current)},WorkPackageTableHierarchiesService.prototype.hasChanged=function(query){return query.showHierarchies!==this.isEnabled},WorkPackageTableHierarchiesService.prototype.applyToQuery=function(query){return query.showHierarchies=this.isEnabled,this.isEnabled},Object.defineProperty(WorkPackageTableHierarchiesService.prototype,"isEnabled",{get:function(){return this.currentState.isEnabled},enumerable:!0,configurable:!0}),WorkPackageTableHierarchiesService.prototype.setEnabled=function(active){void 0===active&&(active=!0);var state=this.currentState;if(state.current=active,active){var groupBy=this.states.table.groupBy.value;groupBy.current=void 0,this.states.table.groupBy.putValue(groupBy)}this.state.putValue(state)},WorkPackageTableHierarchiesService.prototype.toggleState=function(){this.setEnabled(!this.isEnabled)},WorkPackageTableHierarchiesService.prototype.collapsed=function(wpId){return this.currentState.collapsed[wpId]===!0},WorkPackageTableHierarchiesService.prototype.collapse=function(wpId){this.setState(wpId,!0)},WorkPackageTableHierarchiesService.prototype.expand=function(wpId){this.setState(wpId,!1)},WorkPackageTableHierarchiesService.prototype.toggle=function(wpId){this.setState(wpId,!this.collapsed(wpId))},WorkPackageTableHierarchiesService.prototype.setState=function(wpId,isCollapsed){var state=this.currentState;state.collapsed[wpId]=isCollapsed,this.state.putValue(state)},Object.defineProperty(WorkPackageTableHierarchiesService.prototype,"currentState",{get:function(){var state=this.state.value;return null==state?this.initialState:state},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTableHierarchiesService.prototype,"initialState",{get:function(){return new wp_table_hierarchies_1.WorkPackageTableHierarchies(!1)},enumerable:!0,configurable:!0}),WorkPackageTableHierarchiesService}(wp_table_base_service_1.WorkPackageTableBaseService);exports.WorkPackageTableHierarchiesService=WorkPackageTableHierarchiesService,angular_modules_1.opServicesModule.service("wpTableHierarchies",WorkPackageTableHierarchiesService)},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_table_base_service_1=__webpack_require__(22),angular_modules_1=__webpack_require__(0),wp_table_pagination_1=__webpack_require__(196),WorkPackageTablePaginationService=function(_super){function WorkPackageTablePaginationService(states){var _this=_super.call(this,states)||this;return _this.states=states,_this.stateName="pagination",_this}return __extends(WorkPackageTablePaginationService,_super),WorkPackageTablePaginationService.$inject=["states"],WorkPackageTablePaginationService.prototype.initialize=function(results){var state=new wp_table_pagination_1.WorkPackageTablePagination(results);this.state.putValue(state)},WorkPackageTablePaginationService.prototype.updateFromObject=function(object){var currentState=this.current;object.page&&(currentState.page=object.page),object.perPage&&(currentState.perPage=object.perPage),object.total&&(currentState.total=object.total),object.count&&(currentState.count=object.count),this.state.putValue(currentState)},WorkPackageTablePaginationService.prototype.updateFromResults=function(results){var update={page:results.offset,perPage:results.pageSize,total:results.total,count:results.count};this.updateFromObject(update)},Object.defineProperty(WorkPackageTablePaginationService.prototype,"current",{get:function(){return this.state.value},enumerable:!0,configurable:!0}),WorkPackageTablePaginationService}(wp_table_base_service_1.WorkPackageTableBaseService);exports.WorkPackageTablePaginationService=WorkPackageTablePaginationService,angular_modules_1.opServicesModule.service("wpTablePagination",WorkPackageTablePaginationService)},function(module,exports,__webpack_require__){"use strict";(function(_){var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),wp_table_relation_columns_1=__webpack_require__(197),wp_table_base_service_1=__webpack_require__(22),query_column_1=__webpack_require__(51),WorkPackageTableRelationColumnsService=function(_super){function WorkPackageTableRelationColumnsService(states,wpTableColumns,$q,halRequest,wpCacheService,wpRelations){var _this=_super.call(this,states)||this;return _this.states=states,_this.wpTableColumns=wpTableColumns,_this.$q=$q,_this.halRequest=halRequest,_this.wpCacheService=wpCacheService,_this.wpRelations=wpRelations,_this.stateName="relationColumns",_this}return __extends(WorkPackageTableRelationColumnsService,_super),WorkPackageTableRelationColumnsService.$inject=["states","wpTableColumns","$q","halRequest","wpCacheService","wpRelations"],WorkPackageTableRelationColumnsService.prototype.initialize=function(workPackages){this.initializeState()},WorkPackageTableRelationColumnsService.prototype.relationsToExtendFor=function(workPackage,relations,eachCallback){if(this.wpTableColumns.hasRelationColumns()&&!this.state.isPristine()&&!_.isNil(relations)){var expanded=this.current.getExpandFor(workPackage.id);if(void 0!==expanded){var column=this.wpTableColumns.findById(expanded),type=this.relationColumnType(column);null!==type&&_.each(this.relationsForColumn(workPackage,relations,column),function(relation){return eachCallback(relation,column,type)})}}},WorkPackageTableRelationColumnsService.prototype.relationsForColumn=function(workPackage,relations,column){var _this=this;if(_.isNil(relations))return[];var type=this.relationColumnType(column);if("toType"===type){var typeHref_1=column.type.href;return _.filter(relations,function(relation){var denormalized=relation.denormalized(workPackage),target=_this.states.workPackages.get(denormalized.targetId).value;return target.type.href===typeHref_1})}if("ofType"===type){var relationType_1=column.relationType;return _.filter(relations,function(relation){return relation.denormalized(workPackage).relationType===relationType_1})}return[]},WorkPackageTableRelationColumnsService.prototype.relationColumnType=function(column){switch(column._type){case query_column_1.queryColumnTypes.RELATION_TO_TYPE:return"toType";case query_column_1.queryColumnTypes.RELATION_OF_TYPE:return"ofType";default:return null}},WorkPackageTableRelationColumnsService.prototype.getExpandFor=function(workPackageId){return this.current&&this.current.getExpandFor(workPackageId)},WorkPackageTableRelationColumnsService.prototype.expandFor=function(workPackageId,columnId){var current=this.current;current.expandFor(workPackageId,columnId),this.state.putValue(current)},WorkPackageTableRelationColumnsService.prototype.collapse=function(workPackageId){var current=this.current;current.collapse(workPackageId),this.state.putValue(current)},Object.defineProperty(WorkPackageTableRelationColumnsService.prototype,"current",{get:function(){return this.state.value},enumerable:!0,configurable:!0}),WorkPackageTableRelationColumnsService.prototype.initializeState=function(){var current=this.current;return current||(current=new wp_table_relation_columns_1.WorkPackageTableRelationColumns),this.state.putValue(current),current},WorkPackageTableRelationColumnsService}(wp_table_base_service_1.WorkPackageTableBaseService);exports.WorkPackageTableRelationColumnsService=WorkPackageTableRelationColumnsService,angular_modules_1.opServicesModule.service("wpTableRelationColumns",WorkPackageTableRelationColumnsService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),WorkPackageTableSelection=function(){function WorkPackageTableSelection(states){this.states=states,this.selectionState=states.table.selection,this.selectionState.isPristine()&&this.reset(),this.observeToUpdateFocused()}return WorkPackageTableSelection.$inject=["states"],WorkPackageTableSelection.prototype.isSelected=function(workPackageId){return this.currentState.selected[workPackageId]},WorkPackageTableSelection.prototype.selectAll=function(rows){var state=this._emptyState;rows.forEach(function(row){row.workPackageId&&(state.selected[row.workPackageId]=!0)}),this.selectionState.putValue(state)},WorkPackageTableSelection.prototype.getSelectedWorkPackages=function(){var wpState=this.states.workPackages;return this.getSelectedWorkPackageIds().map(function(id){return wpState.get(id).value})},WorkPackageTableSelection.prototype.getSelectedWorkPackageIds=function(){var selected=[];return _.each(this.currentState.selected,function(isSelected,wpId){isSelected&&selected.push(wpId)}),selected},WorkPackageTableSelection.prototype.reset=function(){this.selectionState.putValue(this._emptyState)},Object.defineProperty(WorkPackageTableSelection.prototype,"currentState",{get:function(){return this.selectionState.value},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTableSelection.prototype,"selectionCount",{get:function(){return _.size(this.currentState.selected)},enumerable:!0,configurable:!0}),WorkPackageTableSelection.prototype.focusOn=function(workPackgeId){var newState=this._emptyState;newState.selected[workPackgeId]=!0,this.selectionState.putValue(newState),this.states.focusedWorkPackage.putValue(workPackgeId)},WorkPackageTableSelection.prototype.toggleRow=function(workPackageId){var isSelected=this.currentState.selected[workPackageId];this.setRowState(workPackageId,!isSelected)},WorkPackageTableSelection.prototype.setRowState=function(workPackageId,newState){var state=this.currentState;state.selected[workPackageId]=newState,this.selectionState.putValue(state)},WorkPackageTableSelection.prototype.setSelection=function(wpId,position){var state={selected:{},activeRowIndex:position};state.selected[wpId]=!0,this.selectionState.putValue(state)},WorkPackageTableSelection.prototype.setMultiSelectionFrom=function(rows,wpId,position){var state=this.currentState;if(0===this.selectionCount)state.selected[wpId]=!0,state.activeRowIndex=position;else if(null!==state.activeRowIndex){var start_1=Math.min(position,state.activeRowIndex),end_1=Math.max(position,state.activeRowIndex);rows.forEach(function(row,i){row.workPackageId&&(state.selected[row.workPackageId]=i>=start_1&&i<=end_1)})}this.selectionState.putValue(state);
},Object.defineProperty(WorkPackageTableSelection.prototype,"_emptyState",{get:function(){return{selected:{},activeRowIndex:null}},enumerable:!0,configurable:!0}),WorkPackageTableSelection.prototype.observeToUpdateFocused=function(){var _this=this;this.states.table.rendered.values$().map(function(state){return _.find(state,function(row){return row.workPackageId})}).filter(function(fullRow){return!!fullRow&&_.isEmpty(_this.currentState.selected)}).subscribe(function(fullRow){_this.states.focusedWorkPackage.putValue(fullRow.workPackageId)})},WorkPackageTableSelection}();exports.WorkPackageTableSelection=WorkPackageTableSelection,angular_modules_1.opServicesModule.service("wpTableSelection",WorkPackageTableSelection)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_table_base_service_1=__webpack_require__(22),query_sort_by_resource_service_1=__webpack_require__(58),angular_modules_1=__webpack_require__(0),wp_table_sort_by_1=__webpack_require__(198),reactivestates_1=__webpack_require__(26),WorkPackageTableSortByService=function(_super){function WorkPackageTableSortByService(states){var _this=_super.call(this,states)||this;return _this.states=states,_this.stateName="sortBy",_this}return __extends(WorkPackageTableSortByService,_super),WorkPackageTableSortByService.$inject=["states"],WorkPackageTableSortByService.prototype.initialize=function(query){var sortBy=new wp_table_sort_by_1.WorkPackageTableSortBy(query);this.state.putValue(sortBy)},WorkPackageTableSortByService.prototype.onReadyWithAvailable=function(){return reactivestates_1.combine(this.state,this.states.query.available.sortBy).values$().mapTo(null)},WorkPackageTableSortByService.prototype.hasChanged=function(query){var comparer=function(sortBy){return sortBy.map(function(el){return el.href})};return!_.isEqual(comparer(query.sortBy),comparer(this.current.current))},WorkPackageTableSortByService.prototype.applyToQuery=function(query){return query.sortBy=_.cloneDeep(this.current.current),!0},WorkPackageTableSortByService.prototype.isSortable=function(column){return!!_.find(this.available,function(candidate){return candidate.column.$href===column.$href})},WorkPackageTableSortByService.prototype.addAscending=function(column){var available=this.findAvailableDirection(column,query_sort_by_resource_service_1.QUERY_SORT_BY_ASC);available&&this.add(available)},WorkPackageTableSortByService.prototype.addDescending=function(column){var available=this.findAvailableDirection(column,query_sort_by_resource_service_1.QUERY_SORT_BY_DESC);available&&this.add(available)},WorkPackageTableSortByService.prototype.findAvailableDirection=function(column,direction){return _.find(this.available,function(candidate){return candidate.column.$href===column.$href&&candidate.direction.$href===direction})},WorkPackageTableSortByService.prototype.add=function(sortBy){var currentState=this.current;currentState.addCurrent(sortBy),this.state.putValue(currentState)},WorkPackageTableSortByService.prototype.set=function(sortBys){var currentState=this.current;currentState.setCurrent(sortBys),this.state.putValue(currentState)},Object.defineProperty(WorkPackageTableSortByService.prototype,"current",{get:function(){return this.state.value},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTableSortByService.prototype,"availableState",{get:function(){return this.states.query.available.sortBy},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTableSortByService.prototype,"currentSortBys",{get:function(){return this.current.current},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTableSortByService.prototype,"available",{get:function(){return this.availableState.getValueOr([])},enumerable:!0,configurable:!0}),WorkPackageTableSortByService}(wp_table_base_service_1.WorkPackageTableBaseService);exports.WorkPackageTableSortByService=WorkPackageTableSortByService,angular_modules_1.opServicesModule.service("wpTableSortBy",WorkPackageTableSortByService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_table_base_service_1=__webpack_require__(22),angular_modules_1=__webpack_require__(0),wp_table_sum_1=__webpack_require__(199),WorkPackageTableSumService=function(_super){function WorkPackageTableSumService(states){var _this=_super.call(this,states)||this;return _this.states=states,_this.stateName="sum",_this}return __extends(WorkPackageTableSumService,_super),WorkPackageTableSumService.$inject=["states"],WorkPackageTableSumService.prototype.initialize=function(query){var sum=new wp_table_sum_1.WorkPackageTableSum(query.sums);this.state.putValue(sum)},WorkPackageTableSumService.prototype.hasChanged=function(query){return query.sums!==this.isEnabled},WorkPackageTableSumService.prototype.applyToQuery=function(query){return query.sums=this.isEnabled,!0},WorkPackageTableSumService.prototype.toggle=function(){var currentState=this.current;currentState.toggle(),this.state.putValue(currentState)},Object.defineProperty(WorkPackageTableSumService.prototype,"isEnabled",{get:function(){return this.current.isEnabled},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTableSumService.prototype,"current",{get:function(){return this.state.value},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTableSumService.prototype,"currentSum",{get:function(){return this.current?this.current.current:void 0},enumerable:!0,configurable:!0}),WorkPackageTableSumService}(wp_table_base_service_1.WorkPackageTableBaseService);exports.WorkPackageTableSumService=WorkPackageTableSumService,angular_modules_1.opServicesModule.service("wpTableSum",WorkPackageTableSumService)},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var wp_table_base_service_1=__webpack_require__(22),angular_modules_1=__webpack_require__(0),wp_table_timeline_1=__webpack_require__(200),wp_timeline_1=__webpack_require__(24),WorkPackageTableTimelineService=function(_super){function WorkPackageTableTimelineService(states){var _this=_super.call(this,states)||this;return _this.states=states,_this.stateName="timelineVisible",_this}return __extends(WorkPackageTableTimelineService,_super),WorkPackageTableTimelineService.$inject=["states"],WorkPackageTableTimelineService.prototype.initialize=function(query){var current=new wp_table_timeline_1.WorkPackageTableTimelineState(query.timelineVisible,query.timelineZoomLevel);this.state.putValue(current)},WorkPackageTableTimelineService.prototype.hasChanged=function(query){var visibilityChanged=this.isVisible!==query.timelineVisible,zoomLevelChanged=this.zoomLevel!==query.timelineZoomLevel;return visibilityChanged||zoomLevelChanged},WorkPackageTableTimelineService.prototype.applyToQuery=function(query){return query.timelineVisible=this.isVisible,query.timelineZoomLevel=this.zoomLevel,!1},WorkPackageTableTimelineService.prototype.toggle=function(){var currentState=this.current;currentState.toggle(),this.state.putValue(currentState)},Object.defineProperty(WorkPackageTableTimelineService.prototype,"isVisible",{get:function(){return this.current.isVisible},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTableTimelineService.prototype,"zoomLevel",{get:function(){return this.current.zoomLevel},enumerable:!0,configurable:!0}),WorkPackageTableTimelineService.prototype.updateZoom=function(delta){var currentState=this.current,idx=wp_timeline_1.zoomLevelOrder.indexOf(this.current.zoomLevel);idx+=delta,idx>=0&&idx<wp_timeline_1.zoomLevelOrder.length&&(currentState.zoomLevel=wp_timeline_1.zoomLevelOrder[idx],this.state.putValue(currentState))},Object.defineProperty(WorkPackageTableTimelineService.prototype,"current",{get:function(){return this.state.value},enumerable:!0,configurable:!0}),WorkPackageTableTimelineService}(wp_table_base_service_1.WorkPackageTableBaseService);exports.WorkPackageTableTimelineService=WorkPackageTableTimelineService,angular_modules_1.opServicesModule.service("wpTableTimeline",WorkPackageTableTimelineService)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";function wpInlineCreate(){return{restrict:"AE",templateUrl:"/components/wp-inline-create/wp-inline-create.directive.html",scope:{table:"=",projectIdentifier:"="},bindToController:!0,controllerAs:"$ctrl",controller:WorkPackageInlineCreateController}}Object.defineProperty(exports,"__esModule",{value:!0});var click_or_enter_handler_1=__webpack_require__(49),angular_modules_1=__webpack_require__(0),inline_create_row_builder_1=__webpack_require__(201),angular_rx_utils_1=__webpack_require__(8),work_package_edit_form_1=__webpack_require__(48),timeline_row_builder_1=__webpack_require__(67),table_row_edit_context_1=__webpack_require__(97),WorkPackageInlineCreateController=function(){function WorkPackageInlineCreateController($scope,$element,$timeout,FocusHelper,states,wpCacheService,wpEditing,wpCreate,wpTableColumns,wpTableFilters,AuthorisationService,$q,I18n){var _this=this;this.$scope=$scope,this.$element=$element,this.$timeout=$timeout,this.FocusHelper=FocusHelper,this.states=states,this.wpCacheService=wpCacheService,this.wpEditing=wpEditing,this.wpCreate=wpCreate,this.wpTableColumns=wpTableColumns,this.wpTableFilters=wpTableFilters,this.AuthorisationService=AuthorisationService,this.$q=$q,this.I18n=I18n,this.isHidden=!1,this.focus=!1,this.rowBuilder=new inline_create_row_builder_1.InlineCreateRowBuilder(this.table),this.timelineBuilder=new timeline_row_builder_1.TimelineRowBuilder(this.table),this.text={create:I18n.t("js.label_create_work_package")};var container=jQuery(".wp-table-timeline--body");container.addClass("-inline-create-mirror"),angular_rx_utils_1.scopedObservable(this.$scope,this.wpCreate.onNewWorkPackage()).subscribe(function(wp){_this.currentWorkPackage===wp&&(_this.removeWorkPackageRow(),_this.addWorkPackageRow(),_this.states.focusedWorkPackage.putValue(wp.id,"Added in inline create"))}),this.states.table.columns.values$().filter(function(){return _this.isHidden}).takeUntil(angular_rx_utils_1.scopeDestroyed$($scope)).subscribe(function(){var rowElement=_this.$element.find("."+inline_create_row_builder_1.inlineCreateRowClassName);rowElement.length&&_this.currentWorkPackage&&_this.rowBuilder.refreshRow(_this.currentWorkPackage,_this.workPackageEditForm.changeset,rowElement)}),this.$element.on("click keydown","."+inline_create_row_builder_1.inlineCreateCancelClassName,function(evt){return click_or_enter_handler_1.onClickOrEnter(evt,function(){_this.resetRow()}),evt.stopImmediatePropagation(),!1}),Mousetrap(this.$element[0]).bind("escape",function(){_this.resetRow()})}return WorkPackageInlineCreateController.$inject=["$scope","$element","$timeout","FocusHelper","states","wpCacheService","wpEditing","wpCreate","wpTableColumns","wpTableFilters","AuthorisationService","$q","I18n"],WorkPackageInlineCreateController.prototype.addWorkPackageRow=function(){var _this=this;this.wpCreate.createNewWorkPackage(this.projectIdentifier).then(function(changeset){if(!changeset)throw"No new work package was created";var wp=_this.currentWorkPackage=changeset.workPackage;_this.currentWorkPackage.inlineCreated=!0,_this.wpCacheService.updateWorkPackage(_this.currentWorkPackage);var context=new table_row_edit_context_1.TableRowEditContext(wp.id,_this.rowBuilder.classIdentifier(wp));_this.workPackageEditForm=work_package_edit_form_1.WorkPackageEditForm.createInContext(context,wp,!1),_this.workPackageEditForm.changeset.clear();var row=_this.rowBuilder.buildNew(wp,_this.workPackageEditForm);_this.$element.append(row),_this.$timeout(function(){_this.workPackageEditForm.activateMissingFields(),_this.hideRow()})})},WorkPackageInlineCreateController.prototype.resetRow=function(){var _this=this;this.focus=!0,this.removeWorkPackageRow(),this.$timeout(function(){_this.showRow()},50)},WorkPackageInlineCreateController.prototype.removeWorkPackageRow=function(){this.currentWorkPackage=null,this.wpEditing.stopEditing("new"),this.states.workPackages.get("new").clear(),this.$element.find(".wp-row-new").remove()},WorkPackageInlineCreateController.prototype.showRow=function(){return this.isHidden=!1},WorkPackageInlineCreateController.prototype.hideRow=function(){return this.isHidden=!0},Object.defineProperty(WorkPackageInlineCreateController.prototype,"colspan",{get:function(){return this.wpTableColumns.columnCount+1},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageInlineCreateController.prototype,"isAllowed",{get:function(){return this.AuthorisationService.can("work_packages","createWorkPackage")},enumerable:!0,configurable:!0}),WorkPackageInlineCreateController}();exports.WorkPackageInlineCreateController=WorkPackageInlineCreateController,angular_modules_1.opWorkPackagesModule.directive("wpInlineCreate",wpInlineCreate)},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var WorkPackagesListChecksumService=function(){function WorkPackagesListChecksumService(UrlParamsHelper,$state){this.UrlParamsHelper=UrlParamsHelper,this.$state=$state}return WorkPackagesListChecksumService.$inject=["UrlParamsHelper","$state"],WorkPackagesListChecksumService.prototype.updateIfDifferent=function(query,pagination){var newQueryChecksum=this.getNewChecksum(query,pagination);this.isUninitialized()||(this.isIdDifferent(query.id)?(this.maintainUrlQueryState(query.id,null),this.clear()):this.isChecksumDifferent(newQueryChecksum)&&this.maintainUrlQueryState(query.id,newQueryChecksum)),this.set(query.id,newQueryChecksum)},WorkPackagesListChecksumService.prototype.update=function(query,pagination){var newQueryChecksum=this.getNewChecksum(query,pagination);this.set(query.id,newQueryChecksum),this.maintainUrlQueryState(query.id,newQueryChecksum)},WorkPackagesListChecksumService.prototype.setToQuery=function(query,pagination){var newQueryChecksum=this.getNewChecksum(query,pagination);this.set(query.id,newQueryChecksum),this.maintainUrlQueryState(query.id,null)},WorkPackagesListChecksumService.prototype.isQueryOutdated=function(query,pagination){var newQueryChecksum=this.getNewChecksum(query,pagination);return this.isOutdated(query.id,newQueryChecksum)},WorkPackagesListChecksumService.prototype.executeIfOutdated=function(newId,newChecksum,callback){this.isOutdated(newId,newChecksum)&&(this.set(newId,newChecksum),callback())},WorkPackagesListChecksumService.prototype.set=function(id,checksum){this.id=id,this.checksum=checksum},WorkPackagesListChecksumService.prototype.clear=function(){this.id=null,this.checksum=null,this.visibleChecksum=null},WorkPackagesListChecksumService.prototype.isUninitialized=function(){return!this.id&&!this.checksum},WorkPackagesListChecksumService.prototype.isIdDifferent=function(otherId){return this.id!==otherId},WorkPackagesListChecksumService.prototype.isChecksumDifferent=function(otherChecksum){return this.checksum&&otherChecksum!==this.checksum},WorkPackagesListChecksumService.prototype.isOutdated=function(otherId,otherChecksum){var hasCurrentQueryID=!!this.id,hasCurrentChecksum=!!this.checksum,idChanged=this.id!==otherId,checksumChanged=otherChecksum!==this.checksum,visibleChecksumChanged=this.checksum&&!otherChecksum&&this.visibleChecksum;return(hasCurrentQueryID||hasCurrentChecksum)&&(idChanged||!idChanged&&checksumChanged&&(otherChecksum||this.visibleChecksum)||!hasCurrentQueryID&&visibleChecksumChanged)},WorkPackagesListChecksumService.prototype.getNewChecksum=function(query,pagination){return this.UrlParamsHelper.encodeQueryJsonParams(query,_.pick(pagination,["page","perPage"]))},WorkPackagesListChecksumService.prototype.maintainUrlQueryState=function(id,checksum){this.visibleChecksum=checksum,this.$state.go(".",{query_props:checksum,query_id:id},{notify:!1})},WorkPackagesListChecksumService}();exports.WorkPackagesListChecksumService=WorkPackagesListChecksumService,angular.module("openproject.workPackages.services").service("wpListChecksumService",WorkPackagesListChecksumService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var WorkPackagesListInvalidQueryService=function(){function WorkPackagesListInvalidQueryService(QueryResource,QueryFilterInstanceResource){this.QueryResource=QueryResource,this.QueryFilterInstanceResource=QueryFilterInstanceResource}return WorkPackagesListInvalidQueryService.$inject=["QueryResource","QueryFilterInstanceResource"],WorkPackagesListInvalidQueryService.prototype.restoreQuery=function(query,form){var payload=new this.QueryResource(form.payload);this.restoreFilters(query,payload,form.schema),this.restoreColumns(query,payload,form.schema),this.restoreSortBy(query,payload,form.schema),this.restoreGroupBy(query,payload,form.schema),this.restoreOtherProperties(query,payload)},WorkPackagesListInvalidQueryService.prototype.restoreFilters=function(query,payload,querySchema){var _this=this,filters=_.map(payload.filters,function(filter){var filterInstanceSchema=_.find(querySchema.filtersSchemas.elements,function(schema){return schema.filter.allowedValues[0].$href===filter.filter.$href});if(!filterInstanceSchema)return null;var recreatedFilter=_this.QueryFilterInstanceResource.fromSchema(filterInstanceSchema),operator=_.find(filterInstanceSchema.operator.allowedValues,function(operator){return operator.$href===filter.operator.$href});return operator&&(recreatedFilter.operator=operator),recreatedFilter.values.length=0,_.each(filter.values,function(value){return recreatedFilter.values.push(value)}),recreatedFilter});filters=_.compact(filters),query.filters.length=0,_.each(filters,function(filter){return query.filters.push(filter)})},WorkPackagesListInvalidQueryService.prototype.restoreColumns=function(query,stubQuery,schema){var columns=_.map(stubQuery.columns,function(column){return _.find(schema.columns.allowedValues,function(candidate){return candidate.$href===column.$href})});columns=_.compact(columns),query.columns.length=0,_.each(columns,function(column){return query.columns.push(column)})},WorkPackagesListInvalidQueryService.prototype.restoreSortBy=function(query,stubQuery,schema){var sortBys=_.map(stubQuery.sortBy,function(sortBy){return _.find(schema.sortBy.allowedValues,function(candidate){return candidate.$href===sortBy.$href})});sortBys=_.compact(sortBys),query.sortBy.length=0,_.each(sortBys,function(sortBy){return query.sortBy.push(sortBy)})},WorkPackagesListInvalidQueryService.prototype.restoreGroupBy=function(query,stubQuery,schema){var groupBy=_.find(schema.groupBy.allowedValues,function(candidate){return stubQuery.groupBy&&stubQuery.groupBy.$href===candidate.$href});query.groupBy=groupBy},WorkPackagesListInvalidQueryService.prototype.restoreOtherProperties=function(query,stubQuery){_.without(Object.keys(stubQuery.$source),"_links","filters").forEach(function(property){query[property]=stubQuery[property]}),_.without(Object.keys(stubQuery.$source._links),"columns","groupBy","sortBy").forEach(function(property){query[property]=stubQuery[property]})},WorkPackagesListInvalidQueryService}();exports.WorkPackagesListInvalidQueryService=WorkPackagesListInvalidQueryService,angular.module("openproject.workPackages.services").service("wpListInvalidQueryService",WorkPackagesListInvalidQueryService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var WorkPackagesListService=function(){function WorkPackagesListService(NotificationsService,UrlParamsHelper,AuthorisationService,$q,$state,QueryDm,QueryFormDm,states,wpTablePagination,wpStatesInitialization,wpListInvalidQueryService,I18n,queryMenuItemFactory){this.NotificationsService=NotificationsService,this.UrlParamsHelper=UrlParamsHelper,this.AuthorisationService=AuthorisationService,this.$q=$q,this.$state=$state,this.QueryDm=QueryDm,this.QueryFormDm=QueryFormDm,this.states=states,this.wpTablePagination=wpTablePagination,this.wpStatesInitialization=wpStatesInitialization,this.wpListInvalidQueryService=wpListInvalidQueryService,this.I18n=I18n,this.queryMenuItemFactory=queryMenuItemFactory}return WorkPackagesListService.$inject=["NotificationsService","UrlParamsHelper","AuthorisationService","$q","$state","QueryDm","QueryFormDm","states","wpTablePagination","wpStatesInitialization","wpListInvalidQueryService","I18n","queryMenuItemFactory"],WorkPackagesListService.prototype.fromQueryParams=function(queryParams,projectIdentifier){var _this=this,queryData=this.UrlParamsHelper.buildV3GetQueryFromJsonParams(queryParams.query_props),wpListPromise=this.QueryDm.find(queryData,queryParams.query_id,projectIdentifier),promise=this.updateStatesFromQueryOnPromise(wpListPromise);return promise.catch(function(error){var queryProps=_this.UrlParamsHelper.buildV3GetQueryFromJsonParams(queryParams.query_props);return _this.handleQueryLoadingError(error,queryProps,queryParams.query_id,projectIdentifier)}),this.conditionallyLoadForm(promise)},WorkPackagesListService.prototype.loadDefaultQuery=function(projectIdentifier){return this.fromQueryParams({},projectIdentifier)},WorkPackagesListService.prototype.reloadQuery=function(query){var _this=this,pagination=this.getPaginationInfo();pagination.offset=1;var wpListPromise=this.QueryDm.reload(query,pagination),promise=this.updateStatesFromQueryOnPromise(wpListPromise);return promise.catch(function(error){var projectIdentifier=query.project&&query.project.id;return _this.handleQueryLoadingError(error,{},query.id,projectIdentifier)}),this.conditionallyLoadForm(promise)},WorkPackagesListService.prototype.loadResultsList=function(query,additionalParams){var wpListPromise=this.QueryDm.loadResults(query,additionalParams);return this.updateStatesFromWPListOnPromise(query,wpListPromise)},WorkPackagesListService.prototype.reloadCurrentResultsList=function(){var pagination=this.getPaginationInfo(),query=this.currentQuery;return this.loadResultsList(query,pagination)},WorkPackagesListService.prototype.loadCurrentResultsListFirstPage=function(){var pagination=this.getPaginationInfo();pagination.offset=1;var query=this.currentQuery;return this.loadResultsList(query,pagination)},WorkPackagesListService.prototype.loadForm=function(query){var _this=this;return this.QueryFormDm.load(query).then(function(form){return _this.wpStatesInitialization.updateStatesFromForm(query,form),form})},WorkPackagesListService.prototype.create=function(query,name){var _this=this,form=this.states.query.form.value;query.name=name;var promise=this.QueryDm.create(query,form);return promise.then(function(query){return _this.NotificationsService.addSuccess(_this.I18n.t("js.notice_successful_create")),_this.reloadQuery(query),query}),promise},WorkPackagesListService.prototype.delete=function(){var _this=this,query=this.currentQuery,promise=this.QueryDm.delete(query);return promise.then(function(){_this.NotificationsService.addSuccess(_this.I18n.t("js.notice_successful_delete")),_this.removeMenuItem(query);var id;query.project&&(id=query.project.$href.split("/").pop()),_this.loadDefaultQuery(id)}),promise},WorkPackagesListService.prototype.save=function(query){var _this=this;query=query||this.currentQuery;var form=this.states.query.form.value,promise=this.QueryDm.save(query,form);return promise.then(function(){_this.NotificationsService.addSuccess(_this.I18n.t("js.notice_successful_update")),_this.queryMenuItemFactory.renameMenuItem(query.id,query.name),_this.states.query.resource.putValue(query)}).catch(function(error){_this.NotificationsService.addError(error.message)}),promise},WorkPackagesListService.prototype.toggleStarred=function(query){var _this=this,promise=this.QueryDm.toggleStarred(query);return promise.then(function(query){_this.states.query.resource.putValue(query),_this.NotificationsService.addSuccess(_this.I18n.t("js.notice_successful_update")),_this.updateQueryMenu()}),promise},WorkPackagesListService.prototype.getPaginationInfo=function(){var pagination=this.wpTablePagination.current;return{pageSize:pagination.perPage,offset:pagination.page}},WorkPackagesListService.prototype.conditionallyLoadForm=function(promise){var _this=this;return promise.then(function(query){var currentForm=_this.states.query.form.value;return currentForm&&query.$links.update.$href===currentForm.$href||setTimeout(function(){return _this.loadForm(query)},0),query}),promise},WorkPackagesListService.prototype.updateStatesFromQueryOnPromise=function(promise){var _this=this;return promise.then(function(query){return _this.states.query.context.doAndTransition("Query loaded",function(){return _this.wpStatesInitialization.initialize(query,query.results),_this.states.tableRendering.onQueryUpdated.valuesPromise()}),query}),promise},WorkPackagesListService.prototype.updateStatesFromWPListOnPromise=function(query,promise){var _this=this;return promise.then(function(results){return _this.states.query.context.doAndTransition("Query loaded",function(){return _this.wpStatesInitialization.updateFromResults(results),_this.states.tableRendering.onQueryUpdated.valuesPromise()}),results})},Object.defineProperty(WorkPackagesListService.prototype,"currentQuery",{get:function(){return this.states.query.resource.value},enumerable:!0,configurable:!0}),WorkPackagesListService.prototype.updateQueryMenu=function(){var query=this.currentQuery;query.starred?this.createMenuItem(query):this.removeMenuItem(query),this.activateMenuItem()},WorkPackagesListService.prototype.handleQueryLoadingError=function(error,queryProps,queryId,projectIdentifier){var _this=this,deferred=this.$q.defer();return this.NotificationsService.addError(this.I18n.t("js.work_packages.faulty_query.description"),error.message),this.QueryFormDm.loadWithParams(queryProps,queryId,projectIdentifier).then(function(form){_this.QueryDm.findDefault({pageSize:0},projectIdentifier).then(function(query){_this.wpListInvalidQueryService.restoreQuery(query,form),query.results.pageSize=queryProps.pageSize,query.results.total=0,queryId&&(query.id=queryId),_this.states.query.context.doAndTransition("Query loaded",function(){return _this.wpStatesInitialization.initialize(query,query.results),_this.wpStatesInitialization.updateStatesFromForm(query,form),_this.states.tableRendering.onQueryUpdated.valuesPromise()}),deferred.resolve(query)})}),deferred.promise},WorkPackagesListService.prototype.createMenuItem=function(query){this.queryMenuItemFactory.generateMenuItem(query.name,this.$state.href("work-packages.list",{query_id:query.id}),query.id)},WorkPackagesListService.prototype.removeMenuItem=function(query){this.queryMenuItemFactory.removeMenuItem(query.id)},WorkPackagesListService.prototype.activateMenuItem=function(){this.queryMenuItemFactory.activateMenuItem()},WorkPackagesListService}();exports.WorkPackagesListService=WorkPackagesListService,angular.module("openproject.workPackages.services").service("wpListService",WorkPackagesListService)},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var WorkPackageStatesInitializationService=function(){function WorkPackageStatesInitializationService(states,wpTableColumns,wpTableGroupBy,wpTableSortBy,wpTableFilters,wpTableSum,wpTableTimeline,wpTableHierarchies,wpTableRelationColumns,wpTablePagination,wpTableAdditionalElements,wpCacheService,wpListChecksumService,AuthorisationService){this.states=states,this.wpTableColumns=wpTableColumns,this.wpTableGroupBy=wpTableGroupBy,this.wpTableSortBy=wpTableSortBy,this.wpTableFilters=wpTableFilters,this.wpTableSum=wpTableSum,this.wpTableTimeline=wpTableTimeline,this.wpTableHierarchies=wpTableHierarchies,this.wpTableRelationColumns=wpTableRelationColumns,this.wpTablePagination=wpTablePagination,this.wpTableAdditionalElements=wpTableAdditionalElements,this.wpCacheService=wpCacheService,this.wpListChecksumService=wpListChecksumService,this.AuthorisationService=AuthorisationService}return WorkPackageStatesInitializationService.$inject=["states","wpTableColumns","wpTableGroupBy","wpTableSortBy","wpTableFilters","wpTableSum","wpTableTimeline","wpTableHierarchies","wpTableRelationColumns","wpTablePagination","wpTableAdditionalElements","wpCacheService","wpListChecksumService","AuthorisationService"],WorkPackageStatesInitializationService.prototype.initialize=function(query,results){this.clearStates(),this.initializeFromQuery(query),this.updateFromResults(results)},WorkPackageStatesInitializationService.prototype.updateStatesFromForm=function(query,form){var _this=this,schema=form.schema;_.each(schema.filtersSchemas.elements,function(schema){_this.states.schemas.get(schema.href).putValue(schema)}),this.wpTableFilters.initialize(query,schema),this.states.query.form.putValue(form),this.states.query.available.columns.putValue(schema.columns.allowedValues),this.states.query.available.sortBy.putValue(schema.sortBy.allowedValues),this.states.query.available.groupBy.putValue(schema.groupBy.allowedValues)},WorkPackageStatesInitializationService.prototype.updateFromResults=function(results){var _this=this;this.states.table.additionalRequiredWorkPackages.clear("Clearing additional WPs before updating rows"),results.schemas&&_.each(results.schemas.elements,function(schema){_this.states.schemas.get(schema.href).putValue(schema)}),this.states.table.rows.putValue(results.elements),this.wpCacheService.updateWorkPackageList(results.elements),this.states.table.results.putValue(results),this.states.table.groups.putValue(angular.copy(results.groups)),this.wpTablePagination.initialize(results),this.wpListChecksumService.updateIfDifferent(this.states.query.resource.value,this.wpTablePagination.current),this.wpTableRelationColumns.initialize(results.elements),this.wpTableAdditionalElements.initialize(results.elements),this.AuthorisationService.initModelAuth("work_packages",results.$links)},WorkPackageStatesInitializationService.prototype.initializeFromQuery=function(query){this.states.query.resource.putValue(query),this.wpTableSum.initialize(query),this.wpTableColumns.initialize(query),this.wpTableSortBy.initialize(query),this.wpTableGroupBy.initialize(query),this.wpTableTimeline.initialize(query),this.wpTableHierarchies.initialize(query),this.AuthorisationService.initModelAuth("query",query.$links)},WorkPackageStatesInitializationService.prototype.clearStates=function(){var reason="Clearing states before re-initialization.";this.states.table.rows.clear(reason),this.states.table.columns.clear(reason),this.states.table.sortBy.clear(reason),this.states.table.groupBy.clear(reason),this.states.table.sum.clear(reason),
this.states.table.results.clear(reason),this.states.table.groups.clear(reason),this.states.table.additionalRequiredWorkPackages.clear(reason),this.states.table.rendered.clear(reason)},WorkPackageStatesInitializationService}();exports.WorkPackageStatesInitializationService=WorkPackageStatesInitializationService,angular.module("openproject.workPackages.services").service("wpStatesInitialization",WorkPackageStatesInitializationService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){function activityPanelDirective(){return{restrict:"E",templateUrl:function(element,attrs){var path="/components/wp-panels/activity-panel/",type=attrs.template||"default";return path+"activity-panel-"+type+".directive.html"},scope:{workPackage:"="},bindToController:!0,controller:ActivityPanelController,controllerAs:"vm"}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),angular_rx_utils_1=__webpack_require__(8),ActivityPanelController=function(){function ActivityPanelController($scope,wpCacheService,I18n,wpActivity){var _this=this;this.$scope=$scope,this.wpCacheService=wpCacheService,this.I18n=I18n,this.wpActivity=wpActivity,this.activities=[],this.onlyComments=!1,this.reverse="asc"===wpActivity.order,this.text={commentsOnly:I18n.t("js.label_activity_show_only_comments"),showAll:I18n.t("js.label_activity_show_all")},this.togglerText=this.text.commentsOnly,angular_rx_utils_1.scopedObservable($scope,wpCacheService.loadWorkPackage(this.workPackage.id).values$()).subscribe(function(wp){_this.workPackage=wp,_this.wpActivity.aggregateActivities(_this.workPackage).then(function(activities){_this.activities=activities})})}return ActivityPanelController.$inject=["$scope","wpCacheService","I18n","wpActivity"],ActivityPanelController.prototype.showToggler=function(){var count_all=this.activities.length,count_with_comments=this.activitiesWithComments.length;return count_all>1&&count_with_comments>0&&count_with_comments<this.activities.length},ActivityPanelController.prototype.visibleActivities=function(){return this.onlyComments?this.activitiesWithComments:this.activities},Object.defineProperty(ActivityPanelController.prototype,"activitiesWithComments",{get:function(){return this.activities.filter(function(activity){return!!_.get(activity,"comment.html")})},enumerable:!0,configurable:!0}),ActivityPanelController.prototype.toggleComments=function(){this.onlyComments=!this.onlyComments,this.onlyComments?this.togglerText=this.text.showAll:this.togglerText=this.text.commentsOnly},ActivityPanelController.prototype.info=function(activity,index){return this.wpActivity.info(this.visibleActivities(),activity,index)},ActivityPanelController}();exports.ActivityPanelController=ActivityPanelController,angular_modules_1.wpDirectivesModule.directive("activityPanel",activityPanelDirective)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),activity_entry_info_1=__webpack_require__(202),WorkPackagesActivityService=function(){function WorkPackagesActivityService(ConfigurationService,$filter,$q){this.ConfigurationService=ConfigurationService,this.$filter=$filter,this.$q=$q}return WorkPackagesActivityService.$inject=["ConfigurationService","$filter","$q"],Object.defineProperty(WorkPackagesActivityService.prototype,"order",{get:function(){return this.isReversed?"desc":"asc"},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackagesActivityService.prototype,"isReversed",{get:function(){return this.ConfigurationService.commentsSortedInDescendingOrder()},enumerable:!0,configurable:!0}),WorkPackagesActivityService.prototype.aggregateActivities=function(workPackage){var _this=this,aggregated=[],promises=[],add=function(data){aggregated.push(data.elements)};return this.hackNonCachedActivities(workPackage),promises.push(workPackage.activities.$load().then(add)),workPackage.revisions&&promises.push(workPackage.revisions.$load().then(add)),this.$q.all(promises).then(function(){return _this.sortedActivityList(aggregated)})},WorkPackagesActivityService.prototype.sortedActivityList=function(activities,attr){return void 0===attr&&(attr="createdAt"),this.$filter("orderBy")(_.flatten(activities),attr,this.isReversed)},WorkPackagesActivityService.prototype.info=function(activities,activity,index){return new activity_entry_info_1.ActivityEntryInfo(this.$filter,this.isReversed,activities,activity,index)},WorkPackagesActivityService.prototype.hackNonCachedActivities=function(workPackage){var newLoadHeaders=function(){return{caching:{enabled:!1}}};workPackage.activities.$loadHeaders=newLoadHeaders},WorkPackagesActivityService}();exports.WorkPackagesActivityService=WorkPackagesActivityService,angular_modules_1.opWorkPackagesModule.service("wpActivity",WorkPackagesActivityService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var rxjs_1=__webpack_require__(17),KeepTabService=function(){function KeepTabService($state,$rootScope){"ngInject";var _this=this;this.$state=$state,this.$rootScope=$rootScope,this.currentTab="overview",this.subject=new rxjs_1.ReplaySubject(1),this.updateTabs(),$rootScope.$on("$stateChangeSuccess",function(_event,toState){_this.updateTabs(toState)})}return KeepTabService.$inject=["$state","$rootScope"],Object.defineProperty(KeepTabService.prototype,"observable",{get:function(){return this.subject},enumerable:!0,configurable:!0}),Object.defineProperty(KeepTabService.prototype,"lastActiveTab",{get:function(){return this.isCurrentState("show")?this.currentShowTab:this.currentDetailsTab},enumerable:!0,configurable:!0}),Object.defineProperty(KeepTabService.prototype,"currentShowState",{get:function(){return"work-packages.show."+this.currentShowTab},enumerable:!0,configurable:!0}),Object.defineProperty(KeepTabService.prototype,"currentDetailsState",{get:function(){return"work-packages.list.details."+this.currentDetailsTab},enumerable:!0,configurable:!0}),Object.defineProperty(KeepTabService.prototype,"currentShowTab",{get:function(){return"overview"===this.currentTab?"activity":this.currentTab},enumerable:!0,configurable:!0}),Object.defineProperty(KeepTabService.prototype,"currentDetailsTab",{get:function(){return this.currentTab},enumerable:!0,configurable:!0}),KeepTabService.prototype.notify=function(){this.subject.next({active:this.lastActiveTab,show:this.currentShowState,details:this.currentDetailsState})},KeepTabService.prototype.updateTab=function(stateName){if(this.isCurrentState(stateName)){var current=this.$state.current.name;this.currentTab=current.split(".").pop(),this.notify()}},KeepTabService.prototype.isCurrentState=function(stateName){return"show"===stateName?this.$state.includes("work-packages.show.*"):"details"===stateName&&this.$state.includes("work-packages.list.details.*")},KeepTabService.prototype.updateTabs=function(toState){return toState&&"work-packages.show.activity"===toState.name?(this.currentTab="overview",this.notify()):(this.updateTab("show"),void this.updateTab("details"))},KeepTabService}();exports.KeepTabService=KeepTabService,angular.module("openproject.workPackages.services").service("keepTab",KeepTabService)},function(module,exports,__webpack_require__){"use strict";function overviewPanel(){return{restrict:"E",templateUrl:"/components/wp-panels/overview-panel/overview-panel.directive.html"}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.wpDirectivesModule.directive("overviewPanel",overviewPanel)},function(module,exports,__webpack_require__){"use strict";function relationsPanelDirective(){return{restrict:"E",templateUrl:"/components/wp-panels/relations-panel/relations-panel.directive.html",scope:{workPackage:"="},controller:RelationsPanelController,controllerAs:"$ctrl",bindToController:!0}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),RelationsPanelController=function(){function RelationsPanelController(){}return RelationsPanelController}();exports.RelationsPanelController=RelationsPanelController,angular_modules_1.wpDirectivesModule.directive("relationsPanel",relationsPanelDirective)},function(module,exports,__webpack_require__){"use strict";function watchersPanel(){return{restrict:"E",templateUrl:"/components/wp-panels/watchers-panel/watchers-panel.directive.html",scope:{workPackage:"="},bindToController:!0,controller:watchers_panel_controller_1.WatchersPanelController,controllerAs:"vm"}}Object.defineProperty(exports,"__esModule",{value:!0});var watchers_panel_controller_1=__webpack_require__(203);angular.module("openproject.workPackages.controllers").directive("watchersPanel",watchersPanel)},function(module,exports,__webpack_require__){"use strict";function wpQuerySelect(ngContextMenu){return ngContextMenu({templateUrl:"/components/wp-query-select/wp-query-select.template.html",container:".title-container",controller:wp_query_select_controller_1.WorkPackageQuerySelectController})}wpQuerySelect.$inject=["ngContextMenu"],Object.defineProperty(exports,"__esModule",{value:!0});var wp_query_select_controller_1=__webpack_require__(204),angular_modules_1=__webpack_require__(0);angular_modules_1.opWorkPackagesModule.factory("wpQuerySelectService",wpQuerySelect)},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var UrlParamsHelperService=function(){function UrlParamsHelperService(PaginationService){this.PaginationService=PaginationService}return UrlParamsHelperService.$inject=["PaginationService"],UrlParamsHelperService.prototype.buildQueryString=function(params){if(params){var parts=[];return angular.forEach(params,function(value,key){value&&(Array.isArray(value)||(value=[value]),angular.forEach(value,function(v){null!==v&&"object"==typeof v&&(v=JSON.stringify(v)),parts.push(encodeURIComponent(key)+"="+encodeURIComponent(v))}))}),parts.join("&")}},UrlParamsHelperService.prototype.encodeQueryJsonParams=function(query,additional){var _this=this,paramsData={c:query.columns.map(function(column){return column.id})};return query.sums&&(paramsData.s=query.sums),query.timelineVisible&&(paramsData.tv=query.timelineVisible),paramsData.tzl=query.timelineZoomLevel,paramsData.hi=!!query.showHierarchies,query.groupBy&&(paramsData.g=query.groupBy.id),query.sortBy&&(paramsData.t=query.sortBy.map(function(sort){return sort.id.replace("-",":")}).join()),query.filters&&query.filters.length?paramsData.f=query.filters.map(function(filter){var id=filter.id,operator=filter.operator.id;return{n:id,o:encodeURIComponent(operator),v:_.map(filter.values,function(v){return _this.queryFilterValueToParam(v)})}}):paramsData.f=[],paramsData.pa=additional.page,paramsData.pp=additional.perPage,JSON.stringify(paramsData)},UrlParamsHelperService.prototype.buildV3GetQueryFromJsonParams=function(updateJson){var queryData={pageSize:this.PaginationService.getPerPage()};if(!updateJson)return queryData;var properties=JSON.parse(updateJson);if(properties.c&&(queryData["columns[]"]=properties.c.map(function(column){return column})),properties.s&&(queryData.showSums=properties.s),properties.tv&&(queryData.timelineVisible=properties.tv),properties.tzl&&(queryData.timelineZoomLevel=properties.tzl),properties.hi!==!1&&properties.hi!==!0||(queryData.showHierarchies=properties.hi),properties.g&&(queryData.groupBy=properties.g),properties.f){var filters=properties.f.map(function(urlFilter){var attributes={operator:decodeURIComponent(urlFilter.o)};if(urlFilter.v){var vs=Array.isArray(urlFilter.v)?urlFilter.v:[urlFilter.v];angular.extend(attributes,{values:vs})}var filterData={};return filterData[urlFilter.n]=attributes,filterData});queryData.filters=JSON.stringify(filters)}return properties.t&&(queryData.sortBy=JSON.stringify(properties.t.split(",").map(function(sort){return sort.split(":")}))),properties.pa&&(queryData.offset=properties.pa),properties.pp&&(queryData.pageSize=properties.pp),queryData},UrlParamsHelperService.prototype.buildV3GetQueryFromQueryResource=function(query,additionalParams){var _this=this,queryData={};queryData["columns[]"]=query.columns.map(function(column){return column.id}),queryData.showSums=query.sums,queryData.timelineVisible=query.timelineVisible,queryData.timelineZoomLevel=query.timelineZoomLevel,queryData.showHierarchies=query.showHierarchies,query.groupBy&&(queryData.groupBy=query.groupBy.id);var filters=query.filters.map(function(filter){var id=filter.filter.$href;id=id.substring(id.lastIndexOf("/")+1,id.length);var operator=filter.operator.id,values=_.map(filter.values,function(v){return _this.queryFilterValueToParam(v)}),filterHash={};return filterHash[id]={operator:operator,values:values},filterHash});return queryData.filters=JSON.stringify(filters),queryData.sortBy=JSON.stringify(query.sortBy.map(function(sort){return sort.id.split("-")})),angular.extend(queryData,additionalParams)},UrlParamsHelperService.prototype.queryFilterValueToParam=function(value){return"boolean"==typeof value?value?"t":"f":value?value.id?value.id.toString():value.$href&&value.$href.match(/^\/api\/v3\/string_objects/i)?value.$href.match(/value=([^&]+)/)[1].toString():value.$href?value.$href.split("/").pop().toString():value.toString():""},UrlParamsHelperService}();exports.UrlParamsHelperService=UrlParamsHelperService,angular.module("openproject.helpers").service("UrlParamsHelper",UrlParamsHelperService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){function WpRelationRowDirective($timeout){return{restrict:"E",templateUrl:"/components/wp-relations/wp-relation-row/wp-relation-row.template.html",scope:{workPackage:"=",groupByWorkPackageType:"=",relatedWorkPackage:"="},controller:WpRelationRowDirectiveController,controllerAs:"$ctrl",bindToController:!0}}WpRelationRowDirective.$inject=["$timeout"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),relation_resource_service_1=__webpack_require__(90),WpRelationRowDirectiveController=function(){function WpRelationRowDirectiveController($scope,$element,$timeout,$http,wpCacheService,wpNotificationsService,wpRelations,I18n,PathHelper){this.$scope=$scope,this.$element=$element,this.$timeout=$timeout,this.$http=$http,this.wpCacheService=wpCacheService,this.wpNotificationsService=wpNotificationsService,this.wpRelations=wpRelations,this.I18n=I18n,this.PathHelper=PathHelper,this.showRelationInfo=!1,this.showEditForm=!1,this.userInputs={newRelationText:"",showDescriptionEditForm:!1,showRelationTypesForm:!1,showRelationInfo:!1},this.fieldController={active:!0,field:{required:!1}},this.relation=this.relatedWorkPackage.relatedBy,this.text={cancel:I18n.t("js.button_cancel"),save:I18n.t("js.button_save"),removeButton:I18n.t("js.relation_buttons.remove"),description_label:I18n.t("js.relation_buttons.update_description"),toggleDescription:I18n.t("js.relation_buttons.toggle_description"),updateRelation:I18n.t("js.relation_buttons.update_relation"),placeholder:{description:I18n.t("js.placeholders.relation_description")}},this.userInputs.newRelationText=this.relation.description||"",this.availableRelationTypes=relation_resource_service_1.RelationResource.LOCALIZED_RELATION_TYPES(!0),this.selectedRelationType=_.find(this.availableRelationTypes,{name:this.relation.type})}return WpRelationRowDirectiveController.$inject=["$scope","$element","$timeout","$http","wpCacheService","wpNotificationsService","wpRelations","I18n","PathHelper"],Object.defineProperty(WpRelationRowDirectiveController.prototype,"normalizedRelationType",{get:function(){var type=this.relation.normalizedType(this.workPackage);return this.I18n.t("js.relation_labels."+type)},enumerable:!0,configurable:!0}),Object.defineProperty(WpRelationRowDirectiveController.prototype,"relationReady",{get:function(){return this.relatedWorkPackage&&this.relatedWorkPackage.$loaded},enumerable:!0,configurable:!0}),WpRelationRowDirectiveController.prototype.startDescriptionEdit=function(){var _this=this;this.userInputs.showDescriptionEditForm=!0,this.$timeout(function(){var textarea=_this.$element.find(".wp-relation--description-textarea"),textlen=textarea.val().length;textarea.focus(),textarea.prop("selectionStart",textlen),textarea.prop("selectionEnd",textlen)})},WpRelationRowDirectiveController.prototype.handleDescriptionKey=function($event){27===$event.which&&this.cancelDescriptionEdit()},WpRelationRowDirectiveController.prototype.cancelDescriptionEdit=function(){this.userInputs.showDescriptionEditForm=!1,this.userInputs.newRelationText=this.relation.description||""},WpRelationRowDirectiveController.prototype.saveDescription=function(){var _this=this;this.wpRelations.updateRelation(this.workPackage.id,this.relation,{description:this.userInputs.newRelationText}).then(function(savedRelation){_this.relation=savedRelation,_this.relatedWorkPackage.relatedBy=savedRelation,_this.userInputs.showDescriptionEditForm=!1,_this.wpNotificationsService.showSave(_this.relatedWorkPackage)})},Object.defineProperty(WpRelationRowDirectiveController.prototype,"showDescriptionInfo",{get:function(){return this.userInputs.showRelationInfo||this.relation.description},enumerable:!0,configurable:!0}),WpRelationRowDirectiveController.prototype.saveRelationType=function(){var _this=this;this.wpRelations.updateRelation(this.workPackage.id,this.relation,{type:this.selectedRelationType.name}).then(function(savedRelation){_this.wpNotificationsService.showSave(_this.relatedWorkPackage),_this.relatedWorkPackage.relatedBy=savedRelation,_this.relation=savedRelation,_this.userInputs.showRelationTypesForm=!1})},WpRelationRowDirectiveController.prototype.toggleUserDescriptionForm=function(){this.userInputs.showDescriptionEditForm=!this.userInputs.showDescriptionEditForm},WpRelationRowDirectiveController.prototype.removeRelation=function(){var _this=this;this.wpRelations.removeRelation(this.relation).then(function(){_this.wpCacheService.updateWorkPackage(_this.relatedWorkPackage),_this.wpNotificationsService.showSave(_this.relatedWorkPackage),_this.$timeout(function(){angular.element("#relation--add-relation").focus()})}).catch(function(err){return _this.wpNotificationsService.handleErrorResponse(err,_this.relatedWorkPackage)})},WpRelationRowDirectiveController}();angular_modules_1.wpDirectivesModule.directive("wpRelationRow",WpRelationRowDirective)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function wpRelationsAutocompleteDirective($q,PathHelper,$http,loadingIndicator,I18n){return{restrict:"E",templateUrl:"/components/wp-relations/wp-relations-create/wp-relations-autocomplete/wp-relations-autocomplete.template.html",require:["^wpRelations","?^wpRelationsHierarchy"],scope:{selectedWpId:"=",loadingPromiseName:"@",selectedRelationType:"=",filterCandidatesFor:"@",workPackage:"="},link:function(scope,element,attrs){function getIdentifier(workPackage){return workPackage?"#"+workPackage.id+" - "+workPackage.subject:""}function autocompleteWorkPackages(query){var deferred=$q.defer();return loadingIndicator.indicator(scope.loadingPromiseName).promise=deferred.promise,scope.workPackage.available_relation_candidates.$link.$fetch({query:query,type:scope.filterCandidatesFor},{caching:{enabled:!1}}).then(function(collection){scope.noResults=0===collection.count,deferred.resolve(collection.elements)}).catch(function(){return deferred.reject()}),deferred.promise}scope.text={placeholder:I18n.t("js.relations_autocomplete.placeholder")},scope.options=[],scope.relatedWps=[];var input=jQuery(".wp-relations--autocomplete"),selected=!1;input.autocomplete({delay:250,autoFocus:!1,appendTo:".detail-panel--autocomplete-target",source:function(request,response){autocompleteWorkPackages(request.term).then(function(values){selected=!1,response(values.map(function(wp){return{workPackage:wp,value:getIdentifier(wp)}}))})},select:function(evt,ui){scope.$evalAsync(function(){selected=!0,scope.selectedWpId=ui.item.workPackage.id})},minLength:0}).focus(function(){return!selected&&input.autocomplete("search",input.val())}),scope.$watch("noResults",function(noResults){noResults&&(scope.selectedWpId=null)})}}}wpRelationsAutocompleteDirective.$inject=["$q","PathHelper","$http","loadingIndicator","I18n"],Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0);angular_modules_1.wpDirectivesModule.directive("wpRelationsAutocomplete",wpRelationsAutocompleteDirective)},function(module,exports,__webpack_require__){"use strict";function wpRelationsCreate(){return{restrict:"E",templateUrl:function(el,attrs){return"/components/wp-relations/wp-relations-create/"+attrs.template+".template.html"},scope:{workPackage:"=?",fixedRelationType:"@?",externalFormToggle:"=?"},controller:WorkPackageRelationsCreateController,bindToController:!0,controllerAs:"$ctrl"}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),relation_resource_service_1=__webpack_require__(90),WorkPackageRelationsCreateController=function(){function WorkPackageRelationsCreateController(I18n,$scope,$rootScope,$element,$timeout,wpRelations,wpRelationsHierarchyService,wpNotificationsService,wpCacheService){this.I18n=I18n,this.$scope=$scope,this.$rootScope=$rootScope,this.$element=$element,this.$timeout=$timeout,this.wpRelations=wpRelations,this.wpRelationsHierarchyService=wpRelationsHierarchyService,this.wpNotificationsService=wpNotificationsService,this.wpCacheService=wpCacheService,this.showRelationsCreateForm=!1,this.selectedRelationType=relation_resource_service_1.RelationResource.DEFAULT(),this.relationTypes=relation_resource_service_1.RelationResource.LOCALIZED_RELATION_TYPES(!1),this.canAddChildren=!!this.workPackage.addChild,this.canLinkChildren=!!this.workPackage.changeParent,this.isDisabled=!1,this.text={save:this.I18n.t("js.relation_buttons.save"),abort:this.I18n.t("js.relation_buttons.abort"),addNewChild:this.I18n.t("js.relation_buttons.add_new_child"),addExistingChild:this.I18n.t("js.relation_buttons.add_existing_child"),addNewRelation:this.I18n.t("js.relation_buttons.add_new_relation"),addParent:this.I18n.t("js.relation_buttons.add_parent"),relationType:this.I18n.t("js.relation_labels.relation_type")},angular.isDefined(this.fixedRelationType)&&(this.selectedRelationType=this.fixedRelationType),angular.isDefined(this.externalFormToggle)&&(this.showRelationsCreateForm=this.externalFormToggle)}return WorkPackageRelationsCreateController.$inject=["I18n","$scope","$rootScope","$element","$timeout","wpRelations","wpRelationsHierarchyService","wpNotificationsService","wpCacheService"],WorkPackageRelationsCreateController.prototype.createRelation=function(){var _this=this;if(this.selectedRelationType&&this.selectedWpId){var promise;switch(this.isDisabled=!0,this.selectedRelationType){case"parent":promise=this.changeParent();break;case"children":promise=this.addExistingChildRelation();break;default:promise=this.createCommonRelation()}promise.finally(function(){_this.isDisabled=!1})}},WorkPackageRelationsCreateController.prototype.addExistingChildRelation=function(){var _this=this;return this.wpRelationsHierarchyService.addExistingChildWp(this.workPackage,this.selectedWpId).then(function(){return _this.wpCacheService.loadWorkPackage(_this.workPackage.id,!0)}).catch(function(err){return _this.wpNotificationsService.handleErrorResponse(err,_this.workPackage)}).finally(function(){return _this.toggleRelationsCreateForm()})},WorkPackageRelationsCreateController.prototype.createNewChildWorkPackage=function(){this.wpRelationsHierarchyService.addNewChildWp(this.workPackage)},WorkPackageRelationsCreateController.prototype.changeParent=function(){var _this=this;return this.toggleRelationsCreateForm(),this.wpRelationsHierarchyService.changeParent(this.workPackage,this.selectedWpId).then(function(updatedWp){_this.$timeout(function(){angular.element("#hierarchy--parent").focus()})}).catch(function(err){return _this.wpNotificationsService.handleErrorResponse(err,_this.workPackage)})},WorkPackageRelationsCreateController.prototype.createCommonRelation=function(){var _this=this;return this.wpRelations.addCommonRelation(this.workPackage,this.selectedRelationType,this.selectedWpId).then(function(relation){_this.wpNotificationsService.showSave(_this.workPackage)}).catch(function(err){return _this.wpNotificationsService.handleErrorResponse(err,_this.workPackage)}).finally(function(){return _this.toggleRelationsCreateForm()})},WorkPackageRelationsCreateController.prototype.toggleRelationsCreateForm=function(){var _this=this;this.showRelationsCreateForm=!this.showRelationsCreateForm,this.externalFormToggle=!this.externalFormToggle,this.$timeout(function(){_this.showRelationsCreateForm||(_this.selectedWpId="",_this.$element.find(".-focus-after-save").first().focus())})},WorkPackageRelationsCreateController}();exports.WorkPackageRelationsCreateController=WorkPackageRelationsCreateController,angular_modules_1.wpDirectivesModule.directive("wpRelationsCreate",wpRelationsCreate)},function(module,exports,__webpack_require__){"use strict";function wpRelationsGroupDirective(){return{restrict:"E",templateUrl:"/components/wp-relations/wp-relations-group/wp-relations-group.template.html",scope:{header:"=",firstGroup:"=",workPackage:"=",groupByWorkPackageType:"=",relatedWorkPackages:"="},link:function(scope,element,attrs,controllers){scope.$ctrl.relationsCtrl=controllers[0]},controller:WorkPackageRelationsGroupController,controllerAs:"$ctrl",require:["^wpRelations"],bindToController:!0}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),WorkPackageRelationsGroupController=function(){function WorkPackageRelationsGroupController($element,$timeout,I18n){this.$element=$element,this.$timeout=$timeout,this.I18n=I18n,this.text={groupByType:I18n.t("js.relation_buttons.group_by_wp_type"),groupByRelation:I18n.t("js.relation_buttons.group_by_relation_type")}}return WorkPackageRelationsGroupController.$inject=["$element","$timeout","I18n"],WorkPackageRelationsGroupController.prototype.toggleButton=function(){var _this=this;this.relationsCtrl.toggleGroupBy(),this.$timeout(function(){_this.$element.find("#wp-relation-group-by-toggle").focus()})},WorkPackageRelationsGroupController}();exports.WorkPackageRelationsGroupController=WorkPackageRelationsGroupController,angular_modules_1.wpDirectivesModule.directive("wpRelationsGroup",wpRelationsGroupDirective)},function(module,exports,__webpack_require__){"use strict";function WpRelationsHierarchyRowDirective(){return{restrict:"E",templateUrl:"/components/wp-relations/wp-relations-hierarchy-row/wp-relations-hierarchy-row.template.html",scope:{indentBy:"@?",workPackage:"=",relatedWorkPackage:"=?",relationType:"@"},controller:WpRelationsHierarchyRowDirectiveController,controllerAs:"$ctrl",bindToController:!0}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),WpRelationsHierarchyRowDirectiveController=function(){function WpRelationsHierarchyRowDirectiveController($scope,$timeout,wpRelationsHierarchyService,wpCacheService,wpNotificationsService,PathHelper,I18n){this.$scope=$scope,this.$timeout=$timeout,this.wpRelationsHierarchyService=wpRelationsHierarchyService,this.wpCacheService=wpCacheService,this.wpNotificationsService=wpNotificationsService,this.PathHelper=PathHelper,this.I18n=I18n,this.showEditForm=!1,this.workPackagePath=this.PathHelper.workPackagePath,this.canModifyHierarchy=!1,this.text={change_parent:this.I18n.t("js.relation_buttons.change_parent"),remove_parent:this.I18n.t("js.relation_buttons.remove_parent"),remove_child:this.I18n.t("js.relation_buttons.remove_child"),remove:this.I18n.t("js.relation_buttons.remove"),parent:this.I18n.t("js.relation_labels.parent"),children:this.I18n.t("js.relation_labels.children")},this.canModifyHierarchy=!!this.workPackage.changeParent}return WpRelationsHierarchyRowDirectiveController.$inject=["$scope","$timeout","wpRelationsHierarchyService","wpCacheService","wpNotificationsService","PathHelper","I18n"],Object.defineProperty(WpRelationsHierarchyRowDirectiveController.prototype,"relationReady",{get:function(){return this.relatedWorkPackage&&this.relatedWorkPackage.$loaded},enumerable:!0,configurable:!0}),Object.defineProperty(WpRelationsHierarchyRowDirectiveController.prototype,"relationClassName",{get:function(){return this.isCurrentElement()?"self":this.relationType},enumerable:!0,configurable:!0}),WpRelationsHierarchyRowDirectiveController.prototype.removeRelation=function(){"child"===this.relationType?this.removeChild():"parent"===this.relationType&&this.removeParent()},WpRelationsHierarchyRowDirectiveController.prototype.isCurrentElement=function(){return"child"!==this.relationType&&"parent"!==this.relationType},WpRelationsHierarchyRowDirectiveController.prototype.isParent=function(){return"parent"===this.relationType},WpRelationsHierarchyRowDirectiveController.prototype.removeChild=function(){var _this=this;this.wpRelationsHierarchyService.removeChild(this.relatedWorkPackage).then(function(){_this.wpCacheService.loadWorkPackage(_this.workPackage.id,!0),_this.wpNotificationsService.showSave(_this.workPackage),_this.$timeout(function(){angular.element("#hierarchy--add-exisiting-child").focus()})}).catch(function(err){return _this.wpNotificationsService.handleErrorResponse(err,_this.relatedWorkPackage)})},WpRelationsHierarchyRowDirectiveController.prototype.removeParent=function(){var _this=this;this.wpRelationsHierarchyService.removeParent(this.workPackage).then(function(){_this.wpNotificationsService.showSave(_this.workPackage),_this.$timeout(function(){angular.element("#hierarchy--add-parent").focus()})}).catch(function(err){return _this.wpNotificationsService.handleErrorResponse(err,_this.relatedWorkPackage)})},WpRelationsHierarchyRowDirectiveController}();angular_modules_1.wpDirectivesModule.directive("wpRelationsHierarchyRow",WpRelationsHierarchyRowDirective)},function(module,exports,__webpack_require__){"use strict";function wpRelationsDirective(){return{restrict:"E",templateUrl:"/components/wp-relations/wp-relations-hierarchy/wp-relations-hierarchy.template.html",scope:{workPackage:"=",relationType:"@"},controller:WorkPackageRelationsHierarchyController,controllerAs:"$ctrl",bindToController:!0}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),angular_rx_utils_1=__webpack_require__(8),WorkPackageRelationsHierarchyController=function(){function WorkPackageRelationsHierarchyController($scope,$rootScope,$q,wpCacheService,PathHelper,I18n){var _this=this;this.$scope=$scope,this.$rootScope=$rootScope,this.$q=$q,this.wpCacheService=wpCacheService,this.PathHelper=PathHelper,this.I18n=I18n,this.showEditForm=!1,this.workPackagePath=this.PathHelper.workPackagePath,this.canHaveChildren=!this.workPackage.isMilestone,this.canModifyHierarchy=!!this.workPackage.changeParent,this.canAddRelation=!!this.workPackage.addRelation,this.text={hierarchyHeadline:this.I18n.t("js.relations_hierarchy.hierarchy_headline")},angular_rx_utils_1.scopedObservable(this.$scope,this.wpCacheService.loadWorkPackage(this.workPackage.id).values$()).subscribe(function(wp){_this.workPackage=wp,_this.loadParent(),_this.loadChildren()})}return WorkPackageRelationsHierarchyController.$inject=["$scope","$rootScope","$q","wpCacheService","PathHelper","I18n"],WorkPackageRelationsHierarchyController.prototype.loadChildren=function(){this.workPackage.children&&this.workPackage.children.map(function(child){return child.$load()})},WorkPackageRelationsHierarchyController.prototype.loadParent=function(){var _this=this;this.workPackage.parent&&angular_rx_utils_1.scopedObservable(this.$scope,this.wpCacheService.loadWorkPackage(this.workPackage.parent.id).values$()).take(1).subscribe(function(parent){
_this.workPackage.parent=parent})},WorkPackageRelationsHierarchyController}();exports.WorkPackageRelationsHierarchyController=WorkPackageRelationsHierarchyController,angular_modules_1.wpDirectivesModule.directive("wpRelationsHierarchy",wpRelationsDirective)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),WorkPackageRelationsHierarchyService=function(){function WorkPackageRelationsHierarchyService($state,$q,states,wpTableRefresh,$rootScope,wpNotificationsService,wpCacheService,v3Path){this.$state=$state,this.$q=$q,this.states=states,this.wpTableRefresh=wpTableRefresh,this.$rootScope=$rootScope,this.wpNotificationsService=wpNotificationsService,this.wpCacheService=wpCacheService,this.v3Path=v3Path}return WorkPackageRelationsHierarchyService.$inject=["$state","$q","states","wpTableRefresh","$rootScope","wpNotificationsService","wpCacheService","v3Path"],WorkPackageRelationsHierarchyService.prototype.changeParent=function(workPackage,parentId){var _this=this,payload={lockVersion:workPackage.lockVersion};return parentId?payload._links={parent:{href:this.v3Path.wp({wp:parentId})}}:payload._links={parent:{href:null}},workPackage.changeParent(payload).then(function(wp){return _this.wpCacheService.updateWorkPackage(wp),_this.wpNotificationsService.showSave(wp),_this.wpTableRefresh.request(!0,"Changed parent of "+workPackage.id+" to "+parentId),wp}).catch(function(err){_this.wpNotificationsService.handleErrorResponse(err,workPackage)})},WorkPackageRelationsHierarchyService.prototype.removeParent=function(workPackage){return this.changeParent(workPackage,null)},WorkPackageRelationsHierarchyService.prototype.addExistingChildWp=function(workPackage,childWpId){var _this=this,deferred=this.$q.defer(),state=this.wpCacheService.loadWorkPackage(childWpId);return state.valuesPromise().then(function(wpToBecomeChild){_this.wpTableRefresh.request(!0,"Added new child to "+workPackage.id),deferred.resolve(_this.changeParent(wpToBecomeChild,workPackage.id))}),deferred.promise},WorkPackageRelationsHierarchyService.prototype.addNewChildWp=function(workPackage){var _this=this;workPackage.project.$load().then(function(){var args=["work-packages.list.new",{parent_id:workPackage.id,projectPath:workPackage.project.identifier}];_this.$state.includes("work-packages.show")&&(args[0]="work-packages.new"),(_a=_this.$state).go.apply(_a,args);var _a})},WorkPackageRelationsHierarchyService.prototype.removeChild=function(childWorkPackage){var _this=this;return childWorkPackage.$load().then(function(){return childWorkPackage.changeParent({_links:{parent:{href:null}},lockVersion:childWorkPackage.lockVersion}).then(function(wp){_this.wpCacheService.updateWorkPackage(wp)})})},WorkPackageRelationsHierarchyService}();exports.WorkPackageRelationsHierarchyService=WorkPackageRelationsHierarchyService,angular_modules_1.wpDirectivesModule.service("wpRelationsHierarchyService",WorkPackageRelationsHierarchyService)},function(module,exports,__webpack_require__){"use strict";(function(_){function wpRelationsDirective(){return{restrict:"E",replace:!0,templateUrl:"/components/wp-relations/wp-relations.template.html",scope:{workPackage:"="},controller:WorkPackageRelationsController,controllerAs:"$ctrl",bindToController:!0}}Object.defineProperty(exports,"__esModule",{value:!0});var rxjs_1=__webpack_require__(17),angular_modules_1=__webpack_require__(0),angular_rx_utils_1=__webpack_require__(8),WorkPackageRelationsController=function(){function WorkPackageRelationsController($scope,$q,$state,I18n,wpRelations,wpCacheService){var _this=this;this.$scope=$scope,this.$q=$q,this.$state=$state,this.I18n=I18n,this.wpRelations=wpRelations,this.wpCacheService=wpCacheService,this.canAddRelation=!!this.workPackage.addRelation,this.groupByWorkPackageType=!1,this.currentRelations=[],this.wpRelations.require(this.workPackage.id,!0),angular_rx_utils_1.scopedObservable(this.$scope,this.wpRelations.state(this.workPackage.id).values$()).subscribe(function(relations){_this.loadedRelations(relations)}),angular_rx_utils_1.scopedObservable(this.$scope,this.wpCacheService.loadWorkPackage(this.workPackage.id).values$()).subscribe(function(wp){_this.workPackage=wp})}return WorkPackageRelationsController.$inject=["$scope","$q","$state","I18n","wpRelations","wpCacheService"],WorkPackageRelationsController.prototype.getRelatedWorkPackages=function(workPackageIds){var _this=this,observablesToGetZipped=workPackageIds.map(function(wpId){return angular_rx_utils_1.scopedObservable(_this.$scope,_this.wpCacheService.loadWorkPackage(wpId).values$())});return observablesToGetZipped.length>1?rxjs_1.Observable.zip.apply(rxjs_1.Observable,observablesToGetZipped):observablesToGetZipped[0]},WorkPackageRelationsController.prototype.getRelatedWorkPackageId=function(relation){var involved=relation.ids;return relation.to.href===this.workPackage.href?involved.from:involved.to},WorkPackageRelationsController.prototype.toggleGroupBy=function(){this.groupByWorkPackageType=!this.groupByWorkPackageType,this.buildRelationGroups()},WorkPackageRelationsController.prototype.buildRelationGroups=function(){var _this=this;angular.isDefined(this.currentRelations)&&(this.relationGroups=_.groupBy(this.currentRelations,function(wp){if(_this.groupByWorkPackageType)return wp.type.name;var normalizedType=wp.relatedBy.normalizedType(_this.workPackage);return _this.I18n.t("js.relation_labels."+normalizedType)}))},WorkPackageRelationsController.prototype.loadedRelations=function(stateValues){var _this=this,relatedWpIds=[],relations=[];return 0===_.size(stateValues)?(this.currentRelations=[],this.buildRelationGroups()):(_.each(stateValues,function(relation){var relatedWpId=_this.getRelatedWorkPackageId(relation);relatedWpIds.push(relatedWpId),relations[relatedWpId]=relation}),void this.getRelatedWorkPackages(relatedWpIds).take(1).subscribe(function(relatedWorkPackages){angular.isArray(relatedWorkPackages)||(relatedWorkPackages=[relatedWorkPackages]),_this.currentRelations=relatedWorkPackages.map(function(wp){return wp.relatedBy=relations[wp.id],wp}),_this.buildRelationGroups()}))},WorkPackageRelationsController}();exports.WorkPackageRelationsController=WorkPackageRelationsController,angular_modules_1.wpDirectivesModule.directive("wpRelations",wpRelationsDirective)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";(function(_){var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var reactivestates_1=__webpack_require__(26),angular_modules_1=__webpack_require__(0),state_cache_service_1=__webpack_require__(60),RelationStateGroup=function(_super){function RelationStateGroup(){var _this=_super.call(this)||this;return _this.name="WP-Relations",_this.relations=reactivestates_1.multiInput(),_this.initializeMembers(),_this}return __extends(RelationStateGroup,_super),RelationStateGroup}(reactivestates_1.StatesGroup),WorkPackageRelationsService=function(_super){function WorkPackageRelationsService(relationsDm,wpTableRefresh,$q,PathHelper){var _this=_super.call(this)||this;return _this.relationsDm=relationsDm,_this.wpTableRefresh=wpTableRefresh,_this.$q=$q,_this.PathHelper=PathHelper,_this.relationStates=new RelationStateGroup,_this}return __extends(WorkPackageRelationsService,_super),WorkPackageRelationsService.$inject=["relationsDm","wpTableRefresh","$q","PathHelper"],Object.defineProperty(WorkPackageRelationsService.prototype,"multiState",{get:function(){return this.relationStates.relations},enumerable:!0,configurable:!0}),WorkPackageRelationsService.prototype.load=function(id){var _this=this;return new Promise(function(resolve,reject){_this.relationsDm.load(id).then(function(elements){_this.updateRelationsStateTo(id,elements),resolve()}).catch(function(error){return reject(error)})})},WorkPackageRelationsService.prototype.loadAll=function(ids){var _this=this,deferred=this.$q.defer();return this.relationsDm.loadInvolved(ids).then(function(elements){_this.clearSome.apply(_this,ids),_this.accumulateRelationsFromInvolved(ids,elements),deferred.resolve()}),deferred.promise},WorkPackageRelationsService.prototype.removeRelation=function(relation){var _this=this;return relation.delete().then(function(){_this.removeFromStates(relation),_this.wpTableRefresh.request(!0,"Removing relation ("+relation.ids.from+" to "+relation.ids.to+")")})},WorkPackageRelationsService.prototype.updateRelation=function(workPackageId,relation,params){var _this=this;return relation.updateImmediately(params).then(function(savedRelation){return _this.insertIntoStates(savedRelation),_this.wpTableRefresh.request(!0,"Updating relation ("+relation.ids.from+" to "+relation.ids.to+")"),savedRelation})},WorkPackageRelationsService.prototype.addCommonRelation=function(workPackage,relationType,relatedWpId){var _this=this,params={_links:{from:{href:workPackage.href},to:{href:this.PathHelper.apiV3WorkPackagePath(relatedWpId)}},type:relationType};return workPackage.addRelation(params).then(function(relation){return _this.insertIntoStates(relation),_this.wpTableRefresh.request(!0,"Adding relation ("+relation.ids.from+" to "+relation.ids.to+")"),relation})},WorkPackageRelationsService.prototype.insertIntoStates=function(relation){var _this=this;_.values(relation.ids).forEach(function(wpId){_this.multiState.get(wpId).doModify(function(value){return value[relation.id]=relation,value},function(){return{}})})},WorkPackageRelationsService.prototype.removeFromStates=function(relation){var _this=this;_.values(relation.ids).forEach(function(wpId){_this.multiState.get(wpId).doModify(function(value){return delete value[relation.id],value},function(){return{}})})},WorkPackageRelationsService.prototype.updateRelationsStateTo=function(wpId,relations){var state=this.multiState.get(wpId),relationsToInsert=_.keyBy(relations,function(r){return r.id});state.putValue(relationsToInsert,"Overriding relations state.")},WorkPackageRelationsService.prototype.accumulateRelationsFromInvolved=function(involved,relations){var _this=this;involved.forEach(function(id){var relevant=relations.filter(function(r){return r.isInvolved(id)});_this.updateRelationsStateTo(id,relevant)})},WorkPackageRelationsService}(state_cache_service_1.StateCacheService);exports.WorkPackageRelationsService=WorkPackageRelationsService,angular_modules_1.opServicesModule.service("wpRelations",WorkPackageRelationsService)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function wpSingleRelationDirective(){return{restrict:"A",controller:WorkPackageSingleRelationController,controllerAs:"singleRelationCtrl",bindToController:!0}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),WorkPackageSingleRelationController=function(){function WorkPackageSingleRelationController(PathHelper){this.PathHelper=PathHelper,this.workPackagePath=this.PathHelper.workPackagePath}return WorkPackageSingleRelationController.$inject=["PathHelper"],WorkPackageSingleRelationController.prototype.getFullIdentifier=function(workPackage,hideType){return hideType?workPackage.subject:workPackage.subjectWithType},WorkPackageSingleRelationController}();exports.WorkPackageSingleRelationController=WorkPackageSingleRelationController,angular_modules_1.wpDirectivesModule.directive("wpSingleRelation",wpSingleRelationDirective)},function(module,exports,__webpack_require__){"use strict";(function(_){function WorkPackageContextMenuHelper(HookService,UrlParamsHelper,wpTableTimeline,PathHelper,I18n){function getPermittedActionLinks(workPackage,permittedActionConstants){var singularPermittedActions=[],allowedActions=getAllowedActions(workPackage,permittedActionConstants);return angular.forEach(allowedActions,function(allowedAction){singularPermittedActions.push({icon:allowedAction.icon,text:allowedAction.text,link:workPackage[allowedAction.link].href})}),singularPermittedActions}function getIntersectOfPermittedActions(workPackages){var bulkPermittedActions=[],permittedActions=_.filter(BULK_ACTIONS,function(action){return _.every(workPackages,function(workPackage){return getAllowedActions(workPackage,[action]).length>=1})});return angular.forEach(permittedActions,function(permittedAction){bulkPermittedActions.push({icon:permittedAction.icon,text:permittedAction.text,link:getBulkActionLink(permittedAction,workPackages)})}),bulkPermittedActions}function getBulkActionLink(action,workPackages){var workPackageIdParams={"ids[]":workPackages.map(function(wp){return wp.id})},serializedIdParams=UrlParamsHelper.buildQueryString(workPackageIdParams),linkAndQueryString=action.href.split("?"),link=linkAndQueryString.shift(),queryParts=linkAndQueryString.concat(new Array(serializedIdParams));return link+"?"+queryParts.join("&")}function getAllowedActions(workPackage,actions){var allowedActions=[];return angular.forEach(actions,function(action){workPackage.hasOwnProperty(action.link)&&(action.text=action.text||I18n.t("js.button_"+action.icon),allowedActions.push(action))}),angular.forEach(HookService.call("workPackageTableContextMenu"),function(action){if(workPackage.hasOwnProperty(action.link)){var index=action.indexBy?action.indexBy(allowedActions):allowedActions.length;allowedActions.splice(index,0,action)}}),workPackage.addRelation&&wpTableTimeline.isVisible&&(allowedActions.push({icon:"relation-precedes",text:I18n.t("js.relation_buttons.add_predecessor"),link:"addRelation"}),allowedActions.push({icon:"relation-follows",text:I18n.t("js.relation_buttons.add_follower"),link:"addRelation"})),workPackage.addChild&&allowedActions.push({icon:"relation-new-child",text:I18n.t("js.relation_buttons.add_new_child"),link:"addChild"}),allowedActions}var BULK_ACTIONS=[{text:I18n.t("js.work_packages.bulk_actions.edit"),icon:"edit",link:"update",href:PathHelper.staticBase+"/work_packages/bulk/edit"},{text:I18n.t("js.work_packages.bulk_actions.move"),icon:"move",link:"move",href:PathHelper.staticBase+"/work_packages/move/new"},{text:I18n.t("js.work_packages.bulk_actions.copy"),icon:"copy",link:"copy",href:PathHelper.staticBase+"/work_packages/move/new?copy=true"},{text:I18n.t("js.work_packages.bulk_actions.delete"),icon:"delete",link:"delete",href:PathHelper.staticBase+"/work_packages/bulk?_method=delete"}],WorkPackageContextMenuHelper={getPermittedActions:function(workPackages,permittedActionConstants){return 1===workPackages.length?getPermittedActionLinks(workPackages[0],permittedActionConstants):workPackages.length>1?getIntersectOfPermittedActions(workPackages):void 0}};return WorkPackageContextMenuHelper}WorkPackageContextMenuHelper.$inject=["HookService","UrlParamsHelper","wpTableTimeline","PathHelper","I18n"],Object.defineProperty(exports,"__esModule",{value:!0}),angular.module("openproject.workPackages.helpers").factory("WorkPackageContextMenuHelper",WorkPackageContextMenuHelper)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";function sortHeader(wpTableHierarchies,wpTableSortBy,wpTableGroupBy,wpTableRelationColumns,I18n){return{restrict:"A",templateUrl:"/components/wp-table/sort-header/sort-header.directive.html",scope:{column:"=headerColumn",locale:"="},link:function(scope,element){function setHierarchyIcon(){wpTableHierarchies.isEnabled?(scope.text.toggleHierarchy=I18n.t("js.work_packages.hierarchy.hide"),scope.hierarchyIcon="icon-hierarchy"):(scope.text.toggleHierarchy=I18n.t("js.work_packages.hierarchy.show"),scope.hierarchyIcon="icon-no-hierarchy")}function directionClass(){if(!scope.currentSortDirection)return"";switch(scope.currentSortDirection.$href){case query_sort_by_resource_service_1.QUERY_SORT_BY_ASC:return"asc";case query_sort_by_resource_service_1.QUERY_SORT_BY_DESC:return"desc";default:return""}}function setFullTitleAndSummary(){if(scope.fullTitle=scope.headerTitle,scope.currentSortDirection){var ascending=scope.currentSortDirection.$href===query_sort_by_resource_service_1.QUERY_SORT_BY_ASC,summaryContent=[ascending?I18n.t("js.label_ascending"):I18n.t("js.label_descending"),I18n.t("js.label_sorted_by"),scope.headerTitle+"."];jQuery("#wp-table-sort-summary").text(summaryContent.join(" "))}}function setActiveColumnClass(){element.toggleClass("active-column",!!scope.currentSortDirection)}wpTableSortBy.onReadyWithAvailable().takeUntil(angular_rx_utils_1.scopeDestroyed$(scope)).subscribe(function(){var latestSortElement=wpTableSortBy.currentSortBys[0];latestSortElement&&scope.column.$href===latestSortElement.column.$href?scope.currentSortDirection=latestSortElement.direction:scope.currentSortDirection=null,setFullTitleAndSummary(),scope.sortable=wpTableSortBy.isSortable(scope.column),scope.directionClass=directionClass()}),scope.$watch("currentSortDirection",setActiveColumnClass),scope.text={toggleHierarchy:I18n.t("js.work_packages.hierarchy.show"),openMenu:I18n.t("js.label_open_menu")},scope.isHierarchyColumn="subject"===scope.column.id,scope.isHierarchyColumn?scope.columnType="hierarchy":"toType"===wpTableRelationColumns.relationColumnType(scope.column)?(scope.columnType="relation",scope.columnName=scope.column.type.name):"ofType"===wpTableRelationColumns.relationColumnType(scope.column)&&(scope.columnType="relation",scope.columnName=I18n.t("js.relation_labels."+scope.column.relationType)),scope.isHierarchyColumn&&(scope.hierarchyIcon="icon-hierarchy",scope.isHierarchyDisabled=wpTableGroupBy.isEnabled,wpTableGroupBy.observeOnScope(scope).subscribe(function(){scope.isHierarchyDisabled=wpTableGroupBy.isEnabled}),wpTableHierarchies.observeOnScope(scope).subscribe(function(){setHierarchyIcon()}),setHierarchyIcon(),scope.toggleHierarchy=function(evt){return wpTableHierarchies.toggleState(),setHierarchyIcon(),evt.stopPropagation(),!1})}}}sortHeader.$inject=["wpTableHierarchies","wpTableSortBy","wpTableGroupBy","wpTableRelationColumns","I18n"],Object.defineProperty(exports,"__esModule",{value:!0});var query_sort_by_resource_service_1=__webpack_require__(58),angular_rx_utils_1=__webpack_require__(8);angular.module("openproject.workPackages.directives").directive("sortHeader",sortHeader)},function(module,exports,__webpack_require__){"use strict";function wpTablePagination(wpTablePagination){return{restrict:"EA",templateUrl:"/components/table-pagination/table-pagination.directive.html",scope:{},controller:WorkPackageTablePaginationController,link:function(scope){scope.selectPerPage=function(perPage){wpTablePagination.updateFromObject({page:1,perPage:perPage})},scope.showPage=function(pageNumber){wpTablePagination.updateFromObject({page:pageNumber})}}}}wpTablePagination.$inject=["wpTablePagination"];var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var table_pagination_controller_1=__webpack_require__(94),angular_modules_1=__webpack_require__(0);angular_modules_1.wpDirectivesModule.directive("wpTablePagination",wpTablePagination);var WorkPackageTablePaginationController=function(_super){function WorkPackageTablePaginationController($scope,PaginationService,I18n,wpTablePagination){var _this=_super.call(this,$scope,PaginationService,I18n)||this;return _this.$scope=$scope,_this.PaginationService=PaginationService,_this.I18n=I18n,_this.wpTablePagination=wpTablePagination,_this.wpTablePagination.observeOnScope($scope).subscribe(function(wpPagination){_this.$scope.totalEntries=wpPagination.total,_this.PaginationService.setPerPage(wpPagination.current.perPage),_this.PaginationService.setPage(wpPagination.current.page),_this.updateCurrentRangeLabel(),_this.updatePageNumbers()}),_this}return __extends(WorkPackageTablePaginationController,_super),WorkPackageTablePaginationController.$inject=["$scope","PaginationService","I18n","wpTablePagination"],WorkPackageTablePaginationController}(table_pagination_controller_1.TablePaginationController);exports.WorkPackageTablePaginationController=WorkPackageTablePaginationController},function(module,exports,__webpack_require__){"use strict";(function(_){Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),angular_rx_utils_1=__webpack_require__(8),debug_output_1=__webpack_require__(9),type_resource_service_1=__webpack_require__(131),wp_timeline_1=__webpack_require__(24),wp_table_scroll_sync_1=__webpack_require__(109),wp_timeline_cells_renderer_1=__webpack_require__(206),WorkPackageTimelineTableController=function(){function WorkPackageTimelineTableController($scope,$element,states,NotificationsService,wpTableTimeline,wpNotificationsService,wpRelations,wpTableHierarchies,I18n){"ngInject";this.$scope=$scope,this.$element=$element,this.states=states,this.NotificationsService=NotificationsService,this.wpTableTimeline=wpTableTimeline,this.wpNotificationsService=wpNotificationsService,this.wpRelations=wpRelations,this.wpTableHierarchies=wpTableHierarchies,this.I18n=I18n,this._viewParameters=new wp_timeline_1.TimelineViewParameters,this.disableViewParamsCalculation=!1,this.workPackageIdOrder=[],this.renderers={},this.cellsRenderer=new wp_timeline_cells_renderer_1.WorkPackageTimelineCellsRenderer(this),this.selectionParams={notification:null}}return WorkPackageTimelineTableController.$inject=["$scope","$element","states","NotificationsService","wpTableTimeline","wpNotificationsService","wpRelations","wpTableHierarchies","I18n"],WorkPackageTimelineTableController.prototype.$onInit=function(){var _this=this;this.text={selectionMode:this.I18n.t("js.timelines.selection_mode.notification")},this.outerContainer=this.$element.find(".wp-table-timeline--outer"),this.timelineBody=this.$element.find(".wp-table-timeline--body"),this.debouncedRefresh=_.debounce(function(){debug_output_1.debugLog("Refreshing view in debounce."),_this.refreshView()},500,{leading:!0}),this.wpTableDirective.registerTimeline(this,this.timelineBody[0]),this.updateOnWorkPackageChanges(),this.states.table.rendered.values$().takeUntil(this.states.table.stopAllSubscriptions).filter(function(){return _this.initialized}).subscribe(function(orderedRows){_this.workPackageIdOrder=orderedRows.filter(function(row){return!row.hidden}),_this.refreshView()}),this.states.table.timelineVisible.values$().filter(function(timelineState){return timelineState.isVisible}).takeUntil(angular_rx_utils_1.scopeDestroyed$(this.$scope)).subscribe(function(timelineState){_this.viewParameters.settings.zoomLevel=timelineState.zoomLevel,_this.debouncedRefresh()}),this.states.table.timelineVisible.values$().filter(function(timelineState){return timelineState.isVisible}).take(1).subscribe(function(){type_resource_service_1.TypeResource.loadAll().then(function(){_this.debouncedRefresh()})})},WorkPackageTimelineTableController.prototype.workPackageInView=function(wpId){return this.cellsRenderer.hasCell(wpId)},WorkPackageTimelineTableController.prototype.workPackageCells=function(wpId){return this.cellsRenderer.getCellsFor(wpId)},WorkPackageTimelineTableController.prototype.workPackageIndex=function(classIdentifier){return this.workPackageIdOrder.findIndex(function(el){return el.classIdentifier===classIdentifier})},WorkPackageTimelineTableController.prototype.onRefreshRequested=function(name,callback){this.renderers[name]=callback},WorkPackageTimelineTableController.prototype.getAbsoluteLeftCoordinates=function(){return this.$element.offset().left},WorkPackageTimelineTableController.prototype.getParentScrollContainer=function(){return this.outerContainer.closest(wp_table_scroll_sync_1.selectorTimelineSide)[0]},Object.defineProperty(WorkPackageTimelineTableController.prototype,"viewParameters",{get:function(){return this._viewParameters},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTimelineTableController.prototype,"inHierarchyMode",{get:function(){return this.wpTableHierarchies.isEnabled},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageTimelineTableController.prototype,"initialized",{get:function(){return this.workPackageTable&&this.states.table.rendered.hasValue()},enumerable:!0,configurable:!0}),WorkPackageTimelineTableController.prototype.refreshView=function(){var _this=this;return this.wpTableTimeline.isVisible?void debug_output_1.timeOutput("refreshView() in timeline container",function(){_this.outerContainer.css("width","auto"),_this.calculateViewParams(_this._viewParameters),_this.cellsRenderer.refreshAllCells(),_.each(_this.renderers,function(cb,key){debug_output_1.debugLog("Refreshing timeline member "+key),cb(_this._viewParameters)});var currentWidth=_this.getParentScrollContainer().scrollWidth;_this.outerContainer.width(currentWidth)}):void debug_output_1.debugLog("refreshView() requested, but TL is invisible.")},WorkPackageTimelineTableController.prototype.updateOnWorkPackageChanges=function(){var _this=this;this.states.workPackages.observeChange().withLatestFrom(this.states.table.timelineVisible.values$()).takeUntil(angular_rx_utils_1.scopeDestroyed$(this.$scope)).filter(function(_a){var timelineState=_a[1];return _this.initialized&&timelineState.isVisible}).map(function(_a){var wpId=_a[0][0];return wpId}).filter(function(wpId){return _this.cellsRenderer.hasCell(wpId)}).subscribe(function(wpId){var viewParamsChanged=_this.calculateViewParams(_this._viewParameters);viewParamsChanged?_this.debouncedRefresh():_this.cellsRenderer.refreshCellsFor(wpId)})},WorkPackageTimelineTableController.prototype.startAddRelationPredecessor=function(start){var _this=this;this.activateSelectionMode(start.id,function(end){_this.wpRelations.addCommonRelation(start,"follows",end.id).catch(function(error){return _this.wpNotificationsService.handleErrorResponse(error,end)})})},WorkPackageTimelineTableController.prototype.startAddRelationFollower=function(start){var _this=this;this.activateSelectionMode(start.id,function(end){_this.wpRelations.addCommonRelation(start,"precedes",end.id).catch(function(error){return _this.wpNotificationsService.handleErrorResponse(error,end)})})},WorkPackageTimelineTableController.prototype.getFirstDayInViewport=function(){var outerContainer=this.getParentScrollContainer(),scrollLeft=outerContainer.scrollLeft,nonVisibleDaysLeft=Math.floor(scrollLeft/this.viewParameters.pixelPerDay);return this.viewParameters.dateDisplayStart.clone().add(nonVisibleDaysLeft,"days")},WorkPackageTimelineTableController.prototype.getLastDayInViewport=function(){var outerContainer=this.getParentScrollContainer(),scrollLeft=outerContainer.scrollLeft,width=outerContainer.offsetWidth,viewPortRight=scrollLeft+width,daysUntilViewPortEnds=Math.ceil(viewPortRight/this.viewParameters.pixelPerDay)+1;return this.viewParameters.dateDisplayStart.clone().add(daysUntilViewPortEnds,"days")},WorkPackageTimelineTableController.prototype.resetSelectionMode=function(){this._viewParameters.activeSelectionMode=null,this._viewParameters.selectionModeStart=null,this.NotificationsService.remove(this.selectionParams.notification),Mousetrap.unbind("esc"),this.$element.removeClass("active-selection-mode"),jQuery("."+wp_timeline_1.timelineMarkerSelectionStartClass).removeClass(wp_timeline_1.timelineMarkerSelectionStartClass),this.refreshView()},WorkPackageTimelineTableController.prototype.activateSelectionMode=function(start,callback){var _this=this;start=start.toString(),this._viewParameters.activeSelectionMode=function(wp){callback(wp),_this.resetSelectionMode()},this._viewParameters.selectionModeStart=start,Mousetrap.bind("esc",function(){return _this.resetSelectionMode()}),this.selectionParams.notification=this.NotificationsService.addNotice(this.text.selectionMode),this.$element.addClass("active-selection-mode"),this.refreshView()},WorkPackageTimelineTableController.prototype.calculateViewParams=function(currentParams){var _this=this;if(this.disableViewParamsCalculation)return!1;var newParams=new wp_timeline_1.TimelineViewParameters,changed=!1;this.workPackageIdOrder.forEach(function(renderedRow){var wpId=renderedRow.workPackageId;if(wpId&&!_this.states.workPackages.get(wpId).isPristine()){var workPackage=_this.states.workPackages.get(wpId).value,startDate=workPackage.startDate?moment(workPackage.startDate):currentParams.now,dueDate=workPackage.dueDate?moment(workPackage.dueDate):currentParams.now,date=workPackage.date?moment(workPackage.date):currentParams.now;newParams.dateDisplayStart=moment.min(newParams.dateDisplayStart,currentParams.now,startDate,date),newParams.dateDisplayEnd=moment.max(newParams.dateDisplayEnd,currentParams.now,dueDate,date)}}),newParams.dateDisplayStart.subtract(3,"days");var width=this.$element.width(),pixelPerDay=currentParams.pixelPerDay,visibleDays=Math.ceil(width/pixelPerDay*1.5);newParams.dateDisplayEnd.add(visibleDays,"days"),newParams.dateDisplayStart.isSame(this._viewParameters.dateDisplayStart)||(changed=!0,this._viewParameters.dateDisplayStart=newParams.dateDisplayStart),newParams.dateDisplayEnd.isSame(this._viewParameters.dateDisplayEnd)||(changed=!0,this._viewParameters.dateDisplayEnd=newParams.dateDisplayEnd);var firstDayInViewport=this.getFirstDayInViewport(),lastDayInViewport=this.getLastDayInViewport(),viewport=[firstDayInViewport,lastDayInViewport];return this._viewParameters.visibleViewportAtCalculationTime=viewport,changed},WorkPackageTimelineTableController}();exports.WorkPackageTimelineTableController=WorkPackageTimelineTableController,angular_modules_1.openprojectModule.component("wpTimelineContainer",{controller:WorkPackageTimelineTableController,templateUrl:"/components/wp-table/timeline/container/wp-timeline-container.html",require:{wpTableDirective:"^wpTable"}})}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";(function(_){function newSegment(vp,classNames,yPosition,top,left,width,height,color){var segment=document.createElement("div");return(_a=segment.classList).add.apply(_a,[wp_timeline_1.timelineElementCssClass,exports.timelineGlobalElementCssClassname].concat(classNames)),segment.style.top=41*yPosition+top+"px",segment.style.left=left+"px",segment.style.width=width+"px",segment.style.height=height+"px",DEBUG_DRAW_RELATION_LINES_WITH_COLOR&&void 0!==color&&(segment.style.zIndex="9999999",void 0!==color&&(segment.style.backgroundColor=color)),segment;var _a}Object.defineProperty(exports,"__esModule",{value:!0});var Observable_1=__webpack_require__(1),angular_modules_1=__webpack_require__(0),angular_rx_utils_1=__webpack_require__(8),wp_timeline_1=__webpack_require__(24),timeline_relation_element_1=__webpack_require__(207),DEBUG_DRAW_RELATION_LINES_WITH_COLOR=!1;exports.timelineGlobalElementCssClassname="relation-line";var WorkPackageTableTimelineRelations=function(){function WorkPackageTableTimelineRelations($element,$scope,states,wpRelations){this.$element=$element,this.$scope=$scope,this.states=states,this.wpRelations=wpRelations,this.workPackagesWithRelations={}}return WorkPackageTableTimelineRelations.$inject=["$element","$scope","states","wpRelations"],WorkPackageTableTimelineRelations.prototype.$onInit=function(){var _this=this;this.container=this.$element.find(".wp-table-timeline--relations"),this.wpTimeline.onRefreshRequested("relations",function(vp){return _this.refreshView()}),this.setupRelationSubscription()},WorkPackageTableTimelineRelations.prototype.refreshView=function(){
this.update()},Object.defineProperty(WorkPackageTableTimelineRelations.prototype,"workPackageIdOrder",{get:function(){return this.wpTimeline.workPackageIdOrder},enumerable:!0,configurable:!0}),WorkPackageTableTimelineRelations.prototype.setupRelationSubscription=function(){var _this=this;Observable_1.Observable.combineLatest(this.states.table.renderedWorkPackages.values$(),this.states.table.timelineVisible.values$()).filter(function(_a){var timeline=(_a[0],_a[1]);return timeline.isVisible}).takeUntil(angular_rx_utils_1.scopeDestroyed$(this.$scope)).map(function(_a){var rendered=_a[0];_a[1];return rendered}).subscribe(function(list){var wps=_.compact(list.map(function(row){return row.workPackageId}));_this.wpRelations.requireAll(wps),wps.forEach(function(wpId){var relationsForWorkPackage=_this.wpRelations.state(wpId);_this.workPackagesWithRelations[wpId]=relationsForWorkPackage,relationsForWorkPackage.values$().take(1).subscribe(function(){_this.renderWorkPackagesRelations([wpId])})})}),this.states.workPackages.observeChange().takeUntil(angular_rx_utils_1.scopeDestroyed$(this.$scope)).filter(function(){return _this.states.table.timelineVisible.mapOr(function(v){return v.visible},!1)}).subscribe(function(_a){var workPackageId=_a[0];_this.renderWorkPackagesRelations([workPackageId])})},WorkPackageTableTimelineRelations.prototype.renderWorkPackagesRelations=function(workPackageIds){var _this=this;workPackageIds.forEach(function(workPackageId){var workPackageWithRelation=_this.workPackagesWithRelations[workPackageId];if(!_.isNil(workPackageWithRelation)){_this.removeRelationElementsForWorkPackage(workPackageId);var relations=_.values(workPackageWithRelation.value),relationsList=_.values(relations);relationsList.forEach(function(relation){if("precedes"===relation.type||"follows"===relation.type){var elem=new timeline_relation_element_1.TimelineRelationElement(relation.ids.from,relation);_this.renderElement(_this.wpTimeline.viewParameters,elem)}})}})},WorkPackageTableTimelineRelations.prototype.update=function(){this.removeAllVisibleElements(),this.renderElements()},WorkPackageTableTimelineRelations.prototype.removeRelationElementsForWorkPackage=function(workPackageId){var className=timeline_relation_element_1.workPackagePrefix(workPackageId),found=this.container.find("."+className);found.remove()},WorkPackageTableTimelineRelations.prototype.removeAllVisibleElements=function(){this.container.find("."+exports.timelineGlobalElementCssClassname).remove()},WorkPackageTableTimelineRelations.prototype.renderElements=function(){var wpIdsWithRelations=_.keys(this.workPackagesWithRelations);this.renderWorkPackagesRelations(wpIdsWithRelations)},WorkPackageTableTimelineRelations.prototype.renderElement=function(vp,e){var _this=this,involved=e.relation.ids,startCells=this.wpTimeline.workPackageCells(involved.from),endCells=this.wpTimeline.workPackageCells(involved.to);0!==startCells.length&&0!==endCells.length&&startCells.forEach(function(startCell){var idxFrom=_this.wpTimeline.workPackageIndex(startCell.classIdentifier);endCells.forEach(function(endCell){var idxTo=_this.wpTimeline.workPackageIndex(endCell.classIdentifier);_this.renderRelation(vp,e,idxFrom,idxTo,startCell,endCell)})})},WorkPackageTableTimelineRelations.prototype.renderRelation=function(vp,e,idxFrom,idxTo,startCell,endCell){var rowFrom=this.workPackageIdOrder[idxFrom],rowTo=this.workPackageIdOrder[idxTo];if(rowFrom&&rowTo&&!rowFrom.hidden&&!rowTo.hidden&&startCell.canConnectRelations()&&endCell.canConnectRelations()){var startX=startCell.getMarginLeftOfRightSide()-startCell.getPaddingRightForOutgoingRelationLines(),targetX=endCell.getMarginLeftOfLeftSide()+endCell.getPaddingLeftForIncomingRelationLines(),directionY=idxFrom<idxTo?"toDown":"toUp",directionX=targetX>startX?"toRight":targetX<startX?"toLeft":"beneath";if(startCell){var paddingRight=startCell.getPaddingRightForOutgoingRelationLines(),startLineWith=endCell.getPaddingLeftForIncomingRelationLines()+(paddingRight>0?paddingRight:0);this.container.append(newSegment(vp,e.classNames,idxFrom,19,startX,startLineWith,1,"red"));var lastX=startX+startLineWith,height=Math.abs(idxTo-idxFrom);"toDown"===directionY?"toRight"===directionX||"beneath"===directionX?this.container.append(newSegment(vp,e.classNames,idxFrom,19,lastX,1,41*height,"black")):"toLeft"===directionX&&this.container.append(newSegment(vp,e.classNames,idxFrom,19,lastX,1,41*height-10,"black")):"toUp"===directionY&&this.container.append(newSegment(vp,e.classNames,idxTo,30,lastX,1,41*height-10,"black")),"toRight"===directionX?"toDown"===directionY?this.container.append(newSegment(vp,e.classNames,idxTo,19,lastX,targetX-lastX,1,"red")):"toUp"===directionY&&(this.container.append(newSegment(vp,e.classNames,idxTo,20,lastX,1,10,"green")),this.container.append(newSegment(vp,e.classNames,idxTo,20,lastX,targetX-lastX,1,"lightsalmon"))):"toLeft"===directionX&&("toDown"===directionY?(this.container.append(newSegment(vp,e.classNames,idxTo,0,lastX,1,8,"red")),this.container.append(newSegment(vp,e.classNames,idxTo,8,targetX,lastX-targetX,1,"green")),this.container.append(newSegment(vp,e.classNames,idxTo,8,targetX,1,11,"blue"))):"toUp"===directionY&&(this.container.append(newSegment(vp,e.classNames,idxTo,30,targetX+1,lastX-targetX,1,"red")),this.container.append(newSegment(vp,e.classNames,idxTo,19,targetX+1,1,11,"blue"))))}}},WorkPackageTableTimelineRelations}();exports.WorkPackageTableTimelineRelations=WorkPackageTableTimelineRelations,angular_modules_1.openprojectModule.component("wpTimelineRelations",{template:'<div class="wp-table-timeline--relations"></div>',controller:WorkPackageTableTimelineRelations,require:{wpTimeline:"^wpTimelineContainer"}})}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),timeline_static_element_1=__webpack_require__(108),wp_timeline_today_line_1=__webpack_require__(208),WorkPackageTableTimelineStaticElements=function(){function WorkPackageTableTimelineStaticElements($element,$scope,states){this.$element=$element,this.$scope=$scope,this.states=states,this.elements=[new wp_timeline_today_line_1.TodayLineElement]}return WorkPackageTableTimelineStaticElements.$inject=["$element","$scope","states"],WorkPackageTableTimelineStaticElements.prototype.$onInit=function(){var _this=this;this.container=this.$element.find(".wp-table-timeline--static-elements"),this.wpTimeline.onRefreshRequested("static elements",function(vp){return _this.update(vp)})},WorkPackageTableTimelineStaticElements.prototype.update=function(vp){this.removeAllVisibleElements(),this.renderElements(vp)},WorkPackageTableTimelineStaticElements.prototype.removeAllVisibleElements=function(){jQuery("."+timeline_static_element_1.timelineStaticElementCssClassname).remove()},WorkPackageTableTimelineStaticElements.prototype.renderElements=function(vp){for(var _i=0,_a=this.elements;_i<_a.length;_i++){var e=_a[_i];this.container[0].appendChild(e.render(vp))}},WorkPackageTableTimelineStaticElements}();exports.WorkPackageTableTimelineStaticElements=WorkPackageTableTimelineStaticElements,angular_modules_1.openprojectModule.component("wpTimelineStaticElements",{template:'<div class="wp-table-timeline--static-elements"></div>',controller:WorkPackageTableTimelineStaticElements,require:{wpTimeline:"^wpTimelineContainer"}})},function(module,exports,__webpack_require__){"use strict";function checkForWeekendHighlight(date,cell){var day=date.day();0!==day&&6!==day||cell.classList.add("grid-weekend")}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),wp_timeline_1=__webpack_require__(24),WorkPackageTableTimelineGrid=function(){function WorkPackageTableTimelineGrid($element){this.$element=$element}return WorkPackageTableTimelineGrid.$inject=["$element"],WorkPackageTableTimelineGrid.prototype.$onInit=function(){var _this=this;this.gridContainer=this.$element.find(".wp-table-timeline--grid"),this.wpTimeline.onRefreshRequested("grid",function(vp){return _this.refreshView(vp)})},WorkPackageTableTimelineGrid.prototype.refreshView=function(vp){this.renderLabels(vp)},WorkPackageTableTimelineGrid.prototype.renderLabels=function(vp){if(this.activeZoomLevel!==vp.settings.zoomLevel){switch(this.gridContainer.empty(),vp.settings.zoomLevel){case"days":return this.renderLabelsDays(vp);case"weeks":return this.renderLabelsWeeks(vp);case"months":return this.renderLabelsMonths(vp);case"quarters":return this.renderLabelsQuarters(vp);case"years":return this.renderLabelsYears(vp)}this.activeZoomLevel=vp.settings.zoomLevel}},WorkPackageTableTimelineGrid.prototype.renderLabelsDays=function(vp){this.renderTimeSlices(vp,"day",vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.style.paddingTop="1px",checkForWeekendHighlight(start,cell)}),this.renderTimeSlices(vp,"year",vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.classList.add("-grid-highlight"),cell.style.zIndex="2"})},WorkPackageTableTimelineGrid.prototype.renderLabelsWeeks=function(vp){this.renderTimeSlices(vp,"day",vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){checkForWeekendHighlight(start,cell)}),this.renderTimeSlices(vp,"week",vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.classList.add("-grid-highlight")}),this.renderTimeSlices(vp,"year",vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.classList.add("-grid-highlight"),cell.style.zIndex="2"})},WorkPackageTableTimelineGrid.prototype.renderLabelsMonths=function(vp){this.renderTimeSlices(vp,"week",vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){}),this.renderTimeSlices(vp,"month",vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.classList.add("-grid-highlight")}),this.renderTimeSlices(vp,"year",vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.classList.add("-grid-highlight"),cell.style.zIndex="2"})},WorkPackageTableTimelineGrid.prototype.renderLabelsQuarters=function(vp){this.renderTimeSlices(vp,"month",vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){}),this.renderTimeSlices(vp,"quarter",vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.classList.add("-grid-highlight")}),this.renderTimeSlices(vp,"year",vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.classList.add("-grid-highlight"),cell.style.zIndex="2"})},WorkPackageTableTimelineGrid.prototype.renderLabelsYears=function(vp){this.renderTimeSlices(vp,"month",vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){}),this.renderTimeSlices(vp,"year",vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.classList.add("-grid-highlight")})},WorkPackageTableTimelineGrid.prototype.renderTimeSlices=function(vp,unit,startView,endView,cellCallback){for(var _this=this,_a=wp_timeline_1.getTimeSlicesForHeader(vp,unit,startView,endView),inViewportAndBoundaries=_a.inViewportAndBoundaries,rest=_a.rest,_i=0,inViewportAndBoundaries_1=inViewportAndBoundaries;_i<inViewportAndBoundaries_1.length;_i++){var _b=inViewportAndBoundaries_1[_i],start=_b[0],end=_b[1],cell=document.createElement("div");cell.classList.add(wp_timeline_1.timelineElementCssClass,wp_timeline_1.timelineGridElementCssClass),cell.style.left=wp_timeline_1.calculatePositionValueForDayCount(vp,start.diff(startView,"days")),cell.style.width=wp_timeline_1.calculatePositionValueForDayCount(vp,end.diff(start,"days")+1),this.gridContainer[0].appendChild(cell),cellCallback(start,cell)}setTimeout(function(){for(var _i=0,rest_1=rest;_i<rest_1.length;_i++){var _a=rest_1[_i],start=_a[0],end=_a[1],cell=document.createElement("div");cell.classList.add(wp_timeline_1.timelineElementCssClass,wp_timeline_1.timelineGridElementCssClass),cell.style.left=wp_timeline_1.calculatePositionValueForDayCount(vp,start.diff(startView,"days")),cell.style.width=wp_timeline_1.calculatePositionValueForDayCount(vp,end.diff(start,"days")+1),_this.gridContainer[0].appendChild(cell),cellCallback(start,cell)}},0)},WorkPackageTableTimelineGrid}();exports.WorkPackageTableTimelineGrid=WorkPackageTableTimelineGrid,angular_modules_1.openprojectModule.component("wpTimelineGrid",{template:'<div class="wp-table-timeline--grid"></div>',controller:WorkPackageTableTimelineGrid,require:{wpTimeline:"^wpTimelineContainer"}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),wp_timeline_1=__webpack_require__(24);exports.timelineHeaderCSSClass="wp-timeline--header-element";var WorkPackageTimelineHeaderController=function(){function WorkPackageTimelineHeaderController($element){this.$element=$element}return WorkPackageTimelineHeaderController.$inject=["$element"],WorkPackageTimelineHeaderController.prototype.$onInit=function(){var _this=this;this.wpTimeline.onRefreshRequested("header",function(vp){return _this.refreshView(vp)})},WorkPackageTimelineHeaderController.prototype.refreshView=function(vp){this.innerHeader=this.$element.find(".wp-table-timeline--header-inner"),this.renderLabels(vp)},WorkPackageTimelineHeaderController.prototype.renderLabels=function(vp){if(this.activeZoomLevel!==vp.settings.zoomLevel){switch(this.innerHeader.empty(),this.innerHeader.attr("data-current-zoom-level",vp.settings.zoomLevel),vp.settings.zoomLevel){case"days":return this.renderLabelsDays(vp);case"weeks":return this.renderLabelsWeeks(vp);case"months":return this.renderLabelsMonths(vp);case"quarters":return this.renderLabelsQuarters(vp);case"years":return this.renderLabelsYears(vp)}this.activeZoomLevel=vp.settings.zoomLevel}},WorkPackageTimelineHeaderController.prototype.renderLabelsDays=function(vp){this.renderTimeSlices(vp,"month",0,vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.innerHTML=start.format("MMM YYYY"),cell.classList.add("wp-timeline--header-top-bold-element"),cell.style.height="13px"}),this.renderTimeSlices(vp,"week",13,vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.innerHTML=start.format("ww"),cell.classList.add("-top-border"),cell.style.height="32px"}),this.renderTimeSlices(vp,"day",23,vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.innerHTML=start.format("D"),cell.classList.add("-top-border"),cell.style.height="22px"}),this.renderTimeSlices(vp,"day",33,vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.innerHTML=start.format("dd"),cell.classList.add("wp-timeline--header-day-element")})},WorkPackageTimelineHeaderController.prototype.renderLabelsWeeks=function(vp){this.renderTimeSlices(vp,"month",0,vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.innerHTML=start.format("MMM YYYY"),cell.classList.add("wp-timeline--header-top-bold-element")}),this.renderTimeSlices(vp,"week",15,vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.innerHTML=start.format("ww"),cell.classList.add("-top-border"),cell.style.height="22px"}),this.renderTimeSlices(vp,"day",25,vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.innerHTML=start.format("D"),cell.classList.add("wp-timeline--header-middle-element")})},WorkPackageTimelineHeaderController.prototype.renderLabelsMonths=function(vp){this.renderTimeSlices(vp,"year",0,vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.innerHTML=start.format("YYYY"),cell.classList.add("wp-timeline--header-top-bold-element")}),this.renderTimeSlices(vp,"month",15,vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.innerHTML=start.format("MMM"),cell.classList.add("-top-border"),cell.style.height="30px"}),this.renderTimeSlices(vp,"week",25,vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.innerHTML=start.format("ww"),cell.classList.add("wp-timeline--header-middle-element")})},WorkPackageTimelineHeaderController.prototype.renderLabelsQuarters=function(vp){this.renderTimeSlices(vp,"year",0,vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.classList.add("wp-timeline--header-top-bold-element"),cell.innerHTML=start.format("YYYY")}),this.renderTimeSlices(vp,"quarter",15,vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.innerHTML="Q"+start.format("Q"),cell.classList.add("-top-border"),cell.style.height="30px"}),this.renderTimeSlices(vp,"month",25,vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.innerHTML=start.format("MMM"),cell.classList.add("wp-timeline--header-middle-element")})},WorkPackageTimelineHeaderController.prototype.renderLabelsYears=function(vp){this.renderTimeSlices(vp,"year",0,vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.innerHTML=start.format("YYYY"),cell.classList.add("wp-timeline--header-top-bold-element")}),this.renderTimeSlices(vp,"quarter",15,vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.innerHTML="Q"+start.format("Q"),cell.classList.add("-top-border"),cell.style.height="30px"}),this.renderTimeSlices(vp,"month",25,vp.dateDisplayStart,vp.dateDisplayEnd,function(start,cell){cell.innerHTML=start.format("M"),cell.classList.add("wp-timeline--header-middle-element")})},WorkPackageTimelineHeaderController.prototype.renderTimeSlices=function(vp,unit,marginTop,startView,endView,cellCallback){for(var _this=this,_a=wp_timeline_1.getTimeSlicesForHeader(vp,unit,startView,endView),inViewportAndBoundaries=_a.inViewportAndBoundaries,rest=_a.rest,_i=0,inViewportAndBoundaries_1=inViewportAndBoundaries;_i<inViewportAndBoundaries_1.length;_i++){var _b=inViewportAndBoundaries_1[_i],start=_b[0],end=_b[1],cell=this.addLabelCell();cell.style.top=marginTop+"px",cell.style.left=wp_timeline_1.calculatePositionValueForDayCount(vp,start.diff(startView,"days")),cell.style.width=wp_timeline_1.calculatePositionValueForDayCount(vp,end.diff(start,"days")+1),cellCallback(start,cell)}setTimeout(function(){for(var _i=0,rest_1=rest;_i<rest_1.length;_i++){var _a=rest_1[_i],start=_a[0],end=_a[1],cell=_this.addLabelCell();cell.style.top=marginTop+"px",cell.style.left=wp_timeline_1.calculatePositionValueForDayCount(vp,start.diff(startView,"days")),cell.style.width=wp_timeline_1.calculatePositionValueForDayCount(vp,end.diff(start,"days")+1),cellCallback(start,cell)}},0)},WorkPackageTimelineHeaderController.prototype.addLabelCell=function(){var label=document.createElement("div");return label.className=exports.timelineHeaderCSSClass,this.innerHeader.append(label),label},WorkPackageTimelineHeaderController}();exports.WorkPackageTimelineHeaderController=WorkPackageTimelineHeaderController,angular_modules_1.openprojectModule.component("wpTimelineHeader",{templateUrl:"/components/wp-table/timeline/header/wp-timeline-header.html",controller:WorkPackageTimelineHeaderController,require:{wpTimeline:"^wpTimelineContainer"}})},function(module,exports,__webpack_require__){"use strict";function wpGroupHeader(){return{restrict:"A",controller:WorkPackageGroupHeaderController,controllerAs:"$ctrl",bindToController:!0}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),WorkPackageGroupHeaderController=function(){function WorkPackageGroupHeaderController($scope,I18n){this.$scope=$scope,this.I18n=I18n,this.pushGroup(this.currentGroup)}return WorkPackageGroupHeaderController.$inject=["$scope","I18n"],Object.defineProperty(WorkPackageGroupHeaderController.prototype,"resource",{get:function(){return this.$scope.resource},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageGroupHeaderController.prototype,"currentGroup",{get:function(){return this.$scope.row.groupName},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageGroupHeaderController.prototype,"currentGroupObject",{get:function(){return this.$scope.groupHeaders[this.currentGroup]},enumerable:!0,configurable:!0}),Object.defineProperty(WorkPackageGroupHeaderController.prototype,"currentGroupName",{get:function(){var value=this.currentGroupObject.value;return""===value?this.I18n.t("js.placeholders.default"):value},enumerable:!0,configurable:!0}),WorkPackageGroupHeaderController.prototype.toggleCurrentGroup=function(){this.$scope.groupExpanded[this.currentGroup]=!this.$scope.groupExpanded[this.currentGroup]},WorkPackageGroupHeaderController.prototype.pushGroup=function(group){void 0===this.$scope.groupExpanded[group]&&(this.$scope.groupExpanded[group]=!0)},WorkPackageGroupHeaderController}();exports.WorkPackageGroupHeaderController=WorkPackageGroupHeaderController,angular_modules_1.wpDirectivesModule.directive("wpGroupHeader",wpGroupHeader)},function(module,exports,__webpack_require__){"use strict";(function(_){function wpGroupSums(){return{restrict:"A",scope:!0,controller:WorkPackageGroupSumsController}}Object.defineProperty(exports,"__esModule",{value:!0});var WorkPackageGroupSumsController=function(){function WorkPackageGroupSumsController($scope){this.$scope=$scope,$scope.currentGroup=$scope.row.groupName,$scope.currentGroupObject=_.find($scope.resource.groups,function(o){return o.value===$scope.currentGroup})}return WorkPackageGroupSumsController.$inject=["$scope"],WorkPackageGroupSumsController}();exports.WorkPackageGroupSumsController=WorkPackageGroupSumsController,angular.module("openproject.workPackages.controllers").controller("WorkPackageGroupSumsController",WorkPackageGroupSumsController),angular.module("openproject.workPackages.directives").directive("wpGroupSums",wpGroupSums)}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),WorkPackageTableRefreshService=function(){function WorkPackageTableRefreshService(states){this.states=states}return WorkPackageTableRefreshService.$inject=["states"],WorkPackageTableRefreshService.prototype.request=function(visible,reason){void 0===visible&&(visible=!1),this.state.putValue(visible,reason)},WorkPackageTableRefreshService.prototype.clear=function(reason){this.state.clear(reason)},Object.defineProperty(WorkPackageTableRefreshService.prototype,"state",{get:function(){return this.states.table.refreshRequired},enumerable:!0,configurable:!0}),WorkPackageTableRefreshService}();exports.WorkPackageTableRefreshService=WorkPackageTableRefreshService,angular_modules_1.opServicesModule.service("wpTableRefresh",WorkPackageTableRefreshService)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),reactivestates_1=__webpack_require__(26),WorkPackageTableSumsRowController=function(){function WorkPackageTableSumsRowController($element,states,wpDisplayField,I18n){this.$element=$element,this.states=states,this.wpDisplayField=wpDisplayField,this.I18n=I18n,this.text={sumFor:I18n.t("js.label_sum_for"),allWorkPackages:I18n.t("js.label_all_work_packages")}}return WorkPackageTableSumsRowController.$inject=["$element","states","wpDisplayField","I18n"],WorkPackageTableSumsRowController.prototype.$onInit=function(){var _this=this;reactivestates_1.combine(this.states.table.columns,this.states.table.results,this.states.table.sum).values$().takeUntil(this.states.table.stopAllSubscriptions).subscribe(function(_a){var columns=_a[0],resource=_a[1],sum=_a[2];sum.isEnabled&&resource.sumsSchema?resource.sumsSchema.$load().then(function(schema){return _this.refresh(columns,resource,schema)}):_this.clear()})},WorkPackageTableSumsRowController.prototype.clear=function(){this.$element.empty()},WorkPackageTableSumsRowController.prototype.refresh=function(columns,resource,schema){this.clear(),this.render(columns,resource,schema)},WorkPackageTableSumsRowController.prototype.render=function(columns,resource,schema){var _this=this;this.$element[0].classList.add("sum","group","all","issue","work_package"),columns.getColumns().forEach(function(column,i){var td=document.createElement("td"),div=_this.renderContent(resource.totalSums,column.id,schema[column.id]);0===i&&_this.appendFirstLabel(div),td.appendChild(div),_this.$element.append(td)}),this.$element.append('<td><div class="generic-table--footer-outer"></div></td>')},WorkPackageTableSumsRowController.prototype.renderContent=function(sums,name,fieldSchema){var div=document.createElement("div"),field=this.wpDisplayField.getField(sums,name,fieldSchema);return field.isEmpty()||field.render(div,field.valueString),div},WorkPackageTableSumsRowController.prototype.appendFirstLabel=function(div){var span=document.createElement("span");span.textContent=this.text.sumFor+" "+this.text.allWorkPackages,jQuery(div).prepend(span)},WorkPackageTableSumsRowController}();exports.WorkPackageTableSumsRowController=WorkPackageTableSumsRowController,angular_modules_1.openprojectModule.directive("wpTableSumsRow",function(){return{restrict:"A",controller:WorkPackageTableSumsRowController}})},function(module,exports,__webpack_require__){"use strict";function wpTable(keepTab,PathHelper,columnsModal,contextMenu){return{restrict:"E",replace:!0,templateUrl:"/components/wp-table/wp-table.directive.html",scope:{projectIdentifier:"="},controller:WorkPackagesTableController,link:function(scope,element,attributes){scope.workPackagePath=PathHelper.workPackagePath;var topMenuHeight=angular.element("#top-menu").prop("offsetHeight")||0;scope.adaptVerticalPosition=function(event){event.pageY-=topMenuHeight},scope.desiredSplitViewState=keepTab.currentDetailsState,angular_rx_utils_1.scopedObservable(scope,keepTab.observable).subscribe(function(tabs){scope.desiredSplitViewState=tabs.details}),scope.openColumnsModal=function(){contextMenu.close(),columnsModal.activate()}}}}wpTable.$inject=["keepTab","PathHelper","columnsModal","contextMenu"],Object.defineProperty(exports,"__esModule",{value:!0});var Observable_1=__webpack_require__(1),angular_rx_utils_1=__webpack_require__(8),debug_output_1=__webpack_require__(9),wp_fast_table_1=__webpack_require__(190),wp_table_hover_sync_1=__webpack_require__(209),wp_table_scroll_sync_1=__webpack_require__(109);angular.module("openproject.workPackages.directives").directive("wpTable",wpTable);var WorkPackagesTableController=function(){function WorkPackagesTableController($scope,$element,$rootScope,states,I18n,wpTableGroupBy,wpTableTimeline,wpTableColumns){var _this=this;this.$scope=$scope,this.$element=$element,this.scrollSyncUpdate=wp_table_scroll_sync_1.createScrollSync(this.$element),states.table.stopAllSubscriptions.next(),$scope.locale=I18n.locale,$scope.text={cancel:I18n.t("js.button_cancel"),noResults:{title:I18n.t("js.work_packages.no_results.title"),description:I18n.t("js.work_packages.no_results.description")},faultyQuery:{title:I18n.t("js.work_packages.faulty_query.title"),description:I18n.t("js.work_packages.faulty_query.description")},addColumns:I18n.t("js.label_add_columns"),tableSummary:I18n.t("js.work_packages.table.summary"),tableSummaryHints:[I18n.t("js.work_packages.table.text_inline_edit"),I18n.t("js.work_packages.table.text_select_hint"),I18n.t("js.work_packages.table.text_sort_hint")].join(" ")},$scope.cancelInlineWorkPackage=function(index,row){$rootScope.$emit("inlineWorkPackageCreateCancelled",index,row)},Observable_1.Observable.combineLatest(angular_rx_utils_1.scopedObservable($scope,states.query.resource.values$()),angular_rx_utils_1.scopedObservable($scope,states.table.results.values$()),wpTableGroupBy.observeOnScope($scope),wpTableColumns.observeOnScope($scope),wpTableTimeline.observeOnScope($scope)).subscribe(function(_a){var query=_a[0],results=_a[1],groupBy=_a[2],columns=_a[3],timelines=_a[4];$scope.query=query,$scope.rowcount=results.count,$scope.groupBy=groupBy.current,$scope.columns=columns.current,$scope.numTableColumns=$scope.columns.length+2,$scope.timelineVisible!==timelines.current&&_this.scrollSyncUpdate(timelines.current),$scope.timelineVisible=timelines.current});var tableAndTimeline=this.getTableAndTimelineElement();this.table=tableAndTimeline[0],this.timeline=tableAndTimeline[1],wpTableColumns.observeOnScope($scope).subscribe(function(c){return _this.changeTimelineWidthOnColumnCountChange(c)});var wpTableHoverSync=new wp_table_hover_sync_1.WpTableHoverSync(this.$element);wpTableHoverSync.activate(),this.$scope.$on("$destroy",function(){wpTableHoverSync.deactivate()})}return WorkPackagesTableController.$inject=["$scope","$element","$rootScope","states","I18n","wpTableGroupBy","wpTableTimeline","wpTableColumns"],WorkPackagesTableController.prototype.registerTimeline=function(controller,body){var t0=performance.now(),tbody=this.$element.find(".work-package--results-tbody");this.$scope.table=new wp_fast_table_1.WorkPackageTable(this.$element[0],tbody[0],body,controller),this.$scope.tbody=tbody,controller.workPackageTable=this.$scope.table;var t1=performance.now();debug_output_1.debugLog("Render took "+(t1-t0)+" milliseconds.")},WorkPackagesTableController.prototype.getTableAndTimelineElement=function(){var $tableSide=this.$element.find(".work-packages-tabletimeline--table-side"),$timelineSide=this.$element.find(".work-packages-tabletimeline--timeline-side");if(0===$timelineSide.length||0===$tableSide.length)throw new Error("invalid state");return[$tableSide[0],$timelineSide[0]]},WorkPackagesTableController.prototype.changeTimelineWidthOnColumnCountChange=function(columns){var colCount=columns.current.length;0===colCount?(this.table.style.flex="0 1 45px",this.timeline.style.flex="1 1"):1===colCount?(this.table.style.flex="1 1",this.timeline.style.flex="4 1"):2===colCount?(this.table.style.flex="1 1",this.timeline.style.flex="3 1"):3===colCount?(this.table.style.flex="1 1",this.timeline.style.flex="2 1"):4===colCount&&(this.table.style.flex="2 1",this.timeline.style.flex="3 1")},WorkPackagesTableController}();exports.WorkPackagesTableController=WorkPackagesTableController},function(module,exports,__webpack_require__){"use strict";function wpWatcher(){return{templateUrl:"/components/wp-watchers/wp-watcher-entry.directive.html",scope:{watcher:"="},link:function(scope,element,attr,controller){scope.$ctrl.panelCtrl=controller},require:"^watchersPanel",controller:WatcherEntryController,controllerAs:"$ctrl",bindToController:!0}}Object.defineProperty(exports,"__esModule",{value:!0});var angular_modules_1=__webpack_require__(0),WatcherEntryController=function(){function WatcherEntryController($element,I18n,$timeout){"ngInject";this.$element=$element,this.I18n=I18n,this.$timeout=$timeout,this.state={deleting:!1},this.text={remove:I18n.t("js.label_remove_watcher",{name:this.watcher.name})}}return WatcherEntryController.$inject=["$element","I18n","$timeout"],WatcherEntryController.prototype.remove=function(){this.state.deleting=!0,this.panelCtrl.removeWatcher(this.watcher)},WatcherEntryController}();exports.WatcherEntryController=WatcherEntryController,angular_modules_1.wpDirectivesModule.directive("wpWatcher",wpWatcher)},function(module,exports){jQuery(function(){bowser.chrome&&bowser.version>="58"&&document.documentElement.classList.add("-browser-chrome","-supports-sticky-headers"),bowser.safari&&document.documentElement.classList.add("-browser-safari"),bowser.firefox&&document.documentElement.classList.add("-browser-firefox"),bowser.windows&&document.documentElement.classList.add("-browser-windows"),bowser.ios&&document.documentElement.classList.add("-browser-ios")})},function(module,exports){!function($){function mergeOptions(options){return"string"==typeof options&&(options={message:options}),$.extend({},$.fn.topShelf.defaults,options)}$.fn.topShelf=function(options){var opts=mergeOptions(options),message=this,topShelf=$("<div/>").addClass(opts.className),link=$("<a/>").append(" "+opts.link).attr({href:opts.url});if(!window.localStorage.getItem(opts.id)){var closeLink=$("<a/>").append(opts.close);return closeLink.click(function(){window.localStorage.setItem(opts.id,"1"),topShelf.remove()}),0===message.length?topShelf.append($("<h1/>").append(opts.title)).append($("<p/>").append(opts.message).append(link)).append($("<h2/>").append(closeLink)):topShelf.append(message),
$("body").prepend(topShelf),this}},$.fn.topShelf.defaults={className:"top-shelf icon icon-warning",title:"",message:"",link:"",url:""}}(jQuery)},function(module,exports){!function($){$(function(){var unsupported={msie:"12",firefox:"45"},additionalMessage=I18n.t("js.unsupported_browser.update_message");bowser.isUnsupportedBrowser(unsupported,window.navigator.userAgent)&&(bowser.msie&&(additionalMessage=I18n.t("js.unsupported_browser.update_ie_user")),$().topShelf({id:"op.unsupported_browsers",title:I18n.t("js.unsupported_browser.title"),message:I18n.t("js.unsupported_browser.message")+"<br/>"+additionalMessage,link:I18n.t("js.unsupported_browser.learn_more"),close:I18n.t("js.unsupported_browser.close_warning"),url:"https://www.openproject.org/open-source/download/systemrequirements/"}))})}(jQuery)},function(module,exports,__webpack_require__){"use strict";function opIconElement(){for(var classes=[],_i=0;_i<arguments.length;_i++)classes[_i]=arguments[_i];var icon=document.createElement("i");return icon.setAttribute("aria-hidden","true"),(_a=icon.classList).add.apply(_a,classes),icon;var _a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.opIconElement=opIconElement},,,,,,,function(module,exports){function latestItems(){return function(items,visible,reverse){return reverse?items.slice(-visible).reverse():items.slice(0,visible)}}angular.module("openproject.workPackages.filters").filter("latestItems",latestItems)},function(module,exports){function AuthorisationService($rootScope){var links={},AuthorisationService={initModelAuth:function(modelName,modelLinks){links[modelName]=modelLinks,$rootScope.$broadcast("modelAuthUpdate."+modelName)},can:function(modelName,action){return links[modelName]&&action in links[modelName]},cannot:function(modelName,action){return!AuthorisationService.can(modelName,action)}};return AuthorisationService}AuthorisationService.$inject=["$rootScope"],angular.module("openproject.services").factory("AuthorisationService",AuthorisationService)},function(module,exports){function notificationBox($timeout,I18n,ConfigurationService){var notificationBoxController=function(scope,element){scope.uploadCount=0,scope.show=!1,scope.I18n=I18n,scope.canBeHidden=function(){return scope.content.uploads.length>5},scope.removable=function(){return"upload"!==scope.content.type},scope.typeable=function(){return!!scope.content.type},scope.remove=function(){scope.removable()&&scope.$emit("notification.remove",scope.content)},scope.executeTarget=function(){scope.content.link.target(),scope.remove()},scope.$on("upload.error",function(){"upload"===scope.content.type&&(scope.content.type="error")}),scope.$on("upload.finished",function(){scope.uploadCount+=1})};return{restrict:"E",replace:!0,templateUrl:"/components/common/notification-box/notification-box.directive.html",scope:{content:"="},link:notificationBoxController}}notificationBox.$inject=["$timeout","I18n","ConfigurationService"],angular.module("openproject.uiComponents").directive("notificationBox",notificationBox)},function(module,exports,__webpack_require__){(function(_){function PathHelper(){var PathHelper,appBasePath=window.appBasePath?window.appBasePath:"";return PathHelper={staticBase:appBasePath,apiV2:appBasePath+"/api/v2",apiV3:appBasePath+"/api/v3",activityPath:function(){return PathHelper.staticBase+"/activity"},boardPath:function(projectIdentifier,boardIdentifier){return PathHelper.projectBoardsPath(projectIdentifier)+"/"+boardIdentifier},keyboardShortcutsHelpPath:function(){return PathHelper.staticBase+"/help/keyboard_shortcuts"},messagePath:function(messageIdentifier){return PathHelper.staticBase+"/topics/"+messageIdentifier},myPagePath:function(){return PathHelper.staticBase+"/my/page"},projectsPath:function(){return PathHelper.staticBase+"/projects"},projectPath:function(projectIdentifier){return PathHelper.projectsPath()+"/"+projectIdentifier},projectActivityPath:function(projectIdentifier){return PathHelper.projectPath(projectIdentifier)+"/activity"},projectBoardsPath:function(projectIdentifier){return PathHelper.projectPath(projectIdentifier)+"/boards"},projectCalendarPath:function(projectId){return PathHelper.projectPath(projectId)+"/work_packages/calendar"},projectNewsPath:function(projectId){return PathHelper.projectPath(projectId)+"/news"},projectTimelinesPath:function(projectId){return PathHelper.projectPath(projectId)+"/timelines"},projectTimeEntriesPath:function(projectIdentifier){return PathHelper.projectPath(projectIdentifier)+"/time_entries"},projectWikiPath:function(projectId){return PathHelper.projectPath(projectId)+"/wiki"},projectWorkPackagesPath:function(projectId){return PathHelper.projectPath(projectId)+"/work_packages"},projectWorkPackageNewPath:function(projectId){return PathHelper.projectWorkPackagesPath(projectId)+"/new"},queryPath:function(queryIdentifier){return PathHelper.staticBase+"/queries/"+queryIdentifier},timeEntriesPath:function(workPackageId){var suffix="/time_entries";return workPackageId?PathHelper.workPackagePath(workPackageId)+suffix:PathHelper.staticBase+suffix},timeEntryPath:function(timeEntryIdentifier){return PathHelper.staticBase+"/time_entries/"+timeEntryIdentifier},timeEntryEditPath:function(timeEntryIdentifier){return PathHelper.timeEntryPath(timeEntryIdentifier)+"/edit"},usersPath:function(){return PathHelper.staticBase+"/users"},userPath:function(id){return PathHelper.usersPath()+"/"+id},versionsPath:function(){return PathHelper.staticBase+"/versions"},versionPath:function(versionId){return PathHelper.versionsPath()+"/"+versionId},workPackagesPath:function(){return PathHelper.staticBase+"/work_packages"},workPackagePath:function(id){return PathHelper.staticBase+"/work_packages/"+id},workPackageCopyPath:function(workPackageId){return PathHelper.workPackagePath(workPackageId)+"/copy"},workPackageDetailsCopyPath:function(projectIdentifier,workPackageId){return PathHelper.projectWorkPackagesPath(projectIdentifier)+"/details/"+workPackageId+"/copy"},workPackagesBulkDeletePath:function(){return PathHelper.workPackagesPath()+"/bulk"},workPackagesBulkEditPath:function(workPackageIds){var query=_.reduce(workPackageIds,function(idsString,id){return idsString+="id[]="+id+"&"},"").slice(0,-1);return PathHelper.workPackagesBulkDeletePath+"/edit?"+query},workPackageJsonAutoCompletePath:function(projectId){var path=PathHelper.workPackagesPath()+"/auto_complete.json";return projectId&&(path+="?project_id="+projectId),path},apiV2ProjectsPath:function(){return PathHelper.apiV2+"/projects"},apiConfigurationPath:function(){return PathHelper.apiV3+"/configuration"},apiQueryStarPath:function(queryId){return PathHelper.apiV3QueryPath(queryId)+"/star"},apiQueryUnstarPath:function(queryId){return PathHelper.apiV3QueryPath(queryId)+"/unstar"},apiV3QueryPath:function(queryId){return PathHelper.apiV3+"/queries/"+queryId},apiV3WorkPackagePath:function(workPackageId){return PathHelper.apiV3+"/work_packages/"+workPackageId},apiV3WorkPackagesPath:function(workPackageId){return PathHelper.apiV3+"/work_packages"},apiV3WorkPackageFormPath:function(projectIdentifier){return PathHelper.apiV3WorkPackagesPath()+"/form"},apiV3ProjectPath:function(projectIdentifier){return PathHelper.apiV3+"/projects/"+projectIdentifier},apiV3AvailableProjectsPath:function(){return PathHelper.apiV3WorkPackagesPath()+"/available_projects"},apiv3ProjectWorkPackagesPath:function(projectIdentifier){return PathHelper.apiV3ProjectPath(projectIdentifier)+"/work_packages"},apiV3ProjectCategoriesPath:function(projectIdentifier){return PathHelper.apiV3ProjectPath(projectIdentifier)+"/categories"},apiV3TypePath:function(typeId){return PathHelper.apiV3+"/types/"+typeId},apiV3UserPath:function(userId){return PathHelper.apiV3+"/users/"+userId},apiStatusesPath:function(){return PathHelper.apiV3+"/statuses"},apiProjectWorkPackageTypesPath:function(projectIdentifier){return PathHelper.apiV3ProjectPath(projectIdentifier)+"/types"},apiWorkPackageTypesPath:function(){return PathHelper.apiV3+"/types"}}}angular.module("openproject.helpers").factory("PathHelper",PathHelper)}).call(exports,__webpack_require__(2))},function(module,exports){function columnContextMenu(ngContextMenu){return ngContextMenu({controller:"ColumnContextMenuController",controllerAs:"contextMenu",templateUrl:"/components/context-menus/column-context-menu/column-context-menu.template.html",container:".work-packages-tabletimeline--table-side"})}columnContextMenu.$inject=["ngContextMenu"],angular.module("openproject.workPackages").factory("columnContextMenu",columnContextMenu)},function(module,exports){function WorkPackagesController($scope,$state,$stateParams,$rootScope){$scope.$state=$state,$scope.selectedTitle=I18n.t("js.label_work_package_plural"),$scope.query_id=$stateParams.query_id,$scope.getToggleActionLabel=function(active){return active?I18n.t("js.label_deactivate"):I18n.t("js.label_activate")},$rootScope.$broadcast("openproject.layout.activateMenuItem")}WorkPackagesController.$inject=["$scope","$state","$stateParams","$rootScope"],angular.module("openproject.workPackages.controllers").controller("WorkPackagesController",WorkPackagesController)},function(module,exports){function activityEntry(PathHelper){return{restrict:"E",replace:!0,templateUrl:"/components/wp-activity/activity-entry.directive.html",scope:{workPackage:"=",activity:"=",activityNo:"=",isInitial:"=",inputElementId:"="},link:function(scope){var projectId=scope.workPackage.project.id;scope.autocompletePath=PathHelper.workPackageJsonAutoCompletePath(projectId),scope.activityType=scope.activity._type,scope.activityLabel=I18n.t("js.label_activity_no",{activityNo:scope.activityNo})}}}activityEntry.$inject=["PathHelper"],angular.module("openproject.workPackages.activities").directive("activityEntry",activityEntry)},function(module,exports){function activityLink(){return{restrict:"E",templateUrl:"/templates/work_packages/activities/_link.html",scope:{workPackage:"=",activityNo:"=",onBlur:"&",onFocus:"&"},link:function(scope){scope.workPackageId=scope.workPackage.id,scope.activityHtmlId="activity-"+scope.activityNo}}}angular.module("openproject.workPackages.activities").directive("activityLink",activityLink)},function(module,exports){function revisionActivity($compile,$sce,I18n,PathHelper,ActivityService){return{restrict:"E",replace:!0,templateUrl:"/templates/work_packages/activities/_revision.html",scope:{workPackage:"=",activity:"=",activityLabel:"=",activityNo:"="},link:function(scope,element){scope.I18n=I18n,void 0===scope.activity.author?scope.userName=scope.activity.authorName:scope.activity.author.$load().then(function(user){scope.userId=user.id,scope.userName=user.name,scope.userAvatar=user.avatar,scope.userActive=user.isActive,scope.userPath=user.showUser,scope.userLabel=I18n.t("js.label_author",{user:scope.userName})}),scope.project=scope.workPackage.project,scope.revision=scope.activity.identifier,scope.formattedRevision=scope.activity.formattedIdentifier,scope.revisionPath=scope.activity.showRevision.$link.href,scope.message=$sce.trustAsHtml(scope.activity.message.html);var date='<op-date-time date-time-value="activity.createdAt"/></op-date-time>',link=['<a ng-href="{{ revisionPath }}" title="{{ revision }}">','{{ I18n.t("js.label_committed_link", { revision_identifier: formattedRevision }) }}',"</a>"].join("");scope.combinedRevisionLink=I18n.t("js.label_committed_at",{committed_revision_link:link,date:date}),scope.$watch("combinedRevisionLink",function(html){var span=angular.element(html),link=element.find(".revision-activity--revision-link");link.append(span),$compile(link.contents())(scope)})}}}revisionActivity.$inject=["$compile","$sce","I18n","PathHelper","ActivityService"],angular.module("openproject.workPackages.activities").directive("revisionActivity",revisionActivity)},function(module,exports){module.exports=function($http,PathHelper){var getAtWhoParameters=function(url,textarea){return{at:"#",startWithSpace:!1,searchKey:"id_subject",displayTpl:'<li data-value="${atwho-at}${id}">${to_s}</li>',insertTpl:"${atwho-at}${id}",limit:10,textarea:textarea,callbacks:{remoteFilter:function(query,callback){query.length>0&&$http.get(url,{params:{q:query,scope:"all"}}).success(function(data){for(var i=data.length-1;i>=0;i--)data[i].id_subject=data[i].id.toString()+" "+data[i].subject;callback(angular.element(textarea).is(":visible")?data:[])})},sorter:function(query,items,search_key){return items}}}};return{enableTextareaAutoCompletion:function(textareas){angular.forEach(textareas,function(textarea){var url=PathHelper.workPackageJsonAutoCompletePath();void 0!==url&&url.length>0&&angular.element(textarea).atwho(getAtWhoParameters(url,textarea))})}}}},function(module,exports){module.exports=function(CUSTOM_FIELD_PREFIX,I18n){var CustomFieldHelper={isCustomFieldKey:function(key){return key.substr(0,CUSTOM_FIELD_PREFIX.length)===CUSTOM_FIELD_PREFIX},getCustomFieldId:function(cfKey){return parseInt(cfKey.substr(CUSTOM_FIELD_PREFIX.length,10),10)},booleanCustomFieldValue:function(value){switch(value){case"f":return I18n.t("js.general_text_No");case"t":return I18n.t("js.general_text_Yes");default:return""}},userCustomFieldValue:function(value,users){return users&&users[value]&&users[value].name?users[value].name:CustomFieldHelper.nestedCustomFieldValue(value)},versionCustomFieldValue:function(value){return CustomFieldHelper.nestedCustomFieldValue(value)},nestedCustomFieldValue:function(value){return value&&value.name?value.name:""},parseNumeric:function(value,parseMethod){return value&&("string"==typeof value&&value.length>0||"number"==typeof value)&&!isNaN(value)?parseMethod(value):""},formatCustomFieldValue:function(value,fieldFormat,users){switch(fieldFormat){case"bool":return CustomFieldHelper.booleanCustomFieldValue(value);case"user":return CustomFieldHelper.userCustomFieldValue(value,users);case"version":return CustomFieldHelper.versionCustomFieldValue(value);case"int":return CustomFieldHelper.parseNumeric(value,parseInt);case"float":return CustomFieldHelper.parseNumeric(value,parseFloat);default:return value}}};return CustomFieldHelper}},function(module,exports,__webpack_require__){angular.module("openproject.helpers").constant("CUSTOM_FIELD_PREFIX","cf_").service("AutoCompleteHelper",["$http","PathHelper",__webpack_require__(504)]).service("CustomFieldHelper",["CUSTOM_FIELD_PREFIX","I18n",__webpack_require__(505)]).factory("SvgHelper",__webpack_require__(507)).service("WorkPackageLoadingHelper",["$timeout",__webpack_require__(508)])},function(module,exports){module.exports=function(){var SvgHelper=function(node){this.root=this.provideNode("svg").attr({width:640,height:480}),jQuery(node).append(this.root)};return SvgHelper.prototype.toString=function(){return"SvgHelper"},SvgHelper.prototype.provideNode=function(elementName){return document.createElementNS("http://www.w3.org/2000/svg",elementName)},SvgHelper.prototype.clear=function(){for(var node=this.root;node.hasChildNodes();)node.removeChild(node.lastChild);return this},SvgHelper.prototype.setSize=function(w,h){this.root.attr({width:w,height:h})},SvgHelper.prototype.rect=function(x,y,w,h,r){var node=this.provideNode("rect").attr({x:x,y:y,width:w,height:h});return r&&node.round(r),this.root.appendChild(node),node},SvgHelper.prototype.path=function(direction){var node=this.provideNode("path").attr({d:direction});return this.root.appendChild(node),node},SvgHelper.prototype.text=function(x,y,text){var node=this.provideNode("text");return node.translate(x,y),node.textContent=text,this.root.appendChild(node),node},SvgHelper.prototype.gradient=function(id,stops){var svg=this.root,svgNS=svg.namespaceURI,gradient=document.createElementNS(svgNS,"linearGradient");gradient.setAttribute("id",id);for(var i=0;i<stops.length;i++){var attrs=stops[i],stop=document.createElementNS(svgNS,"stop");for(var attr in attrs)attrs.hasOwnProperty(attr)&&stop.setAttribute(attr,attrs[attr]);gradient.appendChild(stop)}var defs=svg.querySelector("defs")||svg.insertBefore(document.createElementNS(svgNS,"defs"),svg.firstChild);return defs.appendChild(gradient)},jQuery.each([SVGSVGElement,SVGRectElement,SVGPathElement,SVGTextElement],function(i,klass){klass.prototype.attr=function(attributeHash){for(var key in attributeHash)attributeHash.hasOwnProperty(key)&&this.setAttribute(key,attributeHash[key]);return this}}),jQuery.each([SVGRectElement,SVGTextElement],function(i,klass){klass.prototype.translate=function(x,y){return this.attr({x:x,y:y})},klass.prototype.insertAfter=function(node){this.parentNode.insertBefore(node,this.nextSibling)}}),SVGRectElement.prototype.round=function(r){this.attr({rx:r,ry:r})},SVGRectElement.prototype.hover=function(f_in,f_out){this.addEventListener("mouseover",f_in),this.addEventListener("mouseout",f_out)},SVGRectElement.prototype.unhover=function(){},SVGRectElement.prototype.click=function(cb){this.addEventListener("click",cb)},SVGPathElement.prototype.transform=function(transform){return this.attr({transform:transform})},SvgHelper}},function(module,exports){module.exports=function($timeout){var currentRun;return{withDelay:function(delay,callback,params){return $timeout.cancel(currentRun),currentRun=$timeout(function(){return callback.apply(this,params)},delay)},withLoading:function(scope,callback,params,errorCallback){return scope.isLoading=!0,callback.apply(this,params).then(function(results){return scope.isLoading=!1,results},errorCallback)}}}},function(module,exports,__webpack_require__){angular.module("openproject.layout.controllers").controller("MainMenuController",["$rootScope","$window",__webpack_require__(510)])},function(module,exports){function hideSubMenuEntries(){var togglers=jQuery("#main-menu .main-item-wrapper.open .toggler");return toggleMenus(togglers),togglers}function showSubMenuEntries(togglers){null!==togglers&&toggleMenus(togglers)}function toggleMenus(togglers){togglers.each(function(index){jQuery(this).trigger("click")})}module.exports=function($rootScope,$window){var menuList=null;this.toggleNavigation=function(){$rootScope.showNavigation?menuList=hideSubMenuEntries():showSubMenuEntries(menuList),$rootScope.showNavigation=!$rootScope.showNavigation,$rootScope.$broadcast("openproject.layout.navigationToggled",$rootScope.showNavigation),$window.sessionStorage.setItem("openproject:navigation-toggle",$rootScope.showNavigation?"expanded":"collapsed")}}},function(module,exports,__webpack_require__){__webpack_require__(509),angular.module("openproject.layout").factory("menuItemFactory",["$rootScope","$compile","$http","$templateCache","$animate",__webpack_require__(512)]).constant("QUERY_MENU_ITEM_TYPE","query-menu-item").factory("queryMenuItemFactory",["menuItemFactory","$state","$stateParams","$animate","$timeout","QUERY_MENU_ITEM_TYPE",__webpack_require__(513)]).directive("queryMenuItem",["queryMenuItemFactory",function(queryMenuItemFactory){return{restrict:"A",scope:!0,link:queryMenuItemFactory.link}}])},function(module,exports){module.exports=function($rootScope,$compile,$http,$templateCache,$animate){return function(options){function getContainer(){return angular.element(options.container)}function generateMenuItem(title,path,objectId){if(container=getContainer()){var menuItem;return scope=$rootScope.$new(!0),scope.type=type,scope.title=title,scope.path=path,scope.objectId=objectId,$http.get(templateUrl,{cache:$templateCache}).then(function(response){menuItem=angular.element(response.data),linkFn&&linkFn(scope,menuItem.children("a"),{}),$compile(menuItem)(scope);var previousItem=previousMenuItem(title);return $animate.enter(menuItem,container,previousItem)})}}function removeMenuItem(id){$rootScope.$broadcast("openproject.layout.removeMenuItem",{itemType:type,objectId:id})}function renameMenuItem(id,name){$rootScope.$broadcast("openproject.layout.renameMenuItem",{itemType:type,objectId:id,objectName:name})}function activateMenuItem(){$rootScope.$broadcast("openproject.layout.activateMenuItem")}function previousMenuItem(title){var allItems=getContainer().find("li"),previousElement=angular.element(allItems[allItems.length-1]),i=allItems.length-2;for(i;i>=0;i--){if(title>previousElement.find("a").attr("title")||0===previousElement.find("."+type).length)return previousElement;previousElement=angular.element(allItems[i])}}if(!options.container)throw new Error("Container must be specified menu item to have exacly one of either `template` or `templateUrl`");var container,scope,templateUrl="/templates/layout/menu_item.html",type=options.type,linkFn=options.linkFn;return{generateMenuItem:generateMenuItem,removeMenuItem:removeMenuItem,activateMenuItem:activateMenuItem,renameMenuItem:renameMenuItem,link:linkFn}}}},function(module,exports){module.exports=function(menuItemFactory,$state,$stateParams,$animate,$timeout,QUERY_MENU_ITEM_TYPE){return menuItemFactory({type:QUERY_MENU_ITEM_TYPE,container:"#main-menu-work-packages-wrapper ~ .menu-children",linkFn:function(scope,element,attrs){function setActiveState(){element.toggleClass("selected",!(!$state.includes("work-packages")||scope.queryId!=$stateParams.query_id))}function removeItem(){$animate.leave(element.parent(),function(){scope.$destroy()})}scope.queryId=scope.objectId||attrs.objectId,scope.uiRouteStateName="work-packages.list",scope.uiRouteParams="{ query_props: null, query_id: "+scope.queryId+" }",scope.$on("openproject.layout.activateMenuItem",setActiveState),scope.$watchCollection(function(){return{query_id:$stateParams.query_id}},setActiveState),scope.$on("openproject.layout.removeMenuItem",function(event,itemData){itemData.itemType===QUERY_MENU_ITEM_TYPE&&itemData.objectId==scope.queryId&&removeItem()}),scope.$on("openproject.layout.renameMenuItem",function(event,itemData){itemData.itemType===QUERY_MENU_ITEM_TYPE&&itemData.objectId==scope.queryId&&element.find(".menu-item--title").html(itemData.objectName)})}})}},function(module,exports,__webpack_require__){angular.module("openproject.messages.controllers").controller("MessagesController",["$scope","$http","PathHelper","SortService","PaginationService",__webpack_require__(515)])},function(module,exports){module.exports=function($scope,$http,PathHelper,SortService,PaginationService){$scope.PathHelper=PathHelper,$scope.messages=gon.messages,$scope.totalMessageCount=gon.total_count,$scope.isLoading=!1,$scope.projectId=gon.project_id,$scope.activityModuleEnabled=gon.activity_modul_enabled,PaginationService.setPerPageOptions(gon.settings.pagination.per_page_options),SortService.setColumn(gon.sort_column),SortService.setDirection(gon.sort_direction),$scope.loadMessages=function(){$scope.isLoading=!0,$http.get(PathHelper.boardPath(gon.project_id,gon.board_id),{params:{sort:SortService.getSortParam(),page:PaginationService.getPage(),per_page:PaginationService.getPerPage()}}).success(function(data,status,headers,config){$scope.messages=data.messages,$scope.isLoading=!1}).error(function(data,status,headers,config){$scope.isLoading=!1})}}},function(module,exports,__webpack_require__){__webpack_require__(514)},function(module,exports){angular.module("openproject.models")},function(module,exports){module.exports=function($http,I18n,NotificationsService){var ActivityService={createComment:function(workPackage,comment){return workPackage.addComment({comment:comment},{"Content-Type":"application/json; charset=UTF-8"})},updateComment:function(activity,comment){({ajax:{method:"PATCH",data:JSON.stringify({comment:comment}),contentType:"application/json; charset=utf-8"}});return activity.update({comment:comment},{"Content-Type":"application/json; charset=UTF-8"}).then(function(activity){return NotificationsService.addSuccess(I18n.t("js.work_packages.comment_updated")),activity})}};return ActivityService}},function(module,exports){module.exports=function(NotificationsService,ApiHelper){"use strict";var addError=function(error){var messages=ApiHelper.getErrorMessages(error);messages.length>1?NotificationsService.addError("",messages):NotificationsService.addError(messages[0])},addSuccess=function(text){NotificationsService.addSuccess(text)};return{addError:addError,addSuccess:addSuccess}}},function(module,exports){module.exports=function(){var ConversionService={megabytes:function(bytes){return angular.isNumber(bytes)?Number((bytes/1e6).toFixed(1)):bytes},kilobytes:function(bytes){return angular.isNumber(bytes)?Number((bytes/1e3).toFixed(1)):bytes},fileSize:function(bytes){return 1e3<=bytes&&bytes<1e6?ConversionService.kilobytes(bytes)+"kB":bytes>=1e6?ConversionService.megabytes(bytes)+"MB":bytes+"B"}};return ConversionService}},function(module,exports){module.exports=function(){var hooks={},HookService={register:function(id,callback){callback&&"function"==typeof callback&&(hooks[id]||(hooks[id]=[]),hooks[id].push(callback))},call:function(id,params){var results=[];if(hooks[id])for(var x=0;x<hooks[id].length;x++){var result=hooks[id][x](params);result&&results.push(result)}return results}};return HookService}},function(module,exports,__webpack_require__){angular.module("openproject.services").service("ActivityService",["$http","I18n","NotificationsService",__webpack_require__(518)]).service("HookService",__webpack_require__(521)).service("KeyboardShortcutService",["$window","$rootScope","$timeout","PathHelper",__webpack_require__(523)]).service("PaginationService",["DEFAULT_PAGINATION_OPTIONS","ConfigurationDm","$window",__webpack_require__(524)]).service("SortService",__webpack_require__(525)).service("StatusService",["$http","PathHelper",__webpack_require__(526)]).factory("TextileService",["$http","PathHelper",__webpack_require__(527)]).service("TimezoneService",["ConfigurationService","I18n",__webpack_require__(528)]).service("ApiNotificationsService",["NotificationsService","ApiHelper",__webpack_require__(519)]).service("ConversionService",__webpack_require__(520))},function(module,exports,__webpack_require__){(function(_){module.exports=function($window,$rootScope,$timeout,PathHelper){function accessKey(keyName){var key=accessKeys[keyName];return function(){var elem=angular.element("[accesskey="+key+"]:first");elem.is("input")?$timeout(function(){elem.focus()}):elem.is("[href]")?clickLink(elem[0]):elem.click()}}function projectScoped(action){return function(){var projectIdentifier=$rootScope.projectIdentifier;if(projectIdentifier){var url=PathHelper[action](projectIdentifier);$window.location.href=url}}}function clickLink(link){var cancelled=!1;if(document.createEvent){var event=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});cancelled=!link.dispatchEvent(event)}else link.fireEvent&&(cancelled=!link.fireEvent("onclick"));cancelled||(window.location=link.href)}function showHelpModal(){modalHelperInstance.createModal(PathHelper.keyboardShortcutsHelpPath())}function findListInPage(){var domLists,focusElements;return focusElements=[],domLists=angular.element(accessibleListSelector),domLists.find("tbody tr").each(function(index,tr){var firstLink=angular.element(tr).find(":visible:tabbable")[0];void 0!==firstLink&&focusElements.push(firstLink)}),focusElements}function focusItemOffset(offset){var list,index;if(list=findListInPage(),null!==list){index=list.indexOf(angular.element(document.activeElement).closest(accessibleRowSelector).find(":visible:tabbable")[0]);angular.element(list[(index+offset+list.length)%list.length]);angular.element(list[(index+offset+list.length)%list.length]).focus()}}function focusNextItem(){focusItemOffset(1)}function focusPrevItem(){focusItemOffset(-1)}var accessKeys={preview:1,newWorkPackage:2,edit:3,quickSearch:4,projectSearch:5,help:6,moreMenu:7,details:8},shortcuts={"?":showHelpModal,"up up down down left right left right b a enter":showHelpModal,"g m":"myPagePath","g o":projectScoped("projectPath"),"g w p":projectScoped("projectWorkPackagesPath"),"g w i":projectScoped("projectWikiPath"),"g a":projectScoped("activityFromPath"),"g c":projectScoped("projectCalendarPath"),"g n":projectScoped("projectNewsPath"),"g t":projectScoped("projectTimelinesPath"),"n w p":projectScoped("projectWorkPackageNewPath"),"g e":accessKey("edit"),"g p":accessKey("preview"),"d w p":accessKey("details"),m:accessKey("moreMenu"),p:accessKey("projectSearch"),s:accessKey("quickSearch"),k:focusPrevItem,j:focusNextItem},accessibleListSelector="table.keyboard-accessible-list",accessibleRowSelector="table.keyboard-accessible-list tbody tr",KeyboardShortcutService={activate:function(){_.forEach(shortcuts,function(action,key){_.isFunction(action)?Mousetrap.bind(key,action):Mousetrap.bind(key,function(){var url=PathHelper[action]();$window.location.href=url})})}};return KeyboardShortcutService}}).call(exports,__webpack_require__(2))},function(module,exports){module.exports=function(DEFAULT_PAGINATION_OPTIONS,ConfigurationDm,$window){function getCachedPerPage(){var perPage=parseInt($window.localStorage.getItem("pagination.perPage"),10);if(perPage>0)return perPage.toString()}var paginationOptions={page:DEFAULT_PAGINATION_OPTIONS.page,perPage:getCachedPerPage(),perPageOptions:[],maxVisiblePageOptions:DEFAULT_PAGINATION_OPTIONS.maxVisiblePageOptions,optionsTruncationSize:DEFAULT_PAGINATION_OPTIONS.optionsTruncationSize},PaginationService={getPaginationOptions:function(){return paginationOptions},getPage:function(){return paginationOptions.page},setPage:function(page){paginationOptions.page=page},getPerPage:function(){return paginationOptions.perPage},getMaxVisiblePageOptions:function(){return paginationOptions.maxVisiblePageOptions},getOptionsTruncationSize:function(){return paginationOptions.optionsTruncationSize},setPerPage:function(perPage){parseInt(perPage,10)>0&&$window.localStorage.setItem("pagination.perPage",perPage),paginationOptions.perPage=perPage},getPerPageOptions:function(){return paginationOptions.perPageOptions},setPerPageOptions:function(perPageOptions){paginationOptions.perPageOptions=perPageOptions},getLowerPageBound:function(){return paginationOptions.perPage*(paginationOptions.page-1)+1},getUpperPageBound:function(limit){return Math.min(paginationOptions.perPage*paginationOptions.page,limit)},resetPage:function(){paginationOptions.page=1},nextPage:function(){paginationOptions.page=paginationOptions.page+1},previousPage:function(){paginationOptions.page=paginationOptions.page-1},loadPerPageOptions:function(){ConfigurationDm.load().then(function(configuration){PaginationService.setPerPageOptions(configuration.perPageOptions)})}};return PaginationService}},function(module,exports){module.exports=function(){var sortOptions={column:"",direction:""},SortService={getColumn:function(){return sortOptions.column},setColumn:function(column){sortOptions.column=column},getDirection:function(){return sortOptions.direction},setDirection:function(direction){var sortDirection=direction;if("-"==sortDirection&&(sortDirection="desc"),""!=sortDirection&&"asc"!=sortDirection&&"desc"!=sortDirection)throw new Error("Parameter does not match possible values 'asc' or 'desc'!");sortOptions.direction=sortDirection},isDescending:function(){return"desc"==sortOptions.direction},getSortParam:function(){var direction=sortOptions.direction;return direction||(direction="asc"),sortOptions.column+":"+direction}};return SortService}},function(module,exports){module.exports=function($http,PathHelper){var StatusService={getStatuses:function(){return StatusService.doQuery(PathHelper.apiStatusesPath())},doQuery:function(url,params){return $http.get(url,{params:params}).then(function(response){return response.data._embedded.elements})}};return StatusService}},function(module,exports){module.exports=function($http,PathHelper){function renderWithWorkPackageContext(workPackage,text){return render(workPackage.previewMarkup,text)}function render(url,text){return $http({url:url,method:"POST",data:text,headers:{"Content-Type":"text/plain; charset=UTF-8"}})}return{renderWithWorkPackageContext:renderWithWorkPackageContext}}},function(module,exports){module.exports=function(ConfigurationService,I18n){var TimezoneService={setupLocale:function(){moment.locale(I18n.locale);
},parseDatetime:function(datetime,format){var d=moment.utc(datetime,format);return ConfigurationService.isTimezoneSet()&&(d.local(),d.tz(ConfigurationService.timezone())),d},parseDate:function(date,format){return moment(date,format)},parseLocalDateTime:function(date,format){var result;return result=ConfigurationService.isTimezoneSet()?moment.tz(date,format,ConfigurationService.timezone()):moment(date,format),result.utc(),result},parseISODatetime:function(datetime){return this.parseDatetime(datetime,"YYYY-MM-DDTHH:mm:ssZ")},parseISODate:function(date){return TimezoneService.parseDate(date,"YYYY-MM-DD")},formattedDate:function(date){var d=TimezoneService.parseDate(date);return d.format(TimezoneService.getDateFormat())},formattedTime:function(datetimeString){return TimezoneService.parseDatetime(datetimeString).format(TimezoneService.getTimeFormat())},formattedDatetime:function(datetimeString){var c=TimezoneService.formattedDatetimeComponents(datetimeString);return c[0]+" "+c[1]},formattedDatetimeComponents:function(datetimeString){var d=TimezoneService.parseDatetime(datetimeString);return[d.format(TimezoneService.getDateFormat()),d.format(TimezoneService.getTimeFormat())]},toHours:function(durationString){return Number(moment.duration(durationString).asHours().toFixed(2))},formattedDuration:function(durationString){return I18n.t("js.units.hour",{count:TimezoneService.toHours(durationString)})},formattedISODate:function(date){return TimezoneService.parseDate(date).format("YYYY-MM-DD")},formattedISODateTime:function(datetime){return datetime.format()},isValidISODate:function(date){return TimezoneService.isValid(date,"YYYY-MM-DD")},isValidISODateTime:function(dateTime){return TimezoneService.isValid(dateTime,"YYYY-MM-DDTHH:mm:ssZ")},isValid:function(date,dateFormat){var format=dateFormat||(ConfigurationService.dateFormatPresent()?ConfigurationService.dateFormat():"L");return moment(date,[format],!0).isValid()},getDateFormat:function(){return ConfigurationService.dateFormatPresent()?ConfigurationService.dateFormat():"L"},getTimeFormat:function(){return ConfigurationService.timeFormatPresent()?ConfigurationService.timeFormat():"LT"}};return TimezoneService}},function(module,exports,__webpack_require__){angular.module("openproject.timeEntries.controllers").controller("TimeEntriesController",["$scope","$http","PathHelper","SortService","PaginationService","NotificationsService",__webpack_require__(530)])},function(module,exports){module.exports=function($scope,$http,PathHelper,SortService,PaginationService,NotificationsService){$scope.PathHelper=PathHelper,$scope.timeEntries=gon.timeEntries,$scope.totalEntryCount=gon.total_count,$scope.isLoading=!1,SortService.setColumn(gon.sort_column),SortService.setDirection(gon.sort_direction),$scope.timeEntriesPath=function(projectId,workPackageId){return projectId?PathHelper.projectTimeEntriesPath(projectId):PathHelper.timeEntriesPath(workPackageId)},$scope.loadTimeEntries=function(){$scope.isLoading=!0,$http.get($scope.timeEntriesPath(gon.project_id,gon.work_package_id),{params:{sort:SortService.getSortParam(),page:PaginationService.getPage()}}).success(function(data,status,headers,config){$scope.timeEntries=data.timeEntries,$scope.isLoading=!1}).error(function(data,status,headers,config){$scope.isLoading=!1})},$scope.deleteTimeEntry=function(id){window.confirm(I18n.t("js.text_are_you_sure"))&&$http.delete(PathHelper.timeEntryPath(id)).success(function(data){for(var index=0,i=0;i<$scope.timeEntries.length;i++)if($scope.timeEntries[i].id===id){index=i;break}$scope.timeEntries.splice(index,1),NotificationsService.addSuccess(data.text)}).error(function(data){NotificationsService.addError(data.text)})}}},function(module,exports,__webpack_require__){__webpack_require__(529)},function(module,exports,__webpack_require__){angular.module("openproject.timelines.controllers").controller("TimelineSelectionController",["$scope","$window",__webpack_require__(533)]).controller("TimelinesController",["$scope",__webpack_require__(534)])},function(module,exports,__webpack_require__){(function(_){module.exports=function($scope,$window){var vm;$scope.vm=vm={},vm.timelines=gon.timelines,vm.currentTimelineId=gon.current_timeline_id,vm.currentTimeline=_.find(vm.timelines,{id:vm.currentTimelineId}),vm.switchTimeline=function(){$window.location.href=vm.currentTimeline.path}}}).call(exports,__webpack_require__(2))},function(module,exports){module.exports=function($scope){$scope.timelineOptions=gon.timeline_options,$scope.init=function(id){var timelineOptions=$scope.timelineOptions[id],timeline=Timeline.create(id,timelineOptions);$scope.timeline=timeline}}},function(module,exports,__webpack_require__){angular.module("openproject.timelines.directives").constant("WORK_PACKAGE_DATE_COLUMNS",["start_date","due_date"]).directive("timelineColumnData",["WORK_PACKAGE_DATE_COLUMNS","I18n","CustomFieldHelper",__webpack_require__(536)]).directive("timelineColumnName",["I18n","CustomFieldHelper",__webpack_require__(537)]).directive("timelineContainer",["$window","Timeline",__webpack_require__(538)]).directive("timelineGroupingLabel",[__webpack_require__(539)]).directive("timelineTableContainer",["TimelineLoaderService","TimelineTableHelper","SvgHelper","PathHelper",__webpack_require__(540)]).directive("timelineTable",["TimelineTableHelper",__webpack_require__(541)]).directive("timelineTableRow",__webpack_require__(542)).directive("timelineToolbar",["I18n",__webpack_require__(543)])},function(module,exports){module.exports=function(WORK_PACKAGE_DATE_COLUMNS,I18n,CustomFieldHelper){return{restrict:"A",scope:{rowObject:"=",columnName:"=",timeline:"=",customFields:"="},templateUrl:"/templates/timelines/timeline_column_data.html",link:function(scope,element){function getColumnData(){switch(scope.columnName){case"start_date":return scope.rowObject.start_date;case"due_date":return scope.rowObject.due_date;default:return scope.rowObject.getAttribute(getAttributeAccessor(scope.columnName))}}function getAttributeAccessor(attr){return{type:"getTypeName",status:"getStatusName",responsible:"getResponsibleName",assigned_to:"getAssignedName",project:"getProjectName"}[attr]||attr}function hasChanged(planningElement,attr){return planningElement.does_historical_differ(getAttributeAccessor(attr))}function getCustomFieldColumnData(object,customFieldName,customFields,users){if(customFields){var customField=customFields[CustomFieldHelper.getCustomFieldId(customFieldName)];return customField?CustomFieldHelper.formatCustomFieldValue(object[customFieldName],customField.field_format,users):void 0}}function setHistoricalData(){scope.historicalDataDiffers=hasChanged(scope.rowObject,scope.columnName),scope.historicalDateKind=getHistoricalDateKind(scope.rowObject,scope.columnName),scope.labelTimelineChanged=I18n.t("js.timelines.change"),scope.rowObject.historical_element&&(scope.historicalData=scope.rowObject.historical_element.getAttribute(getAttributeAccessor(scope.columnName))||I18n.t("js.timelines.empty"))}function getHistoricalDateKind(planningElement,attr){if(hasChanged(planningElement,attr)){var newDate=planningElement[attr],oldDate=planningElement.historical_element[attr];return oldDate&&newDate?newDate<oldDate?"preponed":"postponed":"changed"}}scope.isDateColumn=WORK_PACKAGE_DATE_COLUMNS.indexOf(scope.columnName)!==-1,CustomFieldHelper.isCustomFieldKey(scope.columnName)?scope.$watch("timeline.custom_fields",function(){scope.columnData=getCustomFieldColumnData(scope.rowObject,scope.columnName,scope.customFields,scope.timeline.users)}):scope.columnData=getColumnData(),setHistoricalData(scope)}}}},function(module,exports){module.exports=function(I18n,CustomFieldHelper){return{restrict:"A",scope:{columnName:"=",customFields:"=",localePrefix:"@"},link:function(scope,element){CustomFieldHelper.isCustomFieldKey(scope.columnName)?scope.$watch("customFields",function(){var customFieldId=CustomFieldHelper.getCustomFieldId(scope.columnName);scope.customFields&&scope.customFields[customFieldId]&&element.html(scope.customFields[customFieldId].name)}):element.html(I18n.t(scope.localePrefix+"."+scope.columnName))}}}},function(module,exports){module.exports=function($window,Timeline){return setTimelinesWidth=function(scope){var contentElement=angular.element("#content");contentElement.length>0&&(scope.timelineWidth=contentElement.width())},{restrict:"E",replace:!0,controller:["$scope",function($scope){this.showError=function(errorMessage){$scope.errorMessage=errorMessage}}],scope:{timelineId:"@"},transclude:!0,template:'<div ng-style="{ width: timelineWidth }"><div ng-hide="!!errorMessage" ng-transclude id="{{timelineContainerElementId}}"/><div ng-if="!!errorMessage" ng-bind="errorMessage" class="flash error"/></div>',link:function(scope){scope.timelineContainerElementId="timeline-container-"+scope.timelineId,angular.element(".wiki-content").length>0&&(setTimelinesWidth(scope),angular.element($window).bind("resize",function(){scope.$apply(function(){setTimelinesWidth(scope)})}))}}}},function(module,exports){module.exports=function(){return{restrict:"A",scope:!0,link:function(scope,element,attributes){scope.showGroupingLabel=function(){return!scope.$first&&scope.row.firstLevelGroup!==scope.rows[scope.$index-1].firstLevelGroup}}}}},function(module,exports){module.exports=function(TimelineLoaderService,TimelineTableHelper,SvgHelper,PathHelper){return{restrict:"E",replace:!0,require:"^timelineContainer",templateUrl:"/templates/timelines/timeline_table_container.html",scope:{timeline:"="},link:function(scope,element,attributes,timelineContainerCtrl){function showWarning(){scope.underConstruction=!1,scope.warning=!0,scope.$apply()}function showError(errorMessage){scope.underConstruction=!1,timelineContainerCtrl.showError(errorMessage)}function fetchData(){return TimelineLoaderService.loadTimelineData(scope.timeline)}function completeUI(){var paperElement=jQuery("#timeline-container-"+scope.timeline.id+" .tl-chart")[0];scope.timeline.paper=new SvgHelper(paperElement),scope.timeline.zoom(scope.timeline.zoomIndex),scope.underConstruction=!1,scope.warning=!1,scope.timeline.getChart().scroll(function(){scope.timeline.adjustTooltip()}),jQuery(window).scroll(function(){scope.timeline.adjustTooltip()})}function buildWorkPackageTable(timeline){timeline.lefthandTree=null;var tree=timeline.getLefthandTree();return tree.containsPlanningElements()||tree.containsProjects()?(timeline.adjustForPlanningElements(),scope.rows=TimelineTableHelper.getTableRowsFromTimelineTree(tree,timeline.options)):scope.rows=[],scope.rows}function drawChart(tree){var timeline=scope.timeline;try{window.clearTimeout(timeline.safetyHook),scope.rows.length>0?completeUI():timeline.warn(I18n.t("js.label_no_data"),"warning",showWarning)}catch(e){timeline.die(e)}}function renderTimeline(){return fetchData().then(buildWorkPackageTable).then(drawChart,showError)}function reloadTimeline(){return fetchData().then(buildWorkPackageTable).then(function(){scope.currentOutlineLevel?scope.timeline.expandToOutlineLevel(scope.currentOutlineLevel):scope.timeline.rebuildAll()},showError)}function registerModalHelper(){scope.timeline.modalHelper=modalHelperInstance,scope.timeline.modalHelper.setupTimeline(scope.timeline,{url_prefix:PathHelper.staticBase,project_prefix:"/projects"}),jQuery(scope.timeline.modalHelper).on("closed",function(){reloadTimeline().then(function(){window.clearTimeout(scope.timeline.safetyHook)})})}scope.underConstruction=!0,scope.timeline.registerTimelineContainer(element),registerModalHelper(),renderTimeline()}}}},function(module,exports){module.exports=function(TimelineTableHelper){return{restrict:"E",replace:!0,templateUrl:"/templates/timelines/timeline_table.html",scope:!0,link:function(scope,element,attributes){scope.columns=scope.timeline.options.columns,scope.height=scope.timeline.decoHeight(),scope.excludeEmpty="yes"===scope.timeline.options.exclude_empty,scope.isGrouping=scope.timeline.isGrouping(),scope.hideTreeRoot=scope.isGrouping||scope.timeline.options.hide_tree_root,scope.toggleRowExpansion=function(row){if(row.expanded)var expansionMethod=function(node){node.resetVisible()};else var expansionMethod=function(node){node.setVisible()};TimelineTableHelper.applyToNodes(row.childNodes,expansionMethod,row.expanded),row.expanded=!row.expanded,TimelineTableHelper.setLastVisible(scope.rows)}}}}},function(module,exports){module.exports=function(){return{restrict:"A",scope:!0,link:function(scope,element,attributes){var rowObject=scope.row.payload;scope.rowObject=rowObject,scope.rowObjectType=rowObject.objectType,scope.changeDetected="PlanningElement"===rowObject.objectType&&(rowObject.hasAlternateDates()||rowObject.isNewlyAdded()||rowObject.isDeleted()),scope.indent=scope.hideTreeRoot?scope.row.level-1:scope.row.level,scope.row.dom_element=element,scope.$watch("row.expanded",function(expanded,formerlyExpanded){expanded!==formerlyExpanded&&scope.timeline.rebuildAll()})}}}},function(module,exports){module.exports=function(I18n){return{restrict:"E",replace:!0,templateUrl:"/templates/timelines/toolbar.html",scope:{timeline:"="},controller:function(){var vm=this;vm.currentScale="monthly",vm.updateToolbar=function(){vm.currentOutlineLevel=vm.timeline.OUTLINE_LEVELS[vm.timeline.expansionIndex],vm.currentScale=vm.timeline.ZOOM_SCALES[vm.timeline.zoomIndex]},vm.increaseZoom=function(){var scaleIndex=vm.timeline.ZOOM_SCALES.indexOf(vm.currentScale);scaleIndex<Object.keys(vm.timeline.ZOOM_CONFIGURATIONS).length-1&&scaleIndex++,vm.currentScale=vm.timeline.ZOOM_SCALES[scaleIndex]},vm.decreaseZoom=function(){var scaleIndex=vm.timeline.ZOOM_SCALES.indexOf(vm.currentScale);scaleIndex>0&&scaleIndex--,vm.currentScale=vm.timeline.ZOOM_SCALES[scaleIndex]},vm.resetOutline=function(){vm.timeline.expandTo(0),vm.currentOutlineLevel=vm.timeline.OUTLINE_LEVELS[vm.timeline.expansionIndex]}},controllerAs:"ctrl",bindToController:!0,link:function(scope,_element,_attributes,ctrl){scope.I18n=I18n,scope.$watch("ctrl.currentScale",function(newScale,oldScale){if(newScale!==oldScale){var scaleIndex=ctrl.timeline.ZOOM_SCALES.indexOf(ctrl.currentScale);ctrl.timeline.zoom(scaleIndex)}}),scope.$watch("ctrl.currentOutlineLevel",function(outlineLevel,formerLevel){outlineLevel!==formerLevel&&(ctrl.timeline.expansionIndex=ctrl.timeline.OUTLINE_LEVELS.indexOf(outlineLevel),ctrl.timeline.expandToOutlineLevel(outlineLevel))}),ctrl.updateToolbar()}}}},function(module,exports){module.exports=function(){var FilterQueryStringBuilder=function(){var FilterQueryStringBuilder=function(filterHash){this.filterHash=filterHash||{},this.paramsHash={}};return FilterQueryStringBuilder.prototype.filter=function(filters){return this.filterHash=jQuery.extend({},this.filterHash,filters),this},FilterQueryStringBuilder.prototype.append=function(addition){return this.paramsHash=jQuery.extend({},this.paramsHash,addition),this},FilterQueryStringBuilder.prototype.buildMetaDataForKey=function(key){this.queryStringParts.push({name:"f[]",value:key},{name:"op["+key+"]",value:"="})},FilterQueryStringBuilder.prototype.prepareFilterDataForKeyAndValue=function(key,value){this.queryStringParts.push({name:"v["+key+"][]",value:value})},FilterQueryStringBuilder.prototype.prepareAdditionalQueryData=function(key,value){this.queryStringParts.push({name:key,value:value})},FilterQueryStringBuilder.prototype.prepareFilterDataForKeyAndArrayOfValues=function(key,value){jQuery.each(value,jQuery.proxy(function(i,e){this.prepareFilterDataForKeyAndValue(key,e)},this))},FilterQueryStringBuilder.prototype.buildFilterDataForValue=function(key,value){Array.isArray(value)?this.prepareFilterDataForKeyAndArrayOfValues(key,value):this.prepareFilterDataForKeyAndValue(key,value)},FilterQueryStringBuilder.prototype.registerKeyAndValue=function(key,value){this.buildMetaDataForKey(key),this.buildFilterDataForValue(key,value)},FilterQueryStringBuilder.prototype.prepareQueryStringParts=function(){this.queryStringParts=[],jQuery.each(this.filterHash,jQuery.proxy(this.registerKeyAndValue,this)),jQuery.each(this.paramsHash,jQuery.proxy(this.prepareAdditionalQueryData,this))},FilterQueryStringBuilder.prototype.buildQueryStringFromQueryStringParts=function(url){return jQuery.map(this.queryStringParts,function(e,i){return e.name+"="+encodeURIComponent(e.value)}).join("&")},FilterQueryStringBuilder.prototype.buildUrlFromQueryStringParts=function(url){var resultUrl=url;return resultUrl+="?",resultUrl+=this.buildQueryStringFromQueryStringParts()},FilterQueryStringBuilder.prototype.build=function(url){return this.prepareQueryStringParts(),this.buildUrlFromQueryStringParts(url)},FilterQueryStringBuilder}();return FilterQueryStringBuilder}},function(module,exports,__webpack_require__){angular.module("openproject.timelines.helpers").factory("FilterQueryStringBuilder",__webpack_require__(544)).factory("TimelineTableHelper",__webpack_require__(546))},function(module,exports){module.exports=function(){var NodeFilter=function(options){this.options=options};NodeFilter.prototype.memberOfHiddenOtherGroup=function(node){return this.options&&"yes"===this.options.hide_other_group&&1===node.level&&"Project"===node.payload.objectType&&0===node.payload.getFirstLevelGrouping()},NodeFilter.prototype.hiddenOrFilteredOut=function(node){var nodeObject=node.payload;return nodeObject.hide()||nodeObject.filteredOut()},NodeFilter.prototype.nodeExcluded=function(node){return this.hiddenOrFilteredOut(node)||this.memberOfHiddenOtherGroup(node)};var TimelineTableHelper={flattenTimelineTree:function(root,filterCallback,processNodeCallback){var nodes=[];return angular.forEach(root.childNodes,function(node){filterCallback(node)||(processNodeCallback&&processNodeCallback(node,root),nodes.push(node),nodes=nodes.concat(TimelineTableHelper.flattenTimelineTree(node,filterCallback,processNodeCallback)))}),nodes},addRowDataToNode:function(node,parent){parent&&(node.ancestors=[parent],parent.ancestors&&(node.ancestors=parent.ancestors.concat(node.ancestors)));var isNested=node.level>=2;"Project"!==node.payload.objectType||isNested?node.firstLevelGroup=parent.firstLevelGroup:(node.firstLevelGroup=node.payload.getFirstLevelGrouping(),node.firstLevelGroupingName=node.payload.getFirstLevelGroupingName())},getTableRowsFromTimelineTree:function(tree,options){var nodeFilter=new NodeFilter(options);TimelineTableHelper.addRowDataToNode(tree);var rows=TimelineTableHelper.flattenTimelineTree(tree,function(node){return nodeFilter.nodeExcluded(node)},TimelineTableHelper.addRowDataToNode);return rows.unshift(tree),rows},setLastVisible:function(rows){for(var set=!1,i=rows.length-1;i>=0;)!set&&rows[i].visible?(rows[i].setLastVisible(),set=!0):rows[i].resetLastVisible(),i--},setRowLevelVisibility:function(rows,level){angular.forEach(rows,function(row){row.level<=level?row.setVisible():row.resetVisible()}),TimelineTableHelper.setLastVisible(rows)},applyToNodes:function(nodes,method,recurse){var method=method;angular.forEach(nodes,function(node){method(node),node.childNodes&&recurse&&TimelineTableHelper.applyToNodes(node.childNodes,method,recurse)})}};return TimelineTableHelper}},function(module,exports,__webpack_require__){__webpack_require__(532),__webpack_require__(535),__webpack_require__(545),__webpack_require__(551),__webpack_require__(564)},function(module,exports){module.exports=function(){return Color={identifier:"colors",all:function(timeline){var r=timeline.colors,result=[];for(var key in r)r.hasOwnProperty(key)&&result.push(r[key]);return result}},Color}},function(module,exports){module.exports=function(){var CustomField={identifier:"custom_fields",all:function(timeline){var r=timeline.custom_fields,result=[];for(var key in r)r.hasOwnProperty(key)&&result.push(r[key]);return result}};return CustomField}},function(module,exports){module.exports=function(){return HistoricalPlanningElement={identifier:"historical_planning_elements"},HistoricalPlanningElement}},function(module,exports,__webpack_require__){angular.module("openproject.timelines.models").factory("Color",__webpack_require__(548)).factory("CustomField",__webpack_require__(549)).factory("HistoricalPlanningElement",__webpack_require__(550)).factory("Constants",__webpack_require__(552)).factory("UI",["$timeout",__webpack_require__(553)]).factory("PlanningElementType",__webpack_require__(554)).factory("PlanningElement",["PathHelper",__webpack_require__(555)]).factory("ProjectAssociation",__webpack_require__(556)).factory("ProjectType",__webpack_require__(557)).factory("Project",["PathHelper",__webpack_require__(558)]).factory("Reporting",__webpack_require__(559)).factory("Status",__webpack_require__(560)).factory("Timeline",["Constants","TreeNode","UI","Color","HistoricalPlanningElement","PlanningElement","PlanningElementType","ProjectType","Project","ProjectAssociation","Reporting","CustomField","CustomFieldHelper",__webpack_require__(561)]).factory("TreeNode",__webpack_require__(562)).factory("User",__webpack_require__(563))},function(module,exports){module.exports=function(){var Constants={LOAD_ERROR_TIMEOUT:6e4,DISPLAY_ERROR_DELAY:2e3,PROJECT_ID_BLOCK_SIZE:100,USER_ATTRIBUTES:{PROJECT:["responsible_id"],PLANNING_ELEMENT:["responsible_id","assigned_to_id"]},defaults:{artificial_load_delay:0,columns:[],exclude_own_planning_elements:!1,exclude_reporters:!1,api_prefix:"/api/v2",hide_other_group:!1,hide_tree_root:!1,initial_outline_expansion:0,project_prefix:"/projects",planning_element_prefix:"",ui_root:jQuery("#timeline"),url_prefix:""},ajax_defaults:{cache:!1,context:this,dataType:"json"}};return Constants}},function(module,exports){module.exports=function($timeout){var UI={DEFAULT_COLOR:"#999999",DEFAULT_FILL_COLOR_IN_COMPARISONS:"none",DEFAULT_LANE_COLOR:"#000000",DEFAULT_LANE_WIDTH:1,DEFAULT_PARENT_COLOR:"#666666",DEFAULT_STROKE_COLOR:"#000000",DEFAULT_STROKE_COLOR_IN_COMPARISONS:"#000000",DEFAULT_STROKE_DASHARRAY_IN_COMPARISONS:"",DEFAULT_COMPARISON_OFFSET:5,DAY_WIDTH:16,MIN_CHART_WIDTH:200,RENDER_BUCKET_SIZE:32,ORIGINAL_BORDER_WIDTH_CORRECTION:3,BORDER_WIDTH_CORRECTION:3,HOVER_THRESHOLD:3,GROUP_BAR_INDENT:-10,PE_DARK_TEXT_COLOR:"#000000",PE_DEFAULT_TEXT_COLOR:"#000000",PE_HEIGHT:20,PE_LIGHT_TEXT_COLOR:"#ffffff",PE_LUMINANCE_THRESHOLD:.5,PE_TEXT_ADDITIONAL_OUTSIDE_PADDING_WHEN_MILESTONE:6,PE_TEXT_ADDITIONAL_OUTSIDE_PADDING_WHEN_EXPANDED_WITH_CHILDREN:6,PE_TEXT_INSIDE_PADDING:8,PE_TEXT_OUTSIDE_PADDING:6,PE_TEXT_AGGREGATED_LABEL_WIDTH_THRESHOLD:5,USE_MODALS:!0,scale:1,zoomIndex:0,OUTLINE_LEVELS:["aggregation","level1","level2","level3","level4","level5","all"],OUTLINE_CONFIGURATIONS:{aggregation:{name:"timelines.outlines.aggregation",level:0},level1:{name:"timelines.outlines.level1",level:1},level2:{name:"timelines.outlines.level2",level:2},level3:{name:"timelines.outlines.level3",level:3},level4:{name:"timelines.outlines.level4",level:4},level5:{name:"timelines.outlines.level5",level:5},all:{name:"timelines.outlines.all",level:1/0}},ZOOM_SCALES:["yearly","quarterly","monthly","weekly","daily"],ZOOM_CONFIGURATIONS:{daily:{name:"timelines.zoom.days",scale:1.4,config:["months","weeks","actualDays","weekDays"]},weekly:{name:"timelines.zoom.weeks",scale:.89,config:["months","weeks","weekDays"]},monthly:{name:"timelines.zoom.months",scale:.53,config:["years","months","weeks"]},quarterly:{name:"timelines.zoom.quarters",scale:.21,config:["year-quarters","months","weeks"]},yearly:{name:"timelines.zoom.years",scale:.1,config:["years","quarters","months"]}},getScale:function(){var day=this.DAY_WIDTH*this.scale,week=7*day,height=Timeline.PE_HEIGHT;return{height:height,week:week,day:day}},setScale:function(scale){return scale?this.scale=scale:scale=this.scale,this.getDaysForCurrentScale()},getDaysForCurrentScale:function(){var days=this.getDaysBetween(this.getBeginning(),this.getEnd());return days*this.DAY_WIDTH*this.scale},getWidth:function(){return Math.max(this.adjusted_width,this.getDaysForCurrentScale()+200)},resetWidth:function(){delete this.adjusted_width},adjustWidth:function(width){var old_adjusted_width=this.adjusted_width;return this.adjusted_width=void 0===this.adjusted_width?width:Math.max(old_adjusted_width,Math.max(width,this.adjusted_width)),old_adjusted_width<this.adjusted_width&&this.rebuildAll(),this.adjusted_width},getHeight:function(){return this.getMeasuredHeight()-this.getMeasuredScrollbarHeight()},scaleToFit:function(width){var scale=width/(this.DAY_WIDTH*this.getDaysBetween(this.getBeginning(),this.getEnd()));return this.setScale(scale),scale},getColorParts:function(color){return jQuery.map(color.match(/[0-9a-fA-F]{2}/g),function(e,i){return parseInt(e,16)})},getLuminanceFor:function(color){var parts=this.getColorParts(color),result=(.299*parts[0]+.587*parts[1]+.114*parts[2])/256;return result},expandTo:function(index){index=Math.max(index,0),this.expansionIndex=index,this.expandToOutlineLevel(Timeline.OUTLINE_LEVELS[index])},expandToOutlineLevel:function(outlineLevel){var currentOutlineConfig=Timeline.OUTLINE_CONFIGURATIONS[outlineLevel];if(currentOutlineConfig){var level=currentOutlineConfig.level;this.options.hide_tree_root&&level++,level=this.getLefthandTree().expandTo(level),this.rebuildAll()}},zoom:function(index){void 0===index&&(index=this.zoomIndex),index=Math.max(Math.min(this.ZOOM_SCALES.length-1,index),0);var zoomScale=this.ZOOM_SCALES[index],scale=this.ZOOM_CONFIGURATIONS[zoomScale].scale;this.zoomIndex=index,this.scale=scale,this.resetWidth(),this.triggerResize(),this.rebuildAll()},zoomIn:function(){this.zoom(this.zoomIndex+1)},zoomOut:function(){this.zoom(this.zoomIndex-1)},getSwimlaneStyles:function(){return[{textColor:"#000000",laneColor:"#e7e7e7"},{textColor:"#000000",laneColor:"#797979"},{textColor:"#000000",laneColor:"#424242"},{textColor:"#000000",laneColor:"#000000"}]},getSwimlaneConfiguration:function(){return{actualDays:{delimiter:this.getBeginning().moveToFirstDayOfMonth().moveToDayOfWeek(Date.CultureInfo.firstDayOfWeek,-1),caption:function(){return this.delimiter.toString("d")},next:function(){return this.delimiter.addDays(1)},overrides:["weekDays"]},weekDays:{delimiter:this.getBeginning().moveToFirstDayOfMonth().moveToDayOfWeek(Date.CultureInfo.firstDayOfWeek,-1),caption:function(){return this.delimiter.toString("ddd")[0]},next:function(){return this.delimiter.addDays(1)},overrides:["actualDays"]},weeks:{delimiter:this.getBeginning().moveToFirstDayOfMonth().moveToDayOfWeek(Date.CultureInfo.firstDayOfWeek,-1),caption:function(){return this.delimiter.getWeekOfYear()},next:function(){return this.delimiter.addWeeks(1)},overrides:["weekDays","actualDays"]},months:{delimiter:this.getBeginning().moveToFirstDayOfMonth(),caption:function(){return Date.CultureInfo.abbreviatedMonthNames[this.delimiter.getMonth()]},next:function(){return this.delimiter.addMonths(1)},overrides:["actualDays","weekDays","quarters"]},"year-quarters":{delimiter:this.getBeginning().moveToMonth(0,-1).moveToFirstDayOfMonth(),caption:function(){return Date.CultureInfo.abbreviatedQuarterNames[this.delimiter.getQuarter()]+" "+this.delimiter.toString("yyyy")},next:function(){return this.delimiter.addQuarters(1)},overrides:["actualDays","weekDays","months","quarters"]},quarters:{delimiter:this.getBeginning().moveToMonth(0,-1).moveToFirstDayOfMonth(),caption:function(){return Date.CultureInfo.abbreviatedQuarterNames[this.delimiter.getQuarter()]},next:function(){return this.delimiter.addQuarters(1)},overrides:["actualDays","weekDays","months"]},years:{delimiter:this.getBeginning().moveToMonth(0,-1).moveToFirstDayOfMonth(),caption:function(){return this.delimiter.toString("yyyy")},next:function(){return this.delimiter.addYears(1)},overrides:["actualDays","weekDays","months","quarters"]}}},getUiRoot:function(){return this.uiRoot},getEventHandlerSuffix:function(){return void 0===this.event_handler_suffix&&(this.event_handler_suffix=this.getUiRoot().attr("id")),this.event_handler_suffix},getTooltip:function(){var tooltip=this.getUiRoot().find(".tl-tooltip");return tooltip},getChart:function(){return this.getUiRoot().find(".tl-chart")},getMeasuredHeight:function(){return this.getUiRoot().find(".tl-left-main").height()},getMeasuredScrollbarHeight:function(){var p,div,h,hh;return void 0!==this.scrollbar_height?this.scrollbar_height:(p=jQuery("<p/>").css({width:"100%",height:"200px"}),div=jQuery("<div/>").css({position:"absolute",top:"0",left:"0",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),div.append(p),jQuery("body").append(div),h=p[0].offsetWidth,div.css({overflow:"scroll"}),hh=p[0].offsetWidth,h===hh&&(hh=div[0].clientWidth),div.remove(),this.scrollbar_height=h-hh,this.scrollbar_height)},escape:function(string){return jQuery("<div/>").text(string).html()},psub:function(string,map){return string.replace(/#\{(.+?)\}/g,function(m,p,o,s){return map[p]})},pnum:function(string){return parseInt(string.replace(/[^\d\-]/g,""),10)},filterOutBasedOnArray:function(array,object){return!Timeline.idInArray(array,object)},idInArray:function(array,object){var id=object?object.id+"":"-1";return!(jQuery.isArray(array)&&array.length>0)||jQuery.inArray(id,array)!==-1},rebuildAll:function(){var timeline=this,root=timeline.getUiRoot();delete this.table_offset,$timeout.cancel(this.rebuildTimeout),this.rebuildTimeout=$timeout(function(){if(null===timeline.options.hide_chart&&root.find(".timeline").css({"min-width":root.find(".tl-left-main").width()+Timeline.MIN_CHART_WIDTH}),"yes"!==timeline.options.hide_chart)timeline.rebuildGraph();else{var chart=timeline.getUiRoot().find(".tl-chart");chart.css({display:"none"})}timeline.adjustScrollingForChangedContent()})},adjustScrollingForChangedContent:function(){var current_height=Math.max(jQuery("body").height(),jQuery("#content").height());current_height<jQuery(window).scrollTop()&&jQuery(window).scrollTop(current_height-jQuery(window).height())},scrollbarBox:function(){var scrollbar_height=this.getMeasuredScrollbarHeight();return jQuery('<div class="tl-invisible"/>').css({height:scrollbar_height,width:scrollbar_height})},decoHeight:function(){var config=Timeline.ZOOM_SCALES[this.zoomIndex],lanes=Timeline.ZOOM_CONFIGURATIONS[config].config.length;return 12*lanes},getPaper:function(){return this.paper},rebuildGraph:function(){var timeline=this,tree=timeline.getLefthandTree(),chart=timeline.getUiRoot().find(".tl-chart");chart.css({display:"none"});var width=timeline.getWidth(),height=timeline.getHeight();timeline.paper.clear(),timeline.paper.setSize(width,height),$timeout(function(){timeline.bustVerticalOffsetCache(tree),timeline.rebuildBackground(tree,width,height),chart.css({display:"block"}),timeline.rebuildForeground(tree)})},finishGraph:function(){var root=this.getUiRoot(),info=jQuery('<span class="tl-hidden-info tl-finished"></span>');this.setupEventHandlers(),root.append(info)},rebuildBackground:function(tree,width,height){var beginning=this.getBeginning(),scale=this.getScale(),end=this.getEnd(),deco=this.decoHeight();deco--,this.paper.rect(0,deco,width,height).attr({fill:"#fff",stroke:"#fff","stroke-opacity":0,"stroke-width":0}),this.paper.path(this.psub("M0 #{y}H#{w}",{y:deco+.5,w:width}));var lastDivider,caption,captionElement,bbox,dividerPath,captionWidth,padding=2;lastDivider=0;var key,i,left,first,x,y,lastOverrideGroup,swimlanes=this.getSwimlaneConfiguration(),styles=this.getSwimlaneStyles(),config=Timeline.ZOOM_SCALES[this.zoomIndex],timeline=this,currentStyle=0;for(i=Timeline.ZOOM_CONFIGURATIONS[config].config.length-1;i>=0;i--)if(key=Timeline.ZOOM_CONFIGURATIONS[config].config[i],swimlanes.hasOwnProperty(key)){for(swimlanes[key].overrides.length>lastOverrideGroup&&currentStyle++,lastOverrideGroup=swimlanes[key].overrides.length,lastDivider=0,captionWidth=0,dividerPath="",first=!0;lastDivider<width||swimlanes[key].delimiter.compareTo(end)<=0;)caption=swimlanes[key].caption()||"",void 0===caption.length&&(caption=caption.toString()),swimlanes[key].next(),left=timeline.getDaysBetween(beginning,swimlanes[key].delimiter)*scale.day,bbox={height:8},captionElement=timeline.paper.text(0,0,caption),captionElement.attr({"font-size":10
}),captionWidth=jQuery(captionElement.node).width()||0,x=lastDivider+(left-lastDivider)/2-captionWidth/16,y=deco-padding,captionElement.translate(x,y).attr({fill:styles[currentStyle].textColor||timeline.DEFAULT_COLOR,stroke:"none"}),lastDivider=left,dividerPath+=timeline.psub("M#{x} #{y}v#{b} M#{x} #{d}v#{h}",{x:left,y:deco-bbox.height-2*padding,h:height,b:bbox.height+2*padding,d:timeline.decoHeight()+1});timeline.paper.path(dividerPath).attr({stroke:styles[currentStyle].laneColor||timeline.DEFAULT_LANE_COLOR,"stroke-width":styles[currentStyle].laneWidth||timeline.DEFAULT_LANE_WIDTH,"stroke-linecap":"butt"}),deco-=bbox.height+2*padding,timeline.paper.path(timeline.psub("M0 #{y}H#{w}",{y:deco+1+bbox.height+2*padding,w:width})).attr({stroke:styles[currentStyle].textColor||timeline.DEFAULT_COLOR})}this.frameLine(),this.nowLine()},previousRelativeVerticalOffset:0,previousRelativeVerticalOffsetParameter:void 0,getRelativeVerticalOffset:function(offset){if(offset===this.previousRelativeVerticalOffsetParameter)return this.previousRelativeVerticalOffset;var result=parseInt(offset.attr("data-vertical-offset"),10);return isNaN(result)&&(void 0===this.table_offset&&(result=this.table_offset=this.getUiRoot().find(".tl-left-main table").position().top),result=offset.position().top-this.table_offset,offset.attr("data-vertical-offset",result)),this.previousRelativeVerticalOffset=result,this.previousRelativeVerticalOffsetParameter=offset,result},previousRelativeVerticalBottomOffset:0,previousRelativeVerticalBottomOffsetParameter:void 0,getRelativeVerticalBottomOffset:function(offset){if(offset===this.previousRelativeVerticalBottomOffsetParameter)return this.previousRelativeVerticalBottomOffset;var result=parseInt(offset.attr("data-vertical-bottom-offset"),10);return isNaN(result)&&(result=this.getRelativeVerticalOffset(offset),1===offset.find("div").length&&(result-=jQuery(offset.find("div")[0]).height()),result+=offset.outerHeight(),offset.attr("data-vertical-bottom-offset",result)),this.previousRelativeVerticalBottomOffset=result,this.previousRelativeVerticalBottomOffsetParameter=offset,result},bustVerticalOffsetCache:function(tree){tree.iterateWithChildren(function(node){var currentElement=node.getDOMElement();currentElement&&(currentElement.removeAttr("data-vertical-offset"),currentElement.removeAttr("data-vertical-bottom-offset"))})},rebuildForeground:function(tree){var grouping,previousNode,timeline=this,previousGrouping=-1,width=timeline.getWidth(),render_buckets=[[],[],[],[]],render_bucket_vertical=render_buckets[0],render_bucket_element=render_buckets[1],render_bucket_vertical_milestone=render_buckets[2],render_bucket_text=render_buckets[3];jQuery.each(timeline.verticalPlanningElementIds(),function(i,e){var pl=timeline.getPlanningElement(e);if(void 0!==pl){var pet=pl.getPlanningElementType(),node=Object.create(TreeNode);node.setData(pl),pl.vertical&&(pet&&pet.is_milestone?render_bucket_vertical_milestone.push(function(){pl.renderVertical(node)}):render_bucket_vertical.push(function(){pl.renderVertical(node)}))}}),tree.iterateWithChildren(function(node,indent,index){var currentElement=node.getDOMElement();if(currentElement){var previousElement,previousEnd,groupHeight,currentOffset=timeline.getRelativeVerticalOffset(currentElement),groupingChanged=!1,pl=node.getData();timeline.isGrouping()&&0===indent&&pl.is(Project)&&(grouping=pl.getFirstLevelGrouping(),previousGrouping!==grouping&&(groupingChanged=!0,void 0!==previousNode?(previousElement=previousNode.getDOMElement(),previousEnd=timeline.getRelativeVerticalOffset(previousElement)+previousElement.outerHeight()):previousEnd=timeline.decoHeight(),groupHeight=currentOffset-previousEnd,timeline.paper.rect(Timeline.GROUP_BAR_INDENT,previousEnd,width-2*Timeline.GROUP_BAR_INDENT,groupHeight).attr({fill:"#bbb","fill-opacity":.5,"stroke-width":1,"stroke-opacity":1,stroke:Timeline.DEFAULT_STROKE_COLOR}),previousGrouping=grouping)),pl.is(Project)?groupingChanged||timeline.paper.path(timeline.psub("M0 #{y}h#{w}",{y:currentOffset,w:width})).attr({"stroke-width":1,stroke:Timeline.DEFAULT_STROKE_COLOR}):pl.is(PlanningElement),previousNode=node,pl.is(PlanningElement)&&render_bucket_text.push(function(){pl.renderForeground(node)}),render_bucket_element.push(function(){pl.render(node)})}});var buckets=Array.prototype.concat.apply([],render_buckets),render_next_bucket=function(){0!==buckets.length?(jQuery.each(buckets.splice(0,Timeline.RENDER_BUCKET_SIZE),function(i,e){e.call()}),$timeout(render_next_bucket)):timeline.finishGraph()};render_next_bucket()},frameLine:function(){var linePosition,timeline=this,scale=timeline.getScale(),beginning=timeline.getBeginning(),decoHeight=timeline.decoHeight();this.calculateTimeFilter(),this.frameStart&&(linePosition=timeline.getDaysBetween(beginning,this.frameStart)*scale.day,timeline.paper.path(timeline.psub("M#{position} #{top}L#{position} #{height}",{position:linePosition,top:decoHeight,height:this.getHeight()})).attr({stroke:"blue","stroke-dasharray":"- "})),this.frameEnd&&(linePosition=(timeline.getDaysBetween(beginning,this.frameEnd)+1)*scale.day,timeline.paper.path(timeline.psub("M#{position} #{top}L#{position} #{height}",{position:linePosition,top:decoHeight,height:this.getHeight()})).attr({stroke:"blue","stroke-dasharray":"- "}))},nowLine:function(){var timeline=this,scale=timeline.getScale(),beginning=timeline.getBeginning(),ms_in_a_day=864e5,todayPosition=timeline.getDaysBetween(beginning,Date.today())*scale.day;todayPosition+=(Date.now()-Date.today())/ms_in_a_day*scale.day;var decoHeight=timeline.decoHeight(),currentTimeElement=timeline.paper.path(timeline.psub("M#{today} #{top}L#{today} #{height}",{today:todayPosition,top:decoHeight,height:this.getHeight()})).attr({stroke:"red","stroke-dasharray":"3,3"}),setDateTime=3e5,setDate=function(){var newTodayPosition=timeline.getDaysBetween(beginning,Date.today())*scale.day;newTodayPosition+=(Date.now()-Date.today())/ms_in_a_day*scale.day,Math.abs(newTodayPosition-todayPosition)>.1&&currentTimeElement.transform(timeline.psub("t#{trans},0",{trans:newTodayPosition-todayPosition})),scale.day===timeline.getScale().day&&window.setTimeout(setDate,setDateTime)};window.setTimeout(setDate,setDateTime)},adjustTooltip:function(renderable,element){if(renderable=renderable||this.currentNode,element=element||this.currentElement,renderable){var chart=this.getChart(),offset=chart.position(),tooltip=this.getTooltip(),bbox=element.getBBox(),content=tooltip.find(".tl-tooltip-inner"),arrow=tooltip.find(".tl-tooltip-arrow"),arrowOffset=this.pnum(arrow.css("left")),padding=(tooltip.outerWidth()-tooltip.width())/2,duration=("none"!==tooltip.css("display"),0),info="",r=renderable.getResponsible();info+="<b>",info+=this.escape(renderable.subject),info+="</b>",renderable.is(PlanningElement)&&(info+=" (#"+renderable.id+")"),info+="<br/>",info+=this.escape(renderable.start_date),renderable.due_date!==renderable.start_date&&(info+=" – "+this.escape(renderable.due_date)),info+="<br/>",r&&r.name&&(info+=r.name),content.html(info);var left=offset.left;left-=chart.scrollLeft(),left+=bbox.x,left+=renderable.start_date&&renderable.due_date?bbox.width/2:renderable.due_date?bbox.width-Timeline.HOVER_THRESHOLD:Timeline.HOVER_THRESHOLD,left-=arrowOffset;var min_left=this.getUiRoot().find(".tl-left").position().left;min_left+=this.getUiRoot().find(".tl-left").width(),min_left-=arrowOffset;var max_left=this.getUiRoot().find(".tl-right").position().left;max_left-=tooltip.outerWidth(),max_left-=padding,max_left+=arrowOffset,left=Math.max(min_left,Math.min(max_left,left));var margin=offset.left;margin-=chart.scrollLeft(),margin+=bbox.x,margin+=renderable.start_date&&renderable.due_date?bbox.width/2:renderable.due_date?bbox.width-Timeline.HOVER_THRESHOLD:Timeline.HOVER_THRESHOLD,margin-=left,margin-=arrowOffset;var max_margin=tooltip.width();max_margin-=padding,max_margin-=arrowOffset,margin=Math.min(max_margin,Math.max(margin,0)),margin-=padding;var top=offset.top;top+=bbox.y,top-=tooltip.outerHeight(),top--,top<jQuery(window).scrollTop()-80&&(top=jQuery(window).scrollTop()-80),this.currentNode=renderable,this.currentElement=element,tooltip.clearQueue(),arrow.clearQueue(),tooltip.animate({left:left,top:top},duration,"swing"),arrow.animate({"margin-left":margin},duration,"swing")}},setupEventHandlers:function(){this.getLefthandTree();this.setupResizeHandlers()},setupResizeHandlers:function(){var timeout,timeline=this,handler_name="resize."+timeline.getEventHandlerSuffix();jQuery(window).unbind(handler_name),jQuery(window).bind(handler_name,function(){window.clearTimeout(timeout),timeout=window.setTimeout(function(){timeline.triggerResize()},1087)})},triggerResize:function(){var root=this.getUiRoot();if(!root)return!1;var width=root.width()-root.find(".tl-left-main").width()-Timeline.BORDER_WIDTH_CORRECTION;this.adjustWidth(width)},addHoverHandler:function(node,e){var tooltip=this.getTooltip(),timeline=this;e.unhover(),e.click(function(e){var payload=node.getData(),url=payload.getUrl();window.open(url,"_blank"),e.stopPropagation()}),e.attr({cursor:"pointer"}),e.hover(function(){timeline.adjustTooltip(node.getData(),e),tooltip.show()},function(){delete tooltip.currentNode,delete tooltip.currentElement,tooltip.hide()},node,node)},addPlanningElement:function(){var project,projectID,projects=this.projects,possibleProjects=[];for(project in projects)projects.hasOwnProperty(project)&&possibleProjects.push(projects[project]);projectID=possibleProjects[0].identifier,"undefined"!=typeof projectID&&(this.modalHelper.create(projectID),this.modalHelper.modalDiv.addClass("-full"))}};return UI}},function(module,exports){module.exports=function(){return PlanningElementType={identifier:"planning_element_types",all:function(timeline){var r=timeline.planning_element_types,result=[];for(var key in r)r.hasOwnProperty(key)&&result.push(r[key]);return result}},PlanningElementType}},function(module,exports){module.exports=function(PathHelper){return PlanningElement={objectType:"PlanningElement",identifier:"planning_elements",is:function(t){return void 0!==t&&PlanningElement.identifier===t.identifier},hide:function(){return!1},filteredOut:function(){var filtered=this.filteredOutForProjectFilter();return this.filteredOut=function(){return filtered},filtered},inTimeFrame:function(){return this.timeline.inTimeFilter(this.start(),this.end())},filteredOutForProjectFilter:function(){return this.project.filteredOut()},all:function(timeline){var r=timeline.planning_elements,result=[];for(var key in r)r.hasOwnProperty(key)&&result.push(r[key]);return result},getProject:function(){return void 0!==this.project?this.project:null},getPlanningElementType:function(){return void 0!==this.planning_element_type?this.planning_element_type:null},getResponsible:function(){return void 0!==this.responsible?this.responsible:null},getResponsibleName:function(){if(this.responsible&&this.responsible.name)return this.responsible.name},getAssignedName:function(){if(this.assigned_to&&this.assigned_to.name)return this.assigned_to.name},getParent:function(){return void 0!==this.parent?this.parent:null},getChildren:function(){return this.planning_elements?(this.sorted||(this.sort("planning_elements"),this.sorted=!0),this.planning_elements):[]},hasChildren:function(){return this.getChildren().length>0},getTypeName:function(){var pet=this.getPlanningElementType();if(pet)return pet.name},getStatusName:function(){if(this.status)return this.status.name},getProjectName:function(){if(this.project)return this.project.name},sort:function(field){return this[field]=this[field].sort(function(a,b){var dc=0,as=a.start(),bs=b.start();return as?dc=bs?as.compareTo(bs):1:bs&&(dc=-1),0!==dc?dc:a.name<b.name?-1:a.name>b.name?1:0}),this},start:function(){var pet=this.getPlanningElementType();return void 0===this.start_date&&void 0!==this.due_date&&pet&&pet.is_milestone&&(this.start_date=this.due_date),void 0===this.start_date_object&&void 0!==this.start_date&&(this.start_date_object=moment(this.start_date).toDate()),this.start_date_object},end:function(){var pet=this.getPlanningElementType();return void 0===this.due_date&&void 0!==this.start_date&&pet&&pet.is_milestone&&(this.due_date=this.start_date),void 0===this.due_date_object&&void 0!==this.due_date&&(this.due_date_object=moment(this.due_date).toDate()),this.due_date_object},getAttribute:function(val){return"function"==typeof this[val]?this[val]():this[val]},does_historical_differ:function(val){return!!this.has_historical()&&this.historical().getAttribute(val)!==this.getAttribute(val)},has_historical:function(){return void 0!==this.historical_element},historical:function(){return this.historical_element||Object.create(PlanningElement)},alternate_start:function(){return this.historical().start()},alternate_end:function(){return this.historical().end()},getSubElements:function(){return this.getChildren()},hasAlternateDates:function(){return this.does_historical_differ("start_date")||this.does_historical_differ("due_date")||this.is_deleted},isDeleted:function(){return this.is_deleted},isNewlyAdded:function(){return this.timeline.isComparing()&&!this.has_historical()},getAlternateHorizontalBounds:function(scale,absolute_beginning,milestone){return this.getHorizontalBoundsForDates(scale,absolute_beginning,this.alternate_start(),this.alternate_end(),milestone)},getHorizontalBounds:function(scale,absolute_beginning,milestone){return this.getHorizontalBoundsForDates(scale,absolute_beginning,this.start(),this.end(),milestone)},hasStartDate:function(){return!!this.start()},hasEndDate:function(){return!!this.end()},hasBothDates:function(){return!(!this.start()||!this.end())},hasOneDate:function(){return!(!this.start()&&!this.end())},getHorizontalBoundsForDates:function(scale,absolute_beginning,start,end,milestone){var timeline=this.timeline;if(!start&&!end)return{x:0,w:0,end:function(){return this.x+this.w}};end?start||(start=end.clone().addDays(-2)):end=start.clone().addDays(2);var x=timeline.getDaysBetween(absolute_beginning,start)*scale.day,w=(timeline.getDaysBetween(start,end)+1)*scale.day;return milestone===!0&&(x-=(scale.height-1)/2,w+=scale.height-1),{x:x,w:w,end:function(){return this.x+this.w}}},getUrl:function(){return PathHelper.staticBase+"/work_packages/"+this.id},getColor:function(){var color,pet=this.getPlanningElementType(),paper=this.timeline.getPaper();if(color=pet&&pet.color?pet.color.hexcode:this.hasChildren()?Timeline.DEFAULT_PARENT_COLOR:Timeline.DEFAULT_COLOR,!this.hasBothDates())if(this.hasStartDate()){var noEndDateGradient=jQuery("#noEndDateGradient_"+pet.id);0==noEndDateGradient.length&&(noEndDateGradient=paper.gradient("noEndDateGradient_"+pet.id,[{offset:"5%","stop-color":color,"stop-opacity":"1"},{offset:"95%","stop-color":"#ffffff","stop-opacity":"0"}])),color="url(#noEndDateGradient_"+pet.id+")"}else{var noStartDateGradient=jQuery("#noStartDateGradient_"+pet.id);0==noStartDateGradient.length&&(noStartDateGradient=paper.gradient("noStartDateGradient_"+pet.id,[{offset:"5%","stop-color":"#ffffff","stop-opacity":"0"},{offset:"95%","stop-color":color,"stop-opacity":"1"}])),color="url(#noStartDateGradient_"+pet.id+")"}return color},render:function(node,in_aggregation,label_space){var color,timeline=this.timeline,paper=timeline.getPaper(),scale=timeline.getScale(),beginning=timeline.getBeginning(),pet=this.getPlanningElementType(),bounds=this.getHorizontalBounds(scale,beginning),left=bounds.x,width=bounds.w,alternate_bounds=this.getAlternateHorizontalBounds(scale,beginning),alternate_left=alternate_bounds.x,alternate_width=alternate_bounds.w,hover_left=left,hover_width=width,element=node.getDOMElement(),deleted=this.is_deleted,comparison_offset=deleted?0:Timeline.DEFAULT_COMPARISON_OFFSET,strokeColor=Timeline.DEFAULT_STROKE_COLOR,historical=this.historical(),has_both_dates=this.hasBothDates(),has_one_date=this.hasOneDate();this.hasStartDate();if(in_aggregation&&void 0!==label_space&&(hover_left=label_space.x+Timeline.HOVER_THRESHOLD,hover_width=label_space.w-2*Timeline.HOVER_THRESHOLD),!in_aggregation||has_both_dates){var height,top,has_alternative=this.hasAlternateDates(),could_have_been_milestone=this.alternate_start===this.alternate_end;historical.hasOneDate()&&(color=this.historical().getColor(),historical.hasBothDates()||(strokeColor="none"),!in_aggregation&&has_alternative&&(pet&&pet.is_milestone&&could_have_been_milestone?(height=scale.height-1,top=(timeline.getRelativeVerticalOffset(element)+timeline.getRelativeVerticalBottomOffset(element))/2-height/2,paper.path(timeline.psub("M#{x} #{y}h#{w}l#{d} #{d}l-#{d} #{d}H#{x}l-#{d} -#{d}l#{d} -#{d}Z",{x:alternate_left+scale.day/2,y:top-comparison_offset,w:alternate_width-scale.day,d:height/2})).attr({fill:color,opacity:.33,stroke:Timeline.DEFAULT_STROKE_COLOR_IN_COMPARISONS,"stroke-dasharray":Timeline.DEFAULT_STROKE_DASHARRAY_IN_COMPARISONS})):(height=scale.height-6,top=(timeline.getRelativeVerticalOffset(element)+timeline.getRelativeVerticalBottomOffset(element))/2-height/2,paper.rect(alternate_left,top-comparison_offset,alternate_width,height,4).attr({fill:color,opacity:.33,stroke:Timeline.DEFAULT_STROKE_COLOR_IN_COMPARISONS,"stroke-dasharray":Timeline.DEFAULT_STROKE_DASHARRAY_IN_COMPARISONS})))),has_one_date&&(color=this.getColor(),has_both_dates||(strokeColor="none"),!deleted&&pet&&pet.is_milestone||(!deleted&&!in_aggregation&&this.hasChildren()&&node.isExpanded()?paper.path(timeline.psub("M#{x} #{y}m#{d} #{d}l-#{d} #{d}l-#{d} -#{d}V#{y}H#{x}h#{w}h#{d}v#{d}l-#{d} #{d}l-#{d} -#{d}zm0 0v-#{d}m#{w} 0m-#{d} 0m-#{d} 0v#{d}",{x:left,y:timeline.getRelativeVerticalOffset(element)+8,d:scale.height+2-16,w:width})).attr({fill:color,stroke:strokeColor}):deleted||(height=scale.height-6,top=(timeline.getRelativeVerticalOffset(element)+timeline.getRelativeVerticalBottomOffset(element))/2-height/2,paper.rect(left,top,width,height,4).attr({fill:color,stroke:strokeColor}))))}},renderForeground:function(node,in_aggregation,label_space){var color,text,x,y,textColor,captionElement,label,textWidth,timeline=this.timeline,paper=timeline.getPaper(),scale=timeline.getScale(),beginning=timeline.getBeginning(),elements=[],pet=this.getPlanningElementType(),bounds=this.getHorizontalBounds(scale,beginning),left=bounds.x,width=bounds.w,alternate_bounds=this.getAlternateHorizontalBounds(scale,beginning),hover_left=(alternate_bounds.x,alternate_bounds.w,left),hover_width=width,element=node.getDOMElement(),deleted=this.is_deleted,has_both_dates=(deleted?0:Timeline.DEFAULT_COMPARISON_OFFSET,this.hasBothDates()),has_one_date=this.hasOneDate(),has_start_date=this.hasStartDate();in_aggregation&&void 0!==label_space&&(hover_left=label_space.x+Timeline.HOVER_THRESHOLD,hover_width=label_space.w-2*Timeline.HOVER_THRESHOLD);var height,top;this.hasAlternateDates(),this.alternate_start===this.alternate_end;if(color=pet&&pet.color?pet.color.hexcode:this.hasChildren()?Timeline.DEFAULT_PARENT_COLOR:Timeline.DEFAULT_COLOR,!deleted&&pet&&pet.is_milestone&&(height=scale.height-1,top=(timeline.getRelativeVerticalOffset(element)+timeline.getRelativeVerticalBottomOffset(element))/2-height/2,paper.path(timeline.psub("M#{x} #{y}h#{w}l#{d} #{d}l-#{d} #{d}H#{x}l-#{d} -#{d}l#{d} -#{d}Z",{x:left+scale.day/2,y:top,w:width-scale.day,d:height/2})).attr({fill:color,stroke:Timeline.DEFAULT_STROKE_COLOR})),height=scale.height-6,top=(timeline.getRelativeVerticalOffset(element)+timeline.getRelativeVerticalBottomOffset(element))/2-height/2,y=top+11,has_one_date)if(in_aggregation){if(label_space.w>Timeline.PE_TEXT_AGGREGATED_LABEL_WIDTH_THRESHOLD){for(textColor=timeline.getLuminanceFor(color)>Timeline.PE_LUMINANCE_THRESHOLD?Timeline.PE_DARK_TEXT_COLOR:Timeline.PE_LIGHT_TEXT_COLOR,text=this.subject,label=timeline.paper.text(0,0,text),label.attr({"font-size":12,"text-anchor":"middle",fill:textColor,stroke:"none"}),x=label_space.x+label_space.w/2;text.length>0&&label.getBBox().width+Timeline.PE_TEXT_INSIDE_PADDING/2>label_space.w;)text=text.slice(0,-1),label.textContent=text;label.translate(x,y)}}else label=timeline.paper.text(0,-5,this.subject),label.attr({"font-size":12}),textWidth=label.getBBox().width,this.hasChildren()&&node.isExpanded()||textWidth>width-Timeline.PE_TEXT_INSIDE_PADDING?(x=left+width+Timeline.PE_TEXT_OUTSIDE_PADDING,this.hasChildren()&&(x+=Timeline.PE_TEXT_ADDITIONAL_OUTSIDE_PADDING_WHEN_EXPANDED_WITH_CHILDREN),pet&&pet.is_milestone&&(x+=Timeline.PE_TEXT_ADDITIONAL_OUTSIDE_PADDING_WHEN_MILESTONE),textColor=Timeline.PE_DEFAULT_TEXT_COLOR,captionElement=timeline.paper.rect(x-3,y-12,textWidth+6,15,4.5).attr({fill:"#ffffff",opacity:.5,stroke:"none"}),captionElement.insertAfter(label)):has_both_dates?(x=left+.5*width+textWidth*-.5,textColor=timeline.getLuminanceFor(color)>Timeline.PE_LUMINANCE_THRESHOLD?Timeline.PE_DARK_TEXT_COLOR:Timeline.PE_LIGHT_TEXT_COLOR):(x=has_start_date?left+4:left+width-textWidth-4,textColor=timeline.getLuminanceFor(color)>Timeline.PE_LUMINANCE_THRESHOLD?Timeline.PE_DARK_TEXT_COLOR:Timeline.PE_LIGHT_TEXT_COLOR),label.attr({fill:textColor,"text-anchor":"start",stroke:"none"}),label.translate(x,y);height=scale.height-6,top=(timeline.getRelativeVerticalOffset(element)+timeline.getRelativeVerticalBottomOffset(element))/2-height/2,elements.push(paper.rect(hover_left-Timeline.HOVER_THRESHOLD,top-Timeline.HOVER_THRESHOLD,hover_width+2*Timeline.HOVER_THRESHOLD,height+2*Timeline.HOVER_THRESHOLD,4).attr({fill:"#ffffff",opacity:0})),jQuery.each(elements,function(i,e){timeline.addHoverHandler(node,e)})},renderVertical:function(node){var color,hoverElement,timeline=this.timeline,paper=timeline.getPaper(),scale=timeline.getScale(),beginning=timeline.getBeginning(),pet=this.getPlanningElementType(),bounds=this.getHorizontalBounds(scale,beginning),deleted=this.is_deleted,left=bounds.x,width=bounds.w,has_one_date=(node.getDOMElement(),this.hasBothDates(),this.hasOneDate());this.hasStartDate();color=this.getColor(),has_one_date&&(!deleted&&pet&&pet.is_milestone?(timeline.paper.path(timeline.psub("M#{left} #{top}L#{left} #{height}",{left:left+scale.day/2,top:timeline.decoHeight(),height:timeline.getMeasuredHeight()})).attr({stroke:color,"stroke-width":2,"stroke-dasharray":"- "}),hoverElement=paper.rect(left+scale.day/2-2*Timeline.HOVER_THRESHOLD,timeline.decoHeight(),4*Timeline.HOVER_THRESHOLD,timeline.getMeasuredHeight()).attr({fill:"#ffffff",opacity:0}),timeline.addHoverHandler(node,hoverElement)):deleted||(paper.rect(left,timeline.decoHeight(),width,timeline.getMeasuredHeight()).attr({fill:color,stroke:Timeline.DEFAULT_STROKE_COLOR,opacity:.2}),hoverElement=paper.rect(left-Timeline.HOVER_THRESHOLD,timeline.decoHeight(),width+2*Timeline.HOVER_THRESHOLD,timeline.getMeasuredHeight()).attr({fill:"#ffffff",opacity:0}),timeline.addHoverHandler(node,hoverElement)))},addElement:function(e){return this.elements||(this.elements=[]),this.elements.push(e),this},getElements:function(){return this.elements||(this.elements=[]),this.elements}},PlanningElement}},function(module,exports){module.exports=function(){return ProjectAssociation={identifier:"project_associations",all:function(timeline){var r=timeline.project_associations,result=[];for(var key in r)r.hasOwnProperty(key)&&result.push(r[key]);return result},getOrigin:function(){return this.origin},getTarget:function(){return this.project},getOther:function(project){var origin=this.getOrigin(),target=this.getTarget();return project.id===origin.id?target:project.id===target.id?origin:null},getInvolvedProjects:function(){return[this.getOrigin(),this.getTarget()]},involves:function(project){var inv=this.getInvolvedProjects();return void 0!==project&&void 0!==inv[0]&&void 0!==inv[1]&&(project.id===inv[0].id||project.id===inv[1].id)}},ProjectAssociation}},function(module,exports){module.exports=function(){return ProjectType={identifier:"project_types",all:function(timeline){var r=timeline.project_types,result=[];for(var key in r)r.hasOwnProperty(key)&&result.push(r[key]);return result}},ProjectType}},function(module,exports){module.exports=function(PathHelper){return Project={objectType:"Project",identifier:"projects",is:function(t){return void 0!==t&&Project.identifier===t.identifier},hide:function(){var hidden=this.hiddenForEmpty()||this.hiddenForTimeFrame();return this.hide=function(){return hidden},hidden},hiddenForEmpty:function(){if("yes"!==this.timeline.options.exclude_empty)return!1;var hidden=!0;return jQuery.each(this.getPlanningElements(),function(i,child){child.filteredOut()||(hidden=!1)}),hidden},hiddenForTimeFrame:function(){var types=this.timeline.options.planning_element_time_types;if(!types||0===types.length)return!1;var hidden=!0;return jQuery.each(this.getPlanningElements(),function(i,child){hidden&&child.is(PlanningElement)&&child.inTimeFrame()&&Timeline.idInArray(types,child.getPlanningElementType())&&(hidden=!1)}),hidden},filteredOut:function(){var filtered=this.filteredOutForExclusionOfOwnPlanningElements()||this.filteredOutForExclusionOfReporters()||this.filteredOutForTypes()||this.filteredOutForStatus()||this.filteredOutForSubproject()||this.filteredOutForResponsibles();return this.filteredOut=function(){return filtered},filtered},filteredOutForExclusionOfOwnPlanningElements:function(){return"yes"===this.timeline.options.exclude_own_planning_elements&&(this.id===this.timeline.options.project_id||this.identifier===this.timeline.options.project_id)},filteredOutForExclusionOfReporters:function(){return"yes"===this.timeline.options.exclude_reporters&&!(this.id===this.timeline.options.project_id||this.identifier===this.timeline.options.project_id)},filteredOutForSubproject:function(){var i,j,p,allowedParents=this.timeline.options.parents;if(void 0===allowedParents||0===allowedParents.length)return!1;for(i=0;i<allowedParents.length;i++)if(j=Timeline.pnum(allowedParents[i]),j===-1){if(void 0===this.parent)return!1}else for(p=this;void 0!==p;){if(p.id===j)return!1;p=p.parent}return!0},filteredOutForResponsibles:function(){return Timeline.filterOutBasedOnArray(this.timeline.options.project_responsibles,this.getResponsible())},filteredOutForStatus:function(){return Timeline.filterOutBasedOnArray(this.timeline.options.project_status,this.getProjectStatus())},filteredOutForTypes:function(){return Timeline.filterOutBasedOnArray(this.timeline.options.project_types,this.getProjectType())},getPlanningElementType:function(){},getPlanningElements:function(){return this.planning_elements?(this.sorted_pes||(this.sort("planning_elements"),this.sorted_pes=!0),this.planning_elements):[]},getFirstLevelGroupingData:function(){return this.timeline.getGroupForProject(this)},getFirstLevelGrouping:function(){return this.timeline.getGroupForProject(this).number},getFirstLevelGroupingName:function(){return this.timeline.getGroupForProject(this).name},sort:function(field){var timeline=this.timeline;return this[field]=this[field].sort(function(a,b){var ag,bg,dc=0,nc=0,as=a.start(),bs=b.start();if(a.is(Project)&&b.is(Project)){var dataAGrouping=a.getFirstLevelGroupingData(),dataBGrouping=b.getFirstLevelGroupingData();if(parseInt(dataAGrouping.id,10)!==parseInt(dataBGrouping.id,10))return 0===parseInt(dataAGrouping.id,10)?1:0===parseInt(dataBGrouping.id,10)?-1:(1===parseInt(timeline.options.grouping_one_sort,10)?(ag=dataAGrouping.number,bg=dataBGrouping.number):(ag=dataAGrouping.p.name,bg=dataBGrouping.p.name),ag>bg?1:-1)}var datesEqual=as&&bs&&as.equals(bs);as&&!datesEqual||"function"!=typeof a.end||(as=a.end()),bs&&!datesEqual||"function"!=typeof b.end||(bs=b.end()),as?dc=bs?as.compareTo(bs):1:bs&&(dc=-1);var identifier_methods=[a,b].map(function(e){return e.hasOwnProperty("subject")?"subject":"name"});if(a.identifierLower||(a.identifierLower=a[identifier_methods[0]].toLowerCase()),b.identifierLower||(b.identifierLower=b[identifier_methods[1]].toLowerCase()),a.identifierLower<b.identifierLower&&(nc=-1),a.identifierLower>b.identifierLower&&(nc=1),1===parseInt(timeline.options.project_sort,10)&&a.is(Project)&&b.is(Project)){if(0!==nc)return nc;if(0!==dc)return dc}else{if(0!==dc)return dc;if(0!==nc)return nc}return a.id>b.id?1:a.id<b.id?-1:0}),this},start:function(){var i,current,pes=this.getPlanningElements();for(i=0;i<pes.length;i+=1){if(current=pes[i],current.start())return current.start();if(current.end())return current.end()}},getAttribute:function(val){return"function"==typeof this[val]?this[val]():this[val]},does_historical_differ:function(){return!1},getReporters:function(){return this.reporters?(this.sorted_reps||(this.sort("reporters"),this.sorted_reps=!0),this.reporters):[]},addReporter:function(rep){var reps=this.getReporters();return jQuery.inArray(rep,reps)===-1&&(reps.push(rep),this.reporters=reps,this.sorted_reps=!1,!0)},removeReporter:function(rep){var new_reporters=jQuery.grep(this.getReporters(),function(e,i){return e.id!==rep.id});this.reporters=new_reporters},getProjectStatus:function(){return void 0!==this.via_reporting?this.via_reporting.getStatus():null},getTypeName:function(){var pt=this.getProjectType();if(pt)return pt.name},getStatusName:function(){var status=this.getProjectStatus();if(status)return status.name},getProjectType:function(){return void 0!==this.project_type?this.project_type:null},getResponsible:function(){return void 0!==this.responsible?this.responsible:void 0!==this.responsible_id&&null!==this.responsible_id?{id:this.responsible_id}:null},getResponsibleName:function(){if(this.responsible&&this.responsible.name)return this.responsible.name},getAssignedName:function(){},getSubElements:function(){var result=[];return jQuery.each(this.getPlanningElements(),function(i,e){result.push(e)}),jQuery.each(this.getReporters(),function(i,e){e.filteredOut()||result.push(e)}),result},getParent:function(){var parent;return this.parent?(parent=this.timeline.getProject(this.parent.id),this.parent=parent,this.getParent=function(){return this.parent},this.getParent()):null},getUrl:function(){var url=PathHelper.projectPath(this.identifier);return url+="/timelines"},render:function(node){if(node.isExpanded())return!1;var milestones,others,timeline=this.timeline,scale=timeline.getScale(),beginning=timeline.getBeginning(),pes=jQuery.grep(this.getPlanningElements(),function(e){return void 0!==e.start()&&void 0!==e.end()&&e.planning_element_type.in_aggregation}),dummy_node={getDOMElement:function(){return node.getDOMElement()},isExpanded:function(){return!1}},is_milestone=function(e,i){var pet=e.getPlanningElementType();return pet&&pet.is_milestone},label_spaces={},render=function(i,e){var node=jQuery.extend({},dummy_node,{getData:function(){return e}});e.render(node,!0,label_spaces[i]),e.renderForeground(node,!0,label_spaces[i])},visible_in_aggregation=function(e,i){var pet=e.getPlanningElementType();return!e.filteredOut()&&pet&&pet.in_aggregation};milestones=jQuery.grep(pes,is_milestone),others=jQuery.grep(pes,is_milestone,!0),pes=jQuery.grep(others.concat(milestones),visible_in_aggregation),jQuery.each(pes,function(i,e){var b=e.getHorizontalBounds(scale,beginning);label_spaces[i]=[b];var passed_self=!1,pes_to_traverse=jQuery.grep(pes,function(f){return!(!passed_self&&e!==f)&&(passed_self=!0)});jQuery.each(pes_to_traverse,function(j,f){var k,cb=f.getHorizontalBounds(scale,beginning,is_milestone(f));if(e!==f&&(is_milestone(f)||!(cb.x<b.x))&&!(is_milestone(f)&&is_milestone(e)&&cb.x<b.x)&&(!is_milestone(e)||is_milestone(f))){var spaces=label_spaces[i];for(k=0;k<spaces.length;k++){var space=spaces[k],rightSideOverlap=cb.x>space.x&&cb.x<space.end(),leftSideOverlap=cb.end()<space.end()&&cb.end()>space.x;if(cb.x<=space.x&&cb.end()>=space.end()&&label_spaces[i].length>0&&(1===label_spaces[i].length?label_spaces[i][0].w=0:label_spaces[i].splice(k,1)),rightSideOverlap&&leftSideOverlap)label_spaces[i].splice(k,1,{x:space.x,w:cb.x-space.x,end:space.end},{x:cb.end(),w:space.end()-cb.end(),end:space.end});else if(rightSideOverlap)space.w=Math.min(space.end(),cb.x)-space.x;else if(leftSideOverlap){var oldStart=space.x;space.x=Math.max(space.x,cb.end()),space.w-=space.x-oldStart}}}}),
b=label_spaces[i].shift(),jQuery.each(label_spaces[i],function(i,e){e.w>b.w&&(b=e)}),label_spaces[i]=b}),jQuery.each(pes,render)},getElements:function(){return[]},all:function(timeline){var r=timeline.projects,result=[];for(var key in r)r.hasOwnProperty(key)&&result.push(r[key]);return result}},Project}},function(module,exports){module.exports=function(){return Reporting={identifier:"reportings",all:function(timeline){var r=timeline.reportings,result=[];for(var key in r)r.hasOwnProperty(key)&&result.push(r[key]);return result},getProject:function(){return void 0!==this.project?this.project:null},getProjectId:function(){return this.project.id},getReportingToProject:function(){return void 0!==this.reporting_to_project?this.reporting_to_project:null},getReportingToProjectId:function(){return this.reporting_to_project.id},getStatus:function(){return void 0!==this.reported_project_status?this.reported_project_status:null}},Reporting}},function(module,exports){module.exports=function(){return Status={identifier:"statuses",all:function(timeline){var r=timeline.statuses,result=[];for(var key in r)r.hasOwnProperty(key)&&result.push(r[key]);return result}},Status}},function(module,exports){module.exports=function(Constants,TreeNode,UI,Color,HistoricalPlanningElement,PlanningElement,PlanningElementType,ProjectType,Project,ProjectAssociation,Reporting,CustomField,CustomFieldHelper){var getInitialValue=function(timelineOptions,property){var value=timelineOptions[property];return value&&value>=0?value:0},getInitialOutlineExpansion=function(timelineOptions){return getInitialValue(timelineOptions,"initial_outline_expansion")},getInitialZoomFactor=function(timelineOptions){return getInitialValue(timelineOptions,"zoom_factor")};return Timeline={},angular.extend(Timeline,Constants),angular.extend(Timeline,UI),angular.extend(Timeline,{instances:[],create:function(id,options){if(!id)throw new Error("No timelines id given");if(!options)throw new Error("No configuration options given");this.extendOptions(),this.instances=[];var timeline=Object.create(Timeline);return timeline.id=id,timeline.options=options,timeline.listeners=[],timeline.data={},timeline.expansionIndex=parseInt(getInitialOutlineExpansion(options),10),timeline.zoomIndex=parseInt(getInitialZoomFactor(options),10),Timeline.instances.push(timeline),timeline},extendOptions:function(){this.options=jQuery.extend({},this.defaults,this.options),this.options.username&&(this.ajax_defaults.username=this.options.username),this.options.password&&(this.ajax_defaults.password=this.options.password),this.options.api_key&&(this.ajax_defaults.headers={"X-ChiliProject-API-Key":this.options.api_key,"X-OpenProject-API-Key":this.options.api_key,"X-Redmine-API-Key":this.options.api_key}),this.options.hide_tree_root=this.isGrouping()},get:function(n){return"number"!=typeof n&&(n=0),this.instances[n]},isInstance:function(n){return void 0===n?Timeline.instances.indexOf(this):this===Timeline.get(n)},isGrouping:function(){return"yes"===this.options.grouping_one_enabled&&void 0!==this.options.grouping_one_selection},isComparing:function(){return void 0!==this.options.comparison&&"none"!==this.options.comparison},comparisonCurrentTime:function(){var value;if(this.isComparing()&&"historical"===this.options.comparison)return value=this.options.compare_to_historical_two,+Date.parse(value)/1e3},calculateTimeFilter:function(){if(!this.frameSet){if("absolute"===this.options.planning_element_time)this.frameStart=Date.parse(this.options.planning_element_time_absolute_one),this.frameEnd=Date.parse(this.options.planning_element_time_absolute_two);else if("relative"===this.options.planning_element_time){var startR=parseInt(this.options.planning_element_time_relative_one,10),endR=parseInt(this.options.planning_element_time_relative_two,10);if(!isNaN(startR))switch(this.frameStart=Date.now(),this.options.planning_element_time_relative_one_unit[0]){case"0":this.frameStart.add(-1*startR).days();break;case"1":this.frameStart.add(-1*startR).weeks();break;case"2":this.frameStart.add(-1*startR).months()}if(!isNaN(endR))switch(this.frameEnd=Date.now(),this.options.planning_element_time_relative_two_unit[0]){case"0":this.frameEnd.add(endR).days();break;case"1":this.frameEnd.add(endR).weeks();break;case"2":this.frameEnd.add(endR).months()}}this.frameSet=!0}},inTimeFilter:function(start,end){return this.calculateTimeFilter(),!(!start&&!end)&&(start||(start=end),end||(end=start),!(this.frameStart&&start<this.frameStart&&end<this.frameStart)&&!(this.frameEnd&&start>this.frameEnd&&end>this.frameEnd))},verticalPlanningElementIds:function(){return this.options.vertical_planning_elements?jQuery.map(this.options.vertical_planning_elements.split(/\,/),function(a){try{return parseInt(a.match(/\s*\*?(\d*)\s*/)[1],10)}catch(e){return}}):[]},comparisonTarget:function(){var result,value,unit;if(this.isComparing()){switch(this.options.comparison){case"relative":switch(result=new Date,value=Timeline.pnum(this.options.compare_to_relative),unit=Timeline.pnum(this.options.compare_to_relative_unit[0])){case 0:return Math.floor(result.add(-value).days()/1e3);case 1:return Math.floor(result.add(-value).weeks()/1e3);case 2:return Math.floor(result.add(-value).months()/1e3);default:return this.die(I18n.t("js.timelines.errors.report_comparison"))}break;case"absolute":value=this.options.compare_to_absolute;break;case"historical":value=this.options.compare_to_historical_one;break;default:return this.die(I18n.t("js.timelines.errors.report_comparison"))}return+Date.parse(value)/1e3}},registerTimelineContainer:function(uiRoot){this.uiRoot=uiRoot},checkPrerequisites:function(){if(void 0===jQuery)throw new Error("jQuery seems to be missing (jQuery is undefined)");if(void 0===1..month)throw new Error("date.js seems to be missing ((1).month is undefined)");return!0},getTimelineLoaderOptions:function(){return{api_prefix:this.options.api_prefix,url_prefix:this.options.url_prefix,project_prefix:this.options.project_prefix,planning_element_prefix:this.options.planning_element_prefix,timeline_id:this.options.timeline_id,project_id:this.options.project_id,project_types:this.options.project_types,project_statuses:this.options.project_status,project_responsibles:this.options.project_responsibles,project_parents:this.options.parents,planning_element_types:this.options.planning_element_types,planning_element_assignee:this.options.planning_element_assignee,planning_element_responsibles:this.options.planning_element_responsibles,custom_fields:this.options.custom_fields,planning_element_status:this.options.planning_element_status,grouping_one:this.options.grouping_one_enabled?this.options.grouping_one_selection:void 0,ajax_defaults:this.ajax_defaults,current_time:this.comparisonCurrentTime(),target_time:this.comparisonTarget(),include_planning_elements:this.verticalPlanningElementIds()}},die:function(error,classes){var message="string"==typeof error?error:I18n.t("js.timelines.errors.report_epicfail");throw classes=classes||"flash error",this.warn(message,classes),this.onLoadComplete=function(){},console&&console.log&&console.log(error.stack),error},warn:function(message,classes,viewCallback){var root=this.getUiRoot();window.setTimeout(function(){var warning=jQuery('<div class="'+classes+'">'+message+"</div>");root.empty().append(warning),viewCallback&&viewCallback()},Timeline.DISPLAY_ERROR_DELAY)},onLoadComplete:function(){var tree;try{window.clearTimeout(this.safetyHook),tree=this.getLefthandTree(),tree.containsPlanningElements()||tree.containsProjects()?(this.adjustForPlanningElements(),this.completeUI()):this.warn(I18n.t("js.label_no_data"),"warning")}catch(e){this.die(e)}}}),jQuery.extend(Timeline,{firstDateSeen:null,lastDateSeen:null,getBeginning:function(){if(this.options.timeframe_start)return moment(this.options.timeframe_start).toDate();var startDate=new Date;return this.firstDateSeen&&(startDate=this.firstDateSeen.clone()),startDate.last().monday()},getEnd:function(){if(this.options.timeframe_end)return moment(this.options.timeframe_end).toDate();var endDate=new Date;return this.lastDateSeen&&(endDate=this.lastDateSeen.clone()),endDate.addWeeks(1).next().sunday()},getDaysBetween:function(a,b){var da=a-144e5,db=b- -144e5;return Math.floor((db-da)/864e5)},includeDate:function(date){date&&(null==this.firstDateSeen||date.compareTo(this.firstDateSeen)<0?this.firstDateSeen=date:(null==this.lastDateSeen||date.compareTo(this.lastDateSeen)>0)&&(this.lastDateSeen=date))},adjustForPlanningElements:function(){var timeline=this,tree=this.getLefthandTree();timeline.firstDateSeen=null,timeline.lastDateSeen=null,tree.iterateWithChildren(function(node){var data=node.getData();data.is(PlanningElement)&&(timeline.includeDate(data.start()),timeline.includeDate(data.end()))},{traverseCollapsed:!0})},getCustomFieldColumns:function(){return this.options.columns.filter(function(column){return CustomFieldHelper.isCustomFieldKey(column)})},getCustomFields:function(){var customFields=[];return jQuery.each(this.custom_fields,function(key,customField){customFields.push(customField)}),customFields},getValidCustomFieldIds:function(){return this.getCustomFields().map(function(cf){return cf.id})},getInvalidCustomFieldColumns:function(){var validCustomFieldIds=this.getValidCustomFieldIds();return this.getCustomFieldColumns().filter(function(cfColumn){return validCustomFieldIds.indexOf(CustomFieldHelper.getCustomFieldId(cfColumn))===-1})},removeColumnByName:function(columnName){this.options.columns.splice(this.options.columns.indexOf(columnName),1)},clearUpCustomFieldColumns:function(){var timeline=this;jQuery.each(this.getInvalidCustomFieldColumns(),function(i,cfColumn){timeline.removeColumnByName(cfColumn)})},getReportings:function(){return Reporting.all(this)},getReporting:function(id){return this.reportings[id]},getProjects:function(){return Project.all(this)},getProject:function(id){return void 0===id?this.project:this.projects[id]},getGroupForProject:function(p){var i,projects,group,j=0,groups=this.getFirstLevelGroups();for(j=0;j<groups.length;j+=1)for(projects=groups[j].projects,group=this.getProject(groups[j].id),i=0;i<projects.length;i++)if(p.id===projects[i].id)return{id:group.id,p:group,number:j+1,name:group.name};return{number:0,id:0,name:I18n.t("js.timelines.filter.grouping_other")}},firstLevelGroups:void 0,getFirstLevelGroups:function(){if(void 0!==this.firstLevelGroups)return this.firstLevelGroups;var i,p,children,selection=this.options.grouping_one_selection,groups=[];if(this.isGrouping()&&selection)for(i=0;i<selection.length;i++)p=this.getProject(selection[i]),void 0!==p&&(children=this.getSubprojectsOf([selection[i]]),0!==children.length&&groups.push({projects:children,id:selection[i]}));return this.firstLevelGroups=groups,groups},getNumberOfGroups:function(){var result=this.options.hide_other_group?0:1,groups=this.getFirstLevelGroups();return result+groups.length},getSubprojectsOf:function(parents){var projects=this.getProjects(),result=[],timeline=this;Array.isArray(parents)||(parents=[parents]);var ancestorIsIn=function(project,ancestors){var parent=project.getParent(),r=!1;return null!==parent&&(jQuery.each(ancestors,function(i,p){"string"==typeof p&&(p=timeline.pnum(p)),parent&&p===parent.id&&(r=!0)}),parent&&(r=r||ancestorIsIn(parent,ancestors))),r};return jQuery.each(projects,function(i,e){ancestorIsIn(e,parents)&&result.push(e)}),result},getProjectTypes:function(){return ProjectType.all(this)},getProjectType:function(id){return this.project_types[id]},getPlanningElementTypes:function(){return PlanningElementType.all(this)},getPlanningElementType:function(id){return this.planning_element_types[id]},getPlanningElements:function(){return PlanningElement.all(this)},getPlanningElement:function(id){return this.planning_elements[id]},getColors:function(){return Color.all(this)},getProjectAssociations:function(){return ProjectAssociation.all(this)},getLefthandTree:function(){if(!this.lefthandTree){var project=this.getProject(),tree=Object.create(TreeNode),parent_stack=[];if(tree.setData(project,0),!project)return tree;var level=1,count=1,treeConstructor=function(node,elements){count+=1;var MAXIMUMPROJECTCOUNT=12e3;if(count>MAXIMUMPROJECTCOUNT)throw I18n.t("js.timelines.tooManyProjects",{count:MAXIMUMPROJECTCOUNT});return jQuery.each(elements,function(i,e){parent_stack.push(node.payload);for(var j=0;j<parent_stack.length;j++)if(parent_stack[j]===e)return void parent_stack.pop();var newNode=Object.create(TreeNode);newNode.setData(e,level),node.appendChild(newNode),level++,treeConstructor(newNode,newNode.getData().getSubElements()),level--,parent_stack.pop()}),node};this.lefthandTree=treeConstructor(tree,project.getSubElements()),this.lefthandTree.expandTo(this.options.initial_outline_expansion)}return this.lefthandTree}}),Object.create||(Object.create=function(o){function F(){}if(arguments.length>1)throw new Error("Object.create implementation only accepts the first parameter.");return F.prototype=o,new F}),Timeline}},function(module,exports){module.exports=function(){return TreeNode={payload:void 0,parentNode:void 0,childNodes:void 0,expanded:!1,lastExpanded:!1,visible:!1,totalCount:0,projectCount:0,getData:function(){return this.payload},setData:function(data,level){return this.text=data.subject||data.name,data.is(Project)&&(this.group=data.getFirstLevelGrouping()),this.url=data.getUrl(),this.payload=data,this.level=level,this},appendChild:function(node){return this.childNodes?this.childNodes.push(node):this.childNodes=[node],node.parentNode=this,node.parentNode},removeChild:function(node){var result;return jQuery.each(this.childNodes,function(i,e){node===e&&(result=node)}),result},hasChildren:function(){return this.childNodes&&this.childNodes.length>0},children:function(){return this.childNodes},root:function(){return this.parentNode?this.parentNode.root():this},isExpanded:function(){return this.expanded},setExpand:function(state){return this.expanded=state,this.expanded},expand:function(){return this.setExpand(!0)},collapse:function(){return this.setExpand(!1)},toggle:function(){return this.setExpand(!this.expanded)},setExpandedAll:function(state){this.hasChildren()&&(this.setExpand(state),jQuery.each(this.children(),function(i,e){e.setExpandedAll(state)}))},expandAll:function(){return this.setExpandedAll(!0)},setVisible:function(){this.visible=!0},resetVisible:function(){this.visible=!1},setLastVisible:function(){this.lastVisible=!0},resetLastVisible:function(){this.lastVisible=!1},collapseAll:function(){return this.setExpandedAll(!1)},setDOMElement:function(element){this.dom_element=element},getDOMElement:function(){return this.dom_element},iterateWithChildren:function(callback,options){var timeline,filtered_out,hidden,root=this.root(),self=this,children=this.children(),has_children=void 0!==children;return void 0===root.payload?this:(timeline=root.payload.timeline,hidden=this.payload.hide(),filtered_out=this.payload.filteredOut(),options=options||{indent:0,index:0,projects:0},timeline.options.hide_other_group&&timeline.isGrouping()&&this.payload.is(Project)&&this!==root&&0===options.indent&&0===this.payload.getFirstLevelGrouping()?void 0:(this===root&&(options=jQuery.extend({},{indent:0,index:0,projects:0,traverseCollapsed:!1},options)),this===root&&timeline.options.hide_tree_root===!0?has_children&&jQuery.each(children,function(i,e){e.iterateWithChildren(callback,options)}):(filtered_out||hidden||(callback&&callback.call(this,this,options.indent,options.index),this.payload.is(Project)&&options.projects++,options.index++),has_children&&(options.indent++,jQuery.each(children,function(i,child){(options.traverseCollapsed||self.isExpanded()||child.payload.is(Project))&&(hidden&&!child.payload.is(Project)||options.indent>1&&child.payload.is(Project)||child.iterateWithChildren(callback,options))}),options.indent--)),this===root&&(this.totalCount=options.index,this.projectCount=options.projects),this))},expandTo:function(level){var children,j,c,root=this.root(),i=0,expandables=[root],expand=function(i,e){return e.expand()};for(void 0===level&&(level=1/0),root.collapseAll();i++<level&&expandables.length>0;){for(jQuery.each(expandables,expand),children=[],j=0;j<expandables.length;j++)c=expandables[j].children(),c&&(children=children.concat(c));expandables=children}return level},numberOfProjects:function(){return this.getRootProperty("projectCount")},numberOfPlanningElements:function(){return this.getRootProperty("totalCount")-this.getRootProperty("projectCount")},height:function(){return this.getRootProperty("totalCount")},getRootProperty:function(property){var root=this.root();return this.iterateWithChildren(),root[property]},containsProjects:function(){return 0!==this.numberOfProjects()},containsPlanningElements:function(){return 0!==this.numberOfPlanningElements()}},TreeNode}},function(module,exports){module.exports=function(){return identifier="users",User={is:function(t){return void 0!==t&&t.identifier===identifier}},User.identifier=identifier,User}},function(module,exports,__webpack_require__){angular.module("openproject.timelines.services").service("TimelineLoaderService",["$q","FilterQueryStringBuilder","Color","HistoricalPlanningElement","PlanningElement","PlanningElementType","Project","ProjectAssociation","ProjectType","Reporting","Status","Timeline","User","CustomField","PathHelper",__webpack_require__(565)])},function(module,exports){module.exports=function($q,FilterQueryStringBuilder,Color,HistoricalPlanningElement,PlanningElement,PlanningElementType,Project,ProjectAssociation,ProjectType,Reporting,Status,Timeline,User,CustomField,PathHelper){function addUserIDsFromElementAttributes(results,attributes,element){var k,userid;for(k=0;k<attributes.length;k+=1)userid=element[attributes[k]],userid&&results.indexOf(userid)===-1&&results.push(userid)}function addUserIDsForElementsByAttribute(results,attributes,elements){var i,current,keys=Object.keys(elements);for(i=0;i<keys.length;i+=1)current=elements[keys[i]],addUserIDsFromElementAttributes(results,attributes,current)}var QueueingLoader=function(ajaxDefaults){this.ajaxDefaults=ajaxDefaults,this.registered={},this.loading={},this.TimelineLoaderService={}};QueueingLoader.prototype.register=function(identifier,options,context){this.registered[identifier]={options:options,context:context||{}}},QueueingLoader.prototype.load=function(){var identifier,element;for(identifier in this.registered)this.registered.hasOwnProperty(identifier)&&(element=this.registered[identifier],delete this.registered[identifier],this.loadElement(identifier,element))},QueueingLoader.prototype.getRegisteredIdentifiers=function(){return jQuery.map(this.registered,function(e,i){return i})},QueueingLoader.prototype.getLoadingIdentifiers=function(){return jQuery.map(this.loading,function(e,i){return i})},QueueingLoader.prototype.loadElement=function(identifier,element){element.options=jQuery.extend({},this.ajaxDefaults,element.options,{success:function(data,textStatus,jqXHR){delete this.loading[identifier],jQuery(this).trigger("success",{identifier:identifier,context:element.context,data:data})},error:function(jqXHR,textStatus,errorThrown){delete this.loading[identifier],jQuery(this).trigger("error",{identifier:identifier,context:element.context,textStatus:textStatus})},complete:this.onComplete,context:this}),this.loading[identifier]=element,jQuery.ajax(element.options)},QueueingLoader.prototype.onComplete=function(){var remaining=0;for(var key in this.loading)this.loading.hasOwnProperty(key)&&remaining++;0===remaining&&jQuery(this).trigger("empty")};var DataEnhancer=function(timeline){this.timeline=timeline,this.options={projectId:timeline.options.project_id},this.die=function(){timeline.die.apply(timeline,arguments)}};DataEnhancer.getBasicType=function(identifier){var i,basicTypes=this.BasicTypes();for(i=0;i<basicTypes.length;i++)if(basicTypes[i].identifier===identifier)return basicTypes[i]},DataEnhancer.BasicTypes=function(){return[Color,Status,PlanningElementType,HistoricalPlanningElement,PlanningElement,ProjectType,Project,ProjectAssociation,Reporting,User,CustomField]},DataEnhancer.prototype.createObjects=function(data,identifier){var i,e,id,type=DataEnhancer.getBasicType(identifier),map={};if(Array.isArray(data))for(i=0;i<data.length;i++)e=data[i],e.timeline=this.timeline,id=e.id,map[id]=jQuery.extend(Object.create(type),e);else console.warn("Expected instance of Array, but got something else.",data,identifier);return map},DataEnhancer.prototype.enhance=function(data){try{return this.data=data,this.createEmptyElementMaps(),this.assignMainProject(),this.augmentReportingsWithProjectObjects(),this.augmentProjectsWithProjectTypesAndAssociations(),this.augmentPlanningElementsWithHistoricalData(),this.augmentPlanningElementsWithAllKindsOfStuff(),this.augmentPlanningElementsWithVerticalityData(),this.data}catch(e){this.die(e)}},DataEnhancer.prototype.createEmptyElementMaps=function(){this.data.hasOwnProperty(ProjectAssociation.identifier)||(this.data[ProjectAssociation.identifier]={})},DataEnhancer.prototype.getElementMap=function(type){return this.data[type.identifier]},DataEnhancer.prototype.setElementMap=function(type,map){return void 0===map?delete this.data[type.identifier]:this.data[type.identifier]=map,map},DataEnhancer.prototype.getElements=function(type){var map=this.getElementMap(type)||{},result=[];for(var key in map)map.hasOwnProperty(key)&&result.push(map[key]);return result},DataEnhancer.prototype.getElement=function(type,id){return this.data[type.identifier][id]},DataEnhancer.prototype.setElement=function(type,id,element){return this.data[type.identifier][id]=element,this.data[type.identifier][id]},DataEnhancer.prototype.getProject=function(){return this.data.project},DataEnhancer.prototype.setProject=function(project){return this.data.project=project,project},DataEnhancer.prototype.assignMainProject=function(){if(void 0===this.getProject()){var dataEnhancer=this;jQuery.each(this.getElements(Project),function(i,e){e.identifier!==dataEnhancer.options.projectId&&e.id!==dataEnhancer.options.projectId||dataEnhancer.setProject(e)}),void 0===dataEnhancer.getProject()&&dataEnhancer.die(new Error("Could not find main project. The current user is probably not allowed to view timelines in here."))}},DataEnhancer.prototype.augmentReportingsWithProjectObjects=function(){var dataEnhancer=this;jQuery.each(dataEnhancer.getElements(Reporting),function(i,reporting){var project=dataEnhancer.getElement(Project,reporting.reporting_to_project.id),reporter=dataEnhancer.getElement(Project,reporting.project.id);project&&reporter&&(reporting.reporting_to_project=project,reporting.project=reporter,reporter.via_reporting=reporting,void 0===project.reporters&&(project.reporters=[]),jQuery.inArray(reporter,project.reporters)===-1&&project.reporters.push(reporter))})},DataEnhancer.prototype.augmentElementAttributesWithUser=function(e,attributes){if(this.data[User.identifier]){var k,curAttr;for(k=0;k<attributes.length;k+=1)curAttr=attributes[k],e[curAttr]&&(e[curAttr.replace(/_id$/,"")]=this.getElement(User,e[curAttr])),delete e[curAttr]}},DataEnhancer.prototype.augmentProjectElementWithUser=function(p){this.augmentElementAttributesWithUser(p,Timeline.USER_ATTRIBUTES.PROJECT)},DataEnhancer.prototype.augmentProjectsWithProjectTypesAndAssociations=function(){var dataEnhancer=this;jQuery.each(dataEnhancer.getElements(Project),function(i,e){if(dataEnhancer.augmentProjectElementWithUser(e),void 0!==e.project_type_id){var project_type=dataEnhancer.getElement(ProjectType,e.project_type_id);project_type&&(e.project_type=project_type)}var j,a,other,associations=e[ProjectAssociation.identifier];if(Array.isArray(associations))for(j=0;j<associations.length;j++)a=associations[j],a.timeline=dataEnhancer.timeline,a.origin=e,other=dataEnhancer.getElement(Project,a.to_project_id),other&&(a.project=other,dataEnhancer.setElement(ProjectAssociation,a.id,jQuery.extend(Object.create(ProjectAssociation),a)));e.parent_id&&(e.parent=dataEnhancer.getElement(Project,e.parent_id)),delete e.parent_id})},DataEnhancer.prototype.augmentPlanningElementsWithHistoricalData=function(){var dataEnhancer=this;jQuery.each(dataEnhancer.getElements(HistoricalPlanningElement),function(i,e){var pe=dataEnhancer.getElement(PlanningElement,e.id);void 0===pe&&(e=jQuery.extend(Object.create(PlanningElement),e),e.is_deleted=!0,dataEnhancer.setElement(PlanningElement,e.id,e),pe=e),pe.historical_element=jQuery.extend(Object.create(PlanningElement),e)}),dataEnhancer.setElementMap(HistoricalPlanningElement,void 0)},DataEnhancer.prototype.augmentPlanningElementWithStatus=function(pe){pe.status_id&&(pe.status=this.getElement(Status,pe.status_id)),delete pe.status_id},DataEnhancer.prototype.augmentPlanningElementWithUser=function(pe){this.augmentElementAttributesWithUser(pe,Timeline.USER_ATTRIBUTES.PLANNING_ELEMENT)},DataEnhancer.prototype.augmentPlanningElementWithType=function(pe){pe.type_id&&(pe.planning_element_type=this.getElement(PlanningElementType,pe.type_id)),delete pe.type_id},DataEnhancer.prototype.augmentPlanningElementWithProject=function(pe){var project=this.getElement(Project,pe.project_id);project&&(pe.project=project)},DataEnhancer.prototype.augmentPlanningElementWithParent=function(pe){if(pe.parent_id){var parent=this.getElement(PlanningElement,pe.parent_id);void 0!==parent&&(void 0===parent.planning_elements&&(parent.planning_elements=[]),parent.planning_elements.push(pe),pe.parent=parent)}else{var project=pe.project;project&&(void 0===project.planning_elements&&(project.planning_elements=[]),project.planning_elements.push(pe))}},DataEnhancer.prototype.augmentPlanningElementsWithAllKindsOfStuff=function(){var dataEnhancer=this;jQuery.each(dataEnhancer.getElements(PlanningElement),function(i,e){dataEnhancer.augmentPlanningElementWithStatus(e),dataEnhancer.augmentPlanningElementWithType(e),dataEnhancer.augmentPlanningElementWithProject(e),dataEnhancer.augmentPlanningElementWithParent(e),dataEnhancer.augmentPlanningElementWithUser(e),e.historical_element&&(dataEnhancer.augmentPlanningElementWithStatus(e.historical_element),dataEnhancer.augmentPlanningElementWithType(e.historical_element))})},DataEnhancer.prototype.augmentPlanningElementsWithVerticalityData=function(){var dataEnhancer=this;jQuery.each(dataEnhancer.getElements(PlanningElement),function(i,e){var pe=dataEnhancer.getElement(PlanningElement,e.id);pe.getPlanningElementType();pe.vertical=this.timeline.verticalPlanningElementIds().indexOf(pe.id)!==-1})},DataEnhancer.prototype.clearUpCustomFieldColumns=function(){this.timeline.clearUpCustomFieldColumns()};var TimelineLoader=function(timeline,options){this.timelineId=timeline.id,this.options=options,this.data={},this.loader=new QueueingLoader(options.ajax_defaults),this.dataEnhancer=new DataEnhancer(timeline),this.globalPrefix=PathHelper.apiV2,this.die=function(){this.dataEnhancer.die.apply(this.dataEnhancer,arguments)},jQuery(this.loader).on("success",jQuery.proxy(this,"onLoadSuccess")).on("error",jQuery.proxy(this,"onLoadError")).on("empty",jQuery.proxy(this,"onLoadComplete"))};TimelineLoader.QueueingLoader=QueueingLoader,TimelineLoader.prototype.registerTimelineElements=function(){this.registerProjectReportings(),this.registerGlobalElements()},TimelineLoader.prototype.load=function(){this.loader.load()},TimelineLoader.prototype.onLoadSuccess=function(e,args){var storeIn=args.context.storeIn||args.identifier,readFrom=args.context.readFrom||storeIn;this.storeData(args.data[readFrom],storeIn),this.checkDependencies(args.identifier)},TimelineLoader.prototype.onLoadError=function(e,args){var storeIn=args.context.storeIn||args.identifier;console.warn("Error during loading",arguments),this.storeData([],storeIn),this.checkDependencies(args.identifier)},TimelineLoader.prototype.onLoadComplete=function(e){jQuery(this).trigger("complete",this.dataEnhancer.enhance(this.data))},TimelineLoader.prototype.registerProjectReportings=function(){var projectPrefix=PathHelper.apiV2ProjectsPath()+"/"+this.options.project_id,url=projectPrefix+"/reportings.json?only=via_target";this.options.project_types&&(url+="&project_types="+this.options.project_types.join()),this.options.project_statuses&&(url+="&project_statuses="+this.options.project_statuses.join()),this.options.project_responsibles&&(url+="&project_responsibles="+this.options.project_responsibles.join()),this.options.project_parents&&(url+="&project_parents="+this.options.project_parents.join()),this.options.grouping_one&&(url+="&grouping_one="+this.options.grouping_one.join()),this.loader.register(Reporting.identifier,{url:url})},TimelineLoader.prototype.registerGlobalElements=function(){var projectPrefix=PathHelper.apiV2ProjectsPath()+"/"+this.options.project_id;this.loader.register(Status.identifier,{url:this.globalPrefix+"/statuses.json"}),this.loader.register(PlanningElementType.identifier,{url:this.globalPrefix+"/planning_element_types.json"}),this.loader.register(Color.identifier,{url:this.globalPrefix+"/colors.json"}),this.loader.register(CustomField.identifier,{url:projectPrefix+"/planning_element_custom_fields.json"}),this.loader.register(ProjectType.identifier,{url:this.globalPrefix+"/project_types.json"})},TimelineLoader.prototype.registerProjects=function(ids){this.inChunks(ids,function(project_ids_of_packet,i){this.loader.register(Project.identifier+"_"+i,{url:this.globalPrefix+"/projects.json?ids="+project_ids_of_packet.join(",")},{storeIn:Project.identifier})})},TimelineLoader.prototype.registerUsers=function(ids){this.inChunks(ids,function(user_ids_of_packet,i){this.loader.register(User.identifier+"_"+i,{url:this.globalPrefix+"/users.json?ids="+user_ids_of_packet.join(",")},{storeIn:User.identifier})})},TimelineLoader.prototype.provideServerSideFilterHashTypes=function(hash){void 0!==this.options.planning_element_types&&(hash.type_id=this.options.planning_element_types)},TimelineLoader.prototype.provideServerSideFilterHashStatus=function(hash){void 0!==this.options.planning_element_status&&(hash.status_id=this.options.planning_element_status)},TimelineLoader.prototype.provideServerSideFilterHashResponsibles=function(hash){void 0!==this.options.planning_element_responsibles&&(hash.responsible_id=this.options.planning_element_responsibles)},TimelineLoader.prototype.provideServerSideFilterHashAssignee=function(hash){void 0!==this.options.planning_element_assignee&&(hash.assigned_to_id=this.options.planning_element_assignee)},TimelineLoader.prototype.provideServerSideFilterHashCustomFields=function(hash){var field_id,custom_fields=this.options.custom_fields;if(void 0!==custom_fields)for(field_id in custom_fields)if(custom_fields.hasOwnProperty(field_id)){var value=custom_fields[field_id];value&&""!==value&&value.length>0&&(hash["cf_"+field_id]=value)}},TimelineLoader.prototype.provideServerSideFilterHash=function(){var result={};return this.provideServerSideFilterHashTypes(result),this.provideServerSideFilterHashResponsibles(result),this.provideServerSideFilterHashStatus(result),this.provideServerSideFilterHashAssignee(result),this.provideServerSideFilterHashCustomFields(result),result},TimelineLoader.prototype.registerPlanningElements=function(ids){this.inChunks(ids,function(projectIdsOfPacket,i){var projectPrefix=PathHelper.apiV2ProjectsPath()+"/"+projectIdsOfPacket.join(","),qsb=new FilterQueryStringBuilder(this.provideServerSideFilterHash());this.loader.register(PlanningElement.identifier+"_"+i,{url:qsb.append({timeline:this.timelineId}).build(projectPrefix+"/planning_elements.json")},{storeIn:PlanningElement.identifier}),this.options.target_time&&this.loader.register(HistoricalPlanningElement.identifier+"_"+i,{url:qsb.append({at_time:this.options.target_time}).build(projectPrefix+"/planning_elements.json")},{storeIn:HistoricalPlanningElement.identifier,readFrom:PlanningElement.identifier})})},TimelineLoader.prototype.registerPlanningElementsByID=function(ids){this.inChunks(ids,function(planningElementIdsOfPacket,i){
var projectPrefix=PathHelper.apiV2ProjectsPath()+"/"+this.options.project_id;this.loader.register(PlanningElement.identifier+"_IDS_"+i,{url:projectPrefix+"/planning_elements.json?ids="+planningElementIdsOfPacket.join(",")},{storeIn:PlanningElement.identifier}),this.options.target_time&&this.loader.register(HistoricalPlanningElement.identifier+"_IDS_"+i,{url:projectPrefix+"/planning_elements.json?ids="+planningElementIdsOfPacket.join(",")},{storeIn:HistoricalPlanningElement.identifier,readFrom:PlanningElement.identifier})})},TimelineLoader.prototype.inChunks=function(elements,iter){var i,current_elements;for(i=0,elements=elements.slice();elements.length>0;)i++,current_elements=elements.splice(0,Timeline.PROJECT_ID_BLOCK_SIZE),iter.call(this,current_elements,i)},TimelineLoader.prototype.storeData=function(data,identifier){jQuery.isArray(data)||this.die("Expected an instance of Array. Got something else. This should never happen.",data,identifier),this.data[identifier]=this.data[identifier]||{},jQuery.extend(this.data[identifier],this.dataEnhancer.createObjects(data,identifier))},TimelineLoader.prototype.getCurrentlyLoadingTypes=function(unique){var currentlyLoadingTypes=[],m={};return jQuery.each(this.loader.getLoadingIdentifiers(),function(i,e){currentlyLoadingTypes.push(e.replace(/_\d+$/,""))}),unique&&(jQuery.each(currentlyLoadingTypes,function(i,e){m[e]=e}),currentlyLoadingTypes=[],jQuery.each(m,function(i,e){currentlyLoadingTypes.push(e)})),currentlyLoadingTypes},TimelineLoader.prototype.doneLoading=function(param){return"string"!=typeof param&&(param=param.identifier),param===Project.identifier||param===PlanningElement.identifier?jQuery.inArray(param,this.getCurrentlyLoadingTypes())===-1:void 0!==this.data[param]},TimelineLoader.prototype.getRemainingPlanningElements=function(){var i,necessaryIDs=[],vp=this.options.include_planning_elements;for(i=0;i<vp.length;i+=1)"undefined"==typeof this.data.planning_elements[vp[i]]&&necessaryIDs.push(vp[i]);return necessaryIDs},TimelineLoader.prototype.getUsersToLoad=function(){var results=[],userFields=[],cf=this.data.custom_fields;for(var attr in cf)cf.hasOwnProperty(attr)&&"user"===cf[attr].field_format&&userFields.push("cf_"+cf[attr].id);return addUserIDsForElementsByAttribute(results,Timeline.USER_ATTRIBUTES.PLANNING_ELEMENT.concat(userFields),this.data.planning_elements),addUserIDsForElementsByAttribute(results,Timeline.USER_ATTRIBUTES.PROJECT,this.data.projects),results},TimelineLoader.prototype.getRelevantProjectIdsBasedOnReportings=function(){var i,relevantProjectIds=[this.options.project_id];if(this.doneLoading(Reporting)){for(i in this.data.reportings)this.data.reportings.hasOwnProperty(i)&&relevantProjectIds.push(this.data.reportings[i].getProjectId());this.getRelevantProjectIdsBasedOnReportings=function(){return relevantProjectIds}}else console.warn("Getting relevant project ids before reportings are loaded. This might be a bug.");return relevantProjectIds},TimelineLoader.prototype.getProject=function(idOrIdentifier){var i,ps=this.data.projects;if("string"!=typeof idOrIdentifier)return this.data.projects[idOrIdentifier];for(i in ps)if(ps.hasOwnProperty(i)&&ps[i].identifier===idOrIdentifier)return ps[i]},TimelineLoader.prototype.getRelevantProjectIdsBasedOnProjects=function(){var relevantProjectIds=this.getRelevantProjectIdsBasedOnReportings(),timelineLoader=this;return this.doneLoading(Project)?(relevantProjectIds=jQuery.grep(relevantProjectIds,function(e,i){return timelineLoader.getProject(e)&&timelineLoader.getProject(e).filteredOut()},!0),this.getRelevantProjectIdsBasedOnProjects=function(){return relevantProjectIds}):console.warn("Getting relevant project ids before projects are loaded. This might be a bug."),relevantProjectIds},TimelineLoader.prototype.shouldLoadReportings=function(lastLoaded){return lastLoaded===Reporting.identifier},TimelineLoader.prototype.shouldLoadPlanningElements=function(lastLoaded){return!!(this.doneLoading(Project)&&this.doneLoading(Reporting)&&this.doneLoading(ProjectType))&&(this.shouldLoadPlanningElements=function(){return!1},!0)},TimelineLoader.prototype.shouldLoadUsers=function(lastLoaded){return!!(this.doneLoading(Project)&&this.doneLoading(Reporting)&&this.doneLoading(ProjectType)&&this.doneLoading(PlanningElement))&&(this.shouldLoadUsers=function(){return!1},!0)},TimelineLoader.prototype.shouldLoadRemainingPlanningElements=function(lastLoaded){return!!(this.doneLoading(Project)&&this.doneLoading(Reporting)&&this.doneLoading(ProjectType)&&this.doneLoading(PlanningElement))&&(this.shouldLoadRemainingPlanningElements=function(){return!1},!0)},TimelineLoader.prototype.checkDependencies=function(identifier){this.shouldLoadReportings(identifier)?this.registerProjects(this.getRelevantProjectIdsBasedOnReportings()):this.shouldLoadPlanningElements(identifier)?(this.data=this.dataEnhancer.enhance(this.data),this.registerPlanningElements(this.getRelevantProjectIdsBasedOnProjects())):(this.shouldLoadRemainingPlanningElements(identifier)&&this.registerPlanningElementsByID(this.getRemainingPlanningElements()),this.shouldLoadUsers(identifier)&&this.registerUsers(this.getUsersToLoad())),this.loader.load()},TimelineLoader.prototype.complete=function(data){return this.dataEnhancer.clearUpCustomFieldColumns(),data};var TimelineLoaderService={createTimelineLoader:function(timeline){return new TimelineLoader(timeline,timeline.getTimelineLoaderOptions())},loadTimelineData:function(timeline){var deferred=$q.defer(),timelineLoader=null;try{timeline.checkPrerequisites(),timelineLoader=TimelineLoaderService.createTimelineLoader(timeline),timelineLoader.registerTimelineElements(),jQuery(timelineLoader).on("complete",function(e,data){angular.extend(timeline,data),deferred.resolve(timeline)}),timeline.safetyHook=window.setTimeout(function(){deferred.reject(I18n.t("js.timelines.errors.report_timeout"))},Timeline.LOAD_ERROR_TIMEOUT),timelineLoader.load()}catch(e){deferred.reject(e)}return deferred.promise}};return TimelineLoaderService}},function(module,exports){module.exports=function(){return{restrict:"E",transclude:!0,scope:{execute:"&",isDisabled:"=?",linkClass:"@",linkTitle:"@",spanClass:"@",linkAriaLabel:"@"},templateUrl:"/templates/components/accessible_by_keyboard.html"}}},function(module,exports){module.exports=function(){return{restrict:"EA",replace:!0,scope:{name:"@",checkboxId:"@",checkboxTitle:"@",checkboxValue:"=",model:"="},templateUrl:"/templates/components/accessible_checkbox.html"}}},function(module,exports){module.exports=function(){return{restrict:"E",scope:{visibleText:"=",readableText:"="},templateUrl:"/templates/components/accessible_element.html"}}},function(module,exports){module.exports=function(){var imageRegExp=new RegExp(/^image\/.*$/),excelRegExp=new RegExp(/.*excel$/);return{restrict:"E",replace:!0,scope:{type:"&"},template:'<op-icon icon-classes="icon-{{icon}}"></op-icon>',link:function(scope){var icon="ticket",type=scope.type();imageRegExp.test(type)&&(icon="image1"),excelRegExp.test(type)&&(icon="page-xls"),"application/pdf"===type&&(icon="page-pdf"),scope.icon=icon}}}},function(module,exports){module.exports=function(I18n,PathHelper,TimezoneService){return{restrict:"E",replace:!0,scope:{createdOn:"=",author:"=",project:"=",activity:"="},templateUrl:"/templates/components/authoring.html",link:function(scope,element,attrs){function activityFromPath(project,from){var path=PathHelper.projectActivityPath(project);return from&&(path+="?from="+from),path}moment.locale(I18n.locale);var createdOn=TimezoneService.parseDatetime(scope.createdOn),timeago=createdOn.fromNow(),time=createdOn.format("LLL");scope.I18n=I18n,scope.authorLink='<a href="'+PathHelper.userPath(scope.author.id)+'">'+scope.author.name+"</a>",scope.activity?scope.timestamp='<a title="'+time+'" href="'+activityFromPath(scope.project,createdOn.format("YYYY-MM-DD"))+'">'+timeago+"</a>":scope.timestamp='<span class="timestamp" title="'+time+'">'+timeago+"</span>"}}}},function(module,exports){module.exports=function($timeout,NotificationsService){return{restrict:"A",link:function(scope,element,attributes){var pushNotification=function(){switch(attributes.clickNotificationType){case"notice":NotificationsService.addNotice(attributes.clickNotification);break;case"success":NotificationsService.addSuccess(attributes.clickNotification);break;case"warning":NotificationsService.addWarning(attributes.clickNotification);break;case"error":NotificationsService.addError(attributes.clickNotification);break;default:NotificationsService.addNotice(attributes.clickNotification)}},addNotification=function(){$timeout(function(){pushNotification(),0})};element.bind("click",addNotification)}}}},function(module,exports){module.exports=function(){"use strict";return{restrict:"A",link:function(scope,element,attr){var doIfWatchedKey=function(keyEvent,callback){attr.clickOnKeypress.indexOf(keyEvent.which)!==-1&&(keyEvent.stopPropagation(),keyEvent.preventDefault(),void 0!==callback&&callback(keyEvent))};element.on("keydown",function(keyEvent){doIfWatchedKey(keyEvent)}),element.on("keyup",function(keyEvent){doIfWatchedKey(keyEvent,function(){angular.element(keyEvent.target).click()})})}}}},function(module,exports){module.exports=function($window){return{priority:-1,restrict:"A",link:function(scope,element,attrs){element.bind("click",function(e){var message=attrs.confirmPopup;message&&!$window.confirm(message)&&(e.stopImmediatePropagation(),e.preventDefault())})}}}},function(module,exports){module.exports=function(I18n,$timeout,NotificationsService,ConfigurationService){return{restrict:"A",replace:!1,scope:{clipboardTarget:"@"},link:function(scope,elem){var target=scope.clipboardTarget?angular.element(scope.clipboardTarget):elem;elem.addClass("copy-to-clipboard"),elem.click(function(evt){var supported=document.queryCommandSupported&&document.queryCommandSupported("copy"),addNotification=function(type,message){var notification;$timeout(function(){notification=NotificationsService[type](message)},0),ConfigurationService.accessibilityModeEnabled()||$timeout(function(){NotificationsService.remove(notification)},5e3)};if(evt.preventDefault(),target.select().focus(),supported)try{if(document.execCommand("copy"))return void addNotification("addSuccess",I18n.t("js.clipboard.copied_successful"))}catch(e){console.log("Your browser seems to support the clipboard API, but copying failed: "+e)}addNotification("addError",I18n.t("js.clipboard.browser_error"))})}}}},function(module,exports){module.exports=function(TimezoneService){return{restrict:"EA",replace:!0,scope:{dateValue:"=",hideTitle:"@",noDateText:"="},template:'<span title="{{ dateTitle }}">{{date}}</span>',link:function(scope,element,attrs){function setDate(date){date?scope.date=TimezoneService.formattedDate(TimezoneService.parseDate(date)):scope.date=scope.noDateText,scope.hideTitle||(scope.dateTitle=scope.date)}setDate(scope.dateValue),scope.$watch("dateValue",function(newVal){setDate(newVal)})}}}},function(module,exports){module.exports=function($compile,TimezoneService){return{restrict:"EA",replace:!0,scope:{dateTimeValue:"="},template:'<span title="{{ date }} {{ time }}"><span>{{date}}</span> <span>{{time}}</span></span>',link:function(scope,element,attrs){var c=TimezoneService.formattedDatetimeComponents(scope.dateTimeValue);scope.date=c[0],scope.time=c[1],$compile(element.contents())(scope)}}}},function(module,exports){module.exports=function(TimezoneService){return{restrict:"EA",replace:!0,scope:{timeValue:"=",hideTitle:"@"},template:'<span title="{{ timeTitle }}">{{time}}</span>',link:function(scope,element,attrs){scope.time=TimezoneService.formattedTime(TimezoneService.parseDatetime(scope.timeValue)),scope.hideTitle||(scope.timeTitle=scope.time)}}}},function(module,exports){module.exports=function(){return{restrict:"E",templateUrl:"/templates/components/empty_element.html"}}},function(module,exports){module.exports=function(ENTER_KEY){return{restrict:"E",replace:!0,link:function(scope,elem){var setCollapsed,btn=elem.find("a"),input=elem.find("input");scope.collapsed=!0,setCollapsed=function(collapsedState){scope.collapsed=collapsedState,scope.$apply()},btn.on("click mousedown focus keypress",function(evt){scope.collapsed===!0?(setCollapsed(!1),setTimeout(function(){input.focus()},20),elem.on("focusout",function(){setTimeout(function(){0===elem.find(":active,:focus").length&&(setCollapsed(!0),elem.off("focusout"))},10)}),evt.preventDefault()):("mousedown"===evt.type||"keypress"===evt.type&&evt.which===ENTER_KEY)&&elem.closest("form").submit()})}}}},function(module,exports){module.exports=function(){return function(ancestors){if(!ancestors)return!0;var directAncestors;return directAncestors=ancestors.length>1&&"Project"===ancestors[0].payload.objectType&&"Project"===ancestors[1].payload.objectType?ancestors.slice(1):ancestors,directAncestors.map(function(ancestor){return ancestor.expanded}).reduce(function(a,b){return a&&b})}}},function(module,exports){module.exports=function(FocusHelper){function isSelect2Element(attrs){var select2attributes=Object.keys(attrs).filter(function(attribute){return attribute.search(/select2/i)>=0});return select2attributes.length>0}function updateFocus(scope,element,attrs){if(element.hasClass("ui-select-multiple"))return element.find("input.ui-select-search").focus();var condition=!attrs.focus||scope.$eval(attrs.focus);if(condition)if(isSelect2Element(attrs))FocusHelper.focusSelect2Element(element);else{var prio=0;attrs.focusPriority&&(prio=scope.$eval(attrs.focusPriority),prio=prio===!0?1:Number.parseInt(prio)),FocusHelper.focusElement(element,prio)}}return{link:function(scope,element,attrs){updateFocus(scope,element,attrs),scope.$on("updateFocus",function(){updateFocus(scope,element,attrs)})}}}},function(module,exports){module.exports=function($timeout,FOCUSABLE_SELECTOR){function throttleAndCheckIfAllowedFocusChangeBasedOnTimeout(){var allowFocusSwitch=Date.now()-lastFocusSwitch>=minimumOffsetForNewSwitchInMs;return lastFocusSwitch=Date.now(),allowFocusSwitch}function checkIfAllowedFocusChange(priority){var checkTimeout=throttleAndCheckIfAllowedFocusChangeBasedOnTimeout();if(checkTimeout)lastPriority=-1;else if(priority>lastPriority)return lastPriority=priority,!0;return checkTimeout}var minimumOffsetForNewSwitchInMs=100,lastFocusSwitch=-minimumOffsetForNewSwitchInMs,lastPriority=-1,FocusHelper={getFocusableElement:function(element){var focusser=element.find("input.ui-select-focusser");if(focusser.length>0)return focusser[0];var focusable=element;return element.is(FOCUSABLE_SELECTOR)||(focusable=element.find(FOCUSABLE_SELECTOR)),focusable[0]},focus:function(element){var focusable=angular.element(FocusHelper.getFocusableElement(element)),$focusable=angular.element(focusable),isDisabled=$focusable.is("[disabled]");isDisabled&&!$focusable.attr("ng-disabled")&&$focusable.prop("disabled",!1),focusable.focus(),isDisabled&&!$focusable.attr("ng-disabled")&&$focusable.prop("disabled",!0)},focusElement:function(element,priority){checkIfAllowedFocusChange(priority)&&$timeout(function(){FocusHelper.focus(element)})},focusUiSelect:function(element){$timeout(function(){element.find(".ui-select-match").trigger("click")})},focusSelect2Element:function(element){var focusSelect2ElementRecursiv=function(retries){$timeout(function(){element.select2("focus");var isSelect2Focused=angular.element(document.activeElement).hasClass("select2-input");!isSelect2Focused&&retries>0&&focusSelect2ElementRecursiv(--retries)})};focusSelect2ElementRecursiv(3)}};return FocusHelper}},function(module,exports){module.exports=function(){return{link:function(scope,element){var thead=element.parent("colgroup").siblings("thead");thead.on("mouseenter","th",function(){element.index()===jQuery(this).index()&&element.addClass("hover")}),thead.on("mouseleave","th",function(){element.index()===jQuery(this).index()&&element.removeClass("hover")})}}}},function(module,exports){module.exports=function(){return I18n}},function(module,exports){module.exports=function(){return{restrict:"A",scope:{isInaccessible:"=inaccessibleByTab"},link:function(scope,element,attrs){scope.oldTabIndex=element.attr("tabindex"),scope.$watch("isInaccessible",function(isInaccessible){if(isInaccessible){var currentTabIndex=element.attr("tabindex");"-1"!=currentTabIndex&&(scope.oldTabIndex=currentTabIndex),element.attr("tabindex",-1),element.attr("aria-disabled",!0)}else element.attr("aria-disabled",!1),scope.oldTabIndex?element.attr("tabindex",scope.oldTabIndex):element.removeAttr("tabindex")})}}}},function(module,exports,__webpack_require__){angular.module("openproject.uiComponents").directive("accessibleByKeyboard",[__webpack_require__(566)]).directive("accessibleCheckbox",[__webpack_require__(567)]).directive("accessibleElement",[__webpack_require__(568)]).directive("authoring",["I18n","PathHelper","TimezoneService",__webpack_require__(570)]).directive("copyToClipboard",["I18n","$timeout","NotificationsService","ConfigurationService",__webpack_require__(574)]).directive("opDate",["TimezoneService",__webpack_require__(575)]).directive("opTime",["TimezoneService",__webpack_require__(577)]).directive("opDateTime",["$compile","TimezoneService",__webpack_require__(576)]).directive("emptyElement",[__webpack_require__(578)]).constant("ENTER_KEY",13).directive("expandableSearch",["ENTER_KEY",__webpack_require__(579)]).directive("focus",["FocusHelper",__webpack_require__(581)]).constant("FOCUSABLE_SELECTOR","a, button, :input, [tabindex], select").service("FocusHelper",["$timeout","FOCUSABLE_SELECTOR",__webpack_require__(582)]).service("I18n",[__webpack_require__(584)]).directive("inaccessibleByTab",[__webpack_require__(585)]).directive("modal",[__webpack_require__(587)]).directive("modalLoading",["I18n",__webpack_require__(588)]).directive("persistentToggle",["$timeout","CacheService",__webpack_require__(590)]).constant("LABEL_MAX_CHARS",40).constant("KEY_CODES",{enter:13,up:38,down:40}).directive("selectableTitle",[__webpack_require__(591)]).constant("DOUBLE_CLICK_DELAY",300).directive("singleClick",["DOUBLE_CLICK_DELAY","$parse","$timeout",__webpack_require__(592)]).directive("slideToggle",[__webpack_require__(593)]).directive("sortLink",["I18n","SortService",__webpack_require__(594)]).constant("ESC_KEY",27).directive("userField",["PathHelper",__webpack_require__(596)]).directive("wikiToolbar",[__webpack_require__(597)]).directive("zoomSlider",["I18n",__webpack_require__(598)]).directive("clickNotification",["$timeout","NotificationsService",__webpack_require__(571)]).directive("notifications",[__webpack_require__(589)]).directive("uploadProgress",[__webpack_require__(595)]).directive("attachmentIcon",[__webpack_require__(569)]).filter("ancestorsExpanded",__webpack_require__(580)).directive("highlightCol",[__webpack_require__(583)]).directive("confirmPopup",["$window",__webpack_require__(573)]).directive("clickOnKeypress",[__webpack_require__(572)])},function(module,exports){module.exports=function(){return{restrict:"A",scope:{target:"="},link:function(scope,element,attributes){element.on("click",function(e){e.preventDefault(),1!=e.which||e.ctrlKey||e.metaKey?window.open(scope.target||attributes.href,"_blank"):modalHelperInstance.createModal(scope.target||attributes.href,function(modalDiv){})})}}}},function(module,exports){module.exports=function(I18n){return{restrict:"E",templateUrl:"/templates/components/modal_loading.html",scope:!0,link:function(scope,element,attributes){scope.I18n=I18n}}}},function(module,exports,__webpack_require__){(function(_){module.exports=function(){var notificationsController=function(scope){scope.stack=[],scope.$on("notification.add",function(_e,notification){scope.stack.unshift(notification)}),scope.$on("notification.remove",function(_e,notification){_.remove(scope.stack,function(element){return element===notification})})};return{scope:!0,restrict:"E",replace:!0,templateUrl:"/templates/components/notifications.html",link:notificationsController}}}).call(exports,__webpack_require__(2))},function(module,exports){module.exports=function($timeout,CacheService){return{restrict:"EA",link:function(scope,element,attributes){function toggle(isNowHidden){cache.put(attributes.identifier,isNowHidden),scope.$apply(function(){scope.isHidden=isNowHidden}),isNowHidden?targetNotification.slideUp(function(){targetNotification.prop("hidden",!0)}):(targetNotification.slideDown(),targetNotification.prop("hidden",!1))}var clickHandler=element.find(".persistent-toggle--click-handler"),targetNotification=element.find(".persistent-toggle--notification"),cache=CacheService.localStorage();scope.isHidden=cache.get(attributes.identifier),clickHandler.bind("click",function(){toggle(!scope.isHidden)}),targetNotification.find(".notification-box--close").bind("click",function(){toggle(!0)}),targetNotification.prop("hidden",!!scope.isHidden)}}}},function(module,exports){module.exports=function(){return{restrict:"E",replace:!0,scope:{selectedTitle:"="},templateUrl:"/templates/components/selectable_title.html",link:function(scope){scope.I18n=I18n}}}},function(module,exports){module.exports=function(DOUBLE_CLICK_DELAY,$parse,$timeout){return{restrict:"A",link:function(scope,element,attrs){var fn=$parse(attrs.singleClick),clicks=0,timer=null;fn&&element.on("click",function(event){clicks++,1===clicks?timer=$timeout(function(){fn(scope,{$event:event}),clicks=0},DOUBLE_CLICK_DELAY):($timeout.cancel(timer),clicks=0)})}}}},function(module,exports){module.exports=function(){return{restrict:"A",scope:{speed:"@",collapsed:"="},link:function(scope,element){scope.collapsed&&element.hide();var defaultSpeed="fast";scope.$watch("collapsed",function(state,formerState){state!==formerState&&element.slideToggle(scope.speed||defaultSpeed,null)})}}}},function(module,exports){module.exports=function(I18n,SortService){return{restrict:"E",transclude:!0,scope:{sortAttr:"@",sortFunc:"&"},templateUrl:"/templates/components/sort_link.html",link:function(scope,element,attrs){var getSortTitle=function(){var title="",attribute=angular.element(element[0]).find("span.ng-scope").text();return SortService.getColumn().indexOf(scope.sortAttr)>=0?(title=SortService.isDescending()?I18n.t("js.label_descending"):I18n.t("js.label_ascending"),title+=" "+I18n.t("js.label_sorted_by")+" "+attribute):title=I18n.t("js.label_sort_by")+" "+attribute,title},getSortCss=function(){var sortDirection="asc";return SortService.isDescending()&&(sortDirection="desc"),sortDirection};scope.sortDirection=getSortCss(),scope.sortTitle=getSortTitle(),scope.$watch(SortService.getColumn,function(){SortService.getColumn().indexOf(scope.sortAttr)<0&&(scope.sortDirection="",scope.sortTitle=getSortTitle())}),scope.sort=function(){var sortPrefix=SortService.isDescending()?"":"desc";SortService.setColumn(scope.sortAttr),SortService.setDirection(sortPrefix),scope.sortDirection=getSortCss(),scope.sortTitle=getSortTitle(),scope.sortFunc()}}}}},function(module,exports,__webpack_require__){(function(_){module.exports=function(){"use strict";var uploadProgressController=function(scope){scope.upload.progress(function(details){var file=details.config.file||details.config.data.file;scope.file=_.get(file,"name",""),details.lengthComputable?scope.value=Math.round(details.loaded/details.total*100):scope.value=10}).success(function(){scope.value=100,scope.completed=!0,scope.$emit("upload.finished")}).error(function(){scope.error=!0,scope.$emit("upload.error")})};return{scope:{upload:"="},link:uploadProgressController,replace:!0,templateUrl:"/templates/components/upload-progress.html"}}}).call(exports,__webpack_require__(2))},function(module,exports){module.exports=function(PathHelper){return{restrict:"E",replace:!0,templateUrl:"/templates/components/user_field.html",scope:{user:"="},link:function(scope){scope.$watch("user",function(){scope.user&&scope.user.name&&(scope.userName=scope.user.name)}),scope.userPath=PathHelper.userPath}}}},function(module,exports){module.exports=function(){function link(scope,element){scope.isPreview=!1;var wikiToolbar=new jsToolBar(element.get(0));wikiToolbar.setHelpLink(HELP_LINK_HTML),wikiToolbar.draw();var previewButtonAttributes=PREVIEW_BUTTON_ATTRIBUTES;previewButtonAttributes.click=function(){scope.previewToggle(),scope.$apply(function(){var title=scope.isPreview?PREVIEW_DISABLE_TEXT:PREVIEW_ENABLE_TEXT,toggledClasses="icon-preview icon-ticket-edit -active";element.closest(".textarea-wrapper").find("."+PREVIEW_BUTTON_CLASS).attr("title",title).attr("aria-label",title).toggleClass(toggledClasses)})},element.closest(".textarea-wrapper").find(".jstb_help").after(jQuery("<button>",previewButtonAttributes)),element.closest(".jstEditor").prevAll(".jstElements").find("button").on("click",function(){element.trigger("input")})}var help_link_title=I18n.t("js.inplace.link_formatting_help"),HELP_LINK_ONCLICK="window.open(&quot;"+window.appBasePath+"/help/wiki_syntax&quot;, &quot;&quot;, &quot;resizable=yes, location=no, width=600, height=640, menubar=no, status=no, scrollbars=yes&quot;); return false;",HELP_LINK_HTML=jQuery('<button title="'+help_link_title+'" class="jstb_help"  type="button"  aria-label="'+help_link_title+'"onclick="'+HELP_LINK_ONCLICK+'"></button>')[0],PREVIEW_ENABLE_TEXT=I18n.t("js.inplace.btn_preview_enable"),PREVIEW_DISABLE_TEXT=I18n.t("js.inplace.btn_preview_disable"),PREVIEW_BUTTON_CLASS="jstb_preview",PREVIEW_BUTTON_ATTRIBUTES={class:PREVIEW_BUTTON_CLASS+" icon-preview icon-small",type:"button",title:PREVIEW_ENABLE_TEXT,"aria-label":PREVIEW_ENABLE_TEXT,text:""};return{restrict:"AC",transclude:!1,link:link,scope:{previewToggle:"&"}}}},function(module,exports){module.exports=function(I18n){var latestId=0;return{restrict:"E",scope:{scales:"=",selectedScale:"="},controller:function(){var vm=this;vm.minValue=1,vm.maxValue=vm.scales.length,vm.sliderId="zoom-slider-"+latestId++,vm.setSelectedScaleIndex=function(index){vm.selectedScaleIndex=index,vm.selectedScale=vm.scales[vm.selectedScaleIndex]}},controllerAs:"ctrl",bindToController:!0,templateUrl:"/templates/components/zoom_slider.html",link:function(scope,element,attributes,ctrl){scope.labelText=I18n.t("js.timelines.zoom.slider");var slider=element.find("input");slider.on("change",function(){ctrl.setSelectedScaleIndex(slider.val()-1),scope.$apply()}),scope.$watch("ctrl.selectedScale",function(newScale){var newIndex=ctrl.scales.indexOf(newScale);ctrl.selectedScaleIndex!==newIndex&&(ctrl.selectedScaleIndex=newIndex)})}}}},function(module,exports){angular.module("openproject.workPackages.config").constant("DEFAULT_PAGINATION_OPTIONS",{page:1,maxVisiblePageOptions:6,optionsTruncationSize:1})},function(module,exports,__webpack_require__){angular.module("openproject.workPackages.controllers").constant("TEXT_TYPE","text").constant("STATUS_TYPE","status").constant("VERSION_TYPE","version").constant("CATEGORY_TYPE","category").constant("PRIORITY_TYPE","priority").constant("USER_TYPE","user").constant("TIME_ENTRY_TYPE","time_entry").constant("USER_FIELDS",["assignee","author","responsible"]).constant("ADD_WATCHER_SELECT_INDEX",-1),__webpack_require__(601)},function(module,exports){angular.module("openproject.workPackages").constant("PERMITTED_CONTEXT_MENU_ACTIONS",[{icon:"log_time",link:"logTime"},{icon:"move",link:"move"},{icon:"copy",link:"copy"},{icon:"delete",link:"delete"},{icon:"export-pdf",link:"pdf"},{icon:"export-atom",link:"atom"}]).factory("DetailsMoreDropdownMenu",["ngContextMenu",function(ngContextMenu){return ngContextMenu({templateUrl:"/templates/work_packages/menus/details_more_dropdown_menu.html",container:"#content"})}])},function(module,exports,__webpack_require__){angular.module("openproject.workPackages.directives").directive("langAttribute",__webpack_require__(603)).constant("PERMITTED_MORE_MENU_ACTIONS",[{key:"log_time",link:"logTime",resource:"workPackage"},{key:"move",link:"move",resource:"workPackage"},{key:"delete",link:"delete",resource:"workPackage"},{key:"copy",link:"createWorkPackage",resource:"project"},{key:"export-pdf",link:"pdf",resource:"workPackage"},{key:"export-atom",link:"atom",resource:"workPackage"},{key:"custom-fields",link:"customFields",icon:"icon-custom-fields",resource:"workPackage"},{key:"configure-form",link:"configureForm",icon:"icon-settings3",resource:"workPackage"}]).directive("workPackageDynamicAttribute",["$compile",__webpack_require__(604)])},function(module,exports){module.exports=function(){return{restrict:"A",link:function(scope,element,attributes){if(scope.column&&scope.column.custom_field){var langAttr=document.createAttribute("lang");langAttr.nodeValue=scope.column.custom_field.name_locale,element[0].setAttributeNode(langAttr)}}}}},function(module,exports){module.exports=function($compile){return{restrict:"EA",scope:{htmlElement:"=",field:"="},link:function(scope,element){var html="<"+scope.htmlElement+"></"+scope.htmlElement+">";element.html(html),$compile(element.contents())(scope)}}}},function(module,exports){module.exports=function(){var ApiHelper={getErrorMessages:function(error){if(500===error.status)return[error.statusText];var response=JSON.parse(error.data),messages=[];return ApiHelper.isMultiErrorMessage(response)?angular.forEach(response._embedded.errors,function(error){this.push(error.message)},messages):messages.push(response.message),messages},isMultiErrorMessage:function(error){return"urn:openproject-org:api:v3:errors:MultipleErrors"===error.errorIdentifier}};return ApiHelper}},function(module,exports,__webpack_require__){angular.module("openproject.workPackages.helpers").factory("ApiHelper",["NotificationsService",__webpack_require__(605)]).factory("WorkPackagesHelper",["TimezoneService","currencyFilter","CustomFieldHelper",__webpack_require__(607)])},function(module,exports,__webpack_require__){(function(_){module.exports=function(TimezoneService,currencyFilter,CustomFieldHelper){var WorkPackagesHelper={getRowObjectContent:function(object,option){var content=object[option],displayContent=function(content){return content.name||content.subject||content.title||content.value||""};switch(typeof content){case"object":return null===content?"":content instanceof Array?content.map(displayContent).join(", "):displayContent(content);case"number":return content;default:return content||""}},augmentWorkPackageWithData:function(workPackage,attributeName,isCustomValue,data){isCustomValue&&data?workPackage.custom_values?workPackage.custom_values.push(data):workPackage.custom_values=[data]:workPackage[attributeName]=data},getFormattedCustomValue:function(object,customField){if(!object.custom_values)return null;var values=object.custom_values.filter(function(customValue){return customValue&&customValue.custom_field_id===customField.id});return values&&values.length?CustomFieldHelper.formatCustomFieldValue(values[0].value,customField.field_format):void 0},getColumnDataId:function(object,column){var custom_field_id=column.name.match(/^cf_(\d+)$/);return custom_field_id?(custom_field_id=parseInt(custom_field_id[1],10),WorkPackagesHelper.getCFColumnDataId(object,custom_field_id)):WorkPackagesHelper.getStaticColumnDataId(object,column)},getCFColumnDataId:function(object,custom_field_id){var custom_value=_.find(object.custom_values,function(elem){return elem&&elem.custom_field_id===custom_field_id});return custom_value&&custom_value.value?custom_value.value.id:null},getStaticColumnDataId:function(object,column){switch(column.name){case"parent":return object.parent_id;case"project":return object.project.identifier;case"id":case"subject":return object.id;default:return object[column.name]?object[column.name].id:null}},getFormattedColumnData:function(object,column){var value=WorkPackagesHelper.getRowObjectContent(object,column.name);return WorkPackagesHelper.formatValue(value,column.meta_data.data_type)},formatValue:function(value,dataType){switch(dataType){case"datetime":var dateTime;return value&&(dateTime=TimezoneService.formattedDatetime(value)),dateTime||"";case"date":return value?TimezoneService.formattedDate(value):"";
case"currency":return currencyFilter(value,"EUR ");case"Duration":return TimezoneService.formattedDuration(value);case"DateTime":return TimezoneService.formattedDatetime(value);case"Boolean":return value?I18n.t("js.general_text_yes"):I18n.t("js.general_text_no");case"Date":return TimezoneService.formattedDate(value);default:return value}},parseDateTime:function(value){return new Date(Date.parse(value.replace(/(A|P)M$/,"")))}};return WorkPackagesHelper}}).call(exports,__webpack_require__(2))},function(module,exports,__webpack_require__){__webpack_require__(599),__webpack_require__(600),__webpack_require__(602),__webpack_require__(606),__webpack_require__(610)},function(module,exports){module.exports=function(TimezoneService,ConfigurationService,$timeout){function Datepicker(datepickerElem,date,options){this.date=date,this.datepickerCont=angular.element(datepickerElem),this.datepickerInstance=null,this.initialize(options)}var datepickerFormat="yy-mm-dd";return Datepicker.prototype.initialize=function(options){var self=this,firstDayOfWeek=ConfigurationService.startOfWeekPresent()?ConfigurationService.startOfWeek():jQuery.datepicker._defaults.firstDay,mergedOptions=angular.extend({},options,{firstDay:firstDayOfWeek,showWeeks:!0,changeMonth:!0,changeYear:!0,dateFormat:datepickerFormat,defaultDate:TimezoneService.formattedISODate(self.date),showButtonPanel:!0});this.datepickerInstance=this.datepickerCont.datepicker(mergedOptions)},Datepicker.prototype.clear=function(){this.datepickerInstance.datepicker("setDate",null)},Datepicker.prototype.hide=function(){this.datepickerInstance.datepicker("hide"),this.datepickerCont.scrollParent().off("scroll")},Datepicker.prototype.show=function(){this.datepickerInstance.datepicker("show"),this.hideDuringScroll()},Datepicker.prototype.reshow=function(){this.datepickerInstance.datepicker("show")},Datepicker.prototype.hideDuringScroll=function(){var reshowTimeout,hide=jQuery.proxy(function(){this.datepickerInstance.datepicker("hide")},this),show=jQuery.proxy(function(){this.datepickerInstance.datepicker("show")},this),scrollParent=this.datepickerCont.scrollParent(),visibleAndActive=jQuery.proxy(this.visibleAndActive,this);scrollParent.scroll(function(){hide(),$timeout.cancel(reshowTimeout),reshowTimeout=$timeout(function(){visibleAndActive()&&show()},50)})},Datepicker.prototype.visibleAndActive=function(){var input=this.datepickerCont;return document.elementFromPoint(input.offset().left,input.offset().top)===input[0]&&document.activeElement===input[0]},Datepicker}},function(module,exports,__webpack_require__){angular.module("openproject.workPackages.models").factory("Datepicker",["TimezoneService","ConfigurationService","$timeout",__webpack_require__(609)])},function(module,exports,__webpack_require__){"use strict";function register(angular){var app=angular.module("dragula",["ng"]);return app.factory("dragulaService",dragulaService(angular)),app.directive("dragula",dragulaDirective(angular)),"dragula"}var dragulaService=__webpack_require__(614),dragulaDirective=__webpack_require__(612);module.exports=register},function(module,exports,__webpack_require__){"use strict";function register(angular){return["dragulaService",function(dragulaService){function link(scope,elem,attrs){var drake,dragulaScope=scope.dragulaScope||scope.$parent,container=elem[0],name=scope.$eval(attrs.dragula),bag=dragulaService.find(dragulaScope,name);bag?(drake=bag.drake,drake.containers.push(container)):(drake=dragula({containers:[container]}),dragulaService.add(dragulaScope,name,drake)),scope.$watch("dragulaModel",function(newValue,oldValue){if(newValue){if(drake.models){var modelIndex=oldValue?drake.models.indexOf(oldValue):-1;modelIndex>=0?drake.models.splice(modelIndex,1,newValue):drake.models.push(newValue)}else drake.models=[newValue];dragulaService.handleModels(dragulaScope,drake)}})}return{restrict:"A",scope:{dragulaScope:"=",dragulaModel:"="},link:link}}]}var dragula=__webpack_require__(211);module.exports=register},function(module,exports,__webpack_require__){"use strict";function replicateEvents(angular,bag,scope){function replicator(type){function replicate(){var args=atoa(arguments).map(angularize);args.unshift(bag.name+"."+type),scope.$emit.apply(scope,args)}bag.drake.on(type,replicate)}function angularize(value){return angular.isElement(value)?angular.element(value):value}events.forEach(replicator)}var atoa=__webpack_require__(210),events=["cancel","cloned","drag","dragend","drop","out","over","remove","shadow","drop-model","remove-model"];module.exports=replicateEvents},function(module,exports,__webpack_require__){"use strict";function register(angular){return[function(){function handleModels(scope,drake){if(!drake.registered){var dragElm,dragIndex,dropIndex,sourceModel;drake.on("remove",function(el,source){drake.models&&(sourceModel=drake.models[drake.containers.indexOf(source)],scope.$applyAsync(function(){sourceModel.splice(dragIndex,1),drake.emit("remove-model",el,source)}))}),drake.on("drag",function(el,source){dragElm=el,dragIndex=domIndexOf(el,source)}),drake.on("drop",function(dropElm,target,source){drake.models&&(dropIndex=domIndexOf(dropElm,target),scope.$applyAsync(function(){if(sourceModel=drake.models[drake.containers.indexOf(source)],target===source)sourceModel.splice(dropIndex,0,sourceModel.splice(dragIndex,1)[0]);else{var notCopy=dragElm===dropElm,targetModel=drake.models[drake.containers.indexOf(target)],dropElmModel=notCopy?sourceModel[dragIndex]:angular.copy(sourceModel[dragIndex]);notCopy&&sourceModel.splice(dragIndex,1),targetModel.splice(dropIndex,0,dropElmModel),target.removeChild(dropElm)}drake.emit("drop-model",dropElm,target,source)}))}),drake.registered=!0}}function getOrCreateCtx(scope){var ctx=scope[dragulaKey];return ctx||(ctx=scope[dragulaKey]={bags:[]}),ctx}function domIndexOf(child,parent){return Array.prototype.indexOf.call(angular.element(parent).children(),child)}function add(scope,name,drake){var bag=find(scope,name);if(bag)throw new Error('Bag named: "'+name+'" already exists in same angular scope.');var ctx=getOrCreateCtx(scope);return bag={name:name,drake:drake},ctx.bags.push(bag),replicateEvents(angular,bag,scope),drake.models&&handleModels(scope,drake),bag}function find(scope,name){for(var bags=getOrCreateCtx(scope).bags,i=0;i<bags.length;i++)if(bags[i].name===name)return bags[i]}function destroy(scope,name){var bags=getOrCreateCtx(scope).bags,bag=find(scope,name),i=bags.indexOf(bag);bags.splice(i,1),bag.drake.destroy()}function setOptions(scope,name,options){var bag=add(scope,name,dragula(options));handleModels(scope,bag.drake)}return{add:add,find:find,options:setOptions,destroy:destroy,handleModels:handleModels}}]}var dragula=__webpack_require__(211),dragulaKey="$$dragula",replicateEvents=__webpack_require__(613);module.exports=register},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["vm.","nm."],DAY:["Sondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrydag","Saterdag"],ERANAMES:["voor Christus","na Christus"],ERAS:["v.C.","n.C."],MONTH:["Januarie","Februarie","Maart","April","Mei","Junie","Julie","Augustus","September","Oktober","November","Desember"],SHORTDAY:["So","Ma","Di","Wo","Do","Vr","Sa"],SHORTMONTH:["Jan.","Feb.","Mrt.","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des"],fullDate:"EEEE, dd MMMM y",longDate:"dd MMMM y",medium:"dd MMM y h:mm:ss a",mediumDate:"dd MMM y",mediumTime:"h:mm:ss a",short:"y-MM-dd h:mm a",shortDate:"y-MM-dd",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"R",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"¤-",negSuf:"",posPre:"¤",posSuf:""}]},id:"af",pluralCat:function(n,opt_precision){return 1==n?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["ص","م"],DAY:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],ERANAMES:["قبل الميلاد","ميلادي"],ERAS:["ق.م","م"],MONTH:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],SHORTDAY:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],SHORTMONTH:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],fullDate:"EEEE، d MMMM، y",longDate:"d MMMM، y",medium:"dd‏/MM‏/y h:mm:ss a",mediumDate:"dd‏/MM‏/y",mediumTime:"h:mm:ss a",short:"d‏/M‏/y h:mm a",shortDate:"d‏/M‏/y",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"£",DECIMAL_SEP:"٫",GROUP_SEP:"٬",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"¤ -",negSuf:"",posPre:"¤ ",posSuf:""}]},id:"ar",pluralCat:function(n,opt_precision){return 0==n?PLURAL_CATEGORY.ZERO:1==n?PLURAL_CATEGORY.ONE:2==n?PLURAL_CATEGORY.TWO:n%100>=3&&n%100<=10?PLURAL_CATEGORY.FEW:n%100>=11&&n%100<=99?PLURAL_CATEGORY.MANY:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["пр.об.","сл.об."],DAY:["неделя","понеделник","вторник","сряда","четвъртък","петък","събота"],ERANAMES:["преди Христа","след Христа"],ERAS:["пр.Хр.","сл.Хр."],MONTH:["януари","февруари","март","април","май","юни","юли","август","септември","октомври","ноември","декември"],SHORTDAY:["нд","пн","вт","ср","чт","пт","сб"],SHORTMONTH:["ян.","февр.","март","апр.","май","юни","юли","авг.","септ.","окт.","ноем.","дек."],fullDate:"EEEE, d MMMM y 'г'.",longDate:"d MMMM y 'г'.",medium:"d.MM.y 'г'. H:mm:ss",mediumDate:"d.MM.y 'г'.",mediumTime:"H:mm:ss",short:"d.MM.yy 'г'. H:mm",shortDate:"d.MM.yy 'г'.",shortTime:"H:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"lev",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"bg",pluralCat:function(n,opt_precision){return 1==n?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;void 0===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["a. m.","p. m."],DAY:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],ERANAMES:["abans de Crist","després de Crist"],ERAS:["aC","dC"],MONTH:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],SHORTDAY:["dg.","dl.","dt.","dc.","dj.","dv.","ds."],SHORTMONTH:["gen.","febr.","març","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des."],fullDate:"EEEE, d MMMM 'de' y",longDate:"d MMMM 'de' y",medium:"d MMM y H:mm:ss",mediumDate:"d MMM y",mediumTime:"H:mm:ss",short:"d/M/yy H:mm",shortDate:"d/M/yy",shortTime:"H:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"€",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"ca",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 1==i&&0==vf.v?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;void 0===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],ERANAMES:["př. n. l.","n. l."],ERAS:["př. n. l.","n. l."],MONTH:["ledna","února","března","dubna","května","června","července","srpna","září","října","listopadu","prosince"],SHORTDAY:["ne","po","út","st","čt","pá","so"],SHORTMONTH:["led","úno","bře","dub","kvě","čvn","čvc","srp","zář","říj","lis","pro"],fullDate:"EEEE d. MMMM y",longDate:"d. MMMM y",medium:"d. M. y H:mm:ss",mediumDate:"d. M. y",mediumTime:"H:mm:ss",short:"dd.MM.yy H:mm",shortDate:"dd.MM.yy",shortTime:"H:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"Kč",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"cs",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 1==i&&0==vf.v?PLURAL_CATEGORY.ONE:i>=2&&i<=4&&0==vf.v?PLURAL_CATEGORY.FEW:0!=vf.v?PLURAL_CATEGORY.MANY:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;void 0===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}function getWT(v,f){if(0===f)return{w:0,t:0};for(;f%10===0;)f/=10,v--;return{w:v,t:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],ERANAMES:["f.Kr.","e.Kr."],ERAS:["f.Kr.","e.Kr."],MONTH:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"],SHORTDAY:["søn.","man.","tir.","ons.","tor.","fre.","lør."],SHORTMONTH:["jan.","feb.","mar.","apr.","maj","jun.","jul.","aug.","sep.","okt.","nov.","dec."],fullDate:"EEEE 'den' d. MMMM y",longDate:"d. MMMM y",medium:"dd/MM/y HH.mm.ss",mediumDate:"dd/MM/y",mediumTime:"HH.mm.ss",short:"dd/MM/yy HH.mm",shortDate:"dd/MM/yy",shortTime:"HH.mm"},NUMBER_FORMATS:{CURRENCY_SYM:"kr",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"da",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision),wt=getWT(vf.v,vf.f);return 1==n||0!=wt.t&&(0==i||1==i)?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;void 0===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["vorm.","nachm."],DAY:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],ERANAMES:["v. Chr.","n. Chr."],ERAS:["v. Chr.","n. Chr."],MONTH:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],SHORTDAY:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],SHORTMONTH:["Jan.","Feb.","März","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],fullDate:"EEEE, d. MMMM y",longDate:"d. MMMM y",medium:"dd.MM.y HH:mm:ss",mediumDate:"dd.MM.y",mediumTime:"HH:mm:ss",short:"dd.MM.yy HH:mm",shortDate:"dd.MM.yy",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"€",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"de",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 1==i&&0==vf.v?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;void 0===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"¤-",negSuf:"",posPre:"¤",posSuf:""}]},id:"en",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 1==i&&0==vf.v?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["a. m.","p. m."],DAY:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],ERANAMES:["antes de Cristo","anno Dómini"],ERAS:["a. C.","d. C."],MONTH:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],SHORTDAY:["dom.","lun.","mar.","mié.","jue.","vie.","sáb."],SHORTMONTH:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sept.","oct.","nov.","dic."],fullDate:"EEEE, d 'de' MMMM 'de' y",longDate:"d 'de' MMMM 'de' y",medium:"d 'de' MMM 'de' y H:mm:ss",mediumDate:"d 'de' MMM 'de' y",mediumTime:"H:mm:ss",short:"d/M/yy H:mm",shortDate:"d/M/yy",shortTime:"H:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"€",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"es",pluralCat:function(n,opt_precision){return 1==n?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;void 0===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["pühapäev","esmaspäev","teisipäev","kolmapäev","neljapäev","reede","laupäev"],ERANAMES:["enne meie aega","meie aja järgi"],ERAS:["e.m.a.","m.a.j."],MONTH:["jaanuar","veebruar","märts","aprill","mai","juuni","juuli","august","september","oktoober","november","detsember"],SHORTDAY:["P","E","T","K","N","R","L"],SHORTMONTH:["jaan","veebr","märts","apr","mai","juuni","juuli","aug","sept","okt","nov","dets"],fullDate:"EEEE, d. MMMM y",longDate:"d. MMMM y",medium:"d. MMM y H:mm.ss",mediumDate:"d. MMM y",mediumTime:"H:mm.ss",short:"dd.MM.yy H:mm",shortDate:"dd.MM.yy",shortTime:"H:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"€",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"et",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 1==i&&0==vf.v?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["قبل‌ازظهر","بعدازظهر"],DAY:["یکشنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],ERANAMES:["قبل از میلاد","میلادی"],ERAS:["ق.م.","م."],MONTH:["ژانویهٔ","فوریهٔ","مارس","آوریل","مهٔ","ژوئن","ژوئیهٔ","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"],SHORTDAY:["یکشنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],SHORTMONTH:["ژانویهٔ","فوریهٔ","مارس","آوریل","مهٔ","ژوئن","ژوئیهٔ","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"],fullDate:"EEEE d MMMM y",longDate:"d MMMM y",medium:"d MMM y H:mm:ss",mediumDate:"d MMM y",mediumTime:"H:mm:ss",short:"y/M/d H:mm",shortDate:"y/M/d",shortTime:"H:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"Rial",DECIMAL_SEP:"٫",GROUP_SEP:"٬",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"‎¤-",negSuf:"",posPre:"‎¤",posSuf:""}]},id:"fa",pluralCat:function(n,opt_precision){var i=0|n;return 0==i||1==n?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;void 0===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["ap.","ip."],DAY:["sunnuntaina","maanantaina","tiistaina","keskiviikkona","torstaina","perjantaina","lauantaina"],ERANAMES:["ennen Kristuksen syntymää","jälkeen Kristuksen syntymän"],ERAS:["eKr.","jKr."],MONTH:["tammikuuta","helmikuuta","maaliskuuta","huhtikuuta","toukokuuta","kesäkuuta","heinäkuuta","elokuuta","syyskuuta","lokakuuta","marraskuuta","joulukuuta"],SHORTDAY:["su","ma","ti","ke","to","pe","la"],SHORTMONTH:["tammikuuta","helmikuuta","maaliskuuta","huhtikuuta","toukokuuta","kesäkuuta","heinäkuuta","elokuuta","syyskuuta","lokakuuta","marraskuuta","joulukuuta"],fullDate:"cccc d. MMMM y",longDate:"d. MMMM y",medium:"d.M.y H.mm.ss",mediumDate:"d.M.y",mediumTime:"H.mm.ss",short:"d.M.y H.mm",shortDate:"d.M.y",shortTime:"H.mm"},NUMBER_FORMATS:{CURRENCY_SYM:"€",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"fi",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 1==i&&0==vf.v?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],ERANAMES:["avant Jésus-Christ","après Jésus-Christ"],ERAS:["av. J.-C.","ap. J.-C."],MONTH:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],SHORTDAY:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],SHORTMONTH:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],fullDate:"EEEE d MMMM y",longDate:"d MMMM y",medium:"d MMM y HH:mm:ss",mediumDate:"d MMM y",mediumTime:"HH:mm:ss",short:"dd/MM/y HH:mm",shortDate:"dd/MM/y",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"€",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"fr",pluralCat:function(n,opt_precision){var i=0|n;return 0==i||1==i?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;void 0===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["לפנה״צ","אחה״צ"],DAY:["יום ראשון","יום שני","יום שלישי","יום רביעי","יום חמישי","יום שישי","יום שבת"],ERANAMES:["לפני הספירה","לספירה"],ERAS:["לפנה״ס","לספירה"],MONTH:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],SHORTDAY:["יום א׳","יום ב׳","יום ג׳","יום ד׳","יום ה׳","יום ו׳","שבת"],SHORTMONTH:["ינו׳","פבר׳","מרץ","אפר׳","מאי","יוני","יולי","אוג׳","ספט׳","אוק׳","נוב׳","דצמ׳"],fullDate:"EEEE, d בMMMM y",longDate:"d בMMMM y",medium:"d בMMM y HH:mm:ss",mediumDate:"d בMMM y",mediumTime:"HH:mm:ss",short:"d.M.y HH:mm",shortDate:"d.M.y",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"₪",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"he",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 1==i&&0==vf.v?PLURAL_CATEGORY.ONE:2==i&&0==vf.v?PLURAL_CATEGORY.TWO:0==vf.v&&(n<0||n>10)&&n%10==0?PLURAL_CATEGORY.MANY:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;void 0===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["nedjelja","ponedjeljak","utorak","srijeda","četvrtak","petak","subota"],ERANAMES:["Prije Krista","Poslije Krista"],ERAS:["pr. Kr.","p. Kr."],MONTH:["siječnja","veljače","ožujka","travnja","svibnja","lipnja","srpnja","kolovoza","rujna","listopada","studenoga","prosinca"],SHORTDAY:["ned","pon","uto","sri","čet","pet","sub"],SHORTMONTH:["sij","velj","ožu","tra","svi","lip","srp","kol","ruj","lis","stu","pro"],fullDate:"EEEE, d. MMMM y.",longDate:"d. MMMM y.",medium:"d. MMM y. HH:mm:ss",mediumDate:"d. MMM y.",mediumTime:"HH:mm:ss",short:"dd.MM.y. HH:mm",shortDate:"dd.MM.y.",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"kn",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"hr",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 0==vf.v&&i%10==1&&i%100!=11||vf.f%10==1&&vf.f%100!=11?PLURAL_CATEGORY.ONE:0==vf.v&&i%10>=2&&i%10<=4&&(i%100<12||i%100>14)||vf.f%10>=2&&vf.f%10<=4&&(vf.f%100<12||vf.f%100>14)?PLURAL_CATEGORY.FEW:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["de.","du."],DAY:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"],ERANAMES:["időszámításunk előtt","időszámításunk szerint"],ERAS:["i. e.","i. sz."],MONTH:["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"],SHORTDAY:["V","H","K","Sze","Cs","P","Szo"],SHORTMONTH:["jan.","febr.","márc.","ápr.","máj.","jún.","júl.","aug.","szept.","okt.","nov.","dec."],fullDate:"y. MMMM d., EEEE",longDate:"y. MMMM d.",medium:"y. MMM d. H:mm:ss",mediumDate:"y. MMM d.",mediumTime:"H:mm:ss",short:"y. MM. dd. H:mm",shortDate:"y. MM. dd.",shortTime:"H:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"Ft",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"hu",pluralCat:function(n,opt_precision){return 1==n?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],ERANAMES:["Sebelum Masehi","M"],ERAS:["SM","M"],MONTH:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],SHORTDAY:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],SHORTMONTH:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],fullDate:"EEEE, dd MMMM y",longDate:"d MMMM y",medium:"d MMM y HH.mm.ss",mediumDate:"d MMM y",mediumTime:"HH.mm.ss",short:"dd/MM/yy HH.mm",shortDate:"dd/MM/yy",shortTime:"HH.mm"},NUMBER_FORMATS:{CURRENCY_SYM:"Rp",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"¤-",negSuf:"",posPre:"¤",posSuf:""}]},id:"id",pluralCat:function(n,opt_precision){return PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;void 0===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],ERANAMES:["a.C.","d.C."],ERAS:["aC","dC"],MONTH:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],SHORTDAY:["dom","lun","mar","mer","gio","ven","sab"],SHORTMONTH:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],fullDate:"EEEE d MMMM y",longDate:"d MMMM y",medium:"dd MMM y HH:mm:ss",mediumDate:"dd MMM y",mediumTime:"HH:mm:ss",short:"dd/MM/yy HH:mm",shortDate:"dd/MM/yy",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"€",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,
minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"it",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 1==i&&0==vf.v?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["午前","午後"],DAY:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],ERANAMES:["紀元前","西暦"],ERAS:["紀元前","西暦"],MONTH:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],SHORTDAY:["日","月","火","水","木","金","土"],SHORTMONTH:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"y/MM/dd H:mm:ss",mediumDate:"y/MM/dd",mediumTime:"H:mm:ss",short:"y/MM/dd H:mm",shortDate:"y/MM/dd",shortTime:"H:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"¥",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"¤-",negSuf:"",posPre:"¤",posSuf:""}]},id:"ja",pluralCat:function(n,opt_precision){return PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["오전","오후"],DAY:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],ERANAMES:["기원전","서기"],ERAS:["기원전","서기"],MONTH:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],SHORTDAY:["일","월","화","수","목","금","토"],SHORTMONTH:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],fullDate:"y년 M월 d일 EEEE",longDate:"y년 M월 d일",medium:"y. M. d. a h:mm:ss",mediumDate:"y. M. d.",mediumTime:"a h:mm:ss",short:"yy. M. d. a h:mm",shortDate:"yy. M. d.",shortTime:"a h:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"₩",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"¤-",negSuf:"",posPre:"¤",posSuf:""}]},id:"ko",pluralCat:function(n,opt_precision){return PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;void 0===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["priešpiet","popiet"],DAY:["sekmadienis","pirmadienis","antradienis","trečiadienis","ketvirtadienis","penktadienis","šeštadienis"],ERANAMES:["prieš Kristų","po Kristaus"],ERAS:["pr. Kr.","po Kr."],MONTH:["sausio","vasario","kovo","balandžio","gegužės","birželio","liepos","rugpjūčio","rugsėjo","spalio","lapkričio","gruodžio"],SHORTDAY:["sk","pr","an","tr","kt","pn","št"],SHORTMONTH:["saus.","vas.","kov.","bal.","geg.","birž.","liep.","rugp.","rugs.","spal.","lapkr.","gruod."],fullDate:"y 'm'. MMMM d 'd'., EEEE",longDate:"y 'm'. MMMM d 'd'.",medium:"y-MM-dd HH:mm:ss",mediumDate:"y-MM-dd",mediumTime:"HH:mm:ss",short:"y-MM-dd HH:mm",shortDate:"y-MM-dd",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"€",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"lt",pluralCat:function(n,opt_precision){var vf=getVF(n,opt_precision);return n%10==1&&(n%100<11||n%100>19)?PLURAL_CATEGORY.ONE:n%10>=2&&n%10<=9&&(n%100<11||n%100>19)?PLURAL_CATEGORY.FEW:0!=vf.f?PLURAL_CATEGORY.MANY:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;void 0===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["priekšpusdienā","pēcpusdienā"],DAY:["svētdiena","pirmdiena","otrdiena","trešdiena","ceturtdiena","piektdiena","sestdiena"],ERANAMES:["pirms mūsu ēras","mūsu ērā"],ERAS:["p.m.ē.","m.ē."],MONTH:["janvāris","februāris","marts","aprīlis","maijs","jūnijs","jūlijs","augusts","septembris","oktobris","novembris","decembris"],SHORTDAY:["Sv","Pr","Ot","Tr","Ce","Pk","Se"],SHORTMONTH:["janv.","febr.","marts","apr.","maijs","jūn.","jūl.","aug.","sept.","okt.","nov.","dec."],fullDate:"EEEE, y. 'gada' d. MMMM",longDate:"y. 'gada' d. MMMM",medium:"y. 'gada' d. MMM HH:mm:ss",mediumDate:"y. 'gada' d. MMM",mediumTime:"HH:mm:ss",short:"dd.MM.yy HH:mm",shortDate:"dd.MM.yy",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"€",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:0,lgSize:0,maxFrac:2,minFrac:2,minInt:1,negPre:"¤-",negSuf:"",posPre:"¤",posSuf:""}]},id:"lv",pluralCat:function(n,opt_precision){var vf=getVF(n,opt_precision);return n%10==0||n%100>=11&&n%100<=19||2==vf.v&&vf.f%100>=11&&vf.f%100<=19?PLURAL_CATEGORY.ZERO:n%10==1&&n%100!=11||2==vf.v&&vf.f%10==1&&vf.f%100!=11||2!=vf.v&&vf.f%10==1?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;void 0===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["a.m.","p.m."],DAY:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],ERANAMES:["voor Christus","na Christus"],ERAS:["v.Chr.","n.Chr."],MONTH:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],SHORTDAY:["zo","ma","di","wo","do","vr","za"],SHORTMONTH:["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],fullDate:"EEEE d MMMM y",longDate:"d MMMM y",medium:"d MMM y HH:mm:ss",mediumDate:"d MMM y",mediumTime:"HH:mm:ss",short:"dd-MM-yy HH:mm",shortDate:"dd-MM-yy",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"€",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"¤ ",negSuf:"-",posPre:"¤ ",posSuf:""}]},id:"nl",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 1==i&&0==vf.v?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["a.m.","p.m."],DAY:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],ERANAMES:["f.Kr.","e.Kr."],ERAS:["f.Kr.","e.Kr."],MONTH:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],SHORTDAY:["søn.","man.","tir.","ons.","tor.","fre.","lør."],SHORTMONTH:["jan.","feb.","mar.","apr.","mai","jun.","jul.","aug.","sep.","okt.","nov.","des."],fullDate:"EEEE d. MMMM y",longDate:"d. MMMM y",medium:"d. MMM y HH.mm.ss",mediumDate:"d. MMM y",mediumTime:"HH.mm.ss",short:"dd.MM.y HH.mm",shortDate:"dd.MM.y",shortTime:"HH.mm"},NUMBER_FORMATS:{CURRENCY_SYM:"kr",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"¤ -",negSuf:"",posPre:"¤ ",posSuf:""}]},id:"no",pluralCat:function(n,opt_precision){return 1==n?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;void 0===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],ERANAMES:["p.n.e.","n.e."],ERAS:["p.n.e.","n.e."],MONTH:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","września","października","listopada","grudnia"],SHORTDAY:["niedz.","pon.","wt.","śr.","czw.","pt.","sob."],SHORTMONTH:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru"],fullDate:"EEEE, d MMMM y",longDate:"d MMMM y",medium:"d MMM y HH:mm:ss",mediumDate:"d MMM y",mediumTime:"HH:mm:ss",short:"dd.MM.y HH:mm",shortDate:"dd.MM.y",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"zł",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"pl",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 1==i&&0==vf.v?PLURAL_CATEGORY.ONE:0==vf.v&&i%10>=2&&i%10<=4&&(i%100<12||i%100>14)?PLURAL_CATEGORY.FEW:0==vf.v&&1!=i&&i%10>=0&&i%10<=1||0==vf.v&&i%10>=5&&i%10<=9||0==vf.v&&i%100>=12&&i%100<=14?PLURAL_CATEGORY.MANY:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],ERANAMES:["Antes de Cristo","Ano do Senhor"],ERAS:["a.C.","d.C."],MONTH:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],SHORTDAY:["dom","seg","ter","qua","qui","sex","sáb"],SHORTMONTH:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],fullDate:"EEEE, d 'de' MMMM 'de' y",longDate:"d 'de' MMMM 'de' y",medium:"d 'de' MMM 'de' y HH:mm:ss",mediumDate:"d 'de' MMM 'de' y",mediumTime:"HH:mm:ss",short:"dd/MM/yy HH:mm",shortDate:"dd/MM/yy",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"R$",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"¤-",negSuf:"",posPre:"¤",posSuf:""}]},id:"pt-br",pluralCat:function(n,opt_precision){return n>=0&&n<=2&&2!=n?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],ERANAMES:["Antes de Cristo","Ano do Senhor"],ERAS:["a.C.","d.C."],MONTH:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],SHORTDAY:["dom","seg","ter","qua","qui","sex","sáb"],SHORTMONTH:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],fullDate:"EEEE, d 'de' MMMM 'de' y",longDate:"d 'de' MMMM 'de' y",medium:"d 'de' MMM 'de' y HH:mm:ss",mediumDate:"d 'de' MMM 'de' y",mediumTime:"HH:mm:ss",short:"dd/MM/yy HH:mm",shortDate:"dd/MM/yy",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"R$",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"¤-",negSuf:"",posPre:"¤",posSuf:""}]},id:"pt",pluralCat:function(n,opt_precision){return n>=0&&n<=2&&2!=n?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;void 0===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["a.m.","p.m."],DAY:["duminică","luni","marți","miercuri","joi","vineri","sâmbătă"],ERANAMES:["înainte de Hristos","după Hristos"],ERAS:["î.Hr.","d.Hr."],MONTH:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],SHORTDAY:["Dum","Lun","Mar","Mie","Joi","Vin","Sâm"],SHORTMONTH:["ian.","feb.","mar.","apr.","mai","iun.","iul.","aug.","sept.","oct.","nov.","dec."],fullDate:"EEEE, d MMMM y",longDate:"d MMMM y",medium:"d MMM y HH:mm:ss",mediumDate:"d MMM y",mediumTime:"HH:mm:ss",short:"dd.MM.y HH:mm",shortDate:"dd.MM.y",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"RON",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"ro",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 1==i&&0==vf.v?PLURAL_CATEGORY.ONE:0!=vf.v||0==n||1!=n&&n%100>=1&&n%100<=19?PLURAL_CATEGORY.FEW:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;void 0===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],ERANAMES:["до н. э.","н. э."],ERAS:["до н. э.","н. э."],MONTH:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],SHORTDAY:["вс","пн","вт","ср","чт","пт","сб"],SHORTMONTH:["янв.","февр.","марта","апр.","мая","июня","июля","авг.","сент.","окт.","нояб.","дек."],fullDate:"EEEE, d MMMM y 'г'.",longDate:"d MMMM y 'г'.",medium:"d MMM y 'г'. H:mm:ss",mediumDate:"d MMM y 'г'.",mediumTime:"H:mm:ss",short:"dd.MM.yy H:mm",shortDate:"dd.MM.yy",shortTime:"H:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"руб.",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"ru",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 0==vf.v&&i%10==1&&i%100!=11?PLURAL_CATEGORY.ONE:0==vf.v&&i%10>=2&&i%10<=4&&(i%100<12||i%100>14)?PLURAL_CATEGORY.FEW:0==vf.v&&i%10==0||0==vf.v&&i%10>=5&&i%10<=9||0==vf.v&&i%100>=11&&i%100<=14?PLURAL_CATEGORY.MANY:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;void 0===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["dopoludnia","odpoludnia"],DAY:["nedeľa","pondelok","utorok","streda","štvrtok","piatok","sobota"],ERANAMES:["pred Kristom","po Kristovi"],ERAS:["pred Kr.","po Kr."],MONTH:["januára","februára","marca","apríla","mája","júna","júla","augusta","septembra","októbra","novembra","decembra"],SHORTDAY:["ne","po","ut","st","št","pi","so"],SHORTMONTH:["jan","feb","mar","apr","máj","jún","júl","aug","sep","okt","nov","dec"],fullDate:"EEEE, d. MMMM y",longDate:"d. MMMM y",medium:"d. M. y H:mm:ss",mediumDate:"d. M. y",mediumTime:"H:mm:ss",short:"dd.MM.yy H:mm",shortDate:"dd.MM.yy",shortTime:"H:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"€",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"sk",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 1==i&&0==vf.v?PLURAL_CATEGORY.ONE:i>=2&&i<=4&&0==vf.v?PLURAL_CATEGORY.FEW:0!=vf.v?PLURAL_CATEGORY.MANY:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;void 0===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["fm","em"],DAY:["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"],ERANAMES:["före Kristus","efter Kristus"],ERAS:["f.Kr.","e.Kr."],MONTH:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],SHORTDAY:["sön","mån","tis","ons","tors","fre","lör"],SHORTMONTH:["jan.","feb.","mars","apr.","maj","juni","juli","aug.","sep.","okt.","nov.","dec."],fullDate:"EEEE d MMMM y",longDate:"d MMMM y",medium:"d MMM y HH:mm:ss",mediumDate:"d MMM y",mediumTime:"HH:mm:ss",short:"y-MM-dd HH:mm",shortDate:"y-MM-dd",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"kr",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"sv-se",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 1==i&&0==vf.v?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["ก่อนเที่ยง","หลังเที่ยง"],DAY:["วันอาทิตย์","วันจันทร์","วันอังคาร","วันพุธ","วันพฤหัสบดี","วันศุกร์","วันเสาร์"],ERANAMES:["ปีก่อนคริสต์ศักราช","คริสต์ศักราช"],ERAS:["ปีก่อน ค.ศ.","ค.ศ."],MONTH:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],SHORTDAY:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],SHORTMONTH:["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],fullDate:"EEEEที่ d MMMM G y",longDate:"d MMMM G y",medium:"d MMM y HH:mm:ss",mediumDate:"d MMM y",mediumTime:"HH:mm:ss",short:"d/M/yy HH:mm",shortDate:"d/M/yy",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"฿",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"¤-",negSuf:"",posPre:"¤",posSuf:""}]},id:"th",pluralCat:function(n,opt_precision){return PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["ÖÖ","ÖS"],DAY:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],ERANAMES:["Milattan Önce","Milattan Sonra"],ERAS:["MÖ","MS"],MONTH:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],SHORTDAY:["Paz","Pzt","Sal","Çar","Per","Cum","Cmt"],SHORTMONTH:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],fullDate:"d MMMM y EEEE",longDate:"d MMMM y",medium:"d MMM y HH:mm:ss",mediumDate:"d MMM y",mediumTime:"HH:mm:ss",short:"d MM y HH:mm",shortDate:"d MM y",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"TL",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"tr",pluralCat:function(n,opt_precision){return 1==n?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;void 0===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["дп","пп"],DAY:["неділя","понеділок","вівторок","середа","четвер","пʼятниця","субота"],ERANAMES:["до нашої ери","нашої ери"],ERAS:["до н.е.","н.е."],MONTH:["січня","лютого","березня","квітня","травня","червня","липня","серпня","вересня","жовтня","листопада","грудня"],SHORTDAY:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],SHORTMONTH:["січ.","лют.","бер.","квіт.","трав.","черв.","лип.","серп.","вер.","жовт.","лист.","груд."],fullDate:"EEEE, d MMMM y 'р'.",longDate:"d MMMM y 'р'.",medium:"d MMM y 'р'. HH:mm:ss",mediumDate:"d MMM y 'р'.",mediumTime:"HH:mm:ss",short:"dd.MM.yy HH:mm",shortDate:"dd.MM.yy",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"₴",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"uk",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 0==vf.v&&i%10==1&&i%100!=11?PLURAL_CATEGORY.ONE:0==vf.v&&i%10>=2&&i%10<=4&&(i%100<12||i%100>14)?PLURAL_CATEGORY.FEW:0==vf.v&&i%10==0||0==vf.v&&i%10>=5&&i%10<=9||0==vf.v&&i%100>=11&&i%100<=14?PLURAL_CATEGORY.MANY:PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["SA","CH"],DAY:["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"],ERANAMES:["tr. CN","sau CN"],ERAS:["tr. CN","sau CN"],MONTH:["tháng 1","tháng 2","tháng 3","tháng 4","tháng 5","tháng 6","tháng 7","tháng 8","tháng 9","tháng 10","tháng 11","tháng 12"],SHORTDAY:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],SHORTMONTH:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],fullDate:"EEEE, 'ngày' dd MMMM 'năm' y",longDate:"'Ngày' dd 'tháng' MM 'năm' y",medium:"dd-MM-y HH:mm:ss",mediumDate:"dd-MM-y",mediumTime:"HH:mm:ss",short:"dd/MM/y HH:mm",shortDate:"dd/MM/y",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"₫",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"vi",pluralCat:function(n,opt_precision){return PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["上午","下午"],DAY:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],ERANAMES:["西元前","西元"],ERAS:["西元前","西元"],MONTH:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],SHORTDAY:["週日","週一","週二","週三","週四","週五","週六"],SHORTMONTH:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],fullDate:"y年M月d日 EEEE",longDate:"y年M月d日",medium:"y年M月d日 ah:mm:ss",mediumDate:"y年M月d日",mediumTime:"ah:mm:ss",short:"y/M/d ah:mm",shortDate:"y/M/d",shortTime:"ah:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"NT$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"¤-",negSuf:"",posPre:"¤",posSuf:""}]},id:"zh-tw",pluralCat:function(n,opt_precision){return PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["上午","下午"],DAY:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],ERANAMES:["公元前","公元"],ERAS:["公元前","公元"],MONTH:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],SHORTDAY:["周日","周一","周二","周三","周四","周五","周六"],SHORTMONTH:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"y年M月d日 ah:mm:ss",mediumDate:"y年M月d日",mediumTime:"ah:mm:ss",short:"yy/M/d ah:mm",shortDate:"yy/M/d",shortTime:"ah:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"¥",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"¤ -",negSuf:"",posPre:"¤ ",posSuf:""}]},id:"zh",pluralCat:function(n,opt_precision){return PLURAL_CATEGORY.OTHER}})}])},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var prefix=["webkit","moz","ms","o"];exports.requestAnimationFrame=function(){for(var i=0,limit=prefix.length;i<limit&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[prefix[i]+"RequestAnimationFrame"];return window.requestAnimationFrame||!function(){var lastTime=0;window.requestAnimationFrame=function(callback){var now=(new Date).getTime(),ttc=Math.max(0,16-now-lastTime),timer=window.setTimeout(function(){return callback(now+ttc)},ttc);return lastTime=now+ttc,timer}}(),window.requestAnimationFrame.bind(window)}(),exports.cancelAnimationFrame=function(){for(var i=0,limit=prefix.length;i<limit&&!window.cancelAnimationFrame;++i)window.cancelAnimationFrame=window[prefix[i]+"CancelAnimationFrame"]||window[prefix[i]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(timer){window.clearTimeout(timer)}),window.cancelAnimationFrame.bind(window)}()},function(module,exports,__webpack_require__){module.exports="function"==typeof Array.from?Array.from:__webpack_require__(654)},function(module,exports){module.exports=function(){var isCallable=function(fn){return"function"==typeof fn},toInteger=function(value){var number=Number(value);return isNaN(number)?0:0!==number&&isFinite(number)?(number>0?1:-1)*Math.floor(Math.abs(number)):number},maxSafeInteger=Math.pow(2,53)-1,toLength=function(value){var len=toInteger(value);return Math.min(Math.max(len,0),maxSafeInteger)},iteratorProp=function(value){if(null!=value){if(["string","number","boolean","symbol"].indexOf(typeof value)>-1)return Symbol.iterator;if("undefined"!=typeof Symbol&&"iterator"in Symbol&&Symbol.iterator in value)return Symbol.iterator;if("@@iterator"in value)return"@@iterator"}},getMethod=function(O,P){if(null!=O&&null!=P){var func=O[P];if(null==func)return;if(!isCallable(func))throw new TypeError(func+" is not a function");return func}},iteratorStep=function(iterator){var result=iterator.next(),done=Boolean(result.done);return!done&&result};return function(items){"use strict";var T,C=this,mapFn=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof mapFn){if(!isCallable(mapFn))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(T=arguments[2])}var A,k,usingIterator=getMethod(items,iteratorProp(items));if(void 0!==usingIterator){A=isCallable(C)?Object(new C):[];var iterator=usingIterator.call(items);if(null==iterator)throw new TypeError("Array.from requires an array-like or iterable object");k=0;for(var next,nextValue;;){if(next=iteratorStep(iterator),!next)return A.length=k,A;nextValue=next.value,mapFn?A[k]=mapFn.call(T,nextValue,k):A[k]=nextValue,k++}}else{var arrayLike=Object(items);if(null==items)throw new TypeError("Array.from requires an array-like object - not null or undefined");var len=toLength(arrayLike.length);A=isCallable(C)?Object(new C(len)):new Array(len),k=0;for(var kValue;k<len;)kValue=arrayLike[k],mapFn?A[k]=mapFn.call(T,kValue,k):A[k]=kValue,k++;A.length=len}return A}}()},function(module,exports,__webpack_require__){/*!
 * Bowser - a browser detector
 * https://github.com/ded/bowser
 * MIT License | (c) Dustin Diaz 2015
 */
!function(root,name,definition){"undefined"!=typeof module&&module.exports?module.exports=definition():__webpack_require__(1132)(name,definition)}(this,"bowser",function(){function detect(ua){function getFirstMatch(regex){var match=ua.match(regex);return match&&match.length>1&&match[1]||""}function getSecondMatch(regex){var match=ua.match(regex);return match&&match.length>1&&match[2]||""}var result,iosdevice=getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase(),likeAndroid=/like android/i.test(ua),android=!likeAndroid&&/android/i.test(ua),nexusMobile=/nexus\s*[0-6]\s*/i.test(ua),nexusTablet=!nexusMobile&&/nexus\s*[0-9]+/i.test(ua),chromeos=/CrOS/.test(ua),silk=/silk/i.test(ua),sailfish=/sailfish/i.test(ua),tizen=/tizen/i.test(ua),webos=/(web|hpw)os/i.test(ua),windowsphone=/windows phone/i.test(ua),windows=(/SamsungBrowser/i.test(ua),!windowsphone&&/windows/i.test(ua)),mac=!iosdevice&&!silk&&/macintosh/i.test(ua),linux=!android&&!sailfish&&!tizen&&!webos&&/linux/i.test(ua),edgeVersion=getFirstMatch(/edge\/(\d+(\.\d+)?)/i),versionIdentifier=getFirstMatch(/version\/(\d+(\.\d+)?)/i),tablet=/tablet/i.test(ua),mobile=!tablet&&/[^-]mobi/i.test(ua),xbox=/xbox/i.test(ua);/opera/i.test(ua)?result={name:"Opera",opera:t,version:versionIdentifier||getFirstMatch(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr|opios/i.test(ua)?result={name:"Opera",opera:t,version:getFirstMatch(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||versionIdentifier}:/SamsungBrowser/i.test(ua)?result={name:"Samsung Internet for Android",samsungBrowser:t,version:versionIdentifier||getFirstMatch(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(ua)?result={name:"Opera Coast",coast:t,version:versionIdentifier||getFirstMatch(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(ua)?result={name:"Yandex Browser",yandexbrowser:t,version:versionIdentifier||getFirstMatch(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(ua)?result={name:"UC Browser",ucbrowser:t,version:getFirstMatch(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(ua)?result={name:"Maxthon",maxthon:t,version:getFirstMatch(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(ua)?result={name:"Epiphany",epiphany:t,version:getFirstMatch(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(ua)?result={name:"Puffin",puffin:t,version:getFirstMatch(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(ua)?result={name:"Sleipnir",sleipnir:t,version:getFirstMatch(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(ua)?result={name:"K-Meleon",kMeleon:t,version:getFirstMatch(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:windowsphone?(result={name:"Windows Phone",windowsphone:t},edgeVersion?(result.msedge=t,result.version=edgeVersion):(result.msie=t,result.version=getFirstMatch(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(ua)?result={name:"Internet Explorer",msie:t,version:getFirstMatch(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:chromeos?result={name:"Chrome",chromeos:t,chromeBook:t,chrome:t,version:getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(ua)?result={name:"Microsoft Edge",msedge:t,version:edgeVersion}:/vivaldi/i.test(ua)?result={name:"Vivaldi",vivaldi:t,version:getFirstMatch(/vivaldi\/(\d+(\.\d+)?)/i)||versionIdentifier}:sailfish?result={name:"Sailfish",sailfish:t,version:getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(ua)?result={name:"SeaMonkey",seamonkey:t,version:getFirstMatch(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(ua)?(result={name:"Firefox",firefox:t,version:getFirstMatch(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(ua)&&(result.firefoxos=t)):silk?result={name:"Amazon Silk",silk:t,version:getFirstMatch(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(ua)?result={name:"PhantomJS",phantom:t,version:getFirstMatch(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(ua)?result={name:"SlimerJS",slimer:t,version:getFirstMatch(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(ua)||/rim\stablet/i.test(ua)?result={name:"BlackBerry",blackberry:t,version:versionIdentifier||getFirstMatch(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:webos?(result={name:"WebOS",webos:t,version:versionIdentifier||getFirstMatch(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(ua)&&(result.touchpad=t)):/bada/i.test(ua)?result={name:"Bada",bada:t,version:getFirstMatch(/dolfin\/(\d+(\.\d+)?)/i)}:tizen?result={name:"Tizen",tizen:t,version:getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||versionIdentifier}:/qupzilla/i.test(ua)?result={name:"QupZilla",qupzilla:t,version:getFirstMatch(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||versionIdentifier}:/chromium/i.test(ua)?result={name:"Chromium",chromium:t,version:getFirstMatch(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||versionIdentifier}:/chrome|crios|crmo/i.test(ua)?result={name:"Chrome",chrome:t,version:getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:android?result={name:"Android",version:versionIdentifier}:/safari|applewebkit/i.test(ua)?(result={name:"Safari",safari:t},versionIdentifier&&(result.version=versionIdentifier)):iosdevice?(result={name:"iphone"==iosdevice?"iPhone":"ipad"==iosdevice?"iPad":"iPod"},versionIdentifier&&(result.version=versionIdentifier)):result=/googlebot/i.test(ua)?{name:"Googlebot",googlebot:t,version:getFirstMatch(/googlebot\/(\d+(\.\d+))/i)||versionIdentifier}:{name:getFirstMatch(/^(.*)\/(.*) /),version:getSecondMatch(/^(.*)\/(.*) /)},!result.msedge&&/(apple)?webkit/i.test(ua)?(/(apple)?webkit\/537\.36/i.test(ua)?(result.name=result.name||"Blink",result.blink=t):(result.name=result.name||"Webkit",result.webkit=t),!result.version&&versionIdentifier&&(result.version=versionIdentifier)):!result.opera&&/gecko\//i.test(ua)&&(result.name=result.name||"Gecko",result.gecko=t,result.version=result.version||getFirstMatch(/gecko\/(\d+(\.\d+)?)/i)),result.windowsphone||result.msedge||!android&&!result.silk?result.windowsphone||result.msedge||!iosdevice?mac?result.mac=t:xbox?result.xbox=t:windows?result.windows=t:linux&&(result.linux=t):(result[iosdevice]=t,result.ios=t):result.android=t;var osVersion="";result.windowsphone?osVersion=getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):iosdevice?(osVersion=getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i),osVersion=osVersion.replace(/[_\s]/g,".")):android?osVersion=getFirstMatch(/android[ \/-](\d+(\.\d+)*)/i):result.webos?osVersion=getFirstMatch(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):result.blackberry?osVersion=getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i):result.bada?osVersion=getFirstMatch(/bada\/(\d+(\.\d+)*)/i):result.tizen&&(osVersion=getFirstMatch(/tizen[\/\s](\d+(\.\d+)*)/i)),osVersion&&(result.osversion=osVersion);var osMajorVersion=osVersion.split(".")[0];return tablet||nexusTablet||"ipad"==iosdevice||android&&(3==osMajorVersion||osMajorVersion>=4&&!mobile)||result.silk?result.tablet=t:(mobile||"iphone"==iosdevice||"ipod"==iosdevice||android||nexusMobile||result.blackberry||result.webos||result.bada)&&(result.mobile=t),result.msedge||result.msie&&result.version>=10||result.yandexbrowser&&result.version>=15||result.vivaldi&&result.version>=1||result.chrome&&result.version>=20||result.samsungBrowser&&result.version>=4||result.firefox&&result.version>=20||result.safari&&result.version>=6||result.opera&&result.version>=10||result.ios&&result.osversion&&result.osversion.split(".")[0]>=6||result.blackberry&&result.version>=10.1||result.chromium&&result.version>=20?result.a=t:result.msie&&result.version<10||result.chrome&&result.version<20||result.firefox&&result.version<20||result.safari&&result.version<6||result.opera&&result.version<10||result.ios&&result.osversion&&result.osversion.split(".")[0]<6||result.chromium&&result.version<20?result.c=t:result.x=t,result}function getVersionPrecision(version){return version.split(".").length}function map(arr,iterator){var i,result=[];if(Array.prototype.map)return Array.prototype.map.call(arr,iterator);for(i=0;i<arr.length;i++)result.push(iterator(arr[i]));return result}function compareVersions(versions){for(var precision=Math.max(getVersionPrecision(versions[0]),getVersionPrecision(versions[1])),chunks=map(versions,function(version){var delta=precision-getVersionPrecision(version);return version+=new Array(delta+1).join(".0"),map(version.split("."),function(chunk){return new Array(20-chunk.length).join("0")+chunk}).reverse()});--precision>=0;){if(chunks[0][precision]>chunks[1][precision])return 1;if(chunks[0][precision]!==chunks[1][precision])return-1;if(0===precision)return 0}}function isUnsupportedBrowser(minVersions,strictMode,ua){var _bowser=bowser;"string"==typeof strictMode&&(ua=strictMode,strictMode=void 0),void 0===strictMode&&(strictMode=!1),ua&&(_bowser=detect(ua));var version=""+_bowser.version;for(var browser in minVersions)if(minVersions.hasOwnProperty(browser)&&_bowser[browser]){if("string"!=typeof minVersions[browser])throw new Error("Browser version in the minVersion map should be a string: "+browser+": "+String(minVersions));return compareVersions([version,minVersions[browser]])<0}return strictMode}function check(minVersions,strictMode,ua){return!isUnsupportedBrowser(minVersions,strictMode,ua)}var t=!0,bowser=detect("undefined"!=typeof navigator?navigator.userAgent||"":"");return bowser.test=function(browserList){for(var i=0;i<browserList.length;++i){var browserItem=browserList[i];if("string"==typeof browserItem&&browserItem in bowser)return!0}return!1},bowser.isUnsupportedBrowser=isUnsupportedBrowser,bowser.compareVersions=compareVersions,bowser.check=check,bowser._detect=detect,bowser})},function(module,exports,__webpack_require__){"use strict";var ticky=__webpack_require__(1017);module.exports=function(fn,args,ctx){fn&&ticky(function(){fn.apply(ctx||null,args||[])})}},function(module,exports,__webpack_require__){"use strict";var atoa=__webpack_require__(210),debounce=__webpack_require__(656);module.exports=function(thing,options){var opts=options||{},evt={};return void 0===thing&&(thing={}),thing.on=function(type,fn){return evt[type]?evt[type].push(fn):evt[type]=[fn],thing},thing.once=function(type,fn){return fn._once=!0,thing.on(type,fn),thing},thing.off=function(type,fn){var c=arguments.length;if(1===c)delete evt[type];else if(0===c)evt={};else{var et=evt[type];if(!et)return thing;et.splice(et.indexOf(fn),1)}return thing},thing.emit=function(){var args=atoa(arguments);return thing.emitterSnapshot(args.shift()).apply(this,args)},thing.emitterSnapshot=function(type){var et=(evt[type]||[]).slice(0);return function(){var args=atoa(arguments),ctx=this||thing;if("error"===type&&opts.throws!==!1&&!et.length)throw 1===args.length?args[0]:args;return et.forEach(function(listen){opts.async?debounce(listen,args,ctx):listen.apply(ctx,args),listen._once&&thing.off(type,listen)}),thing}},thing}},function(module,exports,__webpack_require__){"use strict";function createPointCB(object,options){options=options||{};var allowUpdate=typeFunc.boolean(options.allowUpdate,!0);return function(event){if(event=event||window.event,object.target=event.target||event.srcElement||event.originalTarget,object.element=this,object.type=event.type,allowUpdate(event)){if(event.targetTouches)object.x=event.targetTouches[0].clientX,object.y=event.targetTouches[0].clientY,object.pageX=event.targetTouches[0].pageX,object.pageY=event.targetTouches[0].pageY,object.screenX=event.targetTouches[0].screenX,object.screenY=event.targetTouches[0].screenY;else{if(null===event.pageX&&null!==event.clientX){var eventDoc=event.target&&event.target.ownerDocument||document,doc=eventDoc.documentElement,body=eventDoc.body;object.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),object.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}else object.pageX=event.pageX,object.pageY=event.pageY;object.x=event.clientX,object.y=event.clientY,object.screenX=event.screenX,object.screenY=event.screenY}object.clientX=object.x,object.clientY=object.y}}}var typeFunc=__webpack_require__(263);module.exports=createPointCB},function(module,exports,__webpack_require__){"use strict";(function(global){function addEventEasy(el,type,fn,capturing){return el.addEventListener(type,fn,capturing)}function addEventHard(el,type,fn){return el.attachEvent("on"+type,wrap(el,type,fn))}function removeEventEasy(el,type,fn,capturing){return el.removeEventListener(type,fn,capturing)}function removeEventHard(el,type,fn){var listener=unwrap(el,type,fn);if(listener)return el.detachEvent("on"+type,listener)}function fabricateEvent(el,type,model){function makeClassicEvent(){var e;return doc.createEvent?(e=doc.createEvent("Event"),e.initEvent(type,!0,!0)):doc.createEventObject&&(e=doc.createEventObject()),e}function makeCustomEvent(){return new customEvent(type,{detail:model})}var e=eventmap.indexOf(type)===-1?makeCustomEvent():makeClassicEvent();el.dispatchEvent?el.dispatchEvent(e):el.fireEvent("on"+type,e)}function wrapperFactory(el,type,fn){return function(originalEvent){var e=originalEvent||global.event;e.target=e.target||e.srcElement,e.preventDefault=e.preventDefault||function(){e.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){e.cancelBubble=!0},e.which=e.which||e.keyCode,fn.call(el,e)}}function wrap(el,type,fn){var wrapper=unwrap(el,type,fn)||wrapperFactory(el,type,fn);return hardCache.push({wrapper:wrapper,element:el,type:type,fn:fn}),wrapper}function unwrap(el,type,fn){var i=find(el,type,fn);if(i){var wrapper=hardCache[i].wrapper;return hardCache.splice(i,1),wrapper}}function find(el,type,fn){var i,item;for(i=0;i<hardCache.length;i++)if(item=hardCache[i],item.element===el&&item.type===type&&item.fn===fn)return i}var customEvent=__webpack_require__(661),eventmap=__webpack_require__(660),doc=global.document,addEvent=addEventEasy,removeEvent=removeEventEasy,hardCache=[];global.addEventListener||(addEvent=addEventHard,removeEvent=removeEventHard),module.exports={add:addEvent,remove:removeEvent,fabricate:fabricateEvent}}).call(exports,__webpack_require__(29))},function(module,exports,__webpack_require__){"use strict";(function(global){var eventmap=[],eventname="",ron=/^on/;for(eventname in global)ron.test(eventname)&&eventmap.push(eventname.slice(2));module.exports=eventmap}).call(exports,__webpack_require__(29))},function(module,exports,__webpack_require__){(function(global){function useNative(){try{var p=new NativeCustomEvent("cat",{detail:{foo:"bar"}});return"cat"===p.type&&"bar"===p.detail.foo}catch(e){}return!1}var NativeCustomEvent=global.CustomEvent;module.exports=useNative()?NativeCustomEvent:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(type,params){var e=document.createEvent("CustomEvent");return params?e.initCustomEvent(type,params.bubbles,params.cancelable,params.detail):e.initCustomEvent(type,!1,!1,void 0),e}:function(type,params){var e=document.createEventObject();return e.type=type,params?(e.bubbles=Boolean(params.bubbles),e.cancelable=Boolean(params.cancelable),e.detail=params.detail):(e.bubbles=!1,e.cancelable=!1,e.detail=void 0),e}}).call(exports,__webpack_require__(29))},function(module,exports,__webpack_require__){"use strict";var define,copy=__webpack_require__(693),map=__webpack_require__(220),callable=__webpack_require__(20),validValue=__webpack_require__(19),bind=Function.prototype.bind,defineProperty=Object.defineProperty,hasOwnProperty=Object.prototype.hasOwnProperty;define=function(name,desc,bindTo){var dgs,value=validValue(desc)&&callable(desc.value);return dgs=copy(desc),delete dgs.writable,delete dgs.value,dgs.get=function(){return hasOwnProperty.call(this,name)?value:(desc.value=bind.call(value,null==bindTo?this:this[bindTo]),defineProperty(this,name,desc),this[name])},dgs},module.exports=function(props){var bindTo=arguments[1];return map(props,function(desc,name){return define(name,desc,bindTo)})}},function(module,exports,__webpack_require__){"use strict";function _interopDefault(ex){return ex&&"object"==typeof ex&&"default"in ex?ex.default:ex}function AutoScroller(elements,options){function setScroll(e){for(var i=0;i<elements.length;i++)if(elements[i]===e.target){scrolling=!0;break}scrolling&&animationFramePolyfill.requestAnimationFrame(function(){return scrolling=!1})}function onDown(){down=!0}function onUp(){down=!1,animationFramePolyfill.cancelAnimationFrame(animationFrame),animationFramePolyfill.cancelAnimationFrame(windowAnimationFrame)}function onMouseOut(){down=!1}function getTarget(target){if(!target)return null;if(current===target)return target;if(domSet.hasElement(elements,target))return target;for(;target=target.parentNode;)if(domSet.hasElement(elements,target))return target;return null}function getElementUnderPoint(){for(var underPoint=null,i=0;i<elements.length;i++)inside(point,elements[i])&&(underPoint=elements[i]);return underPoint}function onMove(event){if(self.autoScroll()&&!event.dispatched){var target=event.target,body=document.body;current&&!inside(point,current)&&(self.scrollWhenOutside||(current=null)),target&&target.parentNode===body?target=getElementUnderPoint():(target=getTarget(target),target||(target=getElementUnderPoint())),target&&target!==current&&(current=target),hasWindow&&(animationFramePolyfill.cancelAnimationFrame(windowAnimationFrame),windowAnimationFrame=animationFramePolyfill.requestAnimationFrame(scrollWindow)),current&&(animationFramePolyfill.cancelAnimationFrame(animationFrame),animationFrame=animationFramePolyfill.requestAnimationFrame(scrollTick))}}function scrollWindow(){autoScroll(hasWindow),animationFramePolyfill.cancelAnimationFrame(windowAnimationFrame),windowAnimationFrame=animationFramePolyfill.requestAnimationFrame(scrollWindow)}function scrollTick(){current&&(autoScroll(current),animationFramePolyfill.cancelAnimationFrame(animationFrame),animationFrame=animationFramePolyfill.requestAnimationFrame(scrollTick))}function autoScroll(el){var scrollx,scrolly,rect=domPlane.getClientRect(el);scrollx=point.x<rect.left+self.margin?Math.floor(Math.max(-1,(point.x-rect.left)/self.margin-1)*self.maxSpeed):point.x>rect.right-self.margin?Math.ceil(Math.min(1,(point.x-rect.right)/self.margin+1)*self.maxSpeed):0,scrolly=point.y<rect.top+self.margin?Math.floor(Math.max(-1,(point.y-rect.top)/self.margin-1)*self.maxSpeed):point.y>rect.bottom-self.margin?Math.ceil(Math.min(1,(point.y-rect.bottom)/self.margin+1)*self.maxSpeed):0,self.syncMove()&&dispatcher.dispatch(el,{pageX:point.pageX+scrollx,pageY:point.pageY+scrolly,clientX:point.x+scrollx,clientY:point.y+scrolly}),setTimeout(function(){scrolly&&scrollY(el,scrolly),scrollx&&scrollX(el,scrollx)})}function scrollY(el,amount){el===window?window.scrollTo(el.pageXOffset,el.pageYOffset+amount):el.scrollTop+=amount}function scrollX(el,amount){el===window?window.scrollTo(el.pageXOffset+amount,el.pageYOffset):el.scrollLeft+=amount}void 0===options&&(options={});var self=this,maxSpeed=4,scrolling=!1;this.margin=options.margin||-1,this.scrollWhenOutside=options.scrollWhenOutside||!1;var point={},pointCB=domPlane.createPointCB(point),dispatcher=mousemoveDispatcher(),down=!1;window.addEventListener("mousemove",pointCB,!1),window.addEventListener("touchmove",pointCB,!1),isNaN(options.maxSpeed)||(maxSpeed=options.maxSpeed),this.autoScroll=typeFunc.boolean(options.autoScroll),this.syncMove=typeFunc.boolean(options.syncMove,!1),this.destroy=function(){window.removeEventListener("mousemove",pointCB,!1),window.removeEventListener("touchmove",pointCB,!1),window.removeEventListener("mousedown",onDown,!1),window.removeEventListener("touchstart",onDown,!1),window.removeEventListener("mouseup",onUp,!1),window.removeEventListener("touchend",onUp,!1),window.removeEventListener("mousemove",onMove,!1),window.removeEventListener("touchmove",onMove,!1),window.removeEventListener("scroll",setScroll,!0),elements=[]},this.add=function(){for(var element=[],len=arguments.length;len--;)element[len]=arguments[len];return domSet.addElements.apply(void 0,[elements].concat(element)),this},this.remove=function(){for(var element=[],len=arguments.length;len--;)element[len]=arguments[len];return domSet.removeElements.apply(void 0,[elements].concat(element))};var windowAnimationFrame,hasWindow=null;"[object Array]"!==Object.prototype.toString.call(elements)&&(elements=[elements]),function(temp){elements=[],temp.forEach(function(element){element===window?hasWindow=window:self.add(element)})}(elements),Object.defineProperties(this,{down:{get:function(){return down}},maxSpeed:{get:function(){return maxSpeed}},point:{get:function(){return point}},scrolling:{get:function(){return scrolling}}});var animationFrame,current=null;window.addEventListener("mousedown",onDown,!1),window.addEventListener("touchstart",onDown,!1),window.addEventListener("mouseup",onUp,!1),window.addEventListener("touchend",onUp,!1),window.addEventListener("mousemove",onMove,!1),window.addEventListener("touchmove",onMove,!1),window.addEventListener("mouseleave",onMouseOut,!1),window.addEventListener("scroll",setScroll,!0)}function AutoScrollerFactory(element,options){return new AutoScroller(element,options)}function inside(point,el,rect){return rect?point.y>rect.top&&point.y<rect.bottom&&point.x>rect.left&&point.x<rect.right:domPlane.pointInside(point,el)}var typeFunc=__webpack_require__(263),animationFramePolyfill=__webpack_require__(652),domSet=__webpack_require__(666),domPlane=__webpack_require__(665),mousemoveDispatcher=_interopDefault(__webpack_require__(664));module.exports=AutoScrollerFactory},function(module,exports,__webpack_require__){"use strict";function createDispatcher(element){function onMove(e){for(var i=0;i<mouseEventProps.length;i++)defaultSettings[mouseEventProps[i]]=e[mouseEventProps[i]]}function destroy(){element&&element.removeEventListener("mousemove",onMove,!1),defaultSettings=null}var defaultSettings={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};void 0!==element&&element.addEventListener("mousemove",onMove);var dispatch=function(){return MouseEvent?function(element,initMove,data){var evt=new MouseEvent("mousemove",createMoveInit(defaultSettings,initMove));return setSpecial(evt,data),element.dispatchEvent(evt)}:"function"==typeof document.createEvent?function(element,initMove,data){var settings=createMoveInit(defaultSettings,initMove),evt=document.createEvent("MouseEvents");return evt.initMouseEvent("mousemove",!0,!0,window,0,settings.screenX,settings.screenY,settings.clientX,settings.clientY,settings.ctrlKey,settings.altKey,settings.shiftKey,settings.metaKey,settings.button,settings.relatedTarget),setSpecial(evt,data),element.dispatchEvent(evt)}:"function"==typeof document.createEventObject?function(element,initMove,data){var evt=document.createEventObject(),settings=createMoveInit(defaultSettings,initMove);for(var name in settings)evt[name]=settings[name];return setSpecial(evt,data),element.dispatchEvent(evt)}:void 0}();return{destroy:destroy,dispatch:dispatch}}function createMoveInit(defaultSettings,initMove){initMove=initMove||{};for(var settings=objectCreate$1(defaultSettings),i=0;i<mouseEventProps.length;i++)void 0!==initMove[mouseEventProps[i]]&&(settings[mouseEventProps[i]]=initMove[mouseEventProps[i]]);return settings}function setSpecial(e,data){console.log("data ",data),e.data=data||{},e.dispatched="mousemove"}var objectCreate=void 0;objectCreate="function"!=typeof Object.create?function(undefined){var Temp=function(){};return function(prototype,propertiesObject){if(prototype!==Object(prototype)&&null!==prototype)throw TypeError("Argument must be an object, or null");Temp.prototype=prototype||{};var result=new Temp;return Temp.prototype=null,propertiesObject!==undefined&&Object.defineProperties(result,propertiesObject),null===prototype&&(result.__proto__=null),result}}():Object.create;var objectCreate$1=objectCreate,mouseEventProps=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];module.exports=createDispatcher},function(module,exports,__webpack_require__){"use strict";function _interopDefault(ex){return ex&&"object"==typeof ex&&"default"in ex?ex.default:ex}function createWindowRect(){var props={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},props);var rect={};return Object.defineProperties(rect,props),rect}function getClientRect(el){if(el===window)return createWindowRect();try{var rect=el.getBoundingClientRect();return void 0===rect.x&&(rect.x=rect.left,rect.y=rect.top),rect}catch(e){throw new TypeError("Can't call getBoundingClientRect on "+el)}}function pointInside(point,el){var rect=getClientRect(el);return point.y>rect.top&&point.y<rect.bottom&&point.x>rect.left&&point.x<rect.right}Object.defineProperty(exports,"__esModule",{value:!0});var createPointCb=_interopDefault(__webpack_require__(658));exports.createPointCB=createPointCb,exports.getClientRect=getClientRect,exports.pointInside=pointInside},function(module,exports,__webpack_require__){"use strict";function _interopDefault(ex){return ex&&"object"==typeof ex&&"default"in ex?ex.default:ex}function select(selector){if("string"==typeof selector)try{return document.querySelector(selector)}catch(e){throw e}else if(isElement(selector))return selector}function selectAll(selector){return"string"==typeof selector?Array.prototype.slice.apply(document.querySelectorAll(selector)):isArray(selector)?selector.map(select):"length"in selector?arrayFrom(selector).map(select):void 0}function indexOfElement(elements,element){if(element=resolveElement(element,!0),!isElement(element))return-1;for(var i=0;i<elements.length;i++)if(elements[i]===element)return i;return-1}function hasElement(elements,element){return-1!==indexOfElement(elements,element)}function domListOf(arr){if(!arr)return[];try{return"string"==typeof arr?arrayFrom(document.querySelectorAll(arr)):isArray(arr)?arr.map(resolveElement):"undefined"==typeof arr.length?[resolveElement(arr)]:arrayFrom(arr,resolveElement)}catch(e){throw new Error(e)}}function concatElementLists(){for(var lists=[],len=arguments.length;len--;)lists[len]=arguments[len];return lists.reduce(function(last,list){return list.length?last:last.concat(domListOf(list))},[])}function pushElements(elements,toAdd){for(var i=0;i<toAdd.length;i++)hasElement(elements,toAdd[i])||elements.push(toAdd[i]);return toAdd}function addElements(elements){for(var toAdd=[],len=arguments.length-1;len-- >0;)toAdd[len]=arguments[len+1];return toAdd=toAdd.map(resolveElement),pushElements(elements,toAdd)}function removeElements(elements){for(var toRemove=[],len=arguments.length-1;len-- >0;)toRemove[len]=arguments[len+1];return toRemove.map(resolveElement).reduce(function(last,e){var index=indexOfElement(elements,e);return index!==-1?last.concat(elements.splice(index,1)):last},[])}function resolveElement(element,noThrow){if("string"==typeof element)try{return document.querySelector(element)}catch(e){throw e}if(!isElement(element)&&!noThrow)throw new TypeError(element+" is not a DOM element.");return element}Object.defineProperty(exports,"__esModule",{value:!0});var isElement=_interopDefault(__webpack_require__(706)),arrayFrom=_interopDefault(__webpack_require__(653)),isArray=_interopDefault(__webpack_require__(705));exports.indexOfElement=indexOfElement,exports.hasElement=hasElement,exports.domListOf=domListOf,exports.concatElementLists=concatElementLists,exports.addElements=addElements,exports.removeElements=removeElements,exports.resolveElement=resolveElement,exports.select=select,exports.selectAll=selectAll},function(module,exports,__webpack_require__){"use strict";function lookupClass(className){var cached=cache[className];return cached?cached.lastIndex=0:cache[className]=cached=new RegExp(start+className+end,"g"),cached}function addClass(el,className){var current=el.className;current.length?lookupClass(className).test(current)||(el.className+=" "+className):el.className=className}function rmClass(el,className){el.className=el.className.replace(lookupClass(className)," ").trim()}var cache={},start="(?:^|\\s)",end="(?:\\s|$)";module.exports={add:addClass,rm:rmClass}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(669)()?Array.prototype.concat:__webpack_require__(670)},function(module,exports,__webpack_require__){"use strict";var SubArray=__webpack_require__(214);module.exports=function(){return(new SubArray).concat("foo")instanceof SubArray}},function(module,exports,__webpack_require__){"use strict";var isSpreadable,isPlainArray=__webpack_require__(216),toPosInt=__webpack_require__(42),isObject=__webpack_require__(219),isArray=Array.isArray,concat=Array.prototype.concat,forEach=Array.prototype.forEach;isSpreadable=function(value){return!!value&&(!!isObject(value)&&(void 0!==value["@@isConcatSpreadable"]?Boolean(value["@@isConcatSpreadable"]):isArray(value)))},module.exports=function(item){var result;return this&&isArray(this)&&!isPlainArray(this)?(result=new this.constructor(this.length),forEach.call(this,function(val,i){result[i]=val}),forEach.call(arguments,function(arg){var base;return isSpreadable(arg)?(base=result.length,result.length+=toPosInt(arg.length),void forEach.call(arg,function(val,i){result[base+i]=val})):void result.push(arg)}),result):concat.apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";var indexOf=__webpack_require__(69),forEach=Array.prototype.forEach,splice=Array.prototype.splice;module.exports=function(item){forEach.call(arguments,function(item){var index=indexOf.call(this,item);index!==-1&&splice.call(this,index,1)},this)}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(673)()?Array.prototype.splice:__webpack_require__(674)},function(module,exports,__webpack_require__){"use strict";var SubArray=__webpack_require__(214);module.exports=function(){return(new SubArray).splice(0)instanceof SubArray}},function(module,exports,__webpack_require__){"use strict";var isPlainArray=__webpack_require__(216),isArray=Array.isArray,splice=Array.prototype.splice,forEach=Array.prototype.forEach;module.exports=function(start,deleteCount){var result,arr=splice.apply(this,arguments);return this&&isArray(this)&&!isPlainArray(this)?(result=new this.constructor(arr.length),forEach.call(arr,function(val,i){result[i]=val}),result):arr}},function(module,exports,__webpack_require__){"use strict";module.exports=function(){var arr,result,from=Array.from;return"function"==typeof from&&(arr=["raz","dwa"],result=from(arr),Boolean(result&&result!==arr&&"dwa"===result[1]))}},function(module,exports,__webpack_require__){"use strict";var iteratorSymbol=__webpack_require__(75).iterator,isArguments=__webpack_require__(682),isFunction=__webpack_require__(218),toPosInt=__webpack_require__(42),callable=__webpack_require__(20),validValue=__webpack_require__(19),isString=__webpack_require__(700),isArray=Array.isArray,call=Function.prototype.call,desc={configurable:!0,enumerable:!0,writable:!0,value:null},defineProperty=Object.defineProperty;module.exports=function(arrayLike){var Constructor,i,j,arr,l,code,iterator,result,getIterator,value,mapFn=arguments[1],thisArg=arguments[2];if(arrayLike=Object(validValue(arrayLike)),null!=mapFn&&callable(mapFn),this&&this!==Array&&isFunction(this))Constructor=this;else{if(!mapFn){if(isArguments(arrayLike))return l=arrayLike.length,1!==l?Array.apply(null,arrayLike):(arr=new Array(1),arr[0]=arrayLike[0],arr);if(isArray(arrayLike)){for(arr=new Array(l=arrayLike.length),i=0;i<l;++i)arr[i]=arrayLike[i];return arr}}arr=[]}if(!isArray(arrayLike))if(void 0!==(getIterator=arrayLike[iteratorSymbol])){
for(iterator=callable(getIterator).call(arrayLike),Constructor&&(arr=new Constructor),result=iterator.next(),i=0;!result.done;)value=mapFn?call.call(mapFn,thisArg,result.value,i):result.value,Constructor?(desc.value=value,defineProperty(arr,i,desc)):arr[i]=value,result=iterator.next(),++i;l=i}else if(isString(arrayLike)){for(l=arrayLike.length,Constructor&&(arr=new Constructor),i=0,j=0;i<l;++i)value=arrayLike[i],i+1<l&&(code=value.charCodeAt(0),code>=55296&&code<=56319&&(value+=arrayLike[++i])),value=mapFn?call.call(mapFn,thisArg,value,j):value,Constructor?(desc.value=value,defineProperty(arr,j,desc)):arr[j]=value,++j;l=j}if(void 0===l)for(l=toPosInt(arrayLike.length),Constructor&&(arr=new Constructor(l)),i=0;i<l;++i)value=mapFn?call.call(mapFn,thisArg,arrayLike[i],i):arrayLike[i],Constructor?(desc.value=value,defineProperty(arr,i,desc)):arr[i]=value;return Constructor&&(desc.value=null,arr.length=l),arr}},function(module,exports,__webpack_require__){"use strict";var from=__webpack_require__(70),isArray=Array.isArray;module.exports=function(arrayLike){return isArray(arrayLike)?arrayLike:from(arrayLike)}},function(module,exports,__webpack_require__){"use strict";var assign=__webpack_require__(71),captureStackTrace=Error.captureStackTrace;exports=module.exports=function(message){var err=new Error,code=arguments[1],ext=arguments[2];return null==ext&&code&&"object"==typeof code&&(ext=code,code=null),null!=ext&&assign(err,ext),err.message=String(message),null!=code&&(err.code=String(code)),captureStackTrace&&captureStackTrace(err,exports),err}},function(module,exports,__webpack_require__){"use strict";var desc,defineProperty,generate,mixin,toPosInt=__webpack_require__(42),test=function(a,b){};try{Object.defineProperty(test,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch(ignore){}1===test.length?(desc={configurable:!0,writable:!1,enumerable:!1},defineProperty=Object.defineProperty,module.exports=function(fn,length){return length=toPosInt(length),fn.length===length?fn:(desc.value=length,defineProperty(fn,"length",desc))}):(mixin=__webpack_require__(222),generate=function(){var cache=[];return function(l){var args,i=0;if(cache[l])return cache[l];for(args=[];l--;)args.push("a"+(++i).toString(36));return new Function("fn","return function ("+args.join(", ")+") { return fn.apply(this, arguments); };")}}(),module.exports=function(src,length){var target;if(length=toPosInt(length),src.length===length)return src;target=generate(length)(src);try{mixin(target,src)}catch(ignore){}return target})},function(module,exports,__webpack_require__){"use strict";module.exports=function(x){return x}},function(module,exports,__webpack_require__){"use strict";var isCallable=__webpack_require__(112),value=__webpack_require__(19),slice=Array.prototype.slice,apply=Function.prototype.apply;module.exports=function(name){var args=slice.call(arguments,1),isFn=isCallable(name);return function(obj){return value(obj),apply.call(isFn?name:obj[name],obj,args.concat(slice.call(arguments,1)))}}},function(module,exports,__webpack_require__){"use strict";var toString=Object.prototype.toString,id=toString.call(function(){return arguments}());module.exports=function(x){return toString.call(x)===id}},function(module,exports,__webpack_require__){"use strict";module.exports=function(){}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(685)()?Math.sign:__webpack_require__(686)},function(module,exports,__webpack_require__){"use strict";module.exports=function(){var sign=Math.sign;return"function"==typeof sign&&(1===sign(10)&&sign(-20)===-1)}},function(module,exports,__webpack_require__){"use strict";module.exports=function(value){return value=Number(value),isNaN(value)||0===value?value:value>0?1:-1}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(688)()?Number.isNaN:__webpack_require__(689)},function(module,exports,__webpack_require__){"use strict";module.exports=function(){var isNaN=Number.isNaN;return"function"==typeof isNaN&&(!isNaN({})&&isNaN(NaN)&&!isNaN(34))}},function(module,exports,__webpack_require__){"use strict";module.exports=function(value){return value!==value}},function(module,exports,__webpack_require__){"use strict";var callable=__webpack_require__(20),value=__webpack_require__(19),bind=Function.prototype.bind,call=Function.prototype.call,keys=Object.keys,propertyIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=function(method,defVal){return function(obj,cb){var list,thisArg=arguments[2],compareFn=arguments[3];return obj=Object(value(obj)),callable(cb),list=keys(obj),compareFn&&list.sort("function"==typeof compareFn?bind.call(compareFn,obj):void 0),"function"!=typeof method&&(method=list[method]),call.call(method,list,function(key,index){return propertyIsEnumerable.call(obj,key)?call.call(cb,thisArg,obj[key],key,obj,index):defVal})}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(){var obj,assign=Object.assign;return"function"==typeof assign&&(obj={foo:"raz"},assign(obj,{bar:"dwa"},{trzy:"trzy"}),obj.foo+obj.bar+obj.trzy==="razdwatrzy")}},function(module,exports,__webpack_require__){"use strict";var keys=__webpack_require__(695),value=__webpack_require__(19),max=Math.max;module.exports=function(dest,src){var error,i,assign,l=max(arguments.length,2);for(dest=Object(value(dest)),assign=function(key){try{dest[key]=src[key]}catch(e){error||(error=e)}},i=1;i<l;++i)src=arguments[i],keys(src).forEach(assign);if(void 0!==error)throw error;return dest}},function(module,exports,__webpack_require__){"use strict";var assign=__webpack_require__(71),value=__webpack_require__(19);module.exports=function(obj){var copy=Object(value(obj));return copy!==obj?copy:assign({},obj)}},function(module,exports,__webpack_require__){"use strict";var shim,create=Object.create;__webpack_require__(224)()||(shim=__webpack_require__(225)),module.exports=function(){var nullObject,props,desc;return shim?1!==shim.level?create:(nullObject={},props={},desc={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(name){return"__proto__"===name?void(props[name]={configurable:!0,enumerable:!1,writable:!0,value:void 0}):void(props[name]=desc)}),Object.defineProperties(nullObject,props),Object.defineProperty(shim,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:nullObject}),function(prototype,props){return create(null===prototype?nullObject:prototype,props)}):create}()},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(696)()?Object.keys:__webpack_require__(697)},function(module,exports,__webpack_require__){"use strict";module.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(module,exports,__webpack_require__){"use strict";var keys=Object.keys;module.exports=function(object){return keys(null==object?object:Object(object))}},function(module,exports,__webpack_require__){"use strict";var str="razdwatrzy";module.exports=function(){return"function"==typeof str.contains&&(str.contains("dwa")===!0&&str.contains("foo")===!1)}},function(module,exports,__webpack_require__){"use strict";var indexOf=String.prototype.indexOf;module.exports=function(searchString){return indexOf.call(this,searchString,arguments[1])>-1}},function(module,exports,__webpack_require__){"use strict";var toString=Object.prototype.toString,id=toString.call("");module.exports=function(x){return"string"==typeof x||x&&"object"==typeof x&&(x instanceof String||toString.call(x)===id)||!1}},function(module,exports,__webpack_require__){"use strict";var validTypes={object:!0,symbol:!0};module.exports=function(){var symbol;if("function"!=typeof Symbol)return!1;symbol=Symbol("test symbol");try{String(symbol)}catch(e){return!1}return!!validTypes[typeof Symbol.iterator]&&(!!validTypes[typeof Symbol.toPrimitive]&&!!validTypes[typeof Symbol.toStringTag])}},function(module,exports,__webpack_require__){"use strict";module.exports=function(x){return!!x&&("symbol"==typeof x||!!x.constructor&&("Symbol"===x.constructor.name&&"Symbol"===x[x.constructor.toStringTag]))}},function(module,exports,__webpack_require__){"use strict";var NativeSymbol,SymbolPolyfill,HiddenSymbol,isNativeSafe,d=__webpack_require__(25),validateSymbol=__webpack_require__(704),create=Object.create,defineProperties=Object.defineProperties,defineProperty=Object.defineProperty,objPrototype=Object.prototype,globalSymbols=create(null);if("function"==typeof Symbol){NativeSymbol=Symbol;try{String(NativeSymbol()),isNativeSafe=!0}catch(ignore){}}var generateName=function(){var created=create(null);return function(desc){for(var name,ie11BugWorkaround,postfix=0;created[desc+(postfix||"")];)++postfix;return desc+=postfix||"",created[desc]=!0,name="@@"+desc,defineProperty(objPrototype,name,d.gs(null,function(value){ie11BugWorkaround||(ie11BugWorkaround=!0,defineProperty(this,name,d(value)),ie11BugWorkaround=!1)})),name}}();HiddenSymbol=function(description){if(this instanceof HiddenSymbol)throw new TypeError("TypeError: Symbol is not a constructor");return SymbolPolyfill(description)},module.exports=SymbolPolyfill=function Symbol(description){var symbol;if(this instanceof Symbol)throw new TypeError("TypeError: Symbol is not a constructor");return isNativeSafe?NativeSymbol(description):(symbol=create(HiddenSymbol.prototype),description=void 0===description?"":String(description),defineProperties(symbol,{__description__:d("",description),__name__:d("",generateName(description))}))},defineProperties(SymbolPolyfill,{for:d(function(key){return globalSymbols[key]?globalSymbols[key]:globalSymbols[key]=SymbolPolyfill(String(key))}),keyFor:d(function(s){var key;validateSymbol(s);for(key in globalSymbols)if(globalSymbols[key]===s)return key}),hasInstance:d("",NativeSymbol&&NativeSymbol.hasInstance||SymbolPolyfill("hasInstance")),isConcatSpreadable:d("",NativeSymbol&&NativeSymbol.isConcatSpreadable||SymbolPolyfill("isConcatSpreadable")),iterator:d("",NativeSymbol&&NativeSymbol.iterator||SymbolPolyfill("iterator")),match:d("",NativeSymbol&&NativeSymbol.match||SymbolPolyfill("match")),replace:d("",NativeSymbol&&NativeSymbol.replace||SymbolPolyfill("replace")),search:d("",NativeSymbol&&NativeSymbol.search||SymbolPolyfill("search")),species:d("",NativeSymbol&&NativeSymbol.species||SymbolPolyfill("species")),split:d("",NativeSymbol&&NativeSymbol.split||SymbolPolyfill("split")),toPrimitive:d("",NativeSymbol&&NativeSymbol.toPrimitive||SymbolPolyfill("toPrimitive")),toStringTag:d("",NativeSymbol&&NativeSymbol.toStringTag||SymbolPolyfill("toStringTag")),unscopables:d("",NativeSymbol&&NativeSymbol.unscopables||SymbolPolyfill("unscopables"))}),defineProperties(HiddenSymbol.prototype,{constructor:d(SymbolPolyfill),toString:d("",function(){return this.__name__})}),defineProperties(SymbolPolyfill.prototype,{toString:d(function(){return"Symbol ("+validateSymbol(this).__description__+")"}),valueOf:d(function(){return validateSymbol(this)})}),defineProperty(SymbolPolyfill.prototype,SymbolPolyfill.toPrimitive,d("",function(){var symbol=validateSymbol(this);return"symbol"==typeof symbol?symbol:symbol.toString()})),defineProperty(SymbolPolyfill.prototype,SymbolPolyfill.toStringTag,d("c","Symbol")),defineProperty(HiddenSymbol.prototype,SymbolPolyfill.toStringTag,d("c",SymbolPolyfill.prototype[SymbolPolyfill.toStringTag])),defineProperty(HiddenSymbol.prototype,SymbolPolyfill.toPrimitive,d("c",SymbolPolyfill.prototype[SymbolPolyfill.toPrimitive]))},function(module,exports,__webpack_require__){"use strict";var isSymbol=__webpack_require__(702);module.exports=function(value){if(!isSymbol(value))throw new TypeError(value+" is not a symbol");return value}},function(module,exports){var isArray=Array.isArray,str=Object.prototype.toString;module.exports=isArray||function(val){return!!val&&"[object Array]"==str.call(val)}},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};__webpack_exports__.default=function(input){return null!=input&&"object"===("undefined"==typeof input?"undefined":_typeof(input))&&1===input.nodeType&&"object"===_typeof(input.style)&&"object"===_typeof(input.ownerDocument)}},function(module,exports,__webpack_require__){"use strict";var callable=__webpack_require__(20),forEach=__webpack_require__(73),extensions=__webpack_require__(77),slice=Array.prototype.slice,apply=Function.prototype.apply;extensions.dispose=function(dispose,conf,options){var del;return callable(dispose),options.async&&extensions.async?(conf.on("deleteasync",del=function(id,result){apply.call(dispose,null,slice.call(result.args,1))}),void conf.on("clearasync",function(cache){forEach(cache,function(result,id){del(id,result)})})):(conf.on("delete",del=function(id,result){dispose(result)}),void conf.on("clear",function(cache){forEach(cache,function(result,id){del(id,result)})}))}},function(module,exports,__webpack_require__){"use strict";var d=__webpack_require__(25),extensions=__webpack_require__(77),create=Object.create,defineProperties=Object.defineProperties;extensions.refCounter=function(ignore,conf,options){var cache,postfix;cache=create(null),postfix=options.async&&extensions.async?"async":"",conf.on("set"+postfix,function(id,length){cache[id]=length||1}),conf.on("get"+postfix,function(id){++cache[id]}),conf.on("delete"+postfix,function(id){delete cache[id]}),conf.on("clear"+postfix,function(){cache={}}),defineProperties(conf.memoized,{deleteRef:d(function(){var id=conf.get(arguments);return null===id?null:cache[id]?!--cache[id]&&(conf.delete(id),!0):null}),getRefCount:d(function(){var id=conf.get(arguments);return null===id?0:cache[id]?cache[id]:0})})}},function(module,exports,__webpack_require__){"use strict";var customError=__webpack_require__(678),defineLength=__webpack_require__(679),d=__webpack_require__(25),ee=__webpack_require__(76).methods,resolveResolve=__webpack_require__(712),resolveNormalize=__webpack_require__(711),apply=Function.prototype.apply,call=Function.prototype.call,create=Object.create,hasOwnProperty=Object.prototype.hasOwnProperty,defineProperties=Object.defineProperties,on=ee.on,emit=ee.emit;module.exports=function(original,length,options){var conf,memLength,get,set,del,clear,extDel,normalizer,getListeners,setListeners,deleteListeners,memoized,resolve,cache=create(null);return memLength=length!==!1?length:isNaN(original.length)?1:original.length,options.normalizer&&(normalizer=resolveNormalize(options.normalizer),get=normalizer.get,set=normalizer.set,del=normalizer.delete,clear=normalizer.clear),null!=options.resolvers&&(resolve=resolveResolve(options.resolvers)),memoized=get?defineLength(function(arg){var id,result,args=arguments;if(resolve&&(args=resolve(args)),id=get(args),null!==id&&hasOwnProperty.call(cache,id))return getListeners&&conf.emit("get",id,args,this),cache[id];if(result=1===args.length?call.call(original,this,args[0]):apply.call(original,this,args),null===id){if(id=get(args),null!==id)throw customError("Circular invocation","CIRCULAR_INVOCATION");id=set(args)}else if(hasOwnProperty.call(cache,id))throw customError("Circular invocation","CIRCULAR_INVOCATION");return cache[id]=result,setListeners&&conf.emit("set",id),result},memLength):0===length?function(){var result;if(hasOwnProperty.call(cache,"data"))return getListeners&&conf.emit("get","data",arguments,this),cache.data;if(result=arguments.length?apply.call(original,this,arguments):call.call(original,this),hasOwnProperty.call(cache,"data"))throw customError("Circular invocation","CIRCULAR_INVOCATION");return cache.data=result,setListeners&&conf.emit("set","data"),result}:function(arg){var result,id,args=arguments;if(resolve&&(args=resolve(arguments)),id=String(args[0]),hasOwnProperty.call(cache,id))return getListeners&&conf.emit("get",id,args,this),cache[id];if(result=1===args.length?call.call(original,this,args[0]):apply.call(original,this,args),hasOwnProperty.call(cache,id))throw customError("Circular invocation","CIRCULAR_INVOCATION");return cache[id]=result,setListeners&&conf.emit("set",id),result},conf={original:original,memoized:memoized,get:function(args){return resolve&&(args=resolve(args)),get?get(args):String(args[0])},has:function(id){return hasOwnProperty.call(cache,id)},delete:function(id){var result;hasOwnProperty.call(cache,id)&&(del&&del(id),result=cache[id],delete cache[id],deleteListeners&&conf.emit("delete",id,result))},clear:function(){var oldCache=cache;clear&&clear(),cache=create(null),conf.emit("clear",oldCache)},on:function(type,listener){return"get"===type?getListeners=!0:"set"===type?setListeners=!0:"delete"===type&&(deleteListeners=!0),on.call(this,type,listener)},emit:emit,updateEnv:function(){original=conf.original}},extDel=get?defineLength(function(arg){var id,args=arguments;resolve&&(args=resolve(args)),id=get(args),null!==id&&conf.delete(id)},memLength):0===length?function(){return conf.delete("data")}:function(arg){return resolve&&(arg=resolve(arguments)[0]),conf.delete(arg)},defineProperties(memoized,{__memoized__:d(!0),delete:d(extDel),clear:d(conf.clear)}),conf}},function(module,exports,__webpack_require__){"use strict";var forEach=__webpack_require__(73),normalizeOpts=__webpack_require__(223),callable=__webpack_require__(20),lazy=__webpack_require__(110),resolveLength=__webpack_require__(227),extensions=__webpack_require__(77);module.exports=function(memoize){return function(props){return forEach(props,function(desc,name){var length,fn=callable(desc.value);desc.value=function(options){return options.getNormalizer&&(options=normalizeOpts(options),void 0===length&&(length=resolveLength(options.length,fn.length,options.async&&extensions.async)),options.normalizer=options.getNormalizer(length),delete options.getNormalizer),memoize(fn.bind(this),options)}}),lazy(props)}}},function(module,exports,__webpack_require__){"use strict";var callable=__webpack_require__(20);module.exports=function(userNormalizer){var normalizer;return"function"==typeof userNormalizer?{set:userNormalizer,get:userNormalizer}:(normalizer={get:callable(userNormalizer.get)},void 0!==userNormalizer.set?(normalizer.set=callable(userNormalizer.set),normalizer.delete=callable(userNormalizer.delete),normalizer.clear=callable(userNormalizer.clear),normalizer):(normalizer.set=normalizer.get,normalizer))}},function(module,exports,__webpack_require__){"use strict";var resolveArgs,toArray=__webpack_require__(677),callable=__webpack_require__(20),slice=Array.prototype.slice;resolveArgs=function(args){return this.map(function(r,i){return r?r(args[i]):args[i]}).concat(slice.call(args,this.length))},module.exports=function(resolvers){return resolvers=toArray(resolvers),resolvers.forEach(function(r){null!=r&&callable(r)}),resolveArgs.bind(resolvers)}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(710)(__webpack_require__(38))},function(module,exports,__webpack_require__){"use strict";var indexOf=__webpack_require__(69),create=Object.create;module.exports=function(length){var lastId=0,map=[[],[]],cache=create(null);return{get:function(args){for(var i,index=0,set=map;index<length-1;){if(i=indexOf.call(set[0],args[index]),i===-1)return null;set=set[1][i],++index}return i=indexOf.call(set[0],args[index]),i===-1?null:set[1][i]||null},set:function(args){for(var i,index=0,set=map;index<length-1;)i=indexOf.call(set[0],args[index]),i===-1&&(i=set[0].push(args[index])-1,set[1].push([[],[]])),set=set[1][i],++index;return i=indexOf.call(set[0],args[index]),i===-1&&(i=set[0].push(args[index])-1),set[1][i]=++lastId,cache[lastId]=args,lastId},delete:function(id){for(var i,index=0,set=map,path=[],args=cache[id];index<length-1;){if(i=indexOf.call(set[0],args[index]),i===-1)return;path.push(set,i),set=set[1][i],++index}if(i=indexOf.call(set[0],args[index]),i!==-1){for(id=set[1][i],set[0].splice(i,1),set[1].splice(i,1);!set[0].length&&path.length;)i=path.pop(),set=path.pop(),set[0].splice(i,1),set[1].splice(i,1);delete cache[id]}},clear:function(){map=[[],[]],cache=create(null)}}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(length){return length?function(args){for(var id=String(args[0]),i=0,l=length;--l;)id+=""+args[++i];return id}:function(){return""}}},function(module,exports,__webpack_require__){"use strict";var readOnlyThrow,aFrom=__webpack_require__(70),validArray=__webpack_require__(217),validFunction=__webpack_require__(52),mixin=__webpack_require__(221),setPrototypeOf=__webpack_require__(74),ee=__webpack_require__(76),d=__webpack_require__(25),memoize=__webpack_require__(38),create=Object.create,defineProperty=Object.defineProperty,defineProperties=Object.defineProperties,getDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf;readOnlyThrow=d(function(){throw new RangeError("Array is read-only")}),module.exports=memoize(function(Constructor){var ReadOnly,descs;return validFunction(Constructor),validArray(Constructor.prototype),ReadOnly=function(len){var arr,proto=this instanceof ReadOnly?getPrototypeOf(this):ReadOnly.prototype;return arr=Array.apply(null,arguments),setPrototypeOf?setPrototypeOf(arr,proto):mixin(arr,proto),arr},setPrototypeOf&&setPrototypeOf(ReadOnly,Constructor),ReadOnly.from||defineProperty(ReadOnly,"from",d(aFrom)),ReadOnly.prototype=ee(create(Constructor.prototype,{constructor:d(ReadOnly)})),descs={},["pop","push","reverse","shift","sort","splice","unshift","set"].forEach(function(name){Constructor.prototype[name]&&(descs[name]=readOnlyThrow,descs["_"+name]=getDescriptor(Constructor.prototype,name))}),defineProperties(ReadOnly.prototype,descs),ReadOnly},{normalizer:__webpack_require__(43)()})},function(module,exports,__webpack_require__){"use strict";var concat,arrSplice,isExtensible=__webpack_require__(213),aFrom=__webpack_require__(70),validArray=__webpack_require__(217),isCopy=__webpack_require__(212),validFunction=__webpack_require__(52),toInteger=__webpack_require__(111),eq=__webpack_require__(72),mixin=__webpack_require__(221),setPrototypeOf=__webpack_require__(74),d=__webpack_require__(25),isObservableSymbol=__webpack_require__(113),ee=__webpack_require__(76),memoize=__webpack_require__(38),slice=Array.prototype.slice,defineProperty=Object.defineProperty,defineProperties=Object.defineProperties,getPrototypeOf=Object.getPrototypeOf;isExtensible||(concat=__webpack_require__(668),arrSplice=__webpack_require__(672)),module.exports=memoize(function(Constructor){var Observable,pop,push,reverse,shift,sort,splice,unshift;return validFunction(Constructor),validArray(Constructor.prototype),Observable=function(len){var arr,proto=this instanceof Observable?getPrototypeOf(this):Observable.prototype;return arr=Array.apply(null,arguments),setPrototypeOf?setPrototypeOf(arr,proto):mixin(arr,proto),arr},setPrototypeOf&&setPrototypeOf(Observable,Constructor),Observable.from||defineProperty(Observable,"from",d(aFrom)),pop=Constructor.prototype.pop,push=Constructor.prototype.push,reverse=Constructor.prototype.reverse,shift=Constructor.prototype.shift,sort=Constructor.prototype.sort,splice=arrSplice&&Constructor===Array?arrSplice:Constructor.prototype.splice,unshift=Constructor.prototype.unshift,Observable.prototype=[],setPrototypeOf?setPrototypeOf(Observable.prototype,Constructor.prototype):mixin(Observable.prototype,Constructor.prototype),defineProperties(ee(Observable.prototype),{constructor:d(Observable),pop:d(function(){var element;if(this.length)return element=pop.call(this),this.emit("change",{type:"pop",value:element}),element}),push:d(function(item){var result;return arguments.length?(result=push.apply(this,arguments),this.emit("change",{type:"push",values:arguments}),result):this.length}),reverse:d(function(){var tmp;return this.length<=1?this:(tmp=aFrom(this),reverse.call(this),isCopy.call(this,tmp)||this.emit("change",{type:"reverse"}),this)}),shift:d(function(){var element;if(this.length)return element=shift.call(this),this.emit("change",{type:"shift",value:element}),element}),sort:d(function(compareFn){var tmp;return this.length<=1?this:(tmp=aFrom(this),sort.call(this,compareFn),isCopy.call(this,tmp)||this.emit("change",{type:"sort",compareFn:compareFn}),this)}),splice:d(function(start,deleteCount){var result,items,l=arguments.length;if(!l)return[];if(l<=2){if(toInteger(start)>=this.length)return[];if(toInteger(deleteCount)<=0)return[]}else items=slice.call(arguments,2);return result=splice.apply(this,arguments),(!items&&result.length||!isCopy.call(items,result))&&this.emit("change",{type:"splice",arguments:arguments,removed:result}),result}),unshift:d(function(item){var result;return arguments.length?(result=unshift.apply(this,arguments),this.emit("change",{type:"unshift",values:arguments}),result):this.length}),set:d(function(index,value){var had,old,event;index>>>=0,this.hasOwnProperty(index)&&(had=!0,old=this[index],eq(old,value))||(this[index]=value,event={type:"set",index:index},had&&(event.oldValue=old),this.emit("change",event))})}),defineProperty(Observable.prototype,isObservableSymbol,d("",!0)),isExtensible&&defineProperty(Observable.prototype,"concat",d(concat)),Observable},{normalizer:__webpack_require__(43)()})},function(module,exports,__webpack_require__){"use strict";var aFrom=__webpack_require__(70),eIndexOf=__webpack_require__(69),isCopy=__webpack_require__(212),remove=__webpack_require__(671),invoke=__webpack_require__(681),validFunction=__webpack_require__(52),toInteger=__webpack_require__(111),eq=__webpack_require__(72),callable=__webpack_require__(20),value=__webpack_require__(19),d=__webpack_require__(25),memoize=__webpack_require__(38),memoizeMethods=__webpack_require__(713),getNormalizer=__webpack_require__(714),getNormalizer1=__webpack_require__(43),getPrimitiveNormalizer=__webpack_require__(715),createReadOnly=__webpack_require__(716),validObservableArray=__webpack_require__(228),filter=Array.prototype.filter,forEach=Array.prototype.forEach,map=Array.prototype.map,pop=Array.prototype.pop,push=Array.prototype.push,reverse=Array.prototype.reverse,shift=Array.prototype.shift,slice=Array.prototype.slice,sort=Array.prototype.sort,splice=Array.prototype.splice,unshift=Array.prototype.unshift,bind=Function.prototype.bind,max=Math.max,defineProperties=Object.defineProperties,hasOwnProperty=Object.prototype.hasOwnProperty,invokeDispose=invoke("_dispose");__webpack_require__(708),__webpack_require__(707),module.exports=memoize(function(ObservableArray){var ReadOnly;return validFunction(ObservableArray),validObservableArray(ObservableArray.prototype),ReadOnly=createReadOnly(ObservableArray),defineProperties(ObservableArray.prototype,memoizeMethods({slice:d(function(start,end){var result,refresh,listener,disposed,rStart,rEnd,recalculate;return(start>0&&end>=0||start<0&&end<0)&&start>=end?new ReadOnly:(refresh=function(){var changed,i,s=rStart;for(result.length!==rEnd-rStart&&(result.length=rEnd-rStart,changed=!0),result.length=rEnd-rStart,i=0;s!==rEnd;)hasOwnProperty.call(this,s)?hasOwnProperty.call(result,i)&&eq(result[i],this[s])||(changed=!0,result[i]=this[s]):hasOwnProperty.call(result,i)&&(changed=!0,delete result[i]),++i,++s;return changed}.bind(this),0===start&&end===1/0?(rStart=0,result=ReadOnly.from(this),this.on("change",listener=function(event){var type=event.type;"pop"===type?(pop.call(result),result.emit("change",event)):"push"===type?(push.apply(result,event.values),result.emit("change",event)):"reverse"===type?(reverse.call(result),result.emit("change",event)):"shift"===type?(shift.call(result),result.emit("change",event)):"sort"===type?(sort.call(result,event.compareFn),result.emit("change",event)):"splice"===type?(splice.apply(result,event.arguments),result.emit("change",event)):"unshift"===type?(unshift.apply(result,event.values),result.emit("change",event)):"set"===type?(result[event.index]=this[event.index],result.emit("change",event)):(rEnd=this.length,refresh(),result.emit("change",event))})):(result=new ReadOnly,recalculate=function(){var l=this.length;rStart=start,rEnd=end,rStart<0?rStart=max(l+rStart,0):rStart>l&&(rStart=l),rEnd<0?rEnd=max(l+rEnd,0):rEnd>l&&(rEnd=l),rStart>rEnd&&(rStart=rEnd)}.bind(this),recalculate(),refresh(),this.on("change",listener=function(event){var values,index,newEvent,type=event.type;if("pop"===type)rEnd===this.length+1&&rStart!==rEnd?(pop.call(result),recalculate(),result.emit("change",event)):recalculate();else if("push"===type)recalculate(),values=event.values,rEnd>this.length-values.length&&rStart!==rEnd&&(rEnd!==this.length&&(values=slice.call(values,0,values.length-(this.length-rEnd))),push.apply(result,values),result.emit("change",{type:"push",values:values}));else if("set"===type){if(index=event.index,rStart>index||rEnd<=index)return;result[index-rStart]=this[index],newEvent={type:"set",index:index-rStart},event.hasOwnProperty("oldValue")&&(newEvent.oldValue=event.oldValue),result.emit("change",newEvent)}else recalculate(),refresh()&&result.emit("change",{})})),defineProperties(result,{unref:d(function(){disposed||this.slice.deleteRef(start,end)}.bind(this)),_dispose:d(function(){this.off("change",listener),disposed=!0}.bind(this))}),result)},{resolvers:[toInteger,function(val){return void 0===val?1/0:toInteger(val)}],refCounter:!0,dispose:invokeDispose,normalizer:getPrimitiveNormalizer(2)}),filter:d(function(callbackFn){var result,listener,refresh,thisArg,cb,disposed;return value(this)&&callable(callbackFn),thisArg=arguments[1],cb=memoize(bind.call(callbackFn,thisArg),{normalizer:getNormalizer1()}),result=new ReadOnly,refresh=function(){var changed,i=0;return forEach.call(this,function(val,j,self){cb(val,j,self)&&(hasOwnProperty.call(result,i)&&eq(result[i],val)||(changed=!0,result[i]=val),++i)}),result.length!==i&&(changed=!0,result.length=i),changed}.bind(this),refresh(),this.on("change",listener=function(event){var i,tmp,values,type=event.type;if("pop"===type){if(!cb(event.value))return;pop.call(result),result.emit("change",event)}else if("push"===type){if(values=event.values,i=this.length-values.length,values=filter.call(values,function(val){return cb(val,i++,this)},this),!values.length)return;push.apply(result,values),result.emit("change",{type:"push",values:values})}else if("reverse"===type){if(result.length<=1)return;tmp=aFrom(result),reverse.call(result),isCopy.call(result,tmp)||result.emit("change",event)}else if("shift"===type){if(!cb(event.value))return;shift.call(result),result.emit("change",event)}else if("sort"===type){if(result.length<=1)return;tmp=aFrom(result),sort.call(result,event.compareFn),isCopy.call(result,tmp)||result.emit("change",event)}else if("splice"===type)refresh()&&result.emit("change",{});else if("unshift"===type){if(values=event.values,values=filter.call(values,function(val,i){return cb(val,i,this)},this),!values.length)return;unshift.apply(result,values),result.emit("change",{type:"unshift",values:values})}else if("set"===type){if(!cb(this[event.index],event.index,this)){if(!event.hasOwnProperty("oldValue"))return;if(!cb(event.oldValue))return}refresh()&&result.emit("change",{})}else refresh()&&result.emit("change",{})}),defineProperties(result,{refresh:d(function(index){var filtered;index>>>=0,this.hasOwnProperty(index)&&(filtered=Boolean(cb(this[index])),cb.clear(this[index]),Boolean(cb(this[index]))!==filtered&&(refresh(),result.emit("change",{})))}.bind(this)),refreshAll:d(function(){cb.clear(),refresh()&&result.emit("change",{})}),unref:d(function(){disposed||this.filter.deleteRef(callbackFn,thisArg)}.bind(this)),_dispose:d(function(){this.off("change",listener),disposed=!0}.bind(this))}),result},{length:2,refCounter:!0,dispose:invokeDispose,getNormalizer:getNormalizer}),map:d(function(callbackFn){
var result,listener,refresh,thisArg,disposed,cb;return value(this)&&callable(callbackFn),thisArg=arguments[1],cb=memoize(bind.call(callbackFn,thisArg),{normalizer:getNormalizer1()}),result=new ReadOnly,refresh=function(){var changed;return result.length!==this.length&&(changed=!0,result.length=this.length),forEach.call(this,function(val,i,self){val=cb(val,i,self),hasOwnProperty.call(result,i)&&eq(result[i],val)||(changed=!0,result[i]=val)}),changed}.bind(this),refresh(),this.on("change",listener=function(event){var i,value,old,values,args,removed,newEvent,tmp,type=event.type;if("pop"===type)result.emit("change",{type:"pop",value:pop.call(result)});else if("push"===type)values=event.values,i=this.length-values.length,values=map.call(values,function(val){return cb(val,i++,this)},this),push.apply(result,values),result.emit("change",{type:"push",values:values});else if("reverse"===type)tmp=aFrom(result),reverse.call(result),isCopy.call(result,tmp)||result.emit("change",event);else if("shift"===type)result.emit("change",{type:"shift",value:shift.call(result)});else if("splice"===type)i=toInteger(event.arguments[0]),i<0&&(i=this.length-i),args=map.call(event.arguments,function(val,j){return j<2?val:cb(val,i++,this)},this),removed=splice.apply(result,args),(event.arguments.length<=2&&removed.length||!isCopy.call(event.arguments.slice(2),removed))&&result.emit("change",{type:"splice",arguments:args,removed:removed});else if("unshift"===type)values=map.call(event.values,function(val,i){return cb(val,i,this)},this),unshift.apply(result,values),result.emit("change",{type:"unshift",values:values});else if("set"===type){if(value=cb(this[event.index],event.index,this),event.hasOwnProperty("oldValue")&&(old=result[event.index],value===old))return;result[event.index]=value,newEvent={type:"set",index:event.index},event.hasOwnProperty("oldValue")&&(newEvent.oldValue=old),result.emit("change",newEvent)}else refresh()&&result.emit("change",{})}),defineProperties(result,{refresh:d(function(index){var val,nu;index>>>=0,this.hasOwnProperty(index)&&(val=cb(this[index]),cb.clear(this[index]),nu=cb(this[index]),eq(nu,val)||(result[index]=nu,result.emit("change",{type:"set",index:index,oldValue:val})))}.bind(this)),refreshAll:d(function(){cb.clear(),refresh()&&result.emit("change",{})}),unref:d(function(){disposed||this.map.deleteRef(callbackFn,thisArg)}.bind(this)),_dispose:d(function(){this.off("change",listener),disposed=!0}.bind(this))}),result},{length:2,refCounter:!0,dispose:invokeDispose,getNormalizer:getNormalizer}),sorted:d(function(compareFn){var result,listener,disposed,refresh;return value(this)&&callable(compareFn),result=ReadOnly.from(this),sort.call(result,compareFn),refresh=function(){var changed,tmp=aFrom(this).sort(compareFn);return result.length!==tmp.length&&(changed=!0,result.length=tmp.length),forEach.call(tmp,function(val,i){hasOwnProperty.call(result,i)&&eq(result[i],val)||(changed=!0,result[i]=val)}),changed}.bind(this),this.on("change",listener=function(event){var i,type=event.type;"reverse"!==type&&"sort"!==type&&("pop"===type||"shift"===type?(i=eIndexOf.call(result,event.value),result.emit("change",{type:"splice",arguments:[i,1],removed:splice.call(result,i,1)})):"push"===type||"unshift"===type?(push.apply(result,event.values),sort.call(result,compareFn),result.emit("change",{})):"splice"===type?(remove.apply(result,event.removed),push.apply(result,slice.call(event.arguments,2)),sort.call(result,compareFn),result.emit("change",{})):"set"===type?(event.hasOwnProperty("oldValue")?result[eIndexOf.call(result,event.oldValue)]=this[event.index]:push.call(result,this[event.index]),refresh()&&result.emit("change",{})):refresh()&&result.emit("change",{}))}),defineProperties(result,{refresh:d(function(index){refresh()&&result.emit("change",{})}.bind(this)),refreshAll:d(function(){refresh()&&result.emit("change",{})}),unref:d(function(){disposed||this.sorted.deleteRef(compareFn)}.bind(this)),_dispose:d(function(){this.off("change",listener),disposed=!0}.bind(this))}),result},{length:2,refCounter:!0,dispose:invokeDispose,getNormalizer:getNormalizer})})),ObservableArray},{normalizer:getNormalizer1()})},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(721)(__webpack_require__(718)(__webpack_require__(717)(Array)))},function(module,exports,__webpack_require__){"use strict";var isObservable=__webpack_require__(729),isArray=Array.isArray;module.exports=function(value){return isArray(value)&&isObservable(value)}},function(module,exports,__webpack_require__){"use strict";var validFunction=__webpack_require__(52),d=__webpack_require__(25),lazy=__webpack_require__(110),memoize=__webpack_require__(38),validObservableArray=__webpack_require__(228),ReadOnly=__webpack_require__(724)(__webpack_require__(45)),defineProperties=Object.defineProperties;module.exports=memoize(function(ObservableArray){return validFunction(ObservableArray),validObservableArray(ObservableArray.prototype),defineProperties(ObservableArray.prototype,lazy({_length:d(function(){var current=this.length,result=new ReadOnly(current);return this.on("change",function(){result._setValue(this.length)}),result})})),ObservableArray},{normalizer:__webpack_require__(43)()})},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(230)(function(a,b){return a+b},0)},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(229)(function(x){return!x})},function(module,exports,__webpack_require__){"use strict";var validFunction=__webpack_require__(52),d=__webpack_require__(25),memoize=__webpack_require__(38),isObservableValue=__webpack_require__(39),create=Object.create,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;module.exports=memoize(function(Constructor){var ReadOnly,valueDesc;if(validFunction(Constructor),!isObservableValue(new Constructor))throw new TypeError(Constructor+" is not observable value constructor");return ReadOnly=function(value){return this instanceof ReadOnly?void Constructor.apply(this,arguments):new ReadOnly(value)},valueDesc=getOwnPropertyDescriptor(Constructor.prototype,"value"),ReadOnly.prototype=create(Constructor.prototype,{constructor:d(ReadOnly),value:d.gs(valueDesc.get),_setValue:d(valueDesc.set)}),ReadOnly},{normalizer:__webpack_require__(43)()})},function(module,exports,__webpack_require__){"use strict";var isNaN=__webpack_require__(687);module.exports=__webpack_require__(44)(function(a,b){return a==b||isNaN(a)&&isNaN(b)})},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(44)(__webpack_require__(72))},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(44)(function(a,b){return a>=b})},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(44)(function(a,b){return a>b})},function(module,exports,__webpack_require__){"use strict";var isObservableSymbol=__webpack_require__(113);module.exports=function(value){return Boolean(value&&value[isObservableSymbol])}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(44)(function(a,b){return a<=b})},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(44)(function(a,b){return a<b})},function(module,exports,__webpack_require__){"use strict";var callable=__webpack_require__(20),memoize=__webpack_require__(38),getNormalizer=__webpack_require__(43),Observable=__webpack_require__(45),isObservable=__webpack_require__(39);module.exports=function(value,cb){var map,thisArg=arguments[2];return callable(cb),isObservable(value)?(cb=memoize(cb.bind(thisArg),{normalizer:getNormalizer()}),map=new Observable(cb(value.value)),value.on("change",function(event){map.value=cb(event.newValue,value)}),map):cb.call(thisArg,value)}},function(module,exports,__webpack_require__){"use strict";var Observable=__webpack_require__(45),isObservable=__webpack_require__(39);module.exports=function(value){var not,current;return isObservable(value)?(current=!value.value,not=new Observable(current),value.on("change",function(event){var nu=!event.newValue;nu!==current&&(not.value=current=nu)}),not):!value}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(229)(__webpack_require__(680))},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(230)(function(a,b){return a-b},0)},function(module,exports,__webpack_require__){"use strict";function create(e){var t=new e(this);return t.onInit&&t.onInit(),t}function createNewContext(){return new ContextImpl}function createChildContext(e){var t=createNewContext();return t.changed$.subscribe(function(t){e.changed$.next(t)}),t}Object.defineProperty(exports,"__esModule",{value:!0});var rxjs_1=__webpack_require__(17),ContextImpl=function(){function e(){this.changed$=new rxjs_1.Subject,this.create=create}return e}();exports.create=create,exports.createNewContext=createNewContext,exports.createChildContext=createChildContext},function(module,exports,__webpack_require__){"use strict";function gateFor(t){return new Gate(t)}var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var rxjs_1=__webpack_require__(17),State_1=__webpack_require__(31),Gate=function(t){function e(e){var r=this,n=new rxjs_1.Subject,o=n.withLatestFrom(e.changes$(),function(t,e){return e});return r=t.call(this,o,function(t){return e.isNonValue(t)},function(t,e){e(void 0)},function(t,e){e(void 0)})||this,r.trigger$=n,r.input$=e,r.passOne=function(){return r.trigger$.next(!0)},r}return __extends(e,t),e}(State_1.State);exports.Gate=Gate,exports.gateFor=gateFor},function(module,exports,__webpack_require__){"use strict";function multiInput(){return new MultiInputState}var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var rxjs_1=__webpack_require__(17),ReplaySubject_1=__webpack_require__(79),InputState_1=__webpack_require__(233),State_1=__webpack_require__(31),MultiInputState=function(t){function e(){var e=this,n=new ReplaySubject_1.ReplaySubject(1),r=function(t,e){e({})},u=function(t,n){e.clear(),n({})};return e=t.call(this,n.asObservable(),function(t){return void 0===t},r,u)||this,e.cache$=n,e.change$=new rxjs_1.Subject,e.remove$=new rxjs_1.Subject,e}return __extends(e,t),e.prototype.clear=function(){for(var t in this.value)this.value[t].disconnect();return this.cache$.next({}),this},e.prototype.get=function(t){var e=this;if(void 0===this.value[t]){var n=InputState_1.input();this.name&&(n.name=this.name+"["+t+"]"),this.value[t]=n,n.changes$().takeUntil(this.observeRemove().filter(function(e){return e===t})).subscribe(function(r){e.change$.next([t,r,n])}),this.cache$.next(this.value)}return this.value[t]},e.prototype.remove=function(t){var e=this.value[t];return void 0!==e&&(e.disconnect(),delete this.value[t],this.cache$.next(this.value),this.remove$.next(t)),e},e.prototype.observeChange=function(){return this.change$.asObservable()},e.prototype.observeRemove=function(){return this.remove$.asObservable()},e}(State_1.State);exports.MultiInputState=MultiInputState,exports.multiInput=multiInput},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var State_1=__webpack_require__(31),nextStoreId=0,StatesGroup=function(){function t(){var t=this;this.storeId=nextStoreId++,this.name="store-"+this.storeId,this.members=null,this.autoInitMembers=!0,this.autoInitMembers&&setTimeout(function(){return t.initializeMembers()},0)}return t.prototype.connectAll=function(){return this.initializeMembers(),this.members.forEach(function(t){return t.connect()}),this},t.prototype.disconnectAll=function(){return this.initializeMembers(),this.members.forEach(function(t){return t.disconnect()}),this},t.prototype.initializeMembers=function(t,e){if(void 0===t&&(t=""),void 0===e&&(e=this),null===this.members){this.members=[];for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];r instanceof State_1.State?(r.name=this.name+t+"."+i,this.members.push(r)):"object"==typeof r&&this.initializeMembers(t+"."+i,r)}}},t}();exports.StatesGroup=StatesGroup},function(module,exports,__webpack_require__){"use strict";function toggleInput(t){return void 0===t&&(t=!1),new ToggleInput(t)}var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var rxjs_1=__webpack_require__(17),State_1=__webpack_require__(31),ToggleInput=function(t){function e(e){var n=this,o=new rxjs_1.Subject;return n=t.call(this,o,function(t){return void 0===t},function(t,n){n(e)},function(t,e){e(void 0)})||this,n.trigger$=o,n}return __extends(e,t),e.prototype.toggle=function(){this.state=!this.state,this.trigger$.next(this.state)},e}(State_1.State);exports.ToggleInput=ToggleInput,exports.toggleInput=toggleInput},function(module,exports,__webpack_require__){"use strict";function If(e,r){return DerivedState_1.derive(e,function(e){return e.map(function(e){return r(e)?e:void 0})})}function IfThen(e,r,t){var n=If(e,r),i=Combiner_1.combine(n,t);return DerivedState_1.derive(i,function(e){return e.map(function(e){return e[1]})})}Object.defineProperty(exports,"__esModule",{value:!0});var DerivedState_1=__webpack_require__(232),Combiner_1=__webpack_require__(231);exports.If=If,exports.IfThen=IfThen},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),InnerSubscriber=function(_super){function InnerSubscriber(parent,outerValue,outerIndex){_super.call(this),this.parent=parent,this.outerValue=outerValue,this.outerIndex=outerIndex,this.index=0}return __extends(InnerSubscriber,_super),InnerSubscriber.prototype._next=function(value){this.parent.notifyNext(this.outerValue,value,this.outerIndex,this.index++,this)},InnerSubscriber.prototype._error=function(error){this.parent.notifyError(error,this),this.unsubscribe()},InnerSubscriber.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},InnerSubscriber}(Subscriber_1.Subscriber);exports.InnerSubscriber=InnerSubscriber},function(module,exports,__webpack_require__){"use strict";var Scheduler=function(){function Scheduler(SchedulerAction,now){void 0===now&&(now=Scheduler.now),this.SchedulerAction=SchedulerAction,this.now=now}return Scheduler.prototype.schedule=function(work,delay,state){return void 0===delay&&(delay=0),new this.SchedulerAction(this,work).schedule(state,delay)},Scheduler.now=Date.now?Date.now:function(){return+new Date},Scheduler}();exports.Scheduler=Scheduler},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),bindCallback_1=__webpack_require__(889);Observable_1.Observable.bindCallback=bindCallback_1.bindCallback},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),bindNodeCallback_1=__webpack_require__(890);Observable_1.Observable.bindNodeCallback=bindNodeCallback_1.bindNodeCallback},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),combineLatest_1=__webpack_require__(891);Observable_1.Observable.combineLatest=combineLatest_1.combineLatest},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),concat_1=__webpack_require__(892);Observable_1.Observable.concat=concat_1.concat},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),defer_1=__webpack_require__(893);Observable_1.Observable.defer=defer_1.defer},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),ajax_1=__webpack_require__(895);Observable_1.Observable.ajax=ajax_1.ajax},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),webSocket_1=__webpack_require__(896);Observable_1.Observable.webSocket=webSocket_1.webSocket},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),empty_1=__webpack_require__(897);Observable_1.Observable.empty=empty_1.empty},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),forkJoin_1=__webpack_require__(898);Observable_1.Observable.forkJoin=forkJoin_1.forkJoin},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),from_1=__webpack_require__(899);Observable_1.Observable.from=from_1.from},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),fromEvent_1=__webpack_require__(900);Observable_1.Observable.fromEvent=fromEvent_1.fromEvent},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),fromEventPattern_1=__webpack_require__(901);Observable_1.Observable.fromEventPattern=fromEventPattern_1.fromEventPattern},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),fromPromise_1=__webpack_require__(902);Observable_1.Observable.fromPromise=fromPromise_1.fromPromise},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),GenerateObservable_1=__webpack_require__(879);Observable_1.Observable.generate=GenerateObservable_1.GenerateObservable.create},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),if_1=__webpack_require__(903);Observable_1.Observable.if=if_1._if},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),interval_1=__webpack_require__(904);Observable_1.Observable.interval=interval_1.interval},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),merge_1=__webpack_require__(905);Observable_1.Observable.merge=merge_1.merge},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),never_1=__webpack_require__(906);Observable_1.Observable.never=never_1.never},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),of_1=__webpack_require__(907);Observable_1.Observable.of=of_1.of},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),onErrorResumeNext_1=__webpack_require__(248);Observable_1.Observable.onErrorResumeNext=onErrorResumeNext_1.onErrorResumeNextStatic},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),pairs_1=__webpack_require__(908);Observable_1.Observable.pairs=pairs_1.pairs},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),race_1=__webpack_require__(249);Observable_1.Observable.race=race_1.raceStatic},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),range_1=__webpack_require__(909);Observable_1.Observable.range=range_1.range},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),throw_1=__webpack_require__(910);Observable_1.Observable.throw=throw_1._throw},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),timer_1=__webpack_require__(911);Observable_1.Observable.timer=timer_1.timer},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),using_1=__webpack_require__(912);Observable_1.Observable.using=using_1.using},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),zip_1=__webpack_require__(913);Observable_1.Observable.zip=zip_1.zip},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),audit_1=__webpack_require__(914);Observable_1.Observable.prototype.audit=audit_1.audit},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),auditTime_1=__webpack_require__(915);Observable_1.Observable.prototype.auditTime=auditTime_1.auditTime},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),buffer_1=__webpack_require__(916);Observable_1.Observable.prototype.buffer=buffer_1.buffer},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),bufferCount_1=__webpack_require__(917);Observable_1.Observable.prototype.bufferCount=bufferCount_1.bufferCount},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),bufferTime_1=__webpack_require__(918);Observable_1.Observable.prototype.bufferTime=bufferTime_1.bufferTime},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),bufferToggle_1=__webpack_require__(919);Observable_1.Observable.prototype.bufferToggle=bufferToggle_1.bufferToggle},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),bufferWhen_1=__webpack_require__(920);Observable_1.Observable.prototype.bufferWhen=bufferWhen_1.bufferWhen},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),catch_1=__webpack_require__(921);Observable_1.Observable.prototype.catch=catch_1._catch,Observable_1.Observable.prototype._catch=catch_1._catch},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),combineAll_1=__webpack_require__(922);Observable_1.Observable.prototype.combineAll=combineAll_1.combineAll},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),combineLatest_1=__webpack_require__(115);Observable_1.Observable.prototype.combineLatest=combineLatest_1.combineLatest},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),concat_1=__webpack_require__(116);Observable_1.Observable.prototype.concat=concat_1.concat},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),concatAll_1=__webpack_require__(923);Observable_1.Observable.prototype.concatAll=concatAll_1.concatAll},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),concatMap_1=__webpack_require__(924);Observable_1.Observable.prototype.concatMap=concatMap_1.concatMap},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),concatMapTo_1=__webpack_require__(925);Observable_1.Observable.prototype.concatMapTo=concatMapTo_1.concatMapTo},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),count_1=__webpack_require__(926);Observable_1.Observable.prototype.count=count_1.count},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),debounce_1=__webpack_require__(927);Observable_1.Observable.prototype.debounce=debounce_1.debounce},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),debounceTime_1=__webpack_require__(928);Observable_1.Observable.prototype.debounceTime=debounceTime_1.debounceTime},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),defaultIfEmpty_1=__webpack_require__(929);Observable_1.Observable.prototype.defaultIfEmpty=defaultIfEmpty_1.defaultIfEmpty},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),delay_1=__webpack_require__(930);Observable_1.Observable.prototype.delay=delay_1.delay},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),delayWhen_1=__webpack_require__(931);Observable_1.Observable.prototype.delayWhen=delayWhen_1.delayWhen},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),dematerialize_1=__webpack_require__(932);Observable_1.Observable.prototype.dematerialize=dematerialize_1.dematerialize},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),distinct_1=__webpack_require__(933);Observable_1.Observable.prototype.distinct=distinct_1.distinct},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),distinctUntilChanged_1=__webpack_require__(242);Observable_1.Observable.prototype.distinctUntilChanged=distinctUntilChanged_1.distinctUntilChanged},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),distinctUntilKeyChanged_1=__webpack_require__(934);Observable_1.Observable.prototype.distinctUntilKeyChanged=distinctUntilKeyChanged_1.distinctUntilKeyChanged},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),do_1=__webpack_require__(935);Observable_1.Observable.prototype.do=do_1._do,Observable_1.Observable.prototype._do=do_1._do},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),elementAt_1=__webpack_require__(936);Observable_1.Observable.prototype.elementAt=elementAt_1.elementAt},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),every_1=__webpack_require__(937);Observable_1.Observable.prototype.every=every_1.every},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),exhaust_1=__webpack_require__(938);Observable_1.Observable.prototype.exhaust=exhaust_1.exhaust},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),exhaustMap_1=__webpack_require__(939);Observable_1.Observable.prototype.exhaustMap=exhaustMap_1.exhaustMap},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),expand_1=__webpack_require__(940);Observable_1.Observable.prototype.expand=expand_1.expand},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),filter_1=__webpack_require__(243);Observable_1.Observable.prototype.filter=filter_1.filter},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),finally_1=__webpack_require__(941);Observable_1.Observable.prototype.finally=finally_1._finally,Observable_1.Observable.prototype._finally=finally_1._finally},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),find_1=__webpack_require__(244);Observable_1.Observable.prototype.find=find_1.find},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),findIndex_1=__webpack_require__(942);Observable_1.Observable.prototype.findIndex=findIndex_1.findIndex},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),first_1=__webpack_require__(943);Observable_1.Observable.prototype.first=first_1.first},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),groupBy_1=__webpack_require__(944);Observable_1.Observable.prototype.groupBy=groupBy_1.groupBy},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),ignoreElements_1=__webpack_require__(945);Observable_1.Observable.prototype.ignoreElements=ignoreElements_1.ignoreElements},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),isEmpty_1=__webpack_require__(946);Observable_1.Observable.prototype.isEmpty=isEmpty_1.isEmpty},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),last_1=__webpack_require__(947);Observable_1.Observable.prototype.last=last_1.last},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),let_1=__webpack_require__(948);Observable_1.Observable.prototype.let=let_1.letProto,Observable_1.Observable.prototype.letBind=let_1.letProto},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),map_1=__webpack_require__(117);Observable_1.Observable.prototype.map=map_1.map},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),mapTo_1=__webpack_require__(949);Observable_1.Observable.prototype.mapTo=mapTo_1.mapTo},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),materialize_1=__webpack_require__(950);Observable_1.Observable.prototype.materialize=materialize_1.materialize},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),max_1=__webpack_require__(951);Observable_1.Observable.prototype.max=max_1.max},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),merge_1=__webpack_require__(245);Observable_1.Observable.prototype.merge=merge_1.merge},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),mergeAll_1=__webpack_require__(80);Observable_1.Observable.prototype.mergeAll=mergeAll_1.mergeAll},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),mergeMap_1=__webpack_require__(246);Observable_1.Observable.prototype.mergeMap=mergeMap_1.mergeMap,Observable_1.Observable.prototype.flatMap=mergeMap_1.mergeMap},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),mergeMapTo_1=__webpack_require__(247);Observable_1.Observable.prototype.flatMapTo=mergeMapTo_1.mergeMapTo,Observable_1.Observable.prototype.mergeMapTo=mergeMapTo_1.mergeMapTo},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),mergeScan_1=__webpack_require__(952);Observable_1.Observable.prototype.mergeScan=mergeScan_1.mergeScan},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),min_1=__webpack_require__(953);Observable_1.Observable.prototype.min=min_1.min},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),multicast_1=__webpack_require__(46);Observable_1.Observable.prototype.multicast=multicast_1.multicast},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),observeOn_1=__webpack_require__(118);Observable_1.Observable.prototype.observeOn=observeOn_1.observeOn},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),onErrorResumeNext_1=__webpack_require__(248);Observable_1.Observable.prototype.onErrorResumeNext=onErrorResumeNext_1.onErrorResumeNext},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),pairwise_1=__webpack_require__(954);Observable_1.Observable.prototype.pairwise=pairwise_1.pairwise},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),partition_1=__webpack_require__(955);
Observable_1.Observable.prototype.partition=partition_1.partition},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),pluck_1=__webpack_require__(956);Observable_1.Observable.prototype.pluck=pluck_1.pluck},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),publish_1=__webpack_require__(957);Observable_1.Observable.prototype.publish=publish_1.publish},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),publishBehavior_1=__webpack_require__(958);Observable_1.Observable.prototype.publishBehavior=publishBehavior_1.publishBehavior},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),publishLast_1=__webpack_require__(959);Observable_1.Observable.prototype.publishLast=publishLast_1.publishLast},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),publishReplay_1=__webpack_require__(960);Observable_1.Observable.prototype.publishReplay=publishReplay_1.publishReplay},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),race_1=__webpack_require__(249);Observable_1.Observable.prototype.race=race_1.race},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),reduce_1=__webpack_require__(119);Observable_1.Observable.prototype.reduce=reduce_1.reduce},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),repeat_1=__webpack_require__(961);Observable_1.Observable.prototype.repeat=repeat_1.repeat},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),repeatWhen_1=__webpack_require__(962);Observable_1.Observable.prototype.repeatWhen=repeatWhen_1.repeatWhen},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),retry_1=__webpack_require__(963);Observable_1.Observable.prototype.retry=retry_1.retry},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),retryWhen_1=__webpack_require__(964);Observable_1.Observable.prototype.retryWhen=retryWhen_1.retryWhen},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),sample_1=__webpack_require__(965);Observable_1.Observable.prototype.sample=sample_1.sample},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),sampleTime_1=__webpack_require__(966);Observable_1.Observable.prototype.sampleTime=sampleTime_1.sampleTime},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),scan_1=__webpack_require__(967);Observable_1.Observable.prototype.scan=scan_1.scan},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),sequenceEqual_1=__webpack_require__(968);Observable_1.Observable.prototype.sequenceEqual=sequenceEqual_1.sequenceEqual},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),share_1=__webpack_require__(969);Observable_1.Observable.prototype.share=share_1.share},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),single_1=__webpack_require__(970);Observable_1.Observable.prototype.single=single_1.single},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),skip_1=__webpack_require__(971);Observable_1.Observable.prototype.skip=skip_1.skip},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),skipUntil_1=__webpack_require__(972);Observable_1.Observable.prototype.skipUntil=skipUntil_1.skipUntil},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),skipWhile_1=__webpack_require__(973);Observable_1.Observable.prototype.skipWhile=skipWhile_1.skipWhile},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),startWith_1=__webpack_require__(974);Observable_1.Observable.prototype.startWith=startWith_1.startWith},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),subscribeOn_1=__webpack_require__(975);Observable_1.Observable.prototype.subscribeOn=subscribeOn_1.subscribeOn},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),switch_1=__webpack_require__(976);Observable_1.Observable.prototype.switch=switch_1._switch,Observable_1.Observable.prototype._switch=switch_1._switch},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),switchMap_1=__webpack_require__(977);Observable_1.Observable.prototype.switchMap=switchMap_1.switchMap},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),switchMapTo_1=__webpack_require__(978);Observable_1.Observable.prototype.switchMapTo=switchMapTo_1.switchMapTo},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),take_1=__webpack_require__(979);Observable_1.Observable.prototype.take=take_1.take},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),takeLast_1=__webpack_require__(980);Observable_1.Observable.prototype.takeLast=takeLast_1.takeLast},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),takeUntil_1=__webpack_require__(981);Observable_1.Observable.prototype.takeUntil=takeUntil_1.takeUntil},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),takeWhile_1=__webpack_require__(982);Observable_1.Observable.prototype.takeWhile=takeWhile_1.takeWhile},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),throttle_1=__webpack_require__(983);Observable_1.Observable.prototype.throttle=throttle_1.throttle},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),throttleTime_1=__webpack_require__(984);Observable_1.Observable.prototype.throttleTime=throttleTime_1.throttleTime},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),timeInterval_1=__webpack_require__(250);Observable_1.Observable.prototype.timeInterval=timeInterval_1.timeInterval},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),timeout_1=__webpack_require__(985);Observable_1.Observable.prototype.timeout=timeout_1.timeout},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),timeoutWith_1=__webpack_require__(986);Observable_1.Observable.prototype.timeoutWith=timeoutWith_1.timeoutWith},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),timestamp_1=__webpack_require__(251);Observable_1.Observable.prototype.timestamp=timestamp_1.timestamp},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),toArray_1=__webpack_require__(987);Observable_1.Observable.prototype.toArray=toArray_1.toArray},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),toPromise_1=__webpack_require__(988);Observable_1.Observable.prototype.toPromise=toPromise_1.toPromise},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),window_1=__webpack_require__(989);Observable_1.Observable.prototype.window=window_1.window},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),windowCount_1=__webpack_require__(990);Observable_1.Observable.prototype.windowCount=windowCount_1.windowCount},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),windowTime_1=__webpack_require__(991);Observable_1.Observable.prototype.windowTime=windowTime_1.windowTime},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),windowToggle_1=__webpack_require__(992);Observable_1.Observable.prototype.windowToggle=windowToggle_1.windowToggle},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),windowWhen_1=__webpack_require__(993);Observable_1.Observable.prototype.windowWhen=windowWhen_1.windowWhen},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),withLatestFrom_1=__webpack_require__(994);Observable_1.Observable.prototype.withLatestFrom=withLatestFrom_1.withLatestFrom},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),zip_1=__webpack_require__(120);Observable_1.Observable.prototype.zip=zip_1.zipProto},function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__(1),zipAll_1=__webpack_require__(995);Observable_1.Observable.prototype.zipAll=zipAll_1.zipAll},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(1),ScalarObservable_1=__webpack_require__(114),EmptyObservable_1=__webpack_require__(32),ArrayLikeObservable=function(_super){function ArrayLikeObservable(arrayLike,scheduler){_super.call(this),this.arrayLike=arrayLike,this.scheduler=scheduler,scheduler||1!==arrayLike.length||(this._isScalar=!0,this.value=arrayLike[0])}return __extends(ArrayLikeObservable,_super),ArrayLikeObservable.create=function(arrayLike,scheduler){var length=arrayLike.length;return 0===length?new EmptyObservable_1.EmptyObservable:1===length?new ScalarObservable_1.ScalarObservable(arrayLike[0],scheduler):new ArrayLikeObservable(arrayLike,scheduler)},ArrayLikeObservable.dispatch=function(state){var arrayLike=state.arrayLike,index=state.index,length=state.length,subscriber=state.subscriber;if(!subscriber.closed){if(index>=length)return void subscriber.complete();subscriber.next(arrayLike[index]),state.index=index+1,this.schedule(state)}},ArrayLikeObservable.prototype._subscribe=function(subscriber){var index=0,_a=this,arrayLike=_a.arrayLike,scheduler=_a.scheduler,length=arrayLike.length;if(scheduler)return scheduler.schedule(ArrayLikeObservable.dispatch,0,{arrayLike:arrayLike,index:index,length:length,subscriber:subscriber});for(var i=0;i<length&&!subscriber.closed;i++)subscriber.next(arrayLike[i]);subscriber.complete()},ArrayLikeObservable}(Observable_1.Observable);exports.ArrayLikeObservable=ArrayLikeObservable},function(module,exports,__webpack_require__){"use strict";function dispatchNext(arg){var value=arg.value,subject=arg.subject;subject.next(value),subject.complete()}function dispatchError(arg){var err=arg.err,subject=arg.subject;subject.error(err)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(1),tryCatch_1=__webpack_require__(16),errorObject_1=__webpack_require__(14),AsyncSubject_1=__webpack_require__(78),BoundCallbackObservable=function(_super){function BoundCallbackObservable(callbackFunc,selector,args,scheduler){_super.call(this),this.callbackFunc=callbackFunc,this.selector=selector,this.args=args,this.scheduler=scheduler}return __extends(BoundCallbackObservable,_super),BoundCallbackObservable.create=function(func,selector,scheduler){return void 0===selector&&(selector=void 0),function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return new BoundCallbackObservable(func,selector,args,scheduler)}},BoundCallbackObservable.prototype._subscribe=function(subscriber){var callbackFunc=this.callbackFunc,args=this.args,scheduler=this.scheduler,subject=this.subject;if(scheduler)return scheduler.schedule(BoundCallbackObservable.dispatch,0,{source:this,subscriber:subscriber});if(!subject){subject=this.subject=new AsyncSubject_1.AsyncSubject;var handler=function handlerFn(){for(var innerArgs=[],_i=0;_i<arguments.length;_i++)innerArgs[_i-0]=arguments[_i];var source=handlerFn.source,selector=source.selector,subject=source.subject;if(selector){var result_1=tryCatch_1.tryCatch(selector).apply(this,innerArgs);result_1===errorObject_1.errorObject?subject.error(errorObject_1.errorObject.e):(subject.next(result_1),subject.complete())}else subject.next(1===innerArgs.length?innerArgs[0]:innerArgs),subject.complete()};handler.source=this;var result=tryCatch_1.tryCatch(callbackFunc).apply(this,args.concat(handler));result===errorObject_1.errorObject&&subject.error(errorObject_1.errorObject.e)}return subject.subscribe(subscriber)},BoundCallbackObservable.dispatch=function(state){var self=this,source=state.source,subscriber=state.subscriber,callbackFunc=source.callbackFunc,args=source.args,scheduler=source.scheduler,subject=source.subject;if(!subject){subject=source.subject=new AsyncSubject_1.AsyncSubject;var handler=function handlerFn(){for(var innerArgs=[],_i=0;_i<arguments.length;_i++)innerArgs[_i-0]=arguments[_i];var source=handlerFn.source,selector=source.selector,subject=source.subject;if(selector){var result_2=tryCatch_1.tryCatch(selector).apply(this,innerArgs);result_2===errorObject_1.errorObject?self.add(scheduler.schedule(dispatchError,0,{err:errorObject_1.errorObject.e,subject:subject})):self.add(scheduler.schedule(dispatchNext,0,{value:result_2,subject:subject}))}else{var value=1===innerArgs.length?innerArgs[0]:innerArgs;self.add(scheduler.schedule(dispatchNext,0,{value:value,subject:subject}))}};handler.source=source;var result=tryCatch_1.tryCatch(callbackFunc).apply(this,args.concat(handler));result===errorObject_1.errorObject&&subject.error(errorObject_1.errorObject.e)}self.add(subject.subscribe(subscriber))},BoundCallbackObservable}(Observable_1.Observable);exports.BoundCallbackObservable=BoundCallbackObservable},function(module,exports,__webpack_require__){"use strict";function dispatch(state){var self=this,source=state.source,subscriber=state.subscriber,_a=source,callbackFunc=_a.callbackFunc,args=_a.args,scheduler=_a.scheduler,subject=source.subject;if(!subject){subject=source.subject=new AsyncSubject_1.AsyncSubject;var handler=function handlerFn(){for(var innerArgs=[],_i=0;_i<arguments.length;_i++)innerArgs[_i-0]=arguments[_i];var source=handlerFn.source,selector=source.selector,subject=source.subject,err=innerArgs.shift();if(err)subject.error(err);else if(selector){var result_2=tryCatch_1.tryCatch(selector).apply(this,innerArgs);result_2===errorObject_1.errorObject?self.add(scheduler.schedule(dispatchError,0,{err:errorObject_1.errorObject.e,subject:subject})):self.add(scheduler.schedule(dispatchNext,0,{value:result_2,subject:subject}))}else{var value=1===innerArgs.length?innerArgs[0]:innerArgs;self.add(scheduler.schedule(dispatchNext,0,{value:value,subject:subject}))}};handler.source=source;var result=tryCatch_1.tryCatch(callbackFunc).apply(this,args.concat(handler));result===errorObject_1.errorObject&&subject.error(errorObject_1.errorObject.e)}self.add(subject.subscribe(subscriber))}function dispatchNext(arg){var value=arg.value,subject=arg.subject;subject.next(value),subject.complete()}function dispatchError(arg){var err=arg.err,subject=arg.subject;subject.error(err)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(1),tryCatch_1=__webpack_require__(16),errorObject_1=__webpack_require__(14),AsyncSubject_1=__webpack_require__(78),BoundNodeCallbackObservable=function(_super){function BoundNodeCallbackObservable(callbackFunc,selector,args,scheduler){_super.call(this),this.callbackFunc=callbackFunc,this.selector=selector,this.args=args,this.scheduler=scheduler}return __extends(BoundNodeCallbackObservable,_super),BoundNodeCallbackObservable.create=function(func,selector,scheduler){return void 0===selector&&(selector=void 0),function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return new BoundNodeCallbackObservable(func,selector,args,scheduler)}},BoundNodeCallbackObservable.prototype._subscribe=function(subscriber){var callbackFunc=this.callbackFunc,args=this.args,scheduler=this.scheduler,subject=this.subject;if(scheduler)return scheduler.schedule(dispatch,0,{source:this,subscriber:subscriber});if(!subject){subject=this.subject=new AsyncSubject_1.AsyncSubject;var handler=function handlerFn(){for(var innerArgs=[],_i=0;_i<arguments.length;_i++)innerArgs[_i-0]=arguments[_i];var source=handlerFn.source,selector=source.selector,subject=source.subject,err=innerArgs.shift();if(err)subject.error(err);else if(selector){var result_1=tryCatch_1.tryCatch(selector).apply(this,innerArgs);result_1===errorObject_1.errorObject?subject.error(errorObject_1.errorObject.e):(subject.next(result_1),subject.complete())}else subject.next(1===innerArgs.length?innerArgs[0]:innerArgs),subject.complete()};handler.source=this;var result=tryCatch_1.tryCatch(callbackFunc).apply(this,args.concat(handler));result===errorObject_1.errorObject&&subject.error(errorObject_1.errorObject.e)}return subject.subscribe(subscriber)},BoundNodeCallbackObservable}(Observable_1.Observable);exports.BoundNodeCallbackObservable=BoundNodeCallbackObservable},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(1),subscribeToResult_1=__webpack_require__(6),OuterSubscriber_1=__webpack_require__(5),DeferObservable=function(_super){function DeferObservable(observableFactory){_super.call(this),this.observableFactory=observableFactory}return __extends(DeferObservable,_super),DeferObservable.create=function(observableFactory){return new DeferObservable(observableFactory)},DeferObservable.prototype._subscribe=function(subscriber){return new DeferSubscriber(subscriber,this.observableFactory)},DeferObservable}(Observable_1.Observable);exports.DeferObservable=DeferObservable;var DeferSubscriber=function(_super){function DeferSubscriber(destination,factory){_super.call(this,destination),this.factory=factory,this.tryDefer()}return __extends(DeferSubscriber,_super),DeferSubscriber.prototype.tryDefer=function(){try{this._callFactory()}catch(err){this._error(err)}},DeferSubscriber.prototype._callFactory=function(){var result=this.factory();result&&this.add(subscribeToResult_1.subscribeToResult(this,result))},DeferSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(1),ErrorObservable=function(_super){function ErrorObservable(error,scheduler){_super.call(this),this.error=error,this.scheduler=scheduler}return __extends(ErrorObservable,_super),ErrorObservable.create=function(error,scheduler){return new ErrorObservable(error,scheduler)},ErrorObservable.dispatch=function(arg){var error=arg.error,subscriber=arg.subscriber;subscriber.error(error)},ErrorObservable.prototype._subscribe=function(subscriber){var error=this.error,scheduler=this.scheduler;return scheduler?scheduler.schedule(ErrorObservable.dispatch,0,{error:error,subscriber:subscriber}):void subscriber.error(error)},ErrorObservable}(Observable_1.Observable);exports.ErrorObservable=ErrorObservable},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(1),EmptyObservable_1=__webpack_require__(32),isArray_1=__webpack_require__(27),subscribeToResult_1=__webpack_require__(6),OuterSubscriber_1=__webpack_require__(5),ForkJoinObservable=function(_super){function ForkJoinObservable(sources,resultSelector){_super.call(this),this.sources=sources,this.resultSelector=resultSelector}return __extends(ForkJoinObservable,_super),ForkJoinObservable.create=function(){for(var sources=[],_i=0;_i<arguments.length;_i++)sources[_i-0]=arguments[_i];if(null===sources||0===arguments.length)return new EmptyObservable_1.EmptyObservable;var resultSelector=null;return"function"==typeof sources[sources.length-1]&&(resultSelector=sources.pop()),1===sources.length&&isArray_1.isArray(sources[0])&&(sources=sources[0]),0===sources.length?new EmptyObservable_1.EmptyObservable:new ForkJoinObservable(sources,resultSelector)},ForkJoinObservable.prototype._subscribe=function(subscriber){return new ForkJoinSubscriber(subscriber,this.sources,this.resultSelector)},ForkJoinObservable}(Observable_1.Observable);exports.ForkJoinObservable=ForkJoinObservable;var ForkJoinSubscriber=function(_super){function ForkJoinSubscriber(destination,sources,resultSelector){_super.call(this,destination),this.sources=sources,this.resultSelector=resultSelector,this.completed=0,this.haveValues=0;var len=sources.length;this.total=len,this.values=new Array(len);for(var i=0;i<len;i++){var source=sources[i],innerSubscription=subscribeToResult_1.subscribeToResult(this,source,null,i);innerSubscription&&(innerSubscription.outerIndex=i,this.add(innerSubscription))}}return __extends(ForkJoinSubscriber,_super),ForkJoinSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.values[outerIndex]=innerValue,innerSub._hasValue||(innerSub._hasValue=!0,this.haveValues++)},ForkJoinSubscriber.prototype.notifyComplete=function(innerSub){var destination=this.destination,_a=this,haveValues=_a.haveValues,resultSelector=_a.resultSelector,values=_a.values,len=values.length;if(!innerSub._hasValue)return void destination.complete();if(this.completed++,this.completed===len){if(haveValues===len){var value=resultSelector?resultSelector.apply(this,values):values;destination.next(value)}destination.complete()}},ForkJoinSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function isNodeStyleEventEmmitter(sourceObj){return!!sourceObj&&"function"==typeof sourceObj.addListener&&"function"==typeof sourceObj.removeListener}function isJQueryStyleEventEmitter(sourceObj){return!!sourceObj&&"function"==typeof sourceObj.on&&"function"==typeof sourceObj.off}function isNodeList(sourceObj){return!!sourceObj&&"[object NodeList]"===toString.call(sourceObj)}function isHTMLCollection(sourceObj){return!!sourceObj&&"[object HTMLCollection]"===toString.call(sourceObj)}function isEventTarget(sourceObj){return!!sourceObj&&"function"==typeof sourceObj.addEventListener&&"function"==typeof sourceObj.removeEventListener}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(1),tryCatch_1=__webpack_require__(16),isFunction_1=__webpack_require__(121),errorObject_1=__webpack_require__(14),Subscription_1=__webpack_require__(12),toString=Object.prototype.toString,FromEventObservable=function(_super){function FromEventObservable(sourceObj,eventName,selector,options){_super.call(this),this.sourceObj=sourceObj,this.eventName=eventName,this.selector=selector,this.options=options}return __extends(FromEventObservable,_super),FromEventObservable.create=function(target,eventName,options,selector){return isFunction_1.isFunction(options)&&(selector=options,options=void 0),new FromEventObservable(target,eventName,selector,options)},FromEventObservable.setupSubscription=function(sourceObj,eventName,handler,subscriber,options){var unsubscribe;if(isNodeList(sourceObj)||isHTMLCollection(sourceObj))for(var i=0,len=sourceObj.length;i<len;i++)FromEventObservable.setupSubscription(sourceObj[i],eventName,handler,subscriber,options);else if(isEventTarget(sourceObj)){var source_1=sourceObj;sourceObj.addEventListener(eventName,handler,options),unsubscribe=function(){return source_1.removeEventListener(eventName,handler)}}else if(isJQueryStyleEventEmitter(sourceObj)){var source_2=sourceObj;sourceObj.on(eventName,handler),unsubscribe=function(){return source_2.off(eventName,handler)}}else{if(!isNodeStyleEventEmmitter(sourceObj))throw new TypeError("Invalid event target");var source_3=sourceObj;sourceObj.addListener(eventName,handler),unsubscribe=function(){return source_3.removeListener(eventName,handler)}}subscriber.add(new Subscription_1.Subscription(unsubscribe))},FromEventObservable.prototype._subscribe=function(subscriber){var sourceObj=this.sourceObj,eventName=this.eventName,options=this.options,selector=this.selector,handler=selector?function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];var result=tryCatch_1.tryCatch(selector).apply(void 0,args);result===errorObject_1.errorObject?subscriber.error(errorObject_1.errorObject.e):subscriber.next(result)}:function(e){return subscriber.next(e)};FromEventObservable.setupSubscription(sourceObj,eventName,handler,subscriber,options)},FromEventObservable}(Observable_1.Observable);exports.FromEventObservable=FromEventObservable},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(1),Subscription_1=__webpack_require__(12),FromEventPatternObservable=function(_super){function FromEventPatternObservable(addHandler,removeHandler,selector){_super.call(this),this.addHandler=addHandler,this.removeHandler=removeHandler,this.selector=selector}return __extends(FromEventPatternObservable,_super),FromEventPatternObservable.create=function(addHandler,removeHandler,selector){return new FromEventPatternObservable(addHandler,removeHandler,selector)},FromEventPatternObservable.prototype._subscribe=function(subscriber){var _this=this,removeHandler=this.removeHandler,handler=this.selector?function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];_this._callSelector(subscriber,args)}:function(e){subscriber.next(e)};this._callAddHandler(handler,subscriber),subscriber.add(new Subscription_1.Subscription(function(){removeHandler(handler)}))},FromEventPatternObservable.prototype._callSelector=function(subscriber,args){try{var result=this.selector.apply(this,args);subscriber.next(result)}catch(e){subscriber.error(e)}},FromEventPatternObservable.prototype._callAddHandler=function(handler,errorSubscriber){try{this.addHandler(handler)}catch(e){errorSubscriber.error(e)}},FromEventPatternObservable}(Observable_1.Observable);exports.FromEventPatternObservable=FromEventPatternObservable},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(1),isScheduler_1=__webpack_require__(33),selfSelector=function(value){return value},GenerateObservable=function(_super){function GenerateObservable(initialState,condition,iterate,resultSelector,scheduler){_super.call(this),this.initialState=initialState,this.condition=condition,this.iterate=iterate,this.resultSelector=resultSelector,this.scheduler=scheduler}return __extends(GenerateObservable,_super),GenerateObservable.create=function(initialStateOrOptions,condition,iterate,resultSelectorOrObservable,scheduler){return 1==arguments.length?new GenerateObservable(initialStateOrOptions.initialState,initialStateOrOptions.condition,initialStateOrOptions.iterate,initialStateOrOptions.resultSelector||selfSelector,initialStateOrOptions.scheduler):void 0===resultSelectorOrObservable||isScheduler_1.isScheduler(resultSelectorOrObservable)?new GenerateObservable(initialStateOrOptions,condition,iterate,selfSelector,resultSelectorOrObservable):new GenerateObservable(initialStateOrOptions,condition,iterate,resultSelectorOrObservable,scheduler)},GenerateObservable.prototype._subscribe=function(subscriber){var state=this.initialState;if(this.scheduler)return this.scheduler.schedule(GenerateObservable.dispatch,0,{subscriber:subscriber,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:state});for(var _a=this,condition=_a.condition,resultSelector=_a.resultSelector,iterate=_a.iterate;;){if(condition){var conditionResult=void 0;try{conditionResult=condition(state)}catch(err){return void subscriber.error(err)}if(!conditionResult){subscriber.complete();break}}var value=void 0;try{value=resultSelector(state)}catch(err){return void subscriber.error(err)}if(subscriber.next(value),subscriber.closed)break;try{state=iterate(state)}catch(err){return void subscriber.error(err)}}},GenerateObservable.dispatch=function(state){var subscriber=state.subscriber,condition=state.condition;if(!subscriber.closed){if(state.needIterate)try{state.state=state.iterate(state.state)}catch(err){return void subscriber.error(err)}else state.needIterate=!0;if(condition){var conditionResult=void 0;try{conditionResult=condition(state.state)}catch(err){return void subscriber.error(err)}if(!conditionResult)return void subscriber.complete();if(subscriber.closed)return}var value;try{value=state.resultSelector(state.state)}catch(err){return void subscriber.error(err)}if(!subscriber.closed&&(subscriber.next(value),!subscriber.closed))return this.schedule(state)}},GenerateObservable}(Observable_1.Observable);exports.GenerateObservable=GenerateObservable},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(1),subscribeToResult_1=__webpack_require__(6),OuterSubscriber_1=__webpack_require__(5),IfObservable=function(_super){function IfObservable(condition,thenSource,elseSource){_super.call(this),this.condition=condition,this.thenSource=thenSource,this.elseSource=elseSource}return __extends(IfObservable,_super),IfObservable.create=function(condition,thenSource,elseSource){return new IfObservable(condition,thenSource,elseSource)},IfObservable.prototype._subscribe=function(subscriber){var _a=this,condition=_a.condition,thenSource=_a.thenSource,elseSource=_a.elseSource;return new IfSubscriber(subscriber,condition,thenSource,elseSource)},IfObservable}(Observable_1.Observable);exports.IfObservable=IfObservable;var IfSubscriber=function(_super){function IfSubscriber(destination,condition,thenSource,elseSource){_super.call(this,destination),this.condition=condition,this.thenSource=thenSource,this.elseSource=elseSource,this.tryIf()}return __extends(IfSubscriber,_super),IfSubscriber.prototype.tryIf=function(){var result,_a=this,condition=_a.condition,thenSource=_a.thenSource,elseSource=_a.elseSource;try{result=condition();var source=result?thenSource:elseSource;source?this.add(subscribeToResult_1.subscribeToResult(this,source)):this._complete()}catch(err){this._error(err)}},IfSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){
function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},isNumeric_1=__webpack_require__(122),Observable_1=__webpack_require__(1),async_1=__webpack_require__(18),IntervalObservable=function(_super){function IntervalObservable(period,scheduler){void 0===period&&(period=0),void 0===scheduler&&(scheduler=async_1.async),_super.call(this),this.period=period,this.scheduler=scheduler,(!isNumeric_1.isNumeric(period)||period<0)&&(this.period=0),scheduler&&"function"==typeof scheduler.schedule||(this.scheduler=async_1.async)}return __extends(IntervalObservable,_super),IntervalObservable.create=function(period,scheduler){return void 0===period&&(period=0),void 0===scheduler&&(scheduler=async_1.async),new IntervalObservable(period,scheduler)},IntervalObservable.dispatch=function(state){var index=state.index,subscriber=state.subscriber,period=state.period;subscriber.next(index),subscriber.closed||(state.index+=1,this.schedule(state,period))},IntervalObservable.prototype._subscribe=function(subscriber){var index=0,period=this.period,scheduler=this.scheduler;subscriber.add(scheduler.schedule(IntervalObservable.dispatch,period,{index:index,subscriber:subscriber,period:period}))},IntervalObservable}(Observable_1.Observable);exports.IntervalObservable=IntervalObservable},function(module,exports,__webpack_require__){"use strict";function getIterator(obj){var i=obj[iterator_1.$$iterator];if(!i&&"string"==typeof obj)return new StringIterator(obj);if(!i&&void 0!==obj.length)return new ArrayIterator(obj);if(!i)throw new TypeError("object is not iterable");return obj[iterator_1.$$iterator]()}function toLength(o){var len=+o.length;return isNaN(len)?0:0!==len&&numberIsFinite(len)?(len=sign(len)*Math.floor(Math.abs(len)),len<=0?0:len>maxSafeInteger?maxSafeInteger:len):len}function numberIsFinite(value){return"number"==typeof value&&root_1.root.isFinite(value)}function sign(value){var valueAsNumber=+value;return 0===valueAsNumber?valueAsNumber:isNaN(valueAsNumber)?valueAsNumber:valueAsNumber<0?-1:1}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},root_1=__webpack_require__(15),Observable_1=__webpack_require__(1),iterator_1=__webpack_require__(56),IteratorObservable=function(_super){function IteratorObservable(iterator,scheduler){if(_super.call(this),this.scheduler=scheduler,null==iterator)throw new Error("iterator cannot be null.");this.iterator=getIterator(iterator)}return __extends(IteratorObservable,_super),IteratorObservable.create=function(iterator,scheduler){return new IteratorObservable(iterator,scheduler)},IteratorObservable.dispatch=function(state){var index=state.index,hasError=state.hasError,iterator=state.iterator,subscriber=state.subscriber;if(hasError)return void subscriber.error(state.error);var result=iterator.next();return result.done?void subscriber.complete():(subscriber.next(result.value),state.index=index+1,subscriber.closed?void("function"==typeof iterator.return&&iterator.return()):void this.schedule(state))},IteratorObservable.prototype._subscribe=function(subscriber){var index=0,_a=this,iterator=_a.iterator,scheduler=_a.scheduler;if(scheduler)return scheduler.schedule(IteratorObservable.dispatch,0,{index:index,iterator:iterator,subscriber:subscriber});for(;;){var result=iterator.next();if(result.done){subscriber.complete();break}if(subscriber.next(result.value),subscriber.closed){"function"==typeof iterator.return&&iterator.return();break}}},IteratorObservable}(Observable_1.Observable);exports.IteratorObservable=IteratorObservable;var StringIterator=function(){function StringIterator(str,idx,len){void 0===idx&&(idx=0),void 0===len&&(len=str.length),this.str=str,this.idx=idx,this.len=len}return StringIterator.prototype[iterator_1.$$iterator]=function(){return this},StringIterator.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},StringIterator}(),ArrayIterator=function(){function ArrayIterator(arr,idx,len){void 0===idx&&(idx=0),void 0===len&&(len=toLength(arr)),this.arr=arr,this.idx=idx,this.len=len}return ArrayIterator.prototype[iterator_1.$$iterator]=function(){return this},ArrayIterator.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},ArrayIterator}(),maxSafeInteger=Math.pow(2,53)-1},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(1),noop_1=__webpack_require__(262),NeverObservable=function(_super){function NeverObservable(){_super.call(this)}return __extends(NeverObservable,_super),NeverObservable.create=function(){return new NeverObservable},NeverObservable.prototype._subscribe=function(subscriber){noop_1.noop()},NeverObservable}(Observable_1.Observable);exports.NeverObservable=NeverObservable},function(module,exports,__webpack_require__){"use strict";function dispatch(state){var obj=state.obj,keys=state.keys,length=state.length,index=state.index,subscriber=state.subscriber;if(index===length)return void subscriber.complete();var key=keys[index];subscriber.next([key,obj[key]]),state.index=index+1,this.schedule(state)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(1),PairsObservable=function(_super){function PairsObservable(obj,scheduler){_super.call(this),this.obj=obj,this.scheduler=scheduler,this.keys=Object.keys(obj)}return __extends(PairsObservable,_super),PairsObservable.create=function(obj,scheduler){return new PairsObservable(obj,scheduler)},PairsObservable.prototype._subscribe=function(subscriber){var _a=this,keys=_a.keys,scheduler=_a.scheduler,length=keys.length;if(scheduler)return scheduler.schedule(dispatch,0,{obj:this.obj,keys:keys,length:length,index:0,subscriber:subscriber});for(var idx=0;idx<length;idx++){var key=keys[idx];subscriber.next([key,this.obj[key]])}subscriber.complete()},PairsObservable}(Observable_1.Observable);exports.PairsObservable=PairsObservable},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(1),RangeObservable=function(_super){function RangeObservable(start,count,scheduler){_super.call(this),this.start=start,this._count=count,this.scheduler=scheduler}return __extends(RangeObservable,_super),RangeObservable.create=function(start,count,scheduler){return void 0===start&&(start=0),void 0===count&&(count=0),new RangeObservable(start,count,scheduler)},RangeObservable.dispatch=function(state){var start=state.start,index=state.index,count=state.count,subscriber=state.subscriber;return index>=count?void subscriber.complete():(subscriber.next(start),void(subscriber.closed||(state.index=index+1,state.start=start+1,this.schedule(state))))},RangeObservable.prototype._subscribe=function(subscriber){var index=0,start=this.start,count=this._count,scheduler=this.scheduler;if(scheduler)return scheduler.schedule(RangeObservable.dispatch,0,{index:index,count:count,start:start,subscriber:subscriber});for(;;){if(index++>=count){subscriber.complete();break}if(subscriber.next(start++),subscriber.closed)break}},RangeObservable}(Observable_1.Observable);exports.RangeObservable=RangeObservable},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(1),asap_1=__webpack_require__(253),isNumeric_1=__webpack_require__(122),SubscribeOnObservable=function(_super){function SubscribeOnObservable(source,delayTime,scheduler){void 0===delayTime&&(delayTime=0),void 0===scheduler&&(scheduler=asap_1.asap),_super.call(this),this.source=source,this.delayTime=delayTime,this.scheduler=scheduler,(!isNumeric_1.isNumeric(delayTime)||delayTime<0)&&(this.delayTime=0),scheduler&&"function"==typeof scheduler.schedule||(this.scheduler=asap_1.asap)}return __extends(SubscribeOnObservable,_super),SubscribeOnObservable.create=function(source,delay,scheduler){return void 0===delay&&(delay=0),void 0===scheduler&&(scheduler=asap_1.asap),new SubscribeOnObservable(source,delay,scheduler)},SubscribeOnObservable.dispatch=function(arg){var source=arg.source,subscriber=arg.subscriber;return this.add(source.subscribe(subscriber))},SubscribeOnObservable.prototype._subscribe=function(subscriber){var delay=this.delayTime,source=this.source,scheduler=this.scheduler;return scheduler.schedule(SubscribeOnObservable.dispatch,delay,{source:source,subscriber:subscriber})},SubscribeOnObservable}(Observable_1.Observable);exports.SubscribeOnObservable=SubscribeOnObservable},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},isNumeric_1=__webpack_require__(122),Observable_1=__webpack_require__(1),async_1=__webpack_require__(18),isScheduler_1=__webpack_require__(33),isDate_1=__webpack_require__(86),TimerObservable=function(_super){function TimerObservable(dueTime,period,scheduler){void 0===dueTime&&(dueTime=0),_super.call(this),this.period=-1,this.dueTime=0,isNumeric_1.isNumeric(period)?this.period=Number(period)<1&&1||Number(period):isScheduler_1.isScheduler(period)&&(scheduler=period),isScheduler_1.isScheduler(scheduler)||(scheduler=async_1.async),this.scheduler=scheduler,this.dueTime=isDate_1.isDate(dueTime)?+dueTime-this.scheduler.now():dueTime}return __extends(TimerObservable,_super),TimerObservable.create=function(initialDelay,period,scheduler){return void 0===initialDelay&&(initialDelay=0),new TimerObservable(initialDelay,period,scheduler)},TimerObservable.dispatch=function(state){var index=state.index,period=state.period,subscriber=state.subscriber,action=this;if(subscriber.next(index),!subscriber.closed){if(period===-1)return subscriber.complete();state.index=index+1,action.schedule(state,period)}},TimerObservable.prototype._subscribe=function(subscriber){var index=0,_a=this,period=_a.period,dueTime=_a.dueTime,scheduler=_a.scheduler;return scheduler.schedule(TimerObservable.dispatch,dueTime,{index:index,period:period,subscriber:subscriber})},TimerObservable}(Observable_1.Observable);exports.TimerObservable=TimerObservable},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(1),subscribeToResult_1=__webpack_require__(6),OuterSubscriber_1=__webpack_require__(5),UsingObservable=function(_super){function UsingObservable(resourceFactory,observableFactory){_super.call(this),this.resourceFactory=resourceFactory,this.observableFactory=observableFactory}return __extends(UsingObservable,_super),UsingObservable.create=function(resourceFactory,observableFactory){return new UsingObservable(resourceFactory,observableFactory)},UsingObservable.prototype._subscribe=function(subscriber){var resource,_a=this,resourceFactory=_a.resourceFactory,observableFactory=_a.observableFactory;try{return resource=resourceFactory(),new UsingSubscriber(subscriber,resource,observableFactory)}catch(err){subscriber.error(err)}},UsingObservable}(Observable_1.Observable);exports.UsingObservable=UsingObservable;var UsingSubscriber=function(_super){function UsingSubscriber(destination,resource,observableFactory){_super.call(this,destination),this.resource=resource,this.observableFactory=observableFactory,destination.add(resource),this.tryUse()}return __extends(UsingSubscriber,_super),UsingSubscriber.prototype.tryUse=function(){try{var source=this.observableFactory.call(this,this.resource);source&&this.add(subscribeToResult_1.subscribeToResult(this,source))}catch(err){this._error(err)}},UsingSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";var BoundCallbackObservable_1=__webpack_require__(872);exports.bindCallback=BoundCallbackObservable_1.BoundCallbackObservable.create},function(module,exports,__webpack_require__){"use strict";var BoundNodeCallbackObservable_1=__webpack_require__(873);exports.bindNodeCallback=BoundNodeCallbackObservable_1.BoundNodeCallbackObservable.create},function(module,exports,__webpack_require__){"use strict";function combineLatest(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];var project=null,scheduler=null;return isScheduler_1.isScheduler(observables[observables.length-1])&&(scheduler=observables.pop()),"function"==typeof observables[observables.length-1]&&(project=observables.pop()),1===observables.length&&isArray_1.isArray(observables[0])&&(observables=observables[0]),new ArrayObservable_1.ArrayObservable(observables,scheduler).lift(new combineLatest_1.CombineLatestOperator(project))}var isScheduler_1=__webpack_require__(33),isArray_1=__webpack_require__(27),ArrayObservable_1=__webpack_require__(28),combineLatest_1=__webpack_require__(115);exports.combineLatest=combineLatest},function(module,exports,__webpack_require__){"use strict";var concat_1=__webpack_require__(116);exports.concat=concat_1.concatStatic},function(module,exports,__webpack_require__){"use strict";var DeferObservable_1=__webpack_require__(874);exports.defer=DeferObservable_1.DeferObservable.create},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__(13),Subscriber_1=__webpack_require__(3),Observable_1=__webpack_require__(1),Subscription_1=__webpack_require__(12),root_1=__webpack_require__(15),ReplaySubject_1=__webpack_require__(79),tryCatch_1=__webpack_require__(16),errorObject_1=__webpack_require__(14),assign_1=__webpack_require__(1013),WebSocketSubject=function(_super){function WebSocketSubject(urlConfigOrSource,destination){if(urlConfigOrSource instanceof Observable_1.Observable)_super.call(this,destination,urlConfigOrSource);else{if(_super.call(this),this.WebSocketCtor=root_1.root.WebSocket,this._output=new Subject_1.Subject,"string"==typeof urlConfigOrSource?this.url=urlConfigOrSource:assign_1.assign(this,urlConfigOrSource),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new ReplaySubject_1.ReplaySubject}}return __extends(WebSocketSubject,_super),WebSocketSubject.prototype.resultSelector=function(e){return JSON.parse(e.data)},WebSocketSubject.create=function(urlConfigOrSource){return new WebSocketSubject(urlConfigOrSource)},WebSocketSubject.prototype.lift=function(operator){var sock=new WebSocketSubject(this,this.destination);return sock.operator=operator,sock},WebSocketSubject.prototype._resetState=function(){this.socket=null,this.source||(this.destination=new ReplaySubject_1.ReplaySubject),this._output=new Subject_1.Subject},WebSocketSubject.prototype.multiplex=function(subMsg,unsubMsg,messageFilter){var self=this;return new Observable_1.Observable(function(observer){var result=tryCatch_1.tryCatch(subMsg)();result===errorObject_1.errorObject?observer.error(errorObject_1.errorObject.e):self.next(result);var subscription=self.subscribe(function(x){var result=tryCatch_1.tryCatch(messageFilter)(x);result===errorObject_1.errorObject?observer.error(errorObject_1.errorObject.e):result&&observer.next(x)},function(err){return observer.error(err)},function(){return observer.complete()});return function(){var result=tryCatch_1.tryCatch(unsubMsg)();result===errorObject_1.errorObject?observer.error(errorObject_1.errorObject.e):self.next(result),subscription.unsubscribe()}})},WebSocketSubject.prototype._connectSocket=function(){var _this=this,WebSocketCtor=this.WebSocketCtor,observer=this._output,socket=null;try{socket=this.protocol?new WebSocketCtor(this.url,this.protocol):new WebSocketCtor(this.url),this.socket=socket}catch(e){return void observer.error(e)}var subscription=new Subscription_1.Subscription(function(){_this.socket=null,socket&&1===socket.readyState&&socket.close()});socket.onopen=function(e){var openObserver=_this.openObserver;openObserver&&openObserver.next(e);var queue=_this.destination;_this.destination=Subscriber_1.Subscriber.create(function(x){return 1===socket.readyState&&socket.send(x)},function(e){var closingObserver=_this.closingObserver;closingObserver&&closingObserver.next(void 0),e&&e.code?socket.close(e.code,e.reason):observer.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),_this._resetState()},function(){var closingObserver=_this.closingObserver;closingObserver&&closingObserver.next(void 0),socket.close(),_this._resetState()}),queue&&queue instanceof ReplaySubject_1.ReplaySubject&&subscription.add(queue.subscribe(_this.destination))},socket.onerror=function(e){_this._resetState(),observer.error(e)},socket.onclose=function(e){_this._resetState();var closeObserver=_this.closeObserver;closeObserver&&closeObserver.next(e),e.wasClean?observer.complete():observer.error(e)},socket.onmessage=function(e){var result=tryCatch_1.tryCatch(_this.resultSelector)(e);result===errorObject_1.errorObject?observer.error(errorObject_1.errorObject.e):observer.next(result)}},WebSocketSubject.prototype._subscribe=function(subscriber){var _this=this,source=this.source;if(source)return source.subscribe(subscriber);this.socket||this._connectSocket();var subscription=new Subscription_1.Subscription;return subscription.add(this._output.subscribe(subscriber)),subscription.add(function(){var socket=_this.socket;0===_this._output.observers.length&&(socket&&1===socket.readyState&&socket.close(),_this._resetState())}),subscription},WebSocketSubject.prototype.unsubscribe=function(){var _a=this,source=_a.source,socket=_a.socket;socket&&1===socket.readyState&&(socket.close(),this._resetState()),_super.prototype.unsubscribe.call(this),source||(this.destination=new ReplaySubject_1.ReplaySubject)},WebSocketSubject}(Subject_1.AnonymousSubject);exports.WebSocketSubject=WebSocketSubject},function(module,exports,__webpack_require__){"use strict";var AjaxObservable_1=__webpack_require__(241);exports.ajax=AjaxObservable_1.AjaxObservable.create},function(module,exports,__webpack_require__){"use strict";var WebSocketSubject_1=__webpack_require__(894);exports.webSocket=WebSocketSubject_1.WebSocketSubject.create},function(module,exports,__webpack_require__){"use strict";var EmptyObservable_1=__webpack_require__(32);exports.empty=EmptyObservable_1.EmptyObservable.create},function(module,exports,__webpack_require__){"use strict";var ForkJoinObservable_1=__webpack_require__(876);exports.forkJoin=ForkJoinObservable_1.ForkJoinObservable.create},function(module,exports,__webpack_require__){"use strict";var FromObservable_1=__webpack_require__(239);exports.from=FromObservable_1.FromObservable.create},function(module,exports,__webpack_require__){"use strict";var FromEventObservable_1=__webpack_require__(877);exports.fromEvent=FromEventObservable_1.FromEventObservable.create},function(module,exports,__webpack_require__){"use strict";var FromEventPatternObservable_1=__webpack_require__(878);exports.fromEventPattern=FromEventPatternObservable_1.FromEventPatternObservable.create},function(module,exports,__webpack_require__){"use strict";var PromiseObservable_1=__webpack_require__(240);exports.fromPromise=PromiseObservable_1.PromiseObservable.create},function(module,exports,__webpack_require__){"use strict";var IfObservable_1=__webpack_require__(880);exports._if=IfObservable_1.IfObservable.create},function(module,exports,__webpack_require__){"use strict";var IntervalObservable_1=__webpack_require__(881);exports.interval=IntervalObservable_1.IntervalObservable.create},function(module,exports,__webpack_require__){"use strict";var merge_1=__webpack_require__(245);exports.merge=merge_1.mergeStatic},function(module,exports,__webpack_require__){"use strict";var NeverObservable_1=__webpack_require__(883);exports.never=NeverObservable_1.NeverObservable.create},function(module,exports,__webpack_require__){"use strict";var ArrayObservable_1=__webpack_require__(28);exports.of=ArrayObservable_1.ArrayObservable.of},function(module,exports,__webpack_require__){"use strict";var PairsObservable_1=__webpack_require__(884);exports.pairs=PairsObservable_1.PairsObservable.create},function(module,exports,__webpack_require__){"use strict";var RangeObservable_1=__webpack_require__(885);exports.range=RangeObservable_1.RangeObservable.create},function(module,exports,__webpack_require__){"use strict";var ErrorObservable_1=__webpack_require__(875);exports._throw=ErrorObservable_1.ErrorObservable.create},function(module,exports,__webpack_require__){"use strict";var TimerObservable_1=__webpack_require__(887);exports.timer=TimerObservable_1.TimerObservable.create},function(module,exports,__webpack_require__){"use strict";var UsingObservable_1=__webpack_require__(888);exports.using=UsingObservable_1.UsingObservable.create},function(module,exports,__webpack_require__){"use strict";var zip_1=__webpack_require__(120);exports.zip=zip_1.zipStatic},function(module,exports,__webpack_require__){"use strict";function audit(durationSelector){return this.lift(new AuditOperator(durationSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},tryCatch_1=__webpack_require__(16),errorObject_1=__webpack_require__(14),OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.audit=audit;var AuditOperator=function(){function AuditOperator(durationSelector){this.durationSelector=durationSelector}return AuditOperator.prototype.call=function(subscriber,source){return source.subscribe(new AuditSubscriber(subscriber,this.durationSelector))},AuditOperator}(),AuditSubscriber=function(_super){function AuditSubscriber(destination,durationSelector){_super.call(this,destination),this.durationSelector=durationSelector,this.hasValue=!1}return __extends(AuditSubscriber,_super),AuditSubscriber.prototype._next=function(value){if(this.value=value,this.hasValue=!0,!this.throttled){var duration=tryCatch_1.tryCatch(this.durationSelector)(value);duration===errorObject_1.errorObject?this.destination.error(errorObject_1.errorObject.e):this.add(this.throttled=subscribeToResult_1.subscribeToResult(this,duration))}},AuditSubscriber.prototype.clearThrottle=function(){var _a=this,value=_a.value,hasValue=_a.hasValue,throttled=_a.throttled;throttled&&(this.remove(throttled),this.throttled=null,throttled.unsubscribe()),hasValue&&(this.value=null,this.hasValue=!1,this.destination.next(value))},AuditSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex){this.clearThrottle()},AuditSubscriber.prototype.notifyComplete=function(){this.clearThrottle()},AuditSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function auditTime(duration,scheduler){return void 0===scheduler&&(scheduler=async_1.async),this.lift(new AuditTimeOperator(duration,scheduler))}function dispatchNext(subscriber){subscriber.clearThrottle()}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},async_1=__webpack_require__(18),Subscriber_1=__webpack_require__(3);exports.auditTime=auditTime;var AuditTimeOperator=function(){function AuditTimeOperator(duration,scheduler){this.duration=duration,this.scheduler=scheduler}return AuditTimeOperator.prototype.call=function(subscriber,source){return source.subscribe(new AuditTimeSubscriber(subscriber,this.duration,this.scheduler))},AuditTimeOperator}(),AuditTimeSubscriber=function(_super){function AuditTimeSubscriber(destination,duration,scheduler){_super.call(this,destination),this.duration=duration,this.scheduler=scheduler,this.hasValue=!1}return __extends(AuditTimeSubscriber,_super),AuditTimeSubscriber.prototype._next=function(value){this.value=value,this.hasValue=!0,this.throttled||this.add(this.throttled=this.scheduler.schedule(dispatchNext,this.duration,this))},AuditTimeSubscriber.prototype.clearThrottle=function(){var _a=this,value=_a.value,hasValue=_a.hasValue,throttled=_a.throttled;throttled&&(this.remove(throttled),this.throttled=null,throttled.unsubscribe()),hasValue&&(this.value=null,this.hasValue=!1,this.destination.next(value))},AuditTimeSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function buffer(closingNotifier){return this.lift(new BufferOperator(closingNotifier))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.buffer=buffer;var BufferOperator=function(){function BufferOperator(closingNotifier){this.closingNotifier=closingNotifier}return BufferOperator.prototype.call=function(subscriber,source){return source.subscribe(new BufferSubscriber(subscriber,this.closingNotifier))},BufferOperator}(),BufferSubscriber=function(_super){function BufferSubscriber(destination,closingNotifier){_super.call(this,destination),this.buffer=[],this.add(subscribeToResult_1.subscribeToResult(this,closingNotifier))}return __extends(BufferSubscriber,_super),BufferSubscriber.prototype._next=function(value){this.buffer.push(value)},BufferSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var buffer=this.buffer;this.buffer=[],this.destination.next(buffer)},BufferSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function bufferCount(bufferSize,startBufferEvery){return void 0===startBufferEvery&&(startBufferEvery=null),this.lift(new BufferCountOperator(bufferSize,startBufferEvery))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3);exports.bufferCount=bufferCount;var BufferCountOperator=function(){function BufferCountOperator(bufferSize,startBufferEvery){this.bufferSize=bufferSize,this.startBufferEvery=startBufferEvery}return BufferCountOperator.prototype.call=function(subscriber,source){return source.subscribe(new BufferCountSubscriber(subscriber,this.bufferSize,this.startBufferEvery))},BufferCountOperator}(),BufferCountSubscriber=function(_super){function BufferCountSubscriber(destination,bufferSize,startBufferEvery){_super.call(this,destination),this.bufferSize=bufferSize,this.startBufferEvery=startBufferEvery,this.buffers=[],this.count=0}return __extends(BufferCountSubscriber,_super),BufferCountSubscriber.prototype._next=function(value){var count=this.count++,_a=this,destination=_a.destination,bufferSize=_a.bufferSize,startBufferEvery=_a.startBufferEvery,buffers=_a.buffers,startOn=null==startBufferEvery?bufferSize:startBufferEvery;count%startOn===0&&buffers.push([]);for(var i=buffers.length;i--;){var buffer=buffers[i];buffer.push(value),buffer.length===bufferSize&&(buffers.splice(i,1),destination.next(buffer))}},BufferCountSubscriber.prototype._complete=function(){for(var destination=this.destination,buffers=this.buffers;buffers.length>0;){var buffer=buffers.shift();buffer.length>0&&destination.next(buffer)}_super.prototype._complete.call(this)},BufferCountSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function bufferTime(bufferTimeSpan){var length=arguments.length,scheduler=async_1.async;isScheduler_1.isScheduler(arguments[arguments.length-1])&&(scheduler=arguments[arguments.length-1],length--);var bufferCreationInterval=null;length>=2&&(bufferCreationInterval=arguments[1]);var maxBufferSize=Number.POSITIVE_INFINITY;return length>=3&&(maxBufferSize=arguments[2]),this.lift(new BufferTimeOperator(bufferTimeSpan,bufferCreationInterval,maxBufferSize,scheduler))}function dispatchBufferTimeSpanOnly(state){var subscriber=state.subscriber,prevContext=state.context;prevContext&&subscriber.closeContext(prevContext),subscriber.closed||(state.context=subscriber.openContext(),state.context.closeAction=this.schedule(state,state.bufferTimeSpan))}function dispatchBufferCreation(state){var bufferCreationInterval=state.bufferCreationInterval,bufferTimeSpan=state.bufferTimeSpan,subscriber=state.subscriber,scheduler=state.scheduler,context=subscriber.openContext(),action=this;subscriber.closed||(subscriber.add(context.closeAction=scheduler.schedule(dispatchBufferClose,bufferTimeSpan,{subscriber:subscriber,context:context})),action.schedule(state,bufferCreationInterval))}function dispatchBufferClose(arg){var subscriber=arg.subscriber,context=arg.context;subscriber.closeContext(context)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},async_1=__webpack_require__(18),Subscriber_1=__webpack_require__(3),isScheduler_1=__webpack_require__(33);exports.bufferTime=bufferTime;var BufferTimeOperator=function(){function BufferTimeOperator(bufferTimeSpan,bufferCreationInterval,maxBufferSize,scheduler){this.bufferTimeSpan=bufferTimeSpan,this.bufferCreationInterval=bufferCreationInterval,this.maxBufferSize=maxBufferSize,this.scheduler=scheduler}return BufferTimeOperator.prototype.call=function(subscriber,source){return source.subscribe(new BufferTimeSubscriber(subscriber,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},BufferTimeOperator}(),Context=function(){function Context(){this.buffer=[]}return Context}(),BufferTimeSubscriber=function(_super){function BufferTimeSubscriber(destination,bufferTimeSpan,bufferCreationInterval,maxBufferSize,scheduler){_super.call(this,destination),this.bufferTimeSpan=bufferTimeSpan,this.bufferCreationInterval=bufferCreationInterval,this.maxBufferSize=maxBufferSize,this.scheduler=scheduler,this.contexts=[];var context=this.openContext();if(this.timespanOnly=null==bufferCreationInterval||bufferCreationInterval<0,this.timespanOnly){var timeSpanOnlyState={subscriber:this,context:context,bufferTimeSpan:bufferTimeSpan};this.add(context.closeAction=scheduler.schedule(dispatchBufferTimeSpanOnly,bufferTimeSpan,timeSpanOnlyState))}else{var closeState={subscriber:this,context:context},creationState={bufferTimeSpan:bufferTimeSpan,bufferCreationInterval:bufferCreationInterval,subscriber:this,scheduler:scheduler};this.add(context.closeAction=scheduler.schedule(dispatchBufferClose,bufferTimeSpan,closeState)),this.add(scheduler.schedule(dispatchBufferCreation,bufferCreationInterval,creationState));
}}return __extends(BufferTimeSubscriber,_super),BufferTimeSubscriber.prototype._next=function(value){for(var filledBufferContext,contexts=this.contexts,len=contexts.length,i=0;i<len;i++){var context=contexts[i],buffer=context.buffer;buffer.push(value),buffer.length==this.maxBufferSize&&(filledBufferContext=context)}filledBufferContext&&this.onBufferFull(filledBufferContext)},BufferTimeSubscriber.prototype._error=function(err){this.contexts.length=0,_super.prototype._error.call(this,err)},BufferTimeSubscriber.prototype._complete=function(){for(var _a=this,contexts=_a.contexts,destination=_a.destination;contexts.length>0;){var context=contexts.shift();destination.next(context.buffer)}_super.prototype._complete.call(this)},BufferTimeSubscriber.prototype._unsubscribe=function(){this.contexts=null},BufferTimeSubscriber.prototype.onBufferFull=function(context){this.closeContext(context);var closeAction=context.closeAction;if(closeAction.unsubscribe(),this.remove(closeAction),!this.closed&&this.timespanOnly){context=this.openContext();var bufferTimeSpan=this.bufferTimeSpan,timeSpanOnlyState={subscriber:this,context:context,bufferTimeSpan:bufferTimeSpan};this.add(context.closeAction=this.scheduler.schedule(dispatchBufferTimeSpanOnly,bufferTimeSpan,timeSpanOnlyState))}},BufferTimeSubscriber.prototype.openContext=function(){var context=new Context;return this.contexts.push(context),context},BufferTimeSubscriber.prototype.closeContext=function(context){this.destination.next(context.buffer);var contexts=this.contexts,spliceIndex=contexts?contexts.indexOf(context):-1;spliceIndex>=0&&contexts.splice(contexts.indexOf(context),1)},BufferTimeSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function bufferToggle(openings,closingSelector){return this.lift(new BufferToggleOperator(openings,closingSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscription_1=__webpack_require__(12),subscribeToResult_1=__webpack_require__(6),OuterSubscriber_1=__webpack_require__(5);exports.bufferToggle=bufferToggle;var BufferToggleOperator=function(){function BufferToggleOperator(openings,closingSelector){this.openings=openings,this.closingSelector=closingSelector}return BufferToggleOperator.prototype.call=function(subscriber,source){return source.subscribe(new BufferToggleSubscriber(subscriber,this.openings,this.closingSelector))},BufferToggleOperator}(),BufferToggleSubscriber=function(_super){function BufferToggleSubscriber(destination,openings,closingSelector){_super.call(this,destination),this.openings=openings,this.closingSelector=closingSelector,this.contexts=[],this.add(subscribeToResult_1.subscribeToResult(this,openings))}return __extends(BufferToggleSubscriber,_super),BufferToggleSubscriber.prototype._next=function(value){for(var contexts=this.contexts,len=contexts.length,i=0;i<len;i++)contexts[i].buffer.push(value)},BufferToggleSubscriber.prototype._error=function(err){for(var contexts=this.contexts;contexts.length>0;){var context=contexts.shift();context.subscription.unsubscribe(),context.buffer=null,context.subscription=null}this.contexts=null,_super.prototype._error.call(this,err)},BufferToggleSubscriber.prototype._complete=function(){for(var contexts=this.contexts;contexts.length>0;){var context=contexts.shift();this.destination.next(context.buffer),context.subscription.unsubscribe(),context.buffer=null,context.subscription=null}this.contexts=null,_super.prototype._complete.call(this)},BufferToggleSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){outerValue?this.closeBuffer(outerValue):this.openBuffer(innerValue)},BufferToggleSubscriber.prototype.notifyComplete=function(innerSub){this.closeBuffer(innerSub.context)},BufferToggleSubscriber.prototype.openBuffer=function(value){try{var closingSelector=this.closingSelector,closingNotifier=closingSelector.call(this,value);closingNotifier&&this.trySubscribe(closingNotifier)}catch(err){this._error(err)}},BufferToggleSubscriber.prototype.closeBuffer=function(context){var contexts=this.contexts;if(contexts&&context){var buffer=context.buffer,subscription=context.subscription;this.destination.next(buffer),contexts.splice(contexts.indexOf(context),1),this.remove(subscription),subscription.unsubscribe()}},BufferToggleSubscriber.prototype.trySubscribe=function(closingNotifier){var contexts=this.contexts,buffer=[],subscription=new Subscription_1.Subscription,context={buffer:buffer,subscription:subscription};contexts.push(context);var innerSubscription=subscribeToResult_1.subscribeToResult(this,closingNotifier,context);!innerSubscription||innerSubscription.closed?this.closeBuffer(context):(innerSubscription.context=context,this.add(innerSubscription),subscription.add(innerSubscription))},BufferToggleSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function bufferWhen(closingSelector){return this.lift(new BufferWhenOperator(closingSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscription_1=__webpack_require__(12),tryCatch_1=__webpack_require__(16),errorObject_1=__webpack_require__(14),OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.bufferWhen=bufferWhen;var BufferWhenOperator=function(){function BufferWhenOperator(closingSelector){this.closingSelector=closingSelector}return BufferWhenOperator.prototype.call=function(subscriber,source){return source.subscribe(new BufferWhenSubscriber(subscriber,this.closingSelector))},BufferWhenOperator}(),BufferWhenSubscriber=function(_super){function BufferWhenSubscriber(destination,closingSelector){_super.call(this,destination),this.closingSelector=closingSelector,this.subscribing=!1,this.openBuffer()}return __extends(BufferWhenSubscriber,_super),BufferWhenSubscriber.prototype._next=function(value){this.buffer.push(value)},BufferWhenSubscriber.prototype._complete=function(){var buffer=this.buffer;buffer&&this.destination.next(buffer),_super.prototype._complete.call(this)},BufferWhenSubscriber.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},BufferWhenSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.openBuffer()},BufferWhenSubscriber.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},BufferWhenSubscriber.prototype.openBuffer=function(){var closingSubscription=this.closingSubscription;closingSubscription&&(this.remove(closingSubscription),closingSubscription.unsubscribe());var buffer=this.buffer;this.buffer&&this.destination.next(buffer),this.buffer=[];var closingNotifier=tryCatch_1.tryCatch(this.closingSelector)();closingNotifier===errorObject_1.errorObject?this.error(errorObject_1.errorObject.e):(closingSubscription=new Subscription_1.Subscription,this.closingSubscription=closingSubscription,this.add(closingSubscription),this.subscribing=!0,closingSubscription.add(subscribeToResult_1.subscribeToResult(this,closingNotifier)),this.subscribing=!1)},BufferWhenSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function _catch(selector){var operator=new CatchOperator(selector),caught=this.lift(operator);return operator.caught=caught}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports._catch=_catch;var CatchOperator=function(){function CatchOperator(selector){this.selector=selector}return CatchOperator.prototype.call=function(subscriber,source){return source.subscribe(new CatchSubscriber(subscriber,this.selector,this.caught))},CatchOperator}(),CatchSubscriber=function(_super){function CatchSubscriber(destination,selector,caught){_super.call(this,destination),this.selector=selector,this.caught=caught}return __extends(CatchSubscriber,_super),CatchSubscriber.prototype.error=function(err){if(!this.isStopped){var result=void 0;try{result=this.selector(err,this.caught)}catch(err){return void this.destination.error(err)}this.unsubscribe(),this.destination.remove(this),subscribeToResult_1.subscribeToResult(this,result)}},CatchSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function combineAll(project){return this.lift(new combineLatest_1.CombineLatestOperator(project))}var combineLatest_1=__webpack_require__(115);exports.combineAll=combineAll},function(module,exports,__webpack_require__){"use strict";function concatAll(){return this.lift(new mergeAll_1.MergeAllOperator(1))}var mergeAll_1=__webpack_require__(80);exports.concatAll=concatAll},function(module,exports,__webpack_require__){"use strict";function concatMap(project,resultSelector){return this.lift(new mergeMap_1.MergeMapOperator(project,resultSelector,1))}var mergeMap_1=__webpack_require__(246);exports.concatMap=concatMap},function(module,exports,__webpack_require__){"use strict";function concatMapTo(innerObservable,resultSelector){return this.lift(new mergeMapTo_1.MergeMapToOperator(innerObservable,resultSelector,1))}var mergeMapTo_1=__webpack_require__(247);exports.concatMapTo=concatMapTo},function(module,exports,__webpack_require__){"use strict";function count(predicate){return this.lift(new CountOperator(predicate,this))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3);exports.count=count;var CountOperator=function(){function CountOperator(predicate,source){this.predicate=predicate,this.source=source}return CountOperator.prototype.call=function(subscriber,source){return source.subscribe(new CountSubscriber(subscriber,this.predicate,this.source))},CountOperator}(),CountSubscriber=function(_super){function CountSubscriber(destination,predicate,source){_super.call(this,destination),this.predicate=predicate,this.source=source,this.count=0,this.index=0}return __extends(CountSubscriber,_super),CountSubscriber.prototype._next=function(value){this.predicate?this._tryPredicate(value):this.count++},CountSubscriber.prototype._tryPredicate=function(value){var result;try{result=this.predicate(value,this.index++,this.source)}catch(err){return void this.destination.error(err)}result&&this.count++},CountSubscriber.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},CountSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function debounce(durationSelector){return this.lift(new DebounceOperator(durationSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.debounce=debounce;var DebounceOperator=function(){function DebounceOperator(durationSelector){this.durationSelector=durationSelector}return DebounceOperator.prototype.call=function(subscriber,source){return source.subscribe(new DebounceSubscriber(subscriber,this.durationSelector))},DebounceOperator}(),DebounceSubscriber=function(_super){function DebounceSubscriber(destination,durationSelector){_super.call(this,destination),this.durationSelector=durationSelector,this.hasValue=!1,this.durationSubscription=null}return __extends(DebounceSubscriber,_super),DebounceSubscriber.prototype._next=function(value){try{var result=this.durationSelector.call(this,value);result&&this._tryNext(value,result)}catch(err){this.destination.error(err)}},DebounceSubscriber.prototype._complete=function(){this.emitValue(),this.destination.complete()},DebounceSubscriber.prototype._tryNext=function(value,duration){var subscription=this.durationSubscription;this.value=value,this.hasValue=!0,subscription&&(subscription.unsubscribe(),this.remove(subscription)),subscription=subscribeToResult_1.subscribeToResult(this,duration),subscription.closed||this.add(this.durationSubscription=subscription)},DebounceSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.emitValue()},DebounceSubscriber.prototype.notifyComplete=function(){this.emitValue()},DebounceSubscriber.prototype.emitValue=function(){if(this.hasValue){var value=this.value,subscription=this.durationSubscription;subscription&&(this.durationSubscription=null,subscription.unsubscribe(),this.remove(subscription)),this.value=null,this.hasValue=!1,_super.prototype._next.call(this,value)}},DebounceSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function debounceTime(dueTime,scheduler){return void 0===scheduler&&(scheduler=async_1.async),this.lift(new DebounceTimeOperator(dueTime,scheduler))}function dispatchNext(subscriber){subscriber.debouncedNext()}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),async_1=__webpack_require__(18);exports.debounceTime=debounceTime;var DebounceTimeOperator=function(){function DebounceTimeOperator(dueTime,scheduler){this.dueTime=dueTime,this.scheduler=scheduler}return DebounceTimeOperator.prototype.call=function(subscriber,source){return source.subscribe(new DebounceTimeSubscriber(subscriber,this.dueTime,this.scheduler))},DebounceTimeOperator}(),DebounceTimeSubscriber=function(_super){function DebounceTimeSubscriber(destination,dueTime,scheduler){_super.call(this,destination),this.dueTime=dueTime,this.scheduler=scheduler,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return __extends(DebounceTimeSubscriber,_super),DebounceTimeSubscriber.prototype._next=function(value){this.clearDebounce(),this.lastValue=value,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext,this.dueTime,this))},DebounceTimeSubscriber.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},DebounceTimeSubscriber.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},DebounceTimeSubscriber.prototype.clearDebounce=function(){var debouncedSubscription=this.debouncedSubscription;null!==debouncedSubscription&&(this.remove(debouncedSubscription),debouncedSubscription.unsubscribe(),this.debouncedSubscription=null)},DebounceTimeSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function defaultIfEmpty(defaultValue){return void 0===defaultValue&&(defaultValue=null),this.lift(new DefaultIfEmptyOperator(defaultValue))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3);exports.defaultIfEmpty=defaultIfEmpty;var DefaultIfEmptyOperator=function(){function DefaultIfEmptyOperator(defaultValue){this.defaultValue=defaultValue}return DefaultIfEmptyOperator.prototype.call=function(subscriber,source){return source.subscribe(new DefaultIfEmptySubscriber(subscriber,this.defaultValue))},DefaultIfEmptyOperator}(),DefaultIfEmptySubscriber=function(_super){function DefaultIfEmptySubscriber(destination,defaultValue){_super.call(this,destination),this.defaultValue=defaultValue,this.isEmpty=!0}return __extends(DefaultIfEmptySubscriber,_super),DefaultIfEmptySubscriber.prototype._next=function(value){this.isEmpty=!1,this.destination.next(value)},DefaultIfEmptySubscriber.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},DefaultIfEmptySubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function delay(delay,scheduler){void 0===scheduler&&(scheduler=async_1.async);var absoluteDelay=isDate_1.isDate(delay),delayFor=absoluteDelay?+delay-scheduler.now():Math.abs(delay);return this.lift(new DelayOperator(delayFor,scheduler))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},async_1=__webpack_require__(18),isDate_1=__webpack_require__(86),Subscriber_1=__webpack_require__(3),Notification_1=__webpack_require__(53);exports.delay=delay;var DelayOperator=function(){function DelayOperator(delay,scheduler){this.delay=delay,this.scheduler=scheduler}return DelayOperator.prototype.call=function(subscriber,source){return source.subscribe(new DelaySubscriber(subscriber,this.delay,this.scheduler))},DelayOperator}(),DelaySubscriber=function(_super){function DelaySubscriber(destination,delay,scheduler){_super.call(this,destination),this.delay=delay,this.scheduler=scheduler,this.queue=[],this.active=!1,this.errored=!1}return __extends(DelaySubscriber,_super),DelaySubscriber.dispatch=function(state){for(var source=state.source,queue=source.queue,scheduler=state.scheduler,destination=state.destination;queue.length>0&&queue[0].time-scheduler.now()<=0;)queue.shift().notification.observe(destination);if(queue.length>0){var delay_1=Math.max(0,queue[0].time-scheduler.now());this.schedule(state,delay_1)}else source.active=!1},DelaySubscriber.prototype._schedule=function(scheduler){this.active=!0,this.add(scheduler.schedule(DelaySubscriber.dispatch,this.delay,{source:this,destination:this.destination,scheduler:scheduler}))},DelaySubscriber.prototype.scheduleNotification=function(notification){if(this.errored!==!0){var scheduler=this.scheduler,message=new DelayMessage(scheduler.now()+this.delay,notification);this.queue.push(message),this.active===!1&&this._schedule(scheduler)}},DelaySubscriber.prototype._next=function(value){this.scheduleNotification(Notification_1.Notification.createNext(value))},DelaySubscriber.prototype._error=function(err){this.errored=!0,this.queue=[],this.destination.error(err)},DelaySubscriber.prototype._complete=function(){this.scheduleNotification(Notification_1.Notification.createComplete())},DelaySubscriber}(Subscriber_1.Subscriber),DelayMessage=function(){function DelayMessage(time,notification){this.time=time,this.notification=notification}return DelayMessage}()},function(module,exports,__webpack_require__){"use strict";function delayWhen(delayDurationSelector,subscriptionDelay){return subscriptionDelay?new SubscriptionDelayObservable(this,subscriptionDelay).lift(new DelayWhenOperator(delayDurationSelector)):this.lift(new DelayWhenOperator(delayDurationSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),Observable_1=__webpack_require__(1),OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.delayWhen=delayWhen;var DelayWhenOperator=function(){function DelayWhenOperator(delayDurationSelector){this.delayDurationSelector=delayDurationSelector}return DelayWhenOperator.prototype.call=function(subscriber,source){return source.subscribe(new DelayWhenSubscriber(subscriber,this.delayDurationSelector))},DelayWhenOperator}(),DelayWhenSubscriber=function(_super){function DelayWhenSubscriber(destination,delayDurationSelector){_super.call(this,destination),this.delayDurationSelector=delayDurationSelector,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return __extends(DelayWhenSubscriber,_super),DelayWhenSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(outerValue),this.removeSubscription(innerSub),this.tryComplete()},DelayWhenSubscriber.prototype.notifyError=function(error,innerSub){this._error(error)},DelayWhenSubscriber.prototype.notifyComplete=function(innerSub){var value=this.removeSubscription(innerSub);value&&this.destination.next(value),this.tryComplete()},DelayWhenSubscriber.prototype._next=function(value){try{var delayNotifier=this.delayDurationSelector(value);delayNotifier&&this.tryDelay(delayNotifier,value)}catch(err){this.destination.error(err)}},DelayWhenSubscriber.prototype._complete=function(){this.completed=!0,this.tryComplete()},DelayWhenSubscriber.prototype.removeSubscription=function(subscription){subscription.unsubscribe();var subscriptionIdx=this.delayNotifierSubscriptions.indexOf(subscription),value=null;return subscriptionIdx!==-1&&(value=this.values[subscriptionIdx],this.delayNotifierSubscriptions.splice(subscriptionIdx,1),this.values.splice(subscriptionIdx,1)),value},DelayWhenSubscriber.prototype.tryDelay=function(delayNotifier,value){var notifierSubscription=subscribeToResult_1.subscribeToResult(this,delayNotifier,value);this.add(notifierSubscription),this.delayNotifierSubscriptions.push(notifierSubscription),this.values.push(value)},DelayWhenSubscriber.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},DelayWhenSubscriber}(OuterSubscriber_1.OuterSubscriber),SubscriptionDelayObservable=function(_super){function SubscriptionDelayObservable(source,subscriptionDelay){_super.call(this),this.source=source,this.subscriptionDelay=subscriptionDelay}return __extends(SubscriptionDelayObservable,_super),SubscriptionDelayObservable.prototype._subscribe=function(subscriber){this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(subscriber,this.source))},SubscriptionDelayObservable}(Observable_1.Observable),SubscriptionDelaySubscriber=function(_super){function SubscriptionDelaySubscriber(parent,source){_super.call(this),this.parent=parent,this.source=source,this.sourceSubscribed=!1}return __extends(SubscriptionDelaySubscriber,_super),SubscriptionDelaySubscriber.prototype._next=function(unused){this.subscribeToSource()},SubscriptionDelaySubscriber.prototype._error=function(err){this.unsubscribe(),this.parent.error(err)},SubscriptionDelaySubscriber.prototype._complete=function(){this.subscribeToSource()},SubscriptionDelaySubscriber.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},SubscriptionDelaySubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function dematerialize(){return this.lift(new DeMaterializeOperator)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3);exports.dematerialize=dematerialize;var DeMaterializeOperator=function(){function DeMaterializeOperator(){}return DeMaterializeOperator.prototype.call=function(subscriber,source){return source.subscribe(new DeMaterializeSubscriber(subscriber))},DeMaterializeOperator}(),DeMaterializeSubscriber=function(_super){function DeMaterializeSubscriber(destination){_super.call(this,destination)}return __extends(DeMaterializeSubscriber,_super),DeMaterializeSubscriber.prototype._next=function(value){value.observe(this.destination)},DeMaterializeSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function distinct(keySelector,flushes){return this.lift(new DistinctOperator(keySelector,flushes))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6),Set_1=__webpack_require__(1012);exports.distinct=distinct;var DistinctOperator=function(){function DistinctOperator(keySelector,flushes){this.keySelector=keySelector,this.flushes=flushes}return DistinctOperator.prototype.call=function(subscriber,source){return source.subscribe(new DistinctSubscriber(subscriber,this.keySelector,this.flushes))},DistinctOperator}(),DistinctSubscriber=function(_super){function DistinctSubscriber(destination,keySelector,flushes){_super.call(this,destination),this.keySelector=keySelector,this.values=new Set_1.Set,flushes&&this.add(subscribeToResult_1.subscribeToResult(this,flushes))}return __extends(DistinctSubscriber,_super),DistinctSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.values.clear()},DistinctSubscriber.prototype.notifyError=function(error,innerSub){this._error(error)},DistinctSubscriber.prototype._next=function(value){this.keySelector?this._useKeySelector(value):this._finalizeNext(value,value)},DistinctSubscriber.prototype._useKeySelector=function(value){var key,destination=this.destination;try{key=this.keySelector(value)}catch(err){return void destination.error(err)}this._finalizeNext(key,value)},DistinctSubscriber.prototype._finalizeNext=function(key,value){var values=this.values;values.has(key)||(values.add(key),this.destination.next(value))},DistinctSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.DistinctSubscriber=DistinctSubscriber},function(module,exports,__webpack_require__){"use strict";function distinctUntilKeyChanged(key,compare){return distinctUntilChanged_1.distinctUntilChanged.call(this,function(x,y){return compare?compare(x[key],y[key]):x[key]===y[key]})}var distinctUntilChanged_1=__webpack_require__(242);exports.distinctUntilKeyChanged=distinctUntilKeyChanged},function(module,exports,__webpack_require__){"use strict";function _do(nextOrObserver,error,complete){return this.lift(new DoOperator(nextOrObserver,error,complete))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3);exports._do=_do;var DoOperator=function(){function DoOperator(nextOrObserver,error,complete){this.nextOrObserver=nextOrObserver,this.error=error,this.complete=complete}return DoOperator.prototype.call=function(subscriber,source){return source.subscribe(new DoSubscriber(subscriber,this.nextOrObserver,this.error,this.complete))},DoOperator}(),DoSubscriber=function(_super){function DoSubscriber(destination,nextOrObserver,error,complete){_super.call(this,destination);var safeSubscriber=new Subscriber_1.Subscriber(nextOrObserver,error,complete);safeSubscriber.syncErrorThrowable=!0,this.add(safeSubscriber),this.safeSubscriber=safeSubscriber}return __extends(DoSubscriber,_super),DoSubscriber.prototype._next=function(value){var safeSubscriber=this.safeSubscriber;safeSubscriber.next(value),safeSubscriber.syncErrorThrown?this.destination.error(safeSubscriber.syncErrorValue):this.destination.next(value)},DoSubscriber.prototype._error=function(err){var safeSubscriber=this.safeSubscriber;safeSubscriber.error(err),safeSubscriber.syncErrorThrown?this.destination.error(safeSubscriber.syncErrorValue):this.destination.error(err)},DoSubscriber.prototype._complete=function(){var safeSubscriber=this.safeSubscriber;safeSubscriber.complete(),safeSubscriber.syncErrorThrown?this.destination.error(safeSubscriber.syncErrorValue):this.destination.complete()},DoSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function elementAt(index,defaultValue){return this.lift(new ElementAtOperator(index,defaultValue))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),ArgumentOutOfRangeError_1=__webpack_require__(83);exports.elementAt=elementAt;var ElementAtOperator=function(){function ElementAtOperator(index,defaultValue){if(this.index=index,this.defaultValue=defaultValue,index<0)throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError}return ElementAtOperator.prototype.call=function(subscriber,source){return source.subscribe(new ElementAtSubscriber(subscriber,this.index,this.defaultValue))},ElementAtOperator}(),ElementAtSubscriber=function(_super){function ElementAtSubscriber(destination,index,defaultValue){_super.call(this,destination),this.index=index,this.defaultValue=defaultValue}return __extends(ElementAtSubscriber,_super),ElementAtSubscriber.prototype._next=function(x){0===this.index--&&(this.destination.next(x),this.destination.complete())},ElementAtSubscriber.prototype._complete=function(){var destination=this.destination;this.index>=0&&("undefined"!=typeof this.defaultValue?destination.next(this.defaultValue):destination.error(new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError)),destination.complete()},ElementAtSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function every(predicate,thisArg){return this.lift(new EveryOperator(predicate,thisArg,this))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3);exports.every=every;var EveryOperator=function(){function EveryOperator(predicate,thisArg,source){this.predicate=predicate,this.thisArg=thisArg,this.source=source}return EveryOperator.prototype.call=function(observer,source){return source.subscribe(new EverySubscriber(observer,this.predicate,this.thisArg,this.source))},EveryOperator}(),EverySubscriber=function(_super){function EverySubscriber(destination,predicate,thisArg,source){_super.call(this,destination),this.predicate=predicate,this.thisArg=thisArg,this.source=source,this.index=0,this.thisArg=thisArg||this}return __extends(EverySubscriber,_super),EverySubscriber.prototype.notifyComplete=function(everyValueMatch){this.destination.next(everyValueMatch),this.destination.complete()},EverySubscriber.prototype._next=function(value){var result=!1;try{result=this.predicate.call(this.thisArg,value,this.index++,this.source)}catch(err){return void this.destination.error(err)}result||this.notifyComplete(!1)},EverySubscriber.prototype._complete=function(){this.notifyComplete(!0)},EverySubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function exhaust(){return this.lift(new SwitchFirstOperator)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.exhaust=exhaust;var SwitchFirstOperator=function(){function SwitchFirstOperator(){}return SwitchFirstOperator.prototype.call=function(subscriber,source){return source.subscribe(new SwitchFirstSubscriber(subscriber))},SwitchFirstOperator}(),SwitchFirstSubscriber=function(_super){function SwitchFirstSubscriber(destination){_super.call(this,destination),this.hasCompleted=!1,this.hasSubscription=!1}return __extends(SwitchFirstSubscriber,_super),SwitchFirstSubscriber.prototype._next=function(value){this.hasSubscription||(this.hasSubscription=!0,this.add(subscribeToResult_1.subscribeToResult(this,value)));
},SwitchFirstSubscriber.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},SwitchFirstSubscriber.prototype.notifyComplete=function(innerSub){this.remove(innerSub),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},SwitchFirstSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function exhaustMap(project,resultSelector){return this.lift(new SwitchFirstMapOperator(project,resultSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.exhaustMap=exhaustMap;var SwitchFirstMapOperator=function(){function SwitchFirstMapOperator(project,resultSelector){this.project=project,this.resultSelector=resultSelector}return SwitchFirstMapOperator.prototype.call=function(subscriber,source){return source.subscribe(new SwitchFirstMapSubscriber(subscriber,this.project,this.resultSelector))},SwitchFirstMapOperator}(),SwitchFirstMapSubscriber=function(_super){function SwitchFirstMapSubscriber(destination,project,resultSelector){_super.call(this,destination),this.project=project,this.resultSelector=resultSelector,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return __extends(SwitchFirstMapSubscriber,_super),SwitchFirstMapSubscriber.prototype._next=function(value){this.hasSubscription||this.tryNext(value)},SwitchFirstMapSubscriber.prototype.tryNext=function(value){var index=this.index++,destination=this.destination;try{var result=this.project(value,index);this.hasSubscription=!0,this.add(subscribeToResult_1.subscribeToResult(this,result,value,index))}catch(err){destination.error(err)}},SwitchFirstMapSubscriber.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},SwitchFirstMapSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var _a=this,resultSelector=_a.resultSelector,destination=_a.destination;resultSelector?this.trySelectResult(outerValue,innerValue,outerIndex,innerIndex):destination.next(innerValue)},SwitchFirstMapSubscriber.prototype.trySelectResult=function(outerValue,innerValue,outerIndex,innerIndex){var _a=this,resultSelector=_a.resultSelector,destination=_a.destination;try{var result=resultSelector(outerValue,innerValue,outerIndex,innerIndex);destination.next(result)}catch(err){destination.error(err)}},SwitchFirstMapSubscriber.prototype.notifyError=function(err){this.destination.error(err)},SwitchFirstMapSubscriber.prototype.notifyComplete=function(innerSub){this.remove(innerSub),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},SwitchFirstMapSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function expand(project,concurrent,scheduler){return void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),void 0===scheduler&&(scheduler=void 0),concurrent=(concurrent||0)<1?Number.POSITIVE_INFINITY:concurrent,this.lift(new ExpandOperator(project,concurrent,scheduler))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},tryCatch_1=__webpack_require__(16),errorObject_1=__webpack_require__(14),OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.expand=expand;var ExpandOperator=function(){function ExpandOperator(project,concurrent,scheduler){this.project=project,this.concurrent=concurrent,this.scheduler=scheduler}return ExpandOperator.prototype.call=function(subscriber,source){return source.subscribe(new ExpandSubscriber(subscriber,this.project,this.concurrent,this.scheduler))},ExpandOperator}();exports.ExpandOperator=ExpandOperator;var ExpandSubscriber=function(_super){function ExpandSubscriber(destination,project,concurrent,scheduler){_super.call(this,destination),this.project=project,this.concurrent=concurrent,this.scheduler=scheduler,this.index=0,this.active=0,this.hasCompleted=!1,concurrent<Number.POSITIVE_INFINITY&&(this.buffer=[])}return __extends(ExpandSubscriber,_super),ExpandSubscriber.dispatch=function(arg){var subscriber=arg.subscriber,result=arg.result,value=arg.value,index=arg.index;subscriber.subscribeToProjection(result,value,index)},ExpandSubscriber.prototype._next=function(value){var destination=this.destination;if(destination.closed)return void this._complete();var index=this.index++;if(this.active<this.concurrent){destination.next(value);var result=tryCatch_1.tryCatch(this.project)(value,index);if(result===errorObject_1.errorObject)destination.error(errorObject_1.errorObject.e);else if(this.scheduler){var state={subscriber:this,result:result,value:value,index:index};this.add(this.scheduler.schedule(ExpandSubscriber.dispatch,0,state))}else this.subscribeToProjection(result,value,index)}else this.buffer.push(value)},ExpandSubscriber.prototype.subscribeToProjection=function(result,value,index){this.active++,this.add(subscribeToResult_1.subscribeToResult(this,result,value,index))},ExpandSubscriber.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},ExpandSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this._next(innerValue)},ExpandSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub),this.active--,buffer&&buffer.length>0&&this._next(buffer.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},ExpandSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.ExpandSubscriber=ExpandSubscriber},function(module,exports,__webpack_require__){"use strict";function _finally(callback){return this.lift(new FinallyOperator(callback))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),Subscription_1=__webpack_require__(12);exports._finally=_finally;var FinallyOperator=function(){function FinallyOperator(callback){this.callback=callback}return FinallyOperator.prototype.call=function(subscriber,source){return source.subscribe(new FinallySubscriber(subscriber,this.callback))},FinallyOperator}(),FinallySubscriber=function(_super){function FinallySubscriber(destination,callback){_super.call(this,destination),this.add(new Subscription_1.Subscription(callback))}return __extends(FinallySubscriber,_super),FinallySubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function findIndex(predicate,thisArg){return this.lift(new find_1.FindValueOperator(predicate,this,!0,thisArg))}var find_1=__webpack_require__(244);exports.findIndex=findIndex},function(module,exports,__webpack_require__){"use strict";function first(predicate,resultSelector,defaultValue){return this.lift(new FirstOperator(predicate,resultSelector,defaultValue,this))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),EmptyError_1=__webpack_require__(84);exports.first=first;var FirstOperator=function(){function FirstOperator(predicate,resultSelector,defaultValue,source){this.predicate=predicate,this.resultSelector=resultSelector,this.defaultValue=defaultValue,this.source=source}return FirstOperator.prototype.call=function(observer,source){return source.subscribe(new FirstSubscriber(observer,this.predicate,this.resultSelector,this.defaultValue,this.source))},FirstOperator}(),FirstSubscriber=function(_super){function FirstSubscriber(destination,predicate,resultSelector,defaultValue,source){_super.call(this,destination),this.predicate=predicate,this.resultSelector=resultSelector,this.defaultValue=defaultValue,this.source=source,this.index=0,this.hasCompleted=!1,this._emitted=!1}return __extends(FirstSubscriber,_super),FirstSubscriber.prototype._next=function(value){var index=this.index++;this.predicate?this._tryPredicate(value,index):this._emit(value,index)},FirstSubscriber.prototype._tryPredicate=function(value,index){var result;try{result=this.predicate(value,index,this.source)}catch(err){return void this.destination.error(err)}result&&this._emit(value,index)},FirstSubscriber.prototype._emit=function(value,index){return this.resultSelector?void this._tryResultSelector(value,index):void this._emitFinal(value)},FirstSubscriber.prototype._tryResultSelector=function(value,index){var result;try{result=this.resultSelector(value,index)}catch(err){return void this.destination.error(err)}this._emitFinal(result)},FirstSubscriber.prototype._emitFinal=function(value){var destination=this.destination;this._emitted||(this._emitted=!0,destination.next(value),destination.complete(),this.hasCompleted=!0)},FirstSubscriber.prototype._complete=function(){var destination=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||destination.error(new EmptyError_1.EmptyError):(destination.next(this.defaultValue),destination.complete())},FirstSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function groupBy(keySelector,elementSelector,durationSelector,subjectSelector){return this.lift(new GroupByOperator(keySelector,elementSelector,durationSelector,subjectSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),Subscription_1=__webpack_require__(12),Observable_1=__webpack_require__(1),Subject_1=__webpack_require__(13),Map_1=__webpack_require__(1010),FastMap_1=__webpack_require__(1008);exports.groupBy=groupBy;var GroupByOperator=function(){function GroupByOperator(keySelector,elementSelector,durationSelector,subjectSelector){this.keySelector=keySelector,this.elementSelector=elementSelector,this.durationSelector=durationSelector,this.subjectSelector=subjectSelector}return GroupByOperator.prototype.call=function(subscriber,source){return source.subscribe(new GroupBySubscriber(subscriber,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},GroupByOperator}(),GroupBySubscriber=function(_super){function GroupBySubscriber(destination,keySelector,elementSelector,durationSelector,subjectSelector){_super.call(this,destination),this.keySelector=keySelector,this.elementSelector=elementSelector,this.durationSelector=durationSelector,this.subjectSelector=subjectSelector,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return __extends(GroupBySubscriber,_super),GroupBySubscriber.prototype._next=function(value){var key;try{key=this.keySelector(value)}catch(err){return void this.error(err)}this._group(value,key)},GroupBySubscriber.prototype._group=function(value,key){var groups=this.groups;groups||(groups=this.groups="string"==typeof key?new FastMap_1.FastMap:new Map_1.Map);var element,group=groups.get(key);if(this.elementSelector)try{element=this.elementSelector(value)}catch(err){this.error(err)}else element=value;if(!group){group=this.subjectSelector?this.subjectSelector():new Subject_1.Subject,groups.set(key,group);var groupedObservable=new GroupedObservable(key,group,this);if(this.destination.next(groupedObservable),this.durationSelector){var duration=void 0;try{duration=this.durationSelector(new GroupedObservable(key,group))}catch(err){return void this.error(err)}this.add(duration.subscribe(new GroupDurationSubscriber(key,group,this)))}}group.closed||group.next(element)},GroupBySubscriber.prototype._error=function(err){var groups=this.groups;groups&&(groups.forEach(function(group,key){group.error(err)}),groups.clear()),this.destination.error(err)},GroupBySubscriber.prototype._complete=function(){var groups=this.groups;groups&&(groups.forEach(function(group,key){group.complete()}),groups.clear()),this.destination.complete()},GroupBySubscriber.prototype.removeGroup=function(key){this.groups.delete(key)},GroupBySubscriber.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&_super.prototype.unsubscribe.call(this))},GroupBySubscriber}(Subscriber_1.Subscriber),GroupDurationSubscriber=function(_super){function GroupDurationSubscriber(key,group,parent){_super.call(this),this.key=key,this.group=group,this.parent=parent}return __extends(GroupDurationSubscriber,_super),GroupDurationSubscriber.prototype._next=function(value){this._complete()},GroupDurationSubscriber.prototype._error=function(err){var group=this.group;group.closed||group.error(err),this.parent.removeGroup(this.key)},GroupDurationSubscriber.prototype._complete=function(){var group=this.group;group.closed||group.complete(),this.parent.removeGroup(this.key)},GroupDurationSubscriber}(Subscriber_1.Subscriber),GroupedObservable=function(_super){function GroupedObservable(key,groupSubject,refCountSubscription){_super.call(this),this.key=key,this.groupSubject=groupSubject,this.refCountSubscription=refCountSubscription}return __extends(GroupedObservable,_super),GroupedObservable.prototype._subscribe=function(subscriber){var subscription=new Subscription_1.Subscription,_a=this,refCountSubscription=_a.refCountSubscription,groupSubject=_a.groupSubject;return refCountSubscription&&!refCountSubscription.closed&&subscription.add(new InnerRefCountSubscription(refCountSubscription)),subscription.add(groupSubject.subscribe(subscriber)),subscription},GroupedObservable}(Observable_1.Observable);exports.GroupedObservable=GroupedObservable;var InnerRefCountSubscription=function(_super){function InnerRefCountSubscription(parent){_super.call(this),this.parent=parent,parent.count++}return __extends(InnerRefCountSubscription,_super),InnerRefCountSubscription.prototype.unsubscribe=function(){var parent=this.parent;parent.closed||this.closed||(_super.prototype.unsubscribe.call(this),parent.count-=1,0===parent.count&&parent.attemptedToUnsubscribe&&parent.unsubscribe())},InnerRefCountSubscription}(Subscription_1.Subscription)},function(module,exports,__webpack_require__){"use strict";function ignoreElements(){return this.lift(new IgnoreElementsOperator)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),noop_1=__webpack_require__(262);exports.ignoreElements=ignoreElements;var IgnoreElementsOperator=function(){function IgnoreElementsOperator(){}return IgnoreElementsOperator.prototype.call=function(subscriber,source){return source.subscribe(new IgnoreElementsSubscriber(subscriber))},IgnoreElementsOperator}(),IgnoreElementsSubscriber=function(_super){function IgnoreElementsSubscriber(){_super.apply(this,arguments)}return __extends(IgnoreElementsSubscriber,_super),IgnoreElementsSubscriber.prototype._next=function(unused){noop_1.noop()},IgnoreElementsSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function isEmpty(){return this.lift(new IsEmptyOperator)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3);exports.isEmpty=isEmpty;var IsEmptyOperator=function(){function IsEmptyOperator(){}return IsEmptyOperator.prototype.call=function(observer,source){return source.subscribe(new IsEmptySubscriber(observer))},IsEmptyOperator}(),IsEmptySubscriber=function(_super){function IsEmptySubscriber(destination){_super.call(this,destination)}return __extends(IsEmptySubscriber,_super),IsEmptySubscriber.prototype.notifyComplete=function(isEmpty){var destination=this.destination;destination.next(isEmpty),destination.complete()},IsEmptySubscriber.prototype._next=function(value){this.notifyComplete(!1)},IsEmptySubscriber.prototype._complete=function(){this.notifyComplete(!0)},IsEmptySubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function last(predicate,resultSelector,defaultValue){return this.lift(new LastOperator(predicate,resultSelector,defaultValue,this))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),EmptyError_1=__webpack_require__(84);exports.last=last;var LastOperator=function(){function LastOperator(predicate,resultSelector,defaultValue,source){this.predicate=predicate,this.resultSelector=resultSelector,this.defaultValue=defaultValue,this.source=source}return LastOperator.prototype.call=function(observer,source){return source.subscribe(new LastSubscriber(observer,this.predicate,this.resultSelector,this.defaultValue,this.source))},LastOperator}(),LastSubscriber=function(_super){function LastSubscriber(destination,predicate,resultSelector,defaultValue,source){_super.call(this,destination),this.predicate=predicate,this.resultSelector=resultSelector,this.defaultValue=defaultValue,this.source=source,this.hasValue=!1,this.index=0,"undefined"!=typeof defaultValue&&(this.lastValue=defaultValue,this.hasValue=!0)}return __extends(LastSubscriber,_super),LastSubscriber.prototype._next=function(value){var index=this.index++;if(this.predicate)this._tryPredicate(value,index);else{if(this.resultSelector)return void this._tryResultSelector(value,index);this.lastValue=value,this.hasValue=!0}},LastSubscriber.prototype._tryPredicate=function(value,index){var result;try{result=this.predicate(value,index,this.source)}catch(err){return void this.destination.error(err)}if(result){if(this.resultSelector)return void this._tryResultSelector(value,index);this.lastValue=value,this.hasValue=!0}},LastSubscriber.prototype._tryResultSelector=function(value,index){var result;try{result=this.resultSelector(value,index)}catch(err){return void this.destination.error(err)}this.lastValue=result,this.hasValue=!0},LastSubscriber.prototype._complete=function(){var destination=this.destination;this.hasValue?(destination.next(this.lastValue),destination.complete()):destination.error(new EmptyError_1.EmptyError)},LastSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function letProto(func){return func(this)}exports.letProto=letProto},function(module,exports,__webpack_require__){"use strict";function mapTo(value){return this.lift(new MapToOperator(value))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3);exports.mapTo=mapTo;var MapToOperator=function(){function MapToOperator(value){this.value=value}return MapToOperator.prototype.call=function(subscriber,source){return source.subscribe(new MapToSubscriber(subscriber,this.value))},MapToOperator}(),MapToSubscriber=function(_super){function MapToSubscriber(destination,value){_super.call(this,destination),this.value=value}return __extends(MapToSubscriber,_super),MapToSubscriber.prototype._next=function(x){this.destination.next(this.value)},MapToSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function materialize(){return this.lift(new MaterializeOperator)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),Notification_1=__webpack_require__(53);exports.materialize=materialize;var MaterializeOperator=function(){function MaterializeOperator(){}return MaterializeOperator.prototype.call=function(subscriber,source){return source.subscribe(new MaterializeSubscriber(subscriber))},MaterializeOperator}(),MaterializeSubscriber=function(_super){function MaterializeSubscriber(destination){_super.call(this,destination)}return __extends(MaterializeSubscriber,_super),MaterializeSubscriber.prototype._next=function(value){this.destination.next(Notification_1.Notification.createNext(value))},MaterializeSubscriber.prototype._error=function(err){var destination=this.destination;destination.next(Notification_1.Notification.createError(err)),destination.complete()},MaterializeSubscriber.prototype._complete=function(){var destination=this.destination;destination.next(Notification_1.Notification.createComplete()),destination.complete()},MaterializeSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function max(comparer){var max="function"==typeof comparer?function(x,y){return comparer(x,y)>0?x:y}:function(x,y){return x>y?x:y};return this.lift(new reduce_1.ReduceOperator(max))}var reduce_1=__webpack_require__(119);exports.max=max},function(module,exports,__webpack_require__){"use strict";function mergeScan(project,seed,concurrent){return void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),this.lift(new MergeScanOperator(project,seed,concurrent))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},tryCatch_1=__webpack_require__(16),errorObject_1=__webpack_require__(14),subscribeToResult_1=__webpack_require__(6),OuterSubscriber_1=__webpack_require__(5);exports.mergeScan=mergeScan;var MergeScanOperator=function(){function MergeScanOperator(project,seed,concurrent){this.project=project,this.seed=seed,this.concurrent=concurrent}return MergeScanOperator.prototype.call=function(subscriber,source){return source.subscribe(new MergeScanSubscriber(subscriber,this.project,this.seed,this.concurrent))},MergeScanOperator}();exports.MergeScanOperator=MergeScanOperator;var MergeScanSubscriber=function(_super){function MergeScanSubscriber(destination,project,acc,concurrent){_super.call(this,destination),this.project=project,this.acc=acc,this.concurrent=concurrent,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return __extends(MergeScanSubscriber,_super),MergeScanSubscriber.prototype._next=function(value){if(this.active<this.concurrent){var index=this.index++,ish=tryCatch_1.tryCatch(this.project)(this.acc,value),destination=this.destination;ish===errorObject_1.errorObject?destination.error(errorObject_1.errorObject.e):(this.active++,this._innerSub(ish,value,index))}else this.buffer.push(value)},MergeScanSubscriber.prototype._innerSub=function(ish,value,index){this.add(subscribeToResult_1.subscribeToResult(this,ish,value,index))},MergeScanSubscriber.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},MergeScanSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var destination=this.destination;this.acc=innerValue,this.hasValue=!0,destination.next(innerValue)},MergeScanSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub),this.active--,buffer.length>0?this._next(buffer.shift()):0===this.active&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},MergeScanSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.MergeScanSubscriber=MergeScanSubscriber},function(module,exports,__webpack_require__){"use strict";function min(comparer){var min="function"==typeof comparer?function(x,y){return comparer(x,y)<0?x:y}:function(x,y){return x<y?x:y};return this.lift(new reduce_1.ReduceOperator(min))}var reduce_1=__webpack_require__(119);exports.min=min},function(module,exports,__webpack_require__){"use strict";function pairwise(){return this.lift(new PairwiseOperator)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3);exports.pairwise=pairwise;var PairwiseOperator=function(){function PairwiseOperator(){}return PairwiseOperator.prototype.call=function(subscriber,source){return source.subscribe(new PairwiseSubscriber(subscriber))},PairwiseOperator}(),PairwiseSubscriber=function(_super){function PairwiseSubscriber(destination){_super.call(this,destination),this.hasPrev=!1}return __extends(PairwiseSubscriber,_super),PairwiseSubscriber.prototype._next=function(value){this.hasPrev?this.destination.next([this.prev,value]):this.hasPrev=!0,this.prev=value},PairwiseSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function partition(predicate,thisArg){return[filter_1.filter.call(this,predicate,thisArg),filter_1.filter.call(this,not_1.not(predicate,thisArg))]}var not_1=__webpack_require__(1014),filter_1=__webpack_require__(243);exports.partition=partition},function(module,exports,__webpack_require__){"use strict";function pluck(){for(var properties=[],_i=0;_i<arguments.length;_i++)properties[_i-0]=arguments[_i];var length=properties.length;if(0===length)throw new Error("list of properties cannot be empty.");return map_1.map.call(this,plucker(properties,length))}function plucker(props,length){var mapper=function(x){for(var currentProp=x,i=0;i<length;i++){var p=currentProp[props[i]];if("undefined"==typeof p)return;currentProp=p}return currentProp};return mapper}var map_1=__webpack_require__(117);exports.pluck=pluck},function(module,exports,__webpack_require__){"use strict";function publish(selector){return selector?multicast_1.multicast.call(this,function(){return new Subject_1.Subject},selector):multicast_1.multicast.call(this,new Subject_1.Subject)}var Subject_1=__webpack_require__(13),multicast_1=__webpack_require__(46);exports.publish=publish},function(module,exports,__webpack_require__){"use strict";function publishBehavior(value){return multicast_1.multicast.call(this,new BehaviorSubject_1.BehaviorSubject(value))}var BehaviorSubject_1=__webpack_require__(235),multicast_1=__webpack_require__(46);exports.publishBehavior=publishBehavior},function(module,exports,__webpack_require__){"use strict";function publishLast(){return multicast_1.multicast.call(this,new AsyncSubject_1.AsyncSubject)}var AsyncSubject_1=__webpack_require__(78),multicast_1=__webpack_require__(46);exports.publishLast=publishLast},function(module,exports,__webpack_require__){"use strict";function publishReplay(bufferSize,windowTime,scheduler){return void 0===bufferSize&&(bufferSize=Number.POSITIVE_INFINITY),void 0===windowTime&&(windowTime=Number.POSITIVE_INFINITY),multicast_1.multicast.call(this,new ReplaySubject_1.ReplaySubject(bufferSize,windowTime,scheduler))}var ReplaySubject_1=__webpack_require__(79),multicast_1=__webpack_require__(46);exports.publishReplay=publishReplay},function(module,exports,__webpack_require__){"use strict";function repeat(count){return void 0===count&&(count=-1),0===count?new EmptyObservable_1.EmptyObservable:count<0?this.lift(new RepeatOperator(-1,this)):this.lift(new RepeatOperator(count-1,this))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),EmptyObservable_1=__webpack_require__(32);exports.repeat=repeat;var RepeatOperator=function(){function RepeatOperator(count,source){this.count=count,this.source=source}return RepeatOperator.prototype.call=function(subscriber,source){return source.subscribe(new RepeatSubscriber(subscriber,this.count,this.source))},RepeatOperator}(),RepeatSubscriber=function(_super){function RepeatSubscriber(destination,count,source){_super.call(this,destination),this.count=count,this.source=source}return __extends(RepeatSubscriber,_super),RepeatSubscriber.prototype.complete=function(){if(!this.isStopped){var _a=this,source=_a.source,count=_a.count;if(0===count)return _super.prototype.complete.call(this);count>-1&&(this.count=count-1),this.unsubscribe(),this.isStopped=!1,this.closed=!1,source.subscribe(this)}},RepeatSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function repeatWhen(notifier){return this.lift(new RepeatWhenOperator(notifier,this))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__(13),tryCatch_1=__webpack_require__(16),errorObject_1=__webpack_require__(14),OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.repeatWhen=repeatWhen;var RepeatWhenOperator=function(){function RepeatWhenOperator(notifier,source){this.notifier=notifier,this.source=source}return RepeatWhenOperator.prototype.call=function(subscriber,source){return source.subscribe(new RepeatWhenSubscriber(subscriber,this.notifier,this.source))},RepeatWhenOperator}(),RepeatWhenSubscriber=function(_super){function RepeatWhenSubscriber(destination,notifier,source){_super.call(this,destination),this.notifier=notifier,this.source=source}return __extends(RepeatWhenSubscriber,_super),RepeatWhenSubscriber.prototype.complete=function(){if(!this.isStopped){var notifications=this.notifications,retries=this.retries,retriesSubscription=this.retriesSubscription;if(retries)this.notifications=null,this.retriesSubscription=null;else{if(notifications=new Subject_1.Subject,retries=tryCatch_1.tryCatch(this.notifier)(notifications),retries===errorObject_1.errorObject)return _super.prototype.complete.call(this);retriesSubscription=subscribeToResult_1.subscribeToResult(this,retries)}this.unsubscribe(),this.closed=!1,this.notifications=notifications,this.retries=retries,this.retriesSubscription=retriesSubscription,notifications.next()}},RepeatWhenSubscriber.prototype._unsubscribe=function(){var _a=this,notifications=_a.notifications,retriesSubscription=_a.retriesSubscription;notifications&&(notifications.unsubscribe(),this.notifications=null),retriesSubscription&&(retriesSubscription.unsubscribe(),this.retriesSubscription=null),this.retries=null},RepeatWhenSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var _a=this,notifications=_a.notifications,retries=_a.retries,retriesSubscription=_a.retriesSubscription;this.notifications=null,this.retries=null,this.retriesSubscription=null,this.unsubscribe(),this.isStopped=!1,this.closed=!1,this.notifications=notifications,this.retries=retries,this.retriesSubscription=retriesSubscription,this.source.subscribe(this)},RepeatWhenSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function retry(count){return void 0===count&&(count=-1),this.lift(new RetryOperator(count,this))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3);exports.retry=retry;var RetryOperator=function(){function RetryOperator(count,source){this.count=count,this.source=source}return RetryOperator.prototype.call=function(subscriber,source){
return source.subscribe(new RetrySubscriber(subscriber,this.count,this.source))},RetryOperator}(),RetrySubscriber=function(_super){function RetrySubscriber(destination,count,source){_super.call(this,destination),this.count=count,this.source=source}return __extends(RetrySubscriber,_super),RetrySubscriber.prototype.error=function(err){if(!this.isStopped){var _a=this,source=_a.source,count=_a.count;if(0===count)return _super.prototype.error.call(this,err);count>-1&&(this.count=count-1),this.unsubscribe(),this.isStopped=!1,this.closed=!1,source.subscribe(this)}},RetrySubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function retryWhen(notifier){return this.lift(new RetryWhenOperator(notifier,this))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__(13),tryCatch_1=__webpack_require__(16),errorObject_1=__webpack_require__(14),OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.retryWhen=retryWhen;var RetryWhenOperator=function(){function RetryWhenOperator(notifier,source){this.notifier=notifier,this.source=source}return RetryWhenOperator.prototype.call=function(subscriber,source){return source.subscribe(new RetryWhenSubscriber(subscriber,this.notifier,this.source))},RetryWhenOperator}(),RetryWhenSubscriber=function(_super){function RetryWhenSubscriber(destination,notifier,source){_super.call(this,destination),this.notifier=notifier,this.source=source}return __extends(RetryWhenSubscriber,_super),RetryWhenSubscriber.prototype.error=function(err){if(!this.isStopped){var errors=this.errors,retries=this.retries,retriesSubscription=this.retriesSubscription;if(retries)this.errors=null,this.retriesSubscription=null;else{if(errors=new Subject_1.Subject,retries=tryCatch_1.tryCatch(this.notifier)(errors),retries===errorObject_1.errorObject)return _super.prototype.error.call(this,errorObject_1.errorObject.e);retriesSubscription=subscribeToResult_1.subscribeToResult(this,retries)}this.unsubscribe(),this.closed=!1,this.errors=errors,this.retries=retries,this.retriesSubscription=retriesSubscription,errors.next(err)}},RetryWhenSubscriber.prototype._unsubscribe=function(){var _a=this,errors=_a.errors,retriesSubscription=_a.retriesSubscription;errors&&(errors.unsubscribe(),this.errors=null),retriesSubscription&&(retriesSubscription.unsubscribe(),this.retriesSubscription=null),this.retries=null},RetryWhenSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var _a=this,errors=_a.errors,retries=_a.retries,retriesSubscription=_a.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this.unsubscribe(),this.isStopped=!1,this.closed=!1,this.errors=errors,this.retries=retries,this.retriesSubscription=retriesSubscription,this.source.subscribe(this)},RetryWhenSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function sample(notifier){return this.lift(new SampleOperator(notifier))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.sample=sample;var SampleOperator=function(){function SampleOperator(notifier){this.notifier=notifier}return SampleOperator.prototype.call=function(subscriber,source){var sampleSubscriber=new SampleSubscriber(subscriber),subscription=source.subscribe(sampleSubscriber);return subscription.add(subscribeToResult_1.subscribeToResult(sampleSubscriber,this.notifier)),subscription},SampleOperator}(),SampleSubscriber=function(_super){function SampleSubscriber(){_super.apply(this,arguments),this.hasValue=!1}return __extends(SampleSubscriber,_super),SampleSubscriber.prototype._next=function(value){this.value=value,this.hasValue=!0},SampleSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.emitValue()},SampleSubscriber.prototype.notifyComplete=function(){this.emitValue()},SampleSubscriber.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},SampleSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function sampleTime(period,scheduler){return void 0===scheduler&&(scheduler=async_1.async),this.lift(new SampleTimeOperator(period,scheduler))}function dispatchNotification(state){var subscriber=state.subscriber,period=state.period;subscriber.notifyNext(),this.schedule(state,period)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),async_1=__webpack_require__(18);exports.sampleTime=sampleTime;var SampleTimeOperator=function(){function SampleTimeOperator(period,scheduler){this.period=period,this.scheduler=scheduler}return SampleTimeOperator.prototype.call=function(subscriber,source){return source.subscribe(new SampleTimeSubscriber(subscriber,this.period,this.scheduler))},SampleTimeOperator}(),SampleTimeSubscriber=function(_super){function SampleTimeSubscriber(destination,period,scheduler){_super.call(this,destination),this.period=period,this.scheduler=scheduler,this.hasValue=!1,this.add(scheduler.schedule(dispatchNotification,period,{subscriber:this,period:period}))}return __extends(SampleTimeSubscriber,_super),SampleTimeSubscriber.prototype._next=function(value){this.lastValue=value,this.hasValue=!0},SampleTimeSubscriber.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},SampleTimeSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function scan(accumulator,seed){var hasSeed=!1;return arguments.length>=2&&(hasSeed=!0),this.lift(new ScanOperator(accumulator,seed,hasSeed))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3);exports.scan=scan;var ScanOperator=function(){function ScanOperator(accumulator,seed,hasSeed){void 0===hasSeed&&(hasSeed=!1),this.accumulator=accumulator,this.seed=seed,this.hasSeed=hasSeed}return ScanOperator.prototype.call=function(subscriber,source){return source.subscribe(new ScanSubscriber(subscriber,this.accumulator,this.seed,this.hasSeed))},ScanOperator}(),ScanSubscriber=function(_super){function ScanSubscriber(destination,accumulator,_seed,hasSeed){_super.call(this,destination),this.accumulator=accumulator,this._seed=_seed,this.hasSeed=hasSeed,this.index=0}return __extends(ScanSubscriber,_super),Object.defineProperty(ScanSubscriber.prototype,"seed",{get:function(){return this._seed},set:function(value){this.hasSeed=!0,this._seed=value},enumerable:!0,configurable:!0}),ScanSubscriber.prototype._next=function(value){return this.hasSeed?this._tryNext(value):(this.seed=value,void this.destination.next(value))},ScanSubscriber.prototype._tryNext=function(value){var result,index=this.index++;try{result=this.accumulator(this.seed,value,index)}catch(err){this.destination.error(err)}this.seed=result,this.destination.next(result)},ScanSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function sequenceEqual(compareTo,comparor){return this.lift(new SequenceEqualOperator(compareTo,comparor))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),tryCatch_1=__webpack_require__(16),errorObject_1=__webpack_require__(14);exports.sequenceEqual=sequenceEqual;var SequenceEqualOperator=function(){function SequenceEqualOperator(compareTo,comparor){this.compareTo=compareTo,this.comparor=comparor}return SequenceEqualOperator.prototype.call=function(subscriber,source){return source.subscribe(new SequenceEqualSubscriber(subscriber,this.compareTo,this.comparor))},SequenceEqualOperator}();exports.SequenceEqualOperator=SequenceEqualOperator;var SequenceEqualSubscriber=function(_super){function SequenceEqualSubscriber(destination,compareTo,comparor){_super.call(this,destination),this.compareTo=compareTo,this.comparor=comparor,this._a=[],this._b=[],this._oneComplete=!1,this.add(compareTo.subscribe(new SequenceEqualCompareToSubscriber(destination,this)))}return __extends(SequenceEqualSubscriber,_super),SequenceEqualSubscriber.prototype._next=function(value){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(value),this.checkValues())},SequenceEqualSubscriber.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},SequenceEqualSubscriber.prototype.checkValues=function(){for(var _c=this,_a=_c._a,_b=_c._b,comparor=_c.comparor;_a.length>0&&_b.length>0;){var a=_a.shift(),b=_b.shift(),areEqual=!1;comparor?(areEqual=tryCatch_1.tryCatch(comparor)(a,b),areEqual===errorObject_1.errorObject&&this.destination.error(errorObject_1.errorObject.e)):areEqual=a===b,areEqual||this.emit(!1)}},SequenceEqualSubscriber.prototype.emit=function(value){var destination=this.destination;destination.next(value),destination.complete()},SequenceEqualSubscriber.prototype.nextB=function(value){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(value),this.checkValues())},SequenceEqualSubscriber}(Subscriber_1.Subscriber);exports.SequenceEqualSubscriber=SequenceEqualSubscriber;var SequenceEqualCompareToSubscriber=function(_super){function SequenceEqualCompareToSubscriber(destination,parent){_super.call(this,destination),this.parent=parent}return __extends(SequenceEqualCompareToSubscriber,_super),SequenceEqualCompareToSubscriber.prototype._next=function(value){this.parent.nextB(value)},SequenceEqualCompareToSubscriber.prototype._error=function(err){this.parent.error(err)},SequenceEqualCompareToSubscriber.prototype._complete=function(){this.parent._complete()},SequenceEqualCompareToSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function shareSubjectFactory(){return new Subject_1.Subject}function share(){return multicast_1.multicast.call(this,shareSubjectFactory).refCount()}var multicast_1=__webpack_require__(46),Subject_1=__webpack_require__(13);exports.share=share},function(module,exports,__webpack_require__){"use strict";function single(predicate){return this.lift(new SingleOperator(predicate,this))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),EmptyError_1=__webpack_require__(84);exports.single=single;var SingleOperator=function(){function SingleOperator(predicate,source){this.predicate=predicate,this.source=source}return SingleOperator.prototype.call=function(subscriber,source){return source.subscribe(new SingleSubscriber(subscriber,this.predicate,this.source))},SingleOperator}(),SingleSubscriber=function(_super){function SingleSubscriber(destination,predicate,source){_super.call(this,destination),this.predicate=predicate,this.source=source,this.seenValue=!1,this.index=0}return __extends(SingleSubscriber,_super),SingleSubscriber.prototype.applySingleValue=function(value){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=value)},SingleSubscriber.prototype._next=function(value){var predicate=this.predicate;this.index++,predicate?this.tryNext(value):this.applySingleValue(value)},SingleSubscriber.prototype.tryNext=function(value){try{var result=this.predicate(value,this.index,this.source);result&&this.applySingleValue(value)}catch(err){this.destination.error(err)}},SingleSubscriber.prototype._complete=function(){var destination=this.destination;this.index>0?(destination.next(this.seenValue?this.singleValue:void 0),destination.complete()):destination.error(new EmptyError_1.EmptyError)},SingleSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function skip(total){return this.lift(new SkipOperator(total))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3);exports.skip=skip;var SkipOperator=function(){function SkipOperator(total){this.total=total}return SkipOperator.prototype.call=function(subscriber,source){return source.subscribe(new SkipSubscriber(subscriber,this.total))},SkipOperator}(),SkipSubscriber=function(_super){function SkipSubscriber(destination,total){_super.call(this,destination),this.total=total,this.count=0}return __extends(SkipSubscriber,_super),SkipSubscriber.prototype._next=function(x){++this.count>this.total&&this.destination.next(x)},SkipSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function skipUntil(notifier){return this.lift(new SkipUntilOperator(notifier))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.skipUntil=skipUntil;var SkipUntilOperator=function(){function SkipUntilOperator(notifier){this.notifier=notifier}return SkipUntilOperator.prototype.call=function(subscriber,source){return source.subscribe(new SkipUntilSubscriber(subscriber,this.notifier))},SkipUntilOperator}(),SkipUntilSubscriber=function(_super){function SkipUntilSubscriber(destination,notifier){_super.call(this,destination),this.hasValue=!1,this.isInnerStopped=!1,this.add(subscribeToResult_1.subscribeToResult(this,notifier))}return __extends(SkipUntilSubscriber,_super),SkipUntilSubscriber.prototype._next=function(value){this.hasValue&&_super.prototype._next.call(this,value)},SkipUntilSubscriber.prototype._complete=function(){this.isInnerStopped?_super.prototype._complete.call(this):this.unsubscribe()},SkipUntilSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.hasValue=!0},SkipUntilSubscriber.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&_super.prototype._complete.call(this)},SkipUntilSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function skipWhile(predicate){return this.lift(new SkipWhileOperator(predicate))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3);exports.skipWhile=skipWhile;var SkipWhileOperator=function(){function SkipWhileOperator(predicate){this.predicate=predicate}return SkipWhileOperator.prototype.call=function(subscriber,source){return source.subscribe(new SkipWhileSubscriber(subscriber,this.predicate))},SkipWhileOperator}(),SkipWhileSubscriber=function(_super){function SkipWhileSubscriber(destination,predicate){_super.call(this,destination),this.predicate=predicate,this.skipping=!0,this.index=0}return __extends(SkipWhileSubscriber,_super),SkipWhileSubscriber.prototype._next=function(value){var destination=this.destination;this.skipping&&this.tryCallPredicate(value),this.skipping||destination.next(value)},SkipWhileSubscriber.prototype.tryCallPredicate=function(value){try{var result=this.predicate(value,this.index++);this.skipping=Boolean(result)}catch(err){this.destination.error(err)}},SkipWhileSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function startWith(){for(var array=[],_i=0;_i<arguments.length;_i++)array[_i-0]=arguments[_i];var scheduler=array[array.length-1];isScheduler_1.isScheduler(scheduler)?array.pop():scheduler=null;var len=array.length;return 1===len?concat_1.concatStatic(new ScalarObservable_1.ScalarObservable(array[0],scheduler),this):len>1?concat_1.concatStatic(new ArrayObservable_1.ArrayObservable(array,scheduler),this):concat_1.concatStatic(new EmptyObservable_1.EmptyObservable(scheduler),this)}var ArrayObservable_1=__webpack_require__(28),ScalarObservable_1=__webpack_require__(114),EmptyObservable_1=__webpack_require__(32),concat_1=__webpack_require__(116),isScheduler_1=__webpack_require__(33);exports.startWith=startWith},function(module,exports,__webpack_require__){"use strict";function subscribeOn(scheduler,delay){return void 0===delay&&(delay=0),this.lift(new SubscribeOnOperator(scheduler,delay))}var SubscribeOnObservable_1=__webpack_require__(886);exports.subscribeOn=subscribeOn;var SubscribeOnOperator=function(){function SubscribeOnOperator(scheduler,delay){this.scheduler=scheduler,this.delay=delay}return SubscribeOnOperator.prototype.call=function(subscriber,source){return new SubscribeOnObservable_1.SubscribeOnObservable(source,this.delay,this.scheduler).subscribe(subscriber)},SubscribeOnOperator}()},function(module,exports,__webpack_require__){"use strict";function _switch(){return this.lift(new SwitchOperator)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports._switch=_switch;var SwitchOperator=function(){function SwitchOperator(){}return SwitchOperator.prototype.call=function(subscriber,source){return source.subscribe(new SwitchSubscriber(subscriber))},SwitchOperator}(),SwitchSubscriber=function(_super){function SwitchSubscriber(destination){_super.call(this,destination),this.active=0,this.hasCompleted=!1}return __extends(SwitchSubscriber,_super),SwitchSubscriber.prototype._next=function(value){this.unsubscribeInner(),this.active++,this.add(this.innerSubscription=subscribeToResult_1.subscribeToResult(this,value))},SwitchSubscriber.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&this.destination.complete()},SwitchSubscriber.prototype.unsubscribeInner=function(){this.active=this.active>0?this.active-1:0;var innerSubscription=this.innerSubscription;innerSubscription&&(innerSubscription.unsubscribe(),this.remove(innerSubscription))},SwitchSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)},SwitchSubscriber.prototype.notifyError=function(err){this.destination.error(err)},SwitchSubscriber.prototype.notifyComplete=function(){this.unsubscribeInner(),this.hasCompleted&&0===this.active&&this.destination.complete()},SwitchSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function switchMap(project,resultSelector){return this.lift(new SwitchMapOperator(project,resultSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.switchMap=switchMap;var SwitchMapOperator=function(){function SwitchMapOperator(project,resultSelector){this.project=project,this.resultSelector=resultSelector}return SwitchMapOperator.prototype.call=function(subscriber,source){return source.subscribe(new SwitchMapSubscriber(subscriber,this.project,this.resultSelector))},SwitchMapOperator}(),SwitchMapSubscriber=function(_super){function SwitchMapSubscriber(destination,project,resultSelector){_super.call(this,destination),this.project=project,this.resultSelector=resultSelector,this.index=0}return __extends(SwitchMapSubscriber,_super),SwitchMapSubscriber.prototype._next=function(value){var result,index=this.index++;try{result=this.project(value,index)}catch(error){return void this.destination.error(error)}this._innerSub(result,value,index)},SwitchMapSubscriber.prototype._innerSub=function(result,value,index){var innerSubscription=this.innerSubscription;innerSubscription&&innerSubscription.unsubscribe(),this.add(this.innerSubscription=subscribeToResult_1.subscribeToResult(this,result,value,index))},SwitchMapSubscriber.prototype._complete=function(){var innerSubscription=this.innerSubscription;innerSubscription&&!innerSubscription.closed||_super.prototype._complete.call(this)},SwitchMapSubscriber.prototype._unsubscribe=function(){this.innerSubscription=null},SwitchMapSubscriber.prototype.notifyComplete=function(innerSub){this.remove(innerSub),this.innerSubscription=null,this.isStopped&&_super.prototype._complete.call(this)},SwitchMapSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.resultSelector?this._tryNotifyNext(outerValue,innerValue,outerIndex,innerIndex):this.destination.next(innerValue)},SwitchMapSubscriber.prototype._tryNotifyNext=function(outerValue,innerValue,outerIndex,innerIndex){var result;try{result=this.resultSelector(outerValue,innerValue,outerIndex,innerIndex)}catch(err){return void this.destination.error(err)}this.destination.next(result)},SwitchMapSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function switchMapTo(innerObservable,resultSelector){return this.lift(new SwitchMapToOperator(innerObservable,resultSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.switchMapTo=switchMapTo;var SwitchMapToOperator=function(){function SwitchMapToOperator(observable,resultSelector){this.observable=observable,this.resultSelector=resultSelector}return SwitchMapToOperator.prototype.call=function(subscriber,source){return source.subscribe(new SwitchMapToSubscriber(subscriber,this.observable,this.resultSelector))},SwitchMapToOperator}(),SwitchMapToSubscriber=function(_super){function SwitchMapToSubscriber(destination,inner,resultSelector){_super.call(this,destination),this.inner=inner,this.resultSelector=resultSelector,this.index=0}return __extends(SwitchMapToSubscriber,_super),SwitchMapToSubscriber.prototype._next=function(value){var innerSubscription=this.innerSubscription;innerSubscription&&innerSubscription.unsubscribe(),this.add(this.innerSubscription=subscribeToResult_1.subscribeToResult(this,this.inner,value,this.index++))},SwitchMapToSubscriber.prototype._complete=function(){var innerSubscription=this.innerSubscription;innerSubscription&&!innerSubscription.closed||_super.prototype._complete.call(this)},SwitchMapToSubscriber.prototype._unsubscribe=function(){this.innerSubscription=null},SwitchMapToSubscriber.prototype.notifyComplete=function(innerSub){this.remove(innerSub),this.innerSubscription=null,this.isStopped&&_super.prototype._complete.call(this)},SwitchMapToSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var _a=this,resultSelector=_a.resultSelector,destination=_a.destination;resultSelector?this.tryResultSelector(outerValue,innerValue,outerIndex,innerIndex):destination.next(innerValue)},SwitchMapToSubscriber.prototype.tryResultSelector=function(outerValue,innerValue,outerIndex,innerIndex){var result,_a=this,resultSelector=_a.resultSelector,destination=_a.destination;try{result=resultSelector(outerValue,innerValue,outerIndex,innerIndex)}catch(err){return void destination.error(err)}destination.next(result)},SwitchMapToSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function take(count){return 0===count?new EmptyObservable_1.EmptyObservable:this.lift(new TakeOperator(count))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),ArgumentOutOfRangeError_1=__webpack_require__(83),EmptyObservable_1=__webpack_require__(32);exports.take=take;var TakeOperator=function(){function TakeOperator(total){if(this.total=total,this.total<0)throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError}return TakeOperator.prototype.call=function(subscriber,source){return source.subscribe(new TakeSubscriber(subscriber,this.total))},TakeOperator}(),TakeSubscriber=function(_super){function TakeSubscriber(destination,total){_super.call(this,destination),this.total=total,this.count=0}return __extends(TakeSubscriber,_super),TakeSubscriber.prototype._next=function(value){var total=this.total,count=++this.count;count<=total&&(this.destination.next(value),count===total&&(this.destination.complete(),this.unsubscribe()))},TakeSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function takeLast(count){return 0===count?new EmptyObservable_1.EmptyObservable:this.lift(new TakeLastOperator(count))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),ArgumentOutOfRangeError_1=__webpack_require__(83),EmptyObservable_1=__webpack_require__(32);exports.takeLast=takeLast;var TakeLastOperator=function(){function TakeLastOperator(total){if(this.total=total,this.total<0)throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError}return TakeLastOperator.prototype.call=function(subscriber,source){return source.subscribe(new TakeLastSubscriber(subscriber,this.total))},TakeLastOperator}(),TakeLastSubscriber=function(_super){function TakeLastSubscriber(destination,total){_super.call(this,destination),this.total=total,this.ring=new Array,this.count=0}return __extends(TakeLastSubscriber,_super),TakeLastSubscriber.prototype._next=function(value){var ring=this.ring,total=this.total,count=this.count++;if(ring.length<total)ring.push(value);else{var index=count%total;ring[index]=value}},TakeLastSubscriber.prototype._complete=function(){var destination=this.destination,count=this.count;if(count>0)for(var total=this.count>=this.total?this.total:this.count,ring=this.ring,i=0;i<total;i++){var idx=count++%total;destination.next(ring[idx])}destination.complete()},TakeLastSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function takeUntil(notifier){return this.lift(new TakeUntilOperator(notifier))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.takeUntil=takeUntil;var TakeUntilOperator=function(){function TakeUntilOperator(notifier){this.notifier=notifier}return TakeUntilOperator.prototype.call=function(subscriber,source){return source.subscribe(new TakeUntilSubscriber(subscriber,this.notifier))},TakeUntilOperator}(),TakeUntilSubscriber=function(_super){function TakeUntilSubscriber(destination,notifier){_super.call(this,destination),this.notifier=notifier,this.add(subscribeToResult_1.subscribeToResult(this,notifier))}return __extends(TakeUntilSubscriber,_super),TakeUntilSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.complete()},TakeUntilSubscriber.prototype.notifyComplete=function(){},TakeUntilSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function takeWhile(predicate){return this.lift(new TakeWhileOperator(predicate))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3);exports.takeWhile=takeWhile;var TakeWhileOperator=function(){function TakeWhileOperator(predicate){this.predicate=predicate}return TakeWhileOperator.prototype.call=function(subscriber,source){return source.subscribe(new TakeWhileSubscriber(subscriber,this.predicate))},TakeWhileOperator}(),TakeWhileSubscriber=function(_super){function TakeWhileSubscriber(destination,predicate){_super.call(this,destination),this.predicate=predicate,this.index=0}return __extends(TakeWhileSubscriber,_super),TakeWhileSubscriber.prototype._next=function(value){var result,destination=this.destination;try{result=this.predicate(value,this.index++)}catch(err){return void destination.error(err)}this.nextOrComplete(value,result)},TakeWhileSubscriber.prototype.nextOrComplete=function(value,predicateResult){var destination=this.destination;Boolean(predicateResult)?destination.next(value):destination.complete()},TakeWhileSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function throttle(durationSelector){return this.lift(new ThrottleOperator(durationSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.throttle=throttle;var ThrottleOperator=function(){function ThrottleOperator(durationSelector){this.durationSelector=durationSelector}return ThrottleOperator.prototype.call=function(subscriber,source){return source.subscribe(new ThrottleSubscriber(subscriber,this.durationSelector))},ThrottleOperator}(),ThrottleSubscriber=function(_super){function ThrottleSubscriber(destination,durationSelector){_super.call(this,destination),this.destination=destination,this.durationSelector=durationSelector}return __extends(ThrottleSubscriber,_super),ThrottleSubscriber.prototype._next=function(value){this.throttled||this.tryDurationSelector(value)},ThrottleSubscriber.prototype.tryDurationSelector=function(value){var duration=null;try{duration=this.durationSelector(value)}catch(err){return void this.destination.error(err)}this.emitAndThrottle(value,duration)},ThrottleSubscriber.prototype.emitAndThrottle=function(value,duration){this.add(this.throttled=subscribeToResult_1.subscribeToResult(this,duration)),this.destination.next(value)},ThrottleSubscriber.prototype._unsubscribe=function(){var throttled=this.throttled;throttled&&(this.remove(throttled),this.throttled=null,throttled.unsubscribe())},ThrottleSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this._unsubscribe()},ThrottleSubscriber.prototype.notifyComplete=function(){this._unsubscribe()},ThrottleSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function throttleTime(duration,scheduler){return void 0===scheduler&&(scheduler=async_1.async),this.lift(new ThrottleTimeOperator(duration,scheduler))}function dispatchNext(arg){var subscriber=arg.subscriber;subscriber.clearThrottle()}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);
d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),async_1=__webpack_require__(18);exports.throttleTime=throttleTime;var ThrottleTimeOperator=function(){function ThrottleTimeOperator(duration,scheduler){this.duration=duration,this.scheduler=scheduler}return ThrottleTimeOperator.prototype.call=function(subscriber,source){return source.subscribe(new ThrottleTimeSubscriber(subscriber,this.duration,this.scheduler))},ThrottleTimeOperator}(),ThrottleTimeSubscriber=function(_super){function ThrottleTimeSubscriber(destination,duration,scheduler){_super.call(this,destination),this.duration=duration,this.scheduler=scheduler}return __extends(ThrottleTimeSubscriber,_super),ThrottleTimeSubscriber.prototype._next=function(value){this.throttled||(this.add(this.throttled=this.scheduler.schedule(dispatchNext,this.duration,{subscriber:this})),this.destination.next(value))},ThrottleTimeSubscriber.prototype.clearThrottle=function(){var throttled=this.throttled;throttled&&(throttled.unsubscribe(),this.remove(throttled),this.throttled=null)},ThrottleTimeSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function timeout(due,scheduler){void 0===scheduler&&(scheduler=async_1.async);var absoluteTimeout=isDate_1.isDate(due),waitFor=absoluteTimeout?+due-scheduler.now():Math.abs(due);return this.lift(new TimeoutOperator(waitFor,absoluteTimeout,scheduler,new TimeoutError_1.TimeoutError))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},async_1=__webpack_require__(18),isDate_1=__webpack_require__(86),Subscriber_1=__webpack_require__(3),TimeoutError_1=__webpack_require__(257);exports.timeout=timeout;var TimeoutOperator=function(){function TimeoutOperator(waitFor,absoluteTimeout,scheduler,errorInstance){this.waitFor=waitFor,this.absoluteTimeout=absoluteTimeout,this.scheduler=scheduler,this.errorInstance=errorInstance}return TimeoutOperator.prototype.call=function(subscriber,source){return source.subscribe(new TimeoutSubscriber(subscriber,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},TimeoutOperator}(),TimeoutSubscriber=function(_super){function TimeoutSubscriber(destination,absoluteTimeout,waitFor,scheduler,errorInstance){_super.call(this,destination),this.absoluteTimeout=absoluteTimeout,this.waitFor=waitFor,this.scheduler=scheduler,this.errorInstance=errorInstance,this.index=0,this._previousIndex=0,this._hasCompleted=!1,this.scheduleTimeout()}return __extends(TimeoutSubscriber,_super),Object.defineProperty(TimeoutSubscriber.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(TimeoutSubscriber.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),TimeoutSubscriber.dispatchTimeout=function(state){var source=state.subscriber,currentIndex=state.index;source.hasCompleted||source.previousIndex!==currentIndex||source.notifyTimeout()},TimeoutSubscriber.prototype.scheduleTimeout=function(){var currentIndex=this.index;this.scheduler.schedule(TimeoutSubscriber.dispatchTimeout,this.waitFor,{subscriber:this,index:currentIndex}),this.index++,this._previousIndex=currentIndex},TimeoutSubscriber.prototype._next=function(value){this.destination.next(value),this.absoluteTimeout||this.scheduleTimeout()},TimeoutSubscriber.prototype._error=function(err){this.destination.error(err),this._hasCompleted=!0},TimeoutSubscriber.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},TimeoutSubscriber.prototype.notifyTimeout=function(){this.error(this.errorInstance)},TimeoutSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function timeoutWith(due,withObservable,scheduler){void 0===scheduler&&(scheduler=async_1.async);var absoluteTimeout=isDate_1.isDate(due),waitFor=absoluteTimeout?+due-scheduler.now():Math.abs(due);return this.lift(new TimeoutWithOperator(waitFor,absoluteTimeout,withObservable,scheduler))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},async_1=__webpack_require__(18),isDate_1=__webpack_require__(86),OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.timeoutWith=timeoutWith;var TimeoutWithOperator=function(){function TimeoutWithOperator(waitFor,absoluteTimeout,withObservable,scheduler){this.waitFor=waitFor,this.absoluteTimeout=absoluteTimeout,this.withObservable=withObservable,this.scheduler=scheduler}return TimeoutWithOperator.prototype.call=function(subscriber,source){return source.subscribe(new TimeoutWithSubscriber(subscriber,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},TimeoutWithOperator}(),TimeoutWithSubscriber=function(_super){function TimeoutWithSubscriber(destination,absoluteTimeout,waitFor,withObservable,scheduler){_super.call(this),this.destination=destination,this.absoluteTimeout=absoluteTimeout,this.waitFor=waitFor,this.withObservable=withObservable,this.scheduler=scheduler,this.timeoutSubscription=void 0,this.index=0,this._previousIndex=0,this._hasCompleted=!1,destination.add(this),this.scheduleTimeout()}return __extends(TimeoutWithSubscriber,_super),Object.defineProperty(TimeoutWithSubscriber.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(TimeoutWithSubscriber.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),TimeoutWithSubscriber.dispatchTimeout=function(state){var source=state.subscriber,currentIndex=state.index;source.hasCompleted||source.previousIndex!==currentIndex||source.handleTimeout()},TimeoutWithSubscriber.prototype.scheduleTimeout=function(){var currentIndex=this.index,timeoutState={subscriber:this,index:currentIndex};this.scheduler.schedule(TimeoutWithSubscriber.dispatchTimeout,this.waitFor,timeoutState),this.index++,this._previousIndex=currentIndex},TimeoutWithSubscriber.prototype._next=function(value){this.destination.next(value),this.absoluteTimeout||this.scheduleTimeout()},TimeoutWithSubscriber.prototype._error=function(err){this.destination.error(err),this._hasCompleted=!0},TimeoutWithSubscriber.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},TimeoutWithSubscriber.prototype.handleTimeout=function(){if(!this.closed){var withObservable=this.withObservable;this.unsubscribe(),this.destination.add(this.timeoutSubscription=subscribeToResult_1.subscribeToResult(this,withObservable))}},TimeoutWithSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function toArray(){return this.lift(new ToArrayOperator)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3);exports.toArray=toArray;var ToArrayOperator=function(){function ToArrayOperator(){}return ToArrayOperator.prototype.call=function(subscriber,source){return source.subscribe(new ToArraySubscriber(subscriber))},ToArrayOperator}(),ToArraySubscriber=function(_super){function ToArraySubscriber(destination){_super.call(this,destination),this.array=[]}return __extends(ToArraySubscriber,_super),ToArraySubscriber.prototype._next=function(x){this.array.push(x)},ToArraySubscriber.prototype._complete=function(){this.destination.next(this.array),this.destination.complete()},ToArraySubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function toPromise(PromiseCtor){var _this=this;if(PromiseCtor||(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise?PromiseCtor=root_1.root.Rx.config.Promise:root_1.root.Promise&&(PromiseCtor=root_1.root.Promise)),!PromiseCtor)throw new Error("no Promise impl found");return new PromiseCtor(function(resolve,reject){var value;_this.subscribe(function(x){return value=x},function(err){return reject(err)},function(){return resolve(value)})})}var root_1=__webpack_require__(15);exports.toPromise=toPromise},function(module,exports,__webpack_require__){"use strict";function window(windowBoundaries){return this.lift(new WindowOperator(windowBoundaries))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__(13),OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.window=window;var WindowOperator=function(){function WindowOperator(windowBoundaries){this.windowBoundaries=windowBoundaries}return WindowOperator.prototype.call=function(subscriber,source){var windowSubscriber=new WindowSubscriber(subscriber),sourceSubscription=source.subscribe(windowSubscriber);return sourceSubscription.closed||windowSubscriber.add(subscribeToResult_1.subscribeToResult(windowSubscriber,this.windowBoundaries)),sourceSubscription},WindowOperator}(),WindowSubscriber=function(_super){function WindowSubscriber(destination){_super.call(this,destination),this.window=new Subject_1.Subject,destination.next(this.window)}return __extends(WindowSubscriber,_super),WindowSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.openWindow()},WindowSubscriber.prototype.notifyError=function(error,innerSub){this._error(error)},WindowSubscriber.prototype.notifyComplete=function(innerSub){this._complete()},WindowSubscriber.prototype._next=function(value){this.window.next(value)},WindowSubscriber.prototype._error=function(err){this.window.error(err),this.destination.error(err)},WindowSubscriber.prototype._complete=function(){this.window.complete(),this.destination.complete()},WindowSubscriber.prototype._unsubscribe=function(){this.window=null},WindowSubscriber.prototype.openWindow=function(){var prevWindow=this.window;prevWindow&&prevWindow.complete();var destination=this.destination,newWindow=this.window=new Subject_1.Subject;destination.next(newWindow)},WindowSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function windowCount(windowSize,startWindowEvery){return void 0===startWindowEvery&&(startWindowEvery=0),this.lift(new WindowCountOperator(windowSize,startWindowEvery))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__(3),Subject_1=__webpack_require__(13);exports.windowCount=windowCount;var WindowCountOperator=function(){function WindowCountOperator(windowSize,startWindowEvery){this.windowSize=windowSize,this.startWindowEvery=startWindowEvery}return WindowCountOperator.prototype.call=function(subscriber,source){return source.subscribe(new WindowCountSubscriber(subscriber,this.windowSize,this.startWindowEvery))},WindowCountOperator}(),WindowCountSubscriber=function(_super){function WindowCountSubscriber(destination,windowSize,startWindowEvery){_super.call(this,destination),this.destination=destination,this.windowSize=windowSize,this.startWindowEvery=startWindowEvery,this.windows=[new Subject_1.Subject],this.count=0,destination.next(this.windows[0])}return __extends(WindowCountSubscriber,_super),WindowCountSubscriber.prototype._next=function(value){for(var startWindowEvery=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,destination=this.destination,windowSize=this.windowSize,windows=this.windows,len=windows.length,i=0;i<len&&!this.closed;i++)windows[i].next(value);var c=this.count-windowSize+1;if(c>=0&&c%startWindowEvery===0&&!this.closed&&windows.shift().complete(),++this.count%startWindowEvery===0&&!this.closed){var window_1=new Subject_1.Subject;windows.push(window_1),destination.next(window_1)}},WindowCountSubscriber.prototype._error=function(err){var windows=this.windows;if(windows)for(;windows.length>0&&!this.closed;)windows.shift().error(err);this.destination.error(err)},WindowCountSubscriber.prototype._complete=function(){var windows=this.windows;if(windows)for(;windows.length>0&&!this.closed;)windows.shift().complete();this.destination.complete()},WindowCountSubscriber.prototype._unsubscribe=function(){this.count=0,this.windows=null},WindowCountSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function windowTime(windowTimeSpan,windowCreationInterval,scheduler){return void 0===windowCreationInterval&&(windowCreationInterval=null),void 0===scheduler&&(scheduler=async_1.async),this.lift(new WindowTimeOperator(windowTimeSpan,windowCreationInterval,scheduler))}function dispatchWindowTimeSpanOnly(state){var subscriber=state.subscriber,windowTimeSpan=state.windowTimeSpan,window=state.window;window&&window.complete(),state.window=subscriber.openWindow(),this.schedule(state,windowTimeSpan)}function dispatchWindowCreation(state){var windowTimeSpan=state.windowTimeSpan,subscriber=state.subscriber,scheduler=state.scheduler,windowCreationInterval=state.windowCreationInterval,window=subscriber.openWindow(),action=this,context={action:action,subscription:null},timeSpanState={subscriber:subscriber,window:window,context:context};context.subscription=scheduler.schedule(dispatchWindowClose,windowTimeSpan,timeSpanState),action.add(context.subscription),action.schedule(state,windowCreationInterval)}function dispatchWindowClose(arg){var subscriber=arg.subscriber,window=arg.window,context=arg.context;context&&context.action&&context.subscription&&context.action.remove(context.subscription),subscriber.closeWindow(window)}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__(13),async_1=__webpack_require__(18),Subscriber_1=__webpack_require__(3);exports.windowTime=windowTime;var WindowTimeOperator=function(){function WindowTimeOperator(windowTimeSpan,windowCreationInterval,scheduler){this.windowTimeSpan=windowTimeSpan,this.windowCreationInterval=windowCreationInterval,this.scheduler=scheduler}return WindowTimeOperator.prototype.call=function(subscriber,source){return source.subscribe(new WindowTimeSubscriber(subscriber,this.windowTimeSpan,this.windowCreationInterval,this.scheduler))},WindowTimeOperator}(),WindowTimeSubscriber=function(_super){function WindowTimeSubscriber(destination,windowTimeSpan,windowCreationInterval,scheduler){if(_super.call(this,destination),this.destination=destination,this.windowTimeSpan=windowTimeSpan,this.windowCreationInterval=windowCreationInterval,this.scheduler=scheduler,this.windows=[],null!==windowCreationInterval&&windowCreationInterval>=0){var window_1=this.openWindow(),closeState={subscriber:this,window:window_1,context:null},creationState={windowTimeSpan:windowTimeSpan,windowCreationInterval:windowCreationInterval,subscriber:this,scheduler:scheduler};this.add(scheduler.schedule(dispatchWindowClose,windowTimeSpan,closeState)),this.add(scheduler.schedule(dispatchWindowCreation,windowCreationInterval,creationState))}else{var window_2=this.openWindow(),timeSpanOnlyState={subscriber:this,window:window_2,windowTimeSpan:windowTimeSpan};this.add(scheduler.schedule(dispatchWindowTimeSpanOnly,windowTimeSpan,timeSpanOnlyState))}}return __extends(WindowTimeSubscriber,_super),WindowTimeSubscriber.prototype._next=function(value){for(var windows=this.windows,len=windows.length,i=0;i<len;i++){var window_3=windows[i];window_3.closed||window_3.next(value)}},WindowTimeSubscriber.prototype._error=function(err){for(var windows=this.windows;windows.length>0;)windows.shift().error(err);this.destination.error(err)},WindowTimeSubscriber.prototype._complete=function(){for(var windows=this.windows;windows.length>0;){var window_4=windows.shift();window_4.closed||window_4.complete()}this.destination.complete()},WindowTimeSubscriber.prototype.openWindow=function(){var window=new Subject_1.Subject;this.windows.push(window);var destination=this.destination;return destination.next(window),window},WindowTimeSubscriber.prototype.closeWindow=function(window){window.complete();var windows=this.windows;windows.splice(windows.indexOf(window),1)},WindowTimeSubscriber}(Subscriber_1.Subscriber)},function(module,exports,__webpack_require__){"use strict";function windowToggle(openings,closingSelector){return this.lift(new WindowToggleOperator(openings,closingSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__(13),Subscription_1=__webpack_require__(12),tryCatch_1=__webpack_require__(16),errorObject_1=__webpack_require__(14),OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.windowToggle=windowToggle;var WindowToggleOperator=function(){function WindowToggleOperator(openings,closingSelector){this.openings=openings,this.closingSelector=closingSelector}return WindowToggleOperator.prototype.call=function(subscriber,source){return source.subscribe(new WindowToggleSubscriber(subscriber,this.openings,this.closingSelector))},WindowToggleOperator}(),WindowToggleSubscriber=function(_super){function WindowToggleSubscriber(destination,openings,closingSelector){_super.call(this,destination),this.openings=openings,this.closingSelector=closingSelector,this.contexts=[],this.add(this.openSubscription=subscribeToResult_1.subscribeToResult(this,openings,openings))}return __extends(WindowToggleSubscriber,_super),WindowToggleSubscriber.prototype._next=function(value){var contexts=this.contexts;if(contexts)for(var len=contexts.length,i=0;i<len;i++)contexts[i].window.next(value)},WindowToggleSubscriber.prototype._error=function(err){var contexts=this.contexts;if(this.contexts=null,contexts)for(var len=contexts.length,index=-1;++index<len;){var context=contexts[index];context.window.error(err),context.subscription.unsubscribe()}_super.prototype._error.call(this,err)},WindowToggleSubscriber.prototype._complete=function(){var contexts=this.contexts;if(this.contexts=null,contexts)for(var len=contexts.length,index=-1;++index<len;){var context=contexts[index];context.window.complete(),context.subscription.unsubscribe()}_super.prototype._complete.call(this)},WindowToggleSubscriber.prototype._unsubscribe=function(){var contexts=this.contexts;if(this.contexts=null,contexts)for(var len=contexts.length,index=-1;++index<len;){var context=contexts[index];context.window.unsubscribe(),context.subscription.unsubscribe()}},WindowToggleSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){if(outerValue===this.openings){var closingSelector=this.closingSelector,closingNotifier=tryCatch_1.tryCatch(closingSelector)(innerValue);if(closingNotifier===errorObject_1.errorObject)return this.error(errorObject_1.errorObject.e);var window_1=new Subject_1.Subject,subscription=new Subscription_1.Subscription,context={window:window_1,subscription:subscription};this.contexts.push(context);var innerSubscription=subscribeToResult_1.subscribeToResult(this,closingNotifier,context);innerSubscription.closed?this.closeWindow(this.contexts.length-1):(innerSubscription.context=context,subscription.add(innerSubscription)),this.destination.next(window_1)}else this.closeWindow(this.contexts.indexOf(outerValue))},WindowToggleSubscriber.prototype.notifyError=function(err){this.error(err)},WindowToggleSubscriber.prototype.notifyComplete=function(inner){inner!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(inner.context))},WindowToggleSubscriber.prototype.closeWindow=function(index){if(index!==-1){var contexts=this.contexts,context=contexts[index],window=context.window,subscription=context.subscription;contexts.splice(index,1),window.complete(),subscription.unsubscribe()}},WindowToggleSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function windowWhen(closingSelector){return this.lift(new WindowOperator(closingSelector))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__(13),tryCatch_1=__webpack_require__(16),errorObject_1=__webpack_require__(14),OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.windowWhen=windowWhen;var WindowOperator=function(){function WindowOperator(closingSelector){this.closingSelector=closingSelector}return WindowOperator.prototype.call=function(subscriber,source){return source.subscribe(new WindowSubscriber(subscriber,this.closingSelector))},WindowOperator}(),WindowSubscriber=function(_super){function WindowSubscriber(destination,closingSelector){_super.call(this,destination),this.destination=destination,this.closingSelector=closingSelector,this.openWindow()}return __extends(WindowSubscriber,_super),WindowSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.openWindow(innerSub)},WindowSubscriber.prototype.notifyError=function(error,innerSub){this._error(error)},WindowSubscriber.prototype.notifyComplete=function(innerSub){this.openWindow(innerSub)},WindowSubscriber.prototype._next=function(value){this.window.next(value)},WindowSubscriber.prototype._error=function(err){this.window.error(err),this.destination.error(err),this.unsubscribeClosingNotification()},WindowSubscriber.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},WindowSubscriber.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},WindowSubscriber.prototype.openWindow=function(innerSub){void 0===innerSub&&(innerSub=null),innerSub&&(this.remove(innerSub),innerSub.unsubscribe());var prevWindow=this.window;prevWindow&&prevWindow.complete();var window=this.window=new Subject_1.Subject;this.destination.next(window);var closingNotifier=tryCatch_1.tryCatch(this.closingSelector)();if(closingNotifier===errorObject_1.errorObject){var err=errorObject_1.errorObject.e;this.destination.error(err),this.window.error(err)}else this.add(this.closingNotification=subscribeToResult_1.subscribeToResult(this,closingNotifier))},WindowSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function withLatestFrom(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];var project;"function"==typeof args[args.length-1]&&(project=args.pop());var observables=args;return this.lift(new WithLatestFromOperator(observables,project))}var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__(5),subscribeToResult_1=__webpack_require__(6);exports.withLatestFrom=withLatestFrom;var WithLatestFromOperator=function(){function WithLatestFromOperator(observables,project){this.observables=observables,this.project=project}return WithLatestFromOperator.prototype.call=function(subscriber,source){return source.subscribe(new WithLatestFromSubscriber(subscriber,this.observables,this.project))},WithLatestFromOperator}(),WithLatestFromSubscriber=function(_super){function WithLatestFromSubscriber(destination,observables,project){_super.call(this,destination),this.observables=observables,this.project=project,this.toRespond=[];var len=observables.length;this.values=new Array(len);for(var i=0;i<len;i++)this.toRespond.push(i);for(var i=0;i<len;i++){var observable=observables[i];this.add(subscribeToResult_1.subscribeToResult(this,observable,observable,i))}}return __extends(WithLatestFromSubscriber,_super),WithLatestFromSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.values[outerIndex]=innerValue;var toRespond=this.toRespond;if(toRespond.length>0){var found=toRespond.indexOf(outerIndex);found!==-1&&toRespond.splice(found,1)}},WithLatestFromSubscriber.prototype.notifyComplete=function(){},WithLatestFromSubscriber.prototype._next=function(value){if(0===this.toRespond.length){var args=[value].concat(this.values);this.project?this._tryProject(args):this.destination.next(args)}},WithLatestFromSubscriber.prototype._tryProject=function(args){var result;try{result=this.project.apply(this,args)}catch(err){return void this.destination.error(err)}this.destination.next(result)},WithLatestFromSubscriber}(OuterSubscriber_1.OuterSubscriber)},function(module,exports,__webpack_require__){"use strict";function zipAll(project){return this.lift(new zip_1.ZipOperator(project))}var zip_1=__webpack_require__(120);exports.zipAll=zipAll},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscription_1=__webpack_require__(12),Action=function(_super){function Action(scheduler,work){_super.call(this)}return __extends(Action,_super),Action.prototype.schedule=function(state,delay){return void 0===delay&&(delay=0),this},Action}(Subscription_1.Subscription);exports.Action=Action},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AsyncAction_1=__webpack_require__(54),AnimationFrame_1=__webpack_require__(1007),AnimationFrameAction=function(_super){function AnimationFrameAction(scheduler,work){_super.call(this,scheduler,work),this.scheduler=scheduler,this.work=work}return __extends(AnimationFrameAction,_super),AnimationFrameAction.prototype.requestAsyncId=function(scheduler,id,delay){return void 0===delay&&(delay=0),null!==delay&&delay>0?_super.prototype.requestAsyncId.call(this,scheduler,id,delay):(scheduler.actions.push(this),scheduler.scheduled||(scheduler.scheduled=AnimationFrame_1.AnimationFrame.requestAnimationFrame(scheduler.flush.bind(scheduler,null))))},AnimationFrameAction.prototype.recycleAsyncId=function(scheduler,id,delay){return void 0===delay&&(delay=0),null!==delay&&delay>0||null===delay&&this.delay>0?_super.prototype.recycleAsyncId.call(this,scheduler,id,delay):void(0===scheduler.actions.length&&(AnimationFrame_1.AnimationFrame.cancelAnimationFrame(id),scheduler.scheduled=void 0))},AnimationFrameAction}(AsyncAction_1.AsyncAction);exports.AnimationFrameAction=AnimationFrameAction},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AsyncScheduler_1=__webpack_require__(55),AnimationFrameScheduler=function(_super){function AnimationFrameScheduler(){_super.apply(this,arguments)}return __extends(AnimationFrameScheduler,_super),AnimationFrameScheduler.prototype.flush=function(action){this.active=!0,this.scheduled=void 0;var error,actions=this.actions,index=-1,count=actions.length;action=action||actions.shift();do if(error=action.execute(action.state,action.delay))break;while(++index<count&&(action=actions.shift()));if(this.active=!1,error){for(;++index<count&&(action=actions.shift());)action.unsubscribe();throw error}},AnimationFrameScheduler}(AsyncScheduler_1.AsyncScheduler);exports.AnimationFrameScheduler=AnimationFrameScheduler},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Immediate_1=__webpack_require__(1009),AsyncAction_1=__webpack_require__(54),AsapAction=function(_super){function AsapAction(scheduler,work){_super.call(this,scheduler,work),this.scheduler=scheduler,this.work=work}return __extends(AsapAction,_super),AsapAction.prototype.requestAsyncId=function(scheduler,id,delay){return void 0===delay&&(delay=0),null!==delay&&delay>0?_super.prototype.requestAsyncId.call(this,scheduler,id,delay):(scheduler.actions.push(this),scheduler.scheduled||(scheduler.scheduled=Immediate_1.Immediate.setImmediate(scheduler.flush.bind(scheduler,null))))},AsapAction.prototype.recycleAsyncId=function(scheduler,id,delay){return void 0===delay&&(delay=0),null!==delay&&delay>0||null===delay&&this.delay>0?_super.prototype.recycleAsyncId.call(this,scheduler,id,delay):void(0===scheduler.actions.length&&(Immediate_1.Immediate.clearImmediate(id),scheduler.scheduled=void 0))},AsapAction}(AsyncAction_1.AsyncAction);exports.AsapAction=AsapAction},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AsyncScheduler_1=__webpack_require__(55),AsapScheduler=function(_super){function AsapScheduler(){_super.apply(this,arguments)}return __extends(AsapScheduler,_super),AsapScheduler.prototype.flush=function(action){this.active=!0,this.scheduled=void 0;var error,actions=this.actions,index=-1,count=actions.length;action=action||actions.shift();do if(error=action.execute(action.state,action.delay))break;while(++index<count&&(action=actions.shift()));if(this.active=!1,error){for(;++index<count&&(action=actions.shift());)action.unsubscribe();throw error}},AsapScheduler}(AsyncScheduler_1.AsyncScheduler);exports.AsapScheduler=AsapScheduler},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AsyncAction_1=__webpack_require__(54),QueueAction=function(_super){function QueueAction(scheduler,work){_super.call(this,scheduler,work),this.scheduler=scheduler,this.work=work}return __extends(QueueAction,_super),QueueAction.prototype.schedule=function(state,delay){return void 0===delay&&(delay=0),delay>0?_super.prototype.schedule.call(this,state,delay):(this.delay=delay,this.state=state,this.scheduler.flush(this),this)},QueueAction.prototype.execute=function(state,delay){return delay>0||this.closed?_super.prototype.execute.call(this,state,delay):this._execute(state,delay)},QueueAction.prototype.requestAsyncId=function(scheduler,id,delay){return void 0===delay&&(delay=0),null!==delay&&delay>0||null===delay&&this.delay>0?_super.prototype.requestAsyncId.call(this,scheduler,id,delay):scheduler.flush(this)},QueueAction}(AsyncAction_1.AsyncAction);exports.QueueAction=QueueAction},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AsyncScheduler_1=__webpack_require__(55),QueueScheduler=function(_super){function QueueScheduler(){_super.apply(this,arguments)}return __extends(QueueScheduler,_super),
QueueScheduler}(AsyncScheduler_1.AsyncScheduler);exports.QueueScheduler=QueueScheduler},function(module,exports,__webpack_require__){"use strict";var AnimationFrameAction_1=__webpack_require__(997),AnimationFrameScheduler_1=__webpack_require__(998);exports.animationFrame=new AnimationFrameScheduler_1.AnimationFrameScheduler(AnimationFrameAction_1.AnimationFrameAction)},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(1),Subscription_1=__webpack_require__(12),SubscriptionLoggable_1=__webpack_require__(256),applyMixins_1=__webpack_require__(259),ColdObservable=function(_super){function ColdObservable(messages,scheduler){_super.call(this,function(subscriber){var observable=this,index=observable.logSubscribedFrame();return subscriber.add(new Subscription_1.Subscription(function(){observable.logUnsubscribedFrame(index)})),observable.scheduleMessages(subscriber),subscriber}),this.messages=messages,this.subscriptions=[],this.scheduler=scheduler}return __extends(ColdObservable,_super),ColdObservable.prototype.scheduleMessages=function(subscriber){for(var messagesLength=this.messages.length,i=0;i<messagesLength;i++){var message=this.messages[i];subscriber.add(this.scheduler.schedule(function(_a){var message=_a.message,subscriber=_a.subscriber;message.notification.observe(subscriber)},message.frame,{message:message,subscriber:subscriber}))}},ColdObservable}(Observable_1.Observable);exports.ColdObservable=ColdObservable,applyMixins_1.applyMixins(ColdObservable,[SubscriptionLoggable_1.SubscriptionLoggable])},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__(13),Subscription_1=__webpack_require__(12),SubscriptionLoggable_1=__webpack_require__(256),applyMixins_1=__webpack_require__(259),HotObservable=function(_super){function HotObservable(messages,scheduler){_super.call(this),this.messages=messages,this.subscriptions=[],this.scheduler=scheduler}return __extends(HotObservable,_super),HotObservable.prototype._subscribe=function(subscriber){var subject=this,index=subject.logSubscribedFrame();return subscriber.add(new Subscription_1.Subscription(function(){subject.logUnsubscribedFrame(index)})),_super.prototype._subscribe.call(this,subscriber)},HotObservable.prototype.setup=function(){for(var subject=this,messagesLength=subject.messages.length,i=0;i<messagesLength;i++)!function(){var message=subject.messages[i];subject.scheduler.schedule(function(){message.notification.observe(subject)},message.frame)}()},HotObservable}(Subject_1.Subject);exports.HotObservable=HotObservable,applyMixins_1.applyMixins(HotObservable,[SubscriptionLoggable_1.SubscriptionLoggable])},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__(1),Notification_1=__webpack_require__(53),ColdObservable_1=__webpack_require__(1004),HotObservable_1=__webpack_require__(1005),SubscriptionLog_1=__webpack_require__(255),VirtualTimeScheduler_1=__webpack_require__(252),defaultMaxFrame=750,TestScheduler=function(_super){function TestScheduler(assertDeepEqual){_super.call(this,VirtualTimeScheduler_1.VirtualAction,defaultMaxFrame),this.assertDeepEqual=assertDeepEqual,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return __extends(TestScheduler,_super),TestScheduler.prototype.createTime=function(marbles){var indexOf=marbles.indexOf("|");if(indexOf===-1)throw new Error('marble diagram for time should have a completion marker "|"');return indexOf*TestScheduler.frameTimeFactor},TestScheduler.prototype.createColdObservable=function(marbles,values,error){if(marbles.indexOf("^")!==-1)throw new Error('cold observable cannot have subscription offset "^"');if(marbles.indexOf("!")!==-1)throw new Error('cold observable cannot have unsubscription marker "!"');var messages=TestScheduler.parseMarbles(marbles,values,error),cold=new ColdObservable_1.ColdObservable(messages,this);return this.coldObservables.push(cold),cold},TestScheduler.prototype.createHotObservable=function(marbles,values,error){if(marbles.indexOf("!")!==-1)throw new Error('hot observable cannot have unsubscription marker "!"');var messages=TestScheduler.parseMarbles(marbles,values,error),subject=new HotObservable_1.HotObservable(messages,this);return this.hotObservables.push(subject),subject},TestScheduler.prototype.materializeInnerObservable=function(observable,outerFrame){var _this=this,messages=[];return observable.subscribe(function(value){messages.push({frame:_this.frame-outerFrame,notification:Notification_1.Notification.createNext(value)})},function(err){messages.push({frame:_this.frame-outerFrame,notification:Notification_1.Notification.createError(err)})},function(){messages.push({frame:_this.frame-outerFrame,notification:Notification_1.Notification.createComplete()})}),messages},TestScheduler.prototype.expectObservable=function(observable,unsubscriptionMarbles){var _this=this;void 0===unsubscriptionMarbles&&(unsubscriptionMarbles=null);var subscription,actual=[],flushTest={actual:actual,ready:!1},unsubscriptionFrame=TestScheduler.parseMarblesAsSubscriptions(unsubscriptionMarbles).unsubscribedFrame;return this.schedule(function(){subscription=observable.subscribe(function(x){var value=x;x instanceof Observable_1.Observable&&(value=_this.materializeInnerObservable(value,_this.frame)),actual.push({frame:_this.frame,notification:Notification_1.Notification.createNext(value)})},function(err){actual.push({frame:_this.frame,notification:Notification_1.Notification.createError(err)})},function(){actual.push({frame:_this.frame,notification:Notification_1.Notification.createComplete()})})},0),unsubscriptionFrame!==Number.POSITIVE_INFINITY&&this.schedule(function(){return subscription.unsubscribe()},unsubscriptionFrame),this.flushTests.push(flushTest),{toBe:function(marbles,values,errorValue){flushTest.ready=!0,flushTest.expected=TestScheduler.parseMarbles(marbles,values,errorValue,!0)}}},TestScheduler.prototype.expectSubscriptions=function(actualSubscriptionLogs){var flushTest={actual:actualSubscriptionLogs,ready:!1};return this.flushTests.push(flushTest),{toBe:function(marbles){var marblesArray="string"==typeof marbles?[marbles]:marbles;flushTest.ready=!0,flushTest.expected=marblesArray.map(function(marbles){return TestScheduler.parseMarblesAsSubscriptions(marbles)})}}},TestScheduler.prototype.flush=function(){for(var hotObservables=this.hotObservables;hotObservables.length>0;)hotObservables.shift().setup();_super.prototype.flush.call(this);for(var readyFlushTests=this.flushTests.filter(function(test){return test.ready});readyFlushTests.length>0;){var test=readyFlushTests.shift();this.assertDeepEqual(test.actual,test.expected)}},TestScheduler.parseMarblesAsSubscriptions=function(marbles){if("string"!=typeof marbles)return new SubscriptionLog_1.SubscriptionLog(Number.POSITIVE_INFINITY);for(var len=marbles.length,groupStart=-1,subscriptionFrame=Number.POSITIVE_INFINITY,unsubscriptionFrame=Number.POSITIVE_INFINITY,i=0;i<len;i++){var frame=i*this.frameTimeFactor,c=marbles[i];switch(c){case"-":case" ":break;case"(":groupStart=frame;break;case")":groupStart=-1;break;case"^":if(subscriptionFrame!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");subscriptionFrame=groupStart>-1?groupStart:frame;break;case"!":if(unsubscriptionFrame!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");unsubscriptionFrame=groupStart>-1?groupStart:frame;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+c+"'.")}}return unsubscriptionFrame<0?new SubscriptionLog_1.SubscriptionLog(subscriptionFrame):new SubscriptionLog_1.SubscriptionLog(subscriptionFrame,unsubscriptionFrame)},TestScheduler.parseMarbles=function(marbles,values,errorValue,materializeInnerObservables){if(void 0===materializeInnerObservables&&(materializeInnerObservables=!1),marbles.indexOf("!")!==-1)throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var len=marbles.length,testMessages=[],subIndex=marbles.indexOf("^"),frameOffset=subIndex===-1?0:subIndex*-this.frameTimeFactor,getValue="object"!=typeof values?function(x){return x}:function(x){return materializeInnerObservables&&values[x]instanceof ColdObservable_1.ColdObservable?values[x].messages:values[x]},groupStart=-1,i=0;i<len;i++){var frame=i*this.frameTimeFactor+frameOffset,notification=void 0,c=marbles[i];switch(c){case"-":case" ":break;case"(":groupStart=frame;break;case")":groupStart=-1;break;case"|":notification=Notification_1.Notification.createComplete();break;case"^":break;case"#":notification=Notification_1.Notification.createError(errorValue||"error");break;default:notification=Notification_1.Notification.createNext(getValue(c))}notification&&testMessages.push({frame:groupStart>-1?groupStart:frame,notification:notification})}return testMessages},TestScheduler}(VirtualTimeScheduler_1.VirtualTimeScheduler);exports.TestScheduler=TestScheduler},function(module,exports,__webpack_require__){"use strict";var root_1=__webpack_require__(15),RequestAnimationFrameDefinition=function(){function RequestAnimationFrameDefinition(root){root.requestAnimationFrame?(this.cancelAnimationFrame=root.cancelAnimationFrame.bind(root),this.requestAnimationFrame=root.requestAnimationFrame.bind(root)):root.mozRequestAnimationFrame?(this.cancelAnimationFrame=root.mozCancelAnimationFrame.bind(root),this.requestAnimationFrame=root.mozRequestAnimationFrame.bind(root)):root.webkitRequestAnimationFrame?(this.cancelAnimationFrame=root.webkitCancelAnimationFrame.bind(root),this.requestAnimationFrame=root.webkitRequestAnimationFrame.bind(root)):root.msRequestAnimationFrame?(this.cancelAnimationFrame=root.msCancelAnimationFrame.bind(root),this.requestAnimationFrame=root.msRequestAnimationFrame.bind(root)):root.oRequestAnimationFrame?(this.cancelAnimationFrame=root.oCancelAnimationFrame.bind(root),this.requestAnimationFrame=root.oRequestAnimationFrame.bind(root)):(this.cancelAnimationFrame=root.clearTimeout.bind(root),this.requestAnimationFrame=function(cb){return root.setTimeout(cb,1e3/60)})}return RequestAnimationFrameDefinition}();exports.RequestAnimationFrameDefinition=RequestAnimationFrameDefinition,exports.AnimationFrame=new RequestAnimationFrameDefinition(root_1.root)},function(module,exports,__webpack_require__){"use strict";var FastMap=function(){function FastMap(){this.values={}}return FastMap.prototype.delete=function(key){return this.values[key]=null,!0},FastMap.prototype.set=function(key,value){return this.values[key]=value,this},FastMap.prototype.get=function(key){return this.values[key]},FastMap.prototype.forEach=function(cb,thisArg){var values=this.values;for(var key in values)values.hasOwnProperty(key)&&null!==values[key]&&cb.call(thisArg,values[key],key)},FastMap.prototype.clear=function(){this.values={}},FastMap}();exports.FastMap=FastMap},function(module,exports,__webpack_require__){"use strict";(function(clearImmediate,setImmediate){var root_1=__webpack_require__(15),ImmediateDefinition=function(){function ImmediateDefinition(root){if(this.root=root,root.setImmediate&&"function"==typeof root.setImmediate)this.setImmediate=root.setImmediate.bind(root),this.clearImmediate=root.clearImmediate.bind(root);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var ci=function clearImmediate(handle){delete clearImmediate.instance.tasksByHandle[handle]};ci.instance=this,this.clearImmediate=ci}}return ImmediateDefinition.prototype.identify=function(o){return this.root.Object.prototype.toString.call(o)},ImmediateDefinition.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},ImmediateDefinition.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},ImmediateDefinition.prototype.canUseReadyStateChange=function(){var document=this.root.document;return Boolean(document&&"onreadystatechange"in document.createElement("script"))},ImmediateDefinition.prototype.canUsePostMessage=function(){var root=this.root;if(root.postMessage&&!root.importScripts){var postMessageIsAsynchronous_1=!0,oldOnMessage=root.onmessage;return root.onmessage=function(){postMessageIsAsynchronous_1=!1},root.postMessage("","*"),root.onmessage=oldOnMessage,postMessageIsAsynchronous_1}return!1},ImmediateDefinition.prototype.partiallyApplied=function(handler){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var fn=function result(){var _a=result,handler=_a.handler,args=_a.args;"function"==typeof handler?handler.apply(void 0,args):new Function(""+handler)()};return fn.handler=handler,fn.args=args,fn},ImmediateDefinition.prototype.addFromSetImmediateArguments=function(args){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,args),this.nextHandle++},ImmediateDefinition.prototype.createProcessNextTickSetImmediate=function(){var fn=function setImmediate(){var instance=setImmediate.instance,handle=instance.addFromSetImmediateArguments(arguments);return instance.root.process.nextTick(instance.partiallyApplied(instance.runIfPresent,handle)),handle};return fn.instance=this,fn},ImmediateDefinition.prototype.createPostMessageSetImmediate=function(){var root=this.root,messagePrefix="setImmediate$"+root.Math.random()+"$",onGlobalMessage=function globalMessageHandler(event){var instance=globalMessageHandler.instance;event.source===root&&"string"==typeof event.data&&0===event.data.indexOf(messagePrefix)&&instance.runIfPresent(+event.data.slice(messagePrefix.length))};onGlobalMessage.instance=this,root.addEventListener("message",onGlobalMessage,!1);var fn=function setImmediate(){var _a=setImmediate,messagePrefix=_a.messagePrefix,instance=_a.instance,handle=instance.addFromSetImmediateArguments(arguments);return instance.root.postMessage(messagePrefix+handle,"*"),handle};return fn.instance=this,fn.messagePrefix=messagePrefix,fn},ImmediateDefinition.prototype.runIfPresent=function(handle){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,handle),0);else{var task=this.tasksByHandle[handle];if(task){this.currentlyRunningATask=!0;try{task()}finally{this.clearImmediate(handle),this.currentlyRunningATask=!1}}}},ImmediateDefinition.prototype.createMessageChannelSetImmediate=function(){var _this=this,channel=new this.root.MessageChannel;channel.port1.onmessage=function(event){var handle=event.data;_this.runIfPresent(handle)};var fn=function setImmediate(){var _a=setImmediate,channel=_a.channel,instance=_a.instance,handle=instance.addFromSetImmediateArguments(arguments);return channel.port2.postMessage(handle),handle};return fn.channel=channel,fn.instance=this,fn},ImmediateDefinition.prototype.createReadyStateChangeSetImmediate=function(){var fn=function setImmediate(){var instance=setImmediate.instance,root=instance.root,doc=root.document,html=doc.documentElement,handle=instance.addFromSetImmediateArguments(arguments),script=doc.createElement("script");return script.onreadystatechange=function(){instance.runIfPresent(handle),script.onreadystatechange=null,html.removeChild(script),script=null},html.appendChild(script),handle};return fn.instance=this,fn},ImmediateDefinition.prototype.createSetTimeoutSetImmediate=function(){var fn=function setImmediate(){var instance=setImmediate.instance,handle=instance.addFromSetImmediateArguments(arguments);return instance.root.setTimeout(instance.partiallyApplied(instance.runIfPresent,handle),0),handle};return fn.instance=this,fn},ImmediateDefinition}();exports.ImmediateDefinition=ImmediateDefinition,exports.Immediate=new ImmediateDefinition(root_1.root)}).call(exports,__webpack_require__(123).clearImmediate,__webpack_require__(123).setImmediate)},function(module,exports,__webpack_require__){"use strict";var root_1=__webpack_require__(15),MapPolyfill_1=__webpack_require__(1011);exports.Map=root_1.root.Map||function(){return MapPolyfill_1.MapPolyfill}()},function(module,exports,__webpack_require__){"use strict";var MapPolyfill=function(){function MapPolyfill(){this.size=0,this._values=[],this._keys=[]}return MapPolyfill.prototype.get=function(key){var i=this._keys.indexOf(key);return i===-1?void 0:this._values[i]},MapPolyfill.prototype.set=function(key,value){var i=this._keys.indexOf(key);return i===-1?(this._keys.push(key),this._values.push(value),this.size++):this._values[i]=value,this},MapPolyfill.prototype.delete=function(key){var i=this._keys.indexOf(key);return i!==-1&&(this._values.splice(i,1),this._keys.splice(i,1),this.size--,!0)},MapPolyfill.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},MapPolyfill.prototype.forEach=function(cb,thisArg){for(var i=0;i<this.size;i++)cb.call(thisArg,this._values[i],this._keys[i])},MapPolyfill}();exports.MapPolyfill=MapPolyfill},function(module,exports,__webpack_require__){"use strict";function minimalSetImpl(){return function(){function MinimalSet(){this._values=[]}return MinimalSet.prototype.add=function(value){this.has(value)||this._values.push(value)},MinimalSet.prototype.has=function(value){return this._values.indexOf(value)!==-1},Object.defineProperty(MinimalSet.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),MinimalSet.prototype.clear=function(){this._values.length=0},MinimalSet}()}var root_1=__webpack_require__(15);exports.minimalSetImpl=minimalSetImpl,exports.Set=root_1.root.Set||minimalSetImpl()},function(module,exports,__webpack_require__){"use strict";function assignImpl(target){for(var sources=[],_i=1;_i<arguments.length;_i++)sources[_i-1]=arguments[_i];for(var len=sources.length,i=0;i<len;i++){var source=sources[i];for(var k in source)source.hasOwnProperty(k)&&(target[k]=source[k])}return target}function getAssign(root){return root.Object.assign||assignImpl}var root_1=__webpack_require__(15);exports.assignImpl=assignImpl,exports.getAssign=getAssign,exports.assign=getAssign(root_1.root)},function(module,exports,__webpack_require__){"use strict";function not(pred,thisArg){function notPred(){return!notPred.pred.apply(notPred.thisArg,arguments)}return notPred.pred=pred,notPred.thisArg=thisArg,notPred}exports.not=not},function(module,exports,__webpack_require__){"use strict";function toSubscriber(nextOrObserver,error,complete){if(nextOrObserver){if(nextOrObserver instanceof Subscriber_1.Subscriber)return nextOrObserver;if(nextOrObserver[rxSubscriber_1.$$rxSubscriber])return nextOrObserver[rxSubscriber_1.$$rxSubscriber]()}return nextOrObserver||error||complete?new Subscriber_1.Subscriber(nextOrObserver,error,complete):new Subscriber_1.Subscriber(Observer_1.empty)}var Subscriber_1=__webpack_require__(3),rxSubscriber_1=__webpack_require__(82),Observer_1=__webpack_require__(236);exports.toSubscriber=toSubscriber},function(module,exports){/*!
* screenfull
* v3.2.0 - 2017-04-16
* (c) Sindre Sorhus; MIT License
*/
!function(){"use strict";var document="undefined"==typeof window?{}:window.document,isCommonjs="undefined"!=typeof module&&module.exports,keyboardAllowed="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,fn=function(){for(var val,fnMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,l=fnMap.length,ret={};i<l;i++)if(val=fnMap[i],val&&val[1]in document){for(i=0;i<val.length;i++)ret[fnMap[0][i]]=val[i];return ret}return!1}(),screenfull={request:function(elem){var request=fn.requestFullscreen;elem=elem||document.documentElement,/5\.1[.\d]* Safari/.test(navigator.userAgent)?elem[request]():elem[request](keyboardAllowed&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[fn.exitFullscreen]()},toggle:function(elem){this.isFullscreen?this.exit():this.request(elem)},onchange:function(callback){document.addEventListener(fn.fullscreenchange,callback,!1)},onerror:function(callback){document.addEventListener(fn.fullscreenerror,callback,!1)},raw:fn};return fn?(Object.defineProperties(screenfull,{isFullscreen:{get:function(){return Boolean(document[fn.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[fn.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[fn.fullscreenEnabled])}}}),void(isCommonjs?module.exports=screenfull:window.screenfull=screenfull)):void(isCommonjs?module.exports=!1:window.screenfull=!1)}()},function(module,exports,__webpack_require__){(function(setImmediate){var tick,si="function"==typeof setImmediate;tick=si?function(fn){setImmediate(fn)}:function(fn){setTimeout(fn,0)},module.exports=tick}).call(exports,__webpack_require__(123).setImmediate)},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/common/autocomplete/users/user-autocomplete-item.html",'<li ng-attr-data-value="{{ ::value }}" class="ui-menu-item">\n  <div class="ui-menu-item-wrapper">\n    <a href\n       tabindex="-1"\n       ng-attr-title="{{ ::watcher.name}}">\n      <img ng-attr-src="{{ ::watcher.avatar }}"\n           ng-attr-alt="{{ ::watchername }}"\n           ng-show="watcher.avatar"\n           class="avatar-mini">\n      <span class="work-package--watcher-name"\n            ng-bind="::value"></span>\n    </a>\n  </div>\n</li>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/common/collapsible-section/collapsible-section.directive.html",'<section class="collapsible-section" ng-class="{ \'-expanded\': $ctrl.expanded }">\n  <accessible-by-keyboard execute="$ctrl.toggle()"\n                          link-aria-label="{{ ::$ctrl.sectionTitle }}"\n                          link-class="collapsible-section--toggle-link"\n                          span-class="collapsible-section--legend">\n    <span ng-bind="::$ctrl.sectionTitle"></span>\n  </accessible-by-keyboard>\n  <div class="collapsible-section--body toggle-slide-animation" ng-show="$ctrl.expanded">\n    <ng-transclude></ng-transclude>\n  </div>\n</section>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/common/edit-actions-bar/edit-actions-bar.directive.html",'<div class="work-packages--edit-actions">\n  <button\n      id="work-packages--edit-actions-save"\n      class="button -alt-highlight"\n      accesskey="3"\n      ng-disabled="$ctrl.saving"\n      ng-click="$ctrl.save()">\n    <op-icon icon-classes="button--icon icon-checkmark"></op-icon>\n    <span class="button--text" ng-bind="::$ctrl.text.save"></span>\n  </button>\n  <button\n      id="work-packages--edit-actions-cancel"\n      class="button"\n      accesskey="7"\n      ng-click="$ctrl.cancel()">\n    <op-icon icon-classes="button--icon icon-close"></op-icon>\n    <span class="button--text" ng-bind="::$ctrl.text.cancel"></span>\n  </button>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/common/help-texts/help-text.directive.html",'<accessible-by-keyboard execute="$ctrl.handleClick()"\n                        ng-if="$ctrl.exists"\n                        link-aria-label="{{ ::$ctrl.text.open_dialog }}"\n                        link-class="icon help-text--entry help-text--for-{{ ::$ctrl.attribute }}">\n  <op-icon icon-classes="icon icon-help1"></op-icon>\n  {{ $ctrl.additionalLabel }}\n</accessible-by-keyboard>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/common/help-texts/help-text.modal.html",'<div class="attribute-help-text--modal">\n  <div>\n    <div class="modal--header">\n      <span class="icon-context icon-help1"></span>\n      <h2 class="ellipsis" ng-bind="::resource.attributeCaption"></h2>\n    </div>\n\n    <div class="modal--main -formattable"\n         tabindex="0"\n         ng-bind-html="::resource.helpText.html">\n    </div>\n\n    <div class="modal--footer">\n      <a class="help-text--edit-button button"\n         ng-if="resource.editText"\n         ng-attr-href="{{ resource.editText && resource.editText.$link.href }}"\n         ng-attr-title="{{ ::text.edit }}">\n        <op-icon icon-classes="button--icon icon-edit"></op-icon>\n        <span class="button--text" ng-bind="::text.edit"></span>\n      </a>\n    </div>\n  </div>\n\n  <a class="ngdialog-close"\n     href=""\n     title="{{ ::text.close }}"\n     ng-click="close($event)">\n  </a>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/common/notification-box/notification-box.directive.html",'<div class="notification-box{{\' -\' + content.type}}"  tabindex="0">\n  <div class="notification-box--content" role="alert" aria-atomic="true">\n    <p>\n      <span>{{::content.message}}</span>\n      <a class="notification-box--target-link"\n         ng-click="executeTarget()"\n         ng-if="!!content.link"\n         ng-bind="content.link.text">\n      </a>\n    </p>\n    <div data-ng-switch="content.type" data-ng-if="typeable()">\n      <div data-ng-switch-when="upload">\n        <div data-ng-show="canBeHidden()">\n          <a data-ng-click="show = true" data-ng-hide="show">\n            <op-icon icon-classes="icon-arrow-right2"></op-icon>\n          </a>\n          <a data-ng-click="show = false" data-ng-show="show">\n            <op-icon icon-classes="icon-arrow-down1"></op-icon>\n          </a>\n          <span>\n            {{::I18n.t(\'js.label_upload_counter\', { done: uploadCount, count: content.uploads.length})}}\n          </span>\n        </div>\n        <div data-ng-show="show || !canBeHidden()">\n          <ul class="notification-box--uploads" data-ng-show="content.uploads.length > 0">\n            <upload-progress data-upload="upload" data-ng-repeat="upload in content.uploads"></upload-progress>\n          </ul>\n        </div>\n      </div>\n      <div data-ng-switch-when="success">\n        <!-- "create another" button -->\n      </div>\n      <div data-ng-switch-when="error">\n        <ul class="notification-box--errors">\n          <li data-ng-repeat="error in content.errors track by $index">{{error}}</li>\n        </ul>\n        <!-- "continue editing" button -->\n      </div>\n    </div>\n  </div>\n  <accessible-by-keyboard ng-if="removable()"\n                          execute="remove()"\n                          link-title="{{ ::I18n.t(\'js.close_popup_title\') }}"\n                          link-class="notification-box--close icon-context icon-close">\n  </accessible-by-keyboard>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/context-menus/column-context-menu/column-context-menu.template.html",'<div id="column-context-menu"\n     class="dropdown-relative dropdown action-menu"\n     ng-class="{\'dropdown-anchor-right\': column && column.id !== \'id\'}">\n  <ul class="dropdown-menu">\n    <li ng-if="isSortable">\n      <a class="menu-item" focus href="" ng-click="sortAscending()">\n        <op-icon icon-classes="icon-action-menu icon-sort-ascending"></op-icon>\n        <span ng-bind="text.sortAscending"/>\n      </a>\n    </li>\n\n    <li ng-if="isSortable">\n      <a class="menu-item" href="" ng-click="sortDescending()">\n        <op-icon icon-classes="icon-action-menu icon-sort-descending"></op-icon>\n        <span ng-bind="text.sortDescending"/>\n      </a>\n    </li>\n\n    <li ng-if="isGroupable">\n      <a class="menu-item"\n         focus="focusFeature(\'group\')"\n         href=""\n         ng-click="groupBy()">\n        <op-icon icon-classes="icon-action-menu icon-group-by"></op-icon>\n        <span ng-bind="text.groupBy"/>\n      </a>\n    </li>\n\n    <li ng-if="canMoveLeft()">\n      <a class="menu-item" focus="focusFeature(\'moveLeft\')" href="" ng-click="moveLeft()">\n        <op-icon icon-classes="icon-action-menu icon-column-left"></op-icon>\n        <span ng-bind="text.moveLeft"/>\n      </a>\n    </li>\n\n    <li ng-if="canMoveRight()">\n      <a class="menu-item" focus="focusFeature(\'moveRight\')" href="" ng-click="moveRight()">\n        <op-icon icon-classes="icon-action-menu icon-column-right"></op-icon>\n        <span ng-bind="text.moveRight"/>\n      </a>\n    </li>\n\n    <li ng-if="canBeHidden()">\n      <a class="menu-item" focus="focusFeature(\'hide\')" href="" ng-click="hideColumn()">\n        <op-icon icon-classes="icon-action-menu icon-delete"></op-icon>\n        <span ng-bind="text.hide"/>\n      </a>\n    </li>\n\n    <li>\n      <a class="menu-item" focus="focusFeature(\'insert\')" href="" ng-click="insertColumns()">\n        <op-icon icon-classes="icon-action-menu icon-columns"></op-icon>\n        <span ng-bind="text.insert"/>\n      </a>\n    </li>\n  </ul>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/context-menus/create-wp-menu/create-wp-menu.service.html",'<div class="dropdown dropdown-relative dropdown-anchor-right dropdownToolbar" id="createWpDropdown">\n  <ul class="dropdown-menu" ng-class="{ \'-empty\': !queryCustomFields && !configureFormLink }">\n    <li ng-if="queryCustomFields"><a class="menu-item" href="{{queryCustomFields.href}}">\n      <i class="icon-action-menu icon-custom-fields"></i>{{ queryCustomFields.name }}</a>\n    </li>\n    <li ng-if="configureFormLink"><a class="menu-item" href="{{configureFormLink.href}}">\n      <i class="icon-action-menu icon-settings3"></i>{{ configureFormLink.name }}</a>\n    </li>\n  </ul>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/context-menus/settings-menu/settings-menu.service.html",'<div class="dropdown dropdown-relative dropdown-anchor-right dropdownToolbar" id="settingsDropdown">\n  <!-- The hrefs with empty URLs are necessary for IE10 to focus these links\n  properly. Thus, don\'t remove the hrefs or the empty URLs! -->\n  <ul class="dropdown-menu" ng-if="loading">\n    <li>\n      <span class="menu-item">\n        {{ text.loading }}\n      </span>\n    </li>\n  </ul>\n  <ul class="dropdown-menu" ng-if="!loading">\n    <li>\n      <a class="menu-item" href="" ng-click="showColumnsModal($event)">\n        <op-icon icon-classes="icon-action-menu icon-columns"></op-icon>\n        {{ I18n.t(\'js.toolbar.settings.columns\') }}</a>\n    </li>\n    <li><a class="menu-item" href="" ng-click="showSortingModal($event)">\n      <op-icon icon-classes="icon-action-menu icon-sort-by"></op-icon>\n      {{ I18n.t(\'js.toolbar.settings.sort_by\') }}</a></li>\n    <li>\n       <a class="menu-item"\n          href\n          ng-attr-title="{{ text.group_by_title() }}"\n          ng-click="showGroupingModal($event)">\n         <op-icon icon-classes="icon-action-menu icon-group-by"></op-icon>\n          {{ I18n.t(\'js.toolbar.settings.group_by\') }}\n       </a>\n    </li>\n    <li>\n      <a class="menu-item" href="" ng-click="toggleDisplaySums($event)">\n        <op-icon ng-if="displaySums" icon-classes="icon-action-menu icon-checkmark"></op-icon>\n        <op-icon ng-if="!displaySums" icon-classes="icon-action-menu no-icon"></op-icon>\n        <accessible-element visible-text="I18n.t(\'js.toolbar.settings.display_sums\')"\n                            readable-text="displaySumsLabel">\n        </accessible-element>\n      </a>\n    </li>\n    <li>\n      <a ng-if="displayHierarchies" class="menu-item" href ng-click="toggleHierarchies($event)">\n        <op-icon ng-if="displayHierarchies" icon-classes="icon-action-menu icon-hierarchy"></op-icon>\n        <span ng-bind="::I18n.t(\'js.toolbar.settings.hide_hierarchy\')"></span>\n      </a>\n      <a ng-if="!displayHierarchies"\n         ng-attr-title="{{ text.hierarchy_title() }}"\n         class="menu-item"\n         href\n         ng-click="toggleHierarchies($event)">\n        <op-icon ng-if="!displayHierarchies" icon-classes="icon-action-menu icon-no-hierarchy"></op-icon>\n        <span ng-bind="::I18n.t(\'js.toolbar.settings.display_hierarchy\')"></span>\n      </a>\n    </li>\n\n    <li class="dropdown-divider"></li>\n\n    <li><a class="menu-item" href="" ng-click="saveQuery($event)"\n           inaccessible-by-tab="saveQueryInvalid()"\n           ng-class="{\'inactive\': saveQueryInvalid()}">\n      <op-icon icon-classes="icon-action-menu icon-save"></op-icon>\n      {{ I18n.t(\'js.toolbar.settings.save\') }}</a>\n    </li>\n    <li><a class="menu-item" href="" ng-click="showSaveAsModal($event)"\n           inaccessible-by-tab="showSaveModalInvalid()"\n           ng-class="{\'inactive\': showSaveModalInvalid()}">\n      <op-icon icon-classes="icon-action-menu icon-save"></op-icon>\n      {{ I18n.t(\'js.toolbar.settings.save_as\') }}</a>\n    </li>\n    <li><a class="menu-item" href="" ng-click="deleteQuery($event)"\n           inaccessible-by-tab="deleteQueryInvalid()"\n           ng-class="{\'inactive\': deleteQueryInvalid()}">\n      <op-icon icon-classes="icon-action-menu icon-delete"></op-icon>\n      {{ I18n.t(\'js.toolbar.settings.delete\') }}</a>\n    </li>\n    <li><a class="menu-item" href="" ng-click="showExportModal($event)"\n           inaccessible-by-tab="showExportModalInvalid()"\n           ng-class="{\'inactive\': showExportModalInvalid()}">\n      <op-icon icon-classes="icon-action-menu icon-export"></op-icon>\n      {{ I18n.t(\'js.toolbar.settings.export\') }}</a>\n    </li>\n    <li><a class="menu-item" href="" ng-click="showShareModal($event)"\n           inaccessible-by-tab="showShareModalInvalid()"\n           ng-class="{\'inactive\': showShareModalInvalid()}">\n      <op-icon icon-classes="icon-action-menu icon-publish"></op-icon>\n      {{ I18n.t(\'js.toolbar.settings.publish\') }}</a>\n    </li>\n    <li><a class="menu-item" href="" ng-click="showSettingsModal($event)"\n           inaccessible-by-tab="showSettingsModalInvalid()"\n           ng-class="{\'inactive\': showSettingsModalInvalid()}">\n      <op-icon icon-classes="icon-action-menu icon-settings"></op-icon>\n      {{ I18n.t(\'js.toolbar.settings.page_settings\') }}</a>\n    </li>\n\n    <li class="dropdown-divider" ng-if="queryCustomFields || configureFormLink"></li>\n\n    <li ng-if="queryCustomFields">\n      <a class="menu-item" href="{{queryCustomFields.href}}">\n        <op-icon icon-classes="icon-action-menu icon-custom-fields"></op-icon>\n        {{ queryCustomFields.name }}\n      </a>\n    </li>\n  </ul>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/context-menus/types-context-menu/types-context-menu.service.html",'<div class="dropdown dropdown-relative dropdown-anchor-right dropdownToolbar -overflow-in-view"\n     id="types-context-menu">\n  <ul class="dropdown-menu" ng-class="{\'-empty\': $ctrl.types.length === 0 }">\n    <li ng-repeat="type in $ctrl.types">\n      <a class="menu-item" ui-sref="{{$ctrl.stateName}}({type: type.id})">\n        {{ type.name }}\n      </a>\n    </li>\n  </ul>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/context-menus/wp-context-menu/wp-context-menu.service.html",'<div id="work-package-context-menu" class="action-menu dropdown" role="menu">\n  <ul class="dropdown-menu">\n    <li ng-if="row.object.isNew" class="open detailsViewMenuItem">\n      <a role="menuitem" focus ng-click="cancelInlineCreate($index, row)">\n        <op-icon icon-classes="icon-action-menu icon-delete"></op-icon>\n        <span ng-bind="I18n.t(\'js.button_cancel\')"/>\n      </a>\n    </li>\n    <li ng-if="!row.object.isNew" class="open detailsViewMenuItem">\n      <a role="menuitem" focus ui-sref="work-packages.list.details.overview({workPackageId: workPackageId})">\n        <op-icon icon-classes="icon-action-menu icon-view-split"></op-icon>\n        <span ng-bind="I18n.t(\'js.button_open_details\')"/>\n      </a>\n    </li>\n    <li ng-if="!row.object.isNew" class="openFullScreenView">\n      <a role="menuitem" ui-sref="work-packages.show({workPackageId: workPackageId})">\n        <op-icon icon-classes="icon-action-menu icon-view-fullscreen"></op-icon>\n        <span ng-bind="I18n.t(\'js.button_open_fullscreen\')"/>\n      </a>\n    </li>\n    <li ng-repeat="action in permittedActions"\n        class="{{action.icon}}">\n      <a role="menuitem" href="" ng-click="triggerContextMenuAction(action.icon, action.link)">\n        <op-icon icon-classes="icon-action-menu icon-{{action.icon}}"></op-icon>\n        <span ng-bind="action.text"/>\n      </a>\n    </li>\n  </ul>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/filters/filter-boolean-value/filter-boolean-value.directive.html",'<div id="div-values-{{$ctrl.filter.name}}">\n\n  <select ng-model="$ctrl.value"\n          ng-options="$ctrl.text[value] for value in $ctrl.availableOptions"\n          class="advanced-filters--select-field"\n          id="values-{{$ctrl.filter.name}}"\n          name="v[{{$ctrl.filter.name}}]" >\n    <option value="" disabled ng-bind="::$ctrl.text.placeholder" ng-if="$ctrl.hasNoValue"></option>\n  </select>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/filters/filter-container/filter-container.directive.html",'<div class="work-packages--filters-optional-container" ng-show="wpFilters.visible">\n  <div id="query_form_content" class="hide-when-print">\n    <query-filters></query-filters>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/filters/filter-date-time-value/filter-date-time-value.directive.html",'<div class="inline-label" id="div-values-{{$ctrl.filter.id}}">\n  <op-date-picker>\n    <input ng-model="$ctrl.value"\n           ng-model-options="::$ctrl.filterDateModelOptions"\n           ng-required="true"\n           id="values-{{$ctrl.filter.id}}"\n           name="v[{{$ctrl.filter.id}}]"\n           class="advanced-filters--date-field"\n           size="10"\n           transform-date-utc\n           type="text"/>\n  </op-date-picker>\n  <span class="advanced-filters--tooltip-trigger -multiline"\n        data-tooltip="{{$ctrl.timeZoneText}}"\n        ng-if="$ctrl.isTimeZoneDifferent">\n    <op-icon icon-classes="icon icon-warning"></op-icon>\n  </span>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/filters/filter-date-times-value/filter-date-times-value.directive.html",'<div id="div-values-{{$ctrl.filter.id}}" class="inline-label">\n  <op-date-picker>\n    <input ng-model="$ctrl.begin"\n           ng-model-options="::$ctrl.filterDateModelOptions"\n           ng-required="true"\n           ng-disabled="isLoading"\n           id="values-{{$ctrl.filter.id}}-begin"\n           name="v[{{$ctrl.filter.id}}]-begin"\n           class="advanced-filters--date-field"\n           size="10"\n           transform-date-utc\n           type="text"/>\n  </op-date-picker>\n\n  <span class="advanced-filters--affix">\n    {{ ::$ctrl.I18n.t(\'js.filter.value_spacer\') }}\n  </span>\n\n  <op-date-picker>\n    <input ng-model="$ctrl.end"\n           ng-model-options="::$ctrl.filterDateModelOptions"\n           ng-required="true"\n           ng-disabled="isLoading"\n           id="values-{{$ctrl.filter.id}}-end"\n           name="v[{{$ctrl.filter.id}}]-end"\n           class="advanced-filters--date-field"\n           size="10"\n           transform-date-utc\n           type="text"/>\n  </op-date-picker>\n  <span class="advanced-filters--tooltip-trigger -multiline"\n        ng-if="$ctrl.isTimeZoneDifferent"\n        data-tooltip="{{$ctrl.timeZoneText}}">\n    <op-icon icon-classes="icon icon-warning"></op-icon>\n  </span>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/filters/filter-date-value/filter-date-value.directive.html",'<div id="div-values-{{$ctrl.filter.id}}">\n  <op-date-picker>\n    <input ng-model="$ctrl.value"\n           ng-model-options="::$ctrl.filterDateModelOptions"\n           ng-required="true"\n           id="values-{{$ctrl.filter.id}}"\n           name="v[{{$ctrl.filter.id}}]"\n           class="advanced-filters--date-field"\n           size="10"\n           transform-date-value\n           type="text"/>\n  </op-date-picker>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/filters/filter-dates-value/filter-dates-value.directive.html",'<div id="div-values-{{$ctrl.filter.id}}"\n  class="inline-label">\n  <op-date-picker>\n    <input ng-model="$ctrl.begin"\n           ng-model-options="::$ctrl.filterDateModelOptions"\n           ng-required="true"\n           ng-disabled="isLoading"\n           id="values-{{$ctrl.filter.id}}-begin"\n           name="v[{{$ctrl.filter.id}}]-begin"\n           class="advanced-filters--date-field"\n           size="10"\n           transform-date-value\n           type="text"/>\n  </op-date-picker>\n\n  <span class="advanced-filters--affix">\n    {{ ::$ctrl.I18n.t(\'js.filter.value_spacer\') }}\n  </span>\n\n  <op-date-picker>\n    <input ng-model="$ctrl.end"\n           ng-model-options="::$ctrl.filterDateModelOptions"\n           ng-required="true"\n           ng-disabled="isLoading"\n           id="values-{{$ctrl.filter.id}}-end"\n           name="v[{{$ctrl.filter.id}}]-end"\n           class="advanced-filters--date-field"\n           size="10"\n           transform-date-value\n           type="text"/>\n  </op-date-picker>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/filters/filter-integer-value/filter-integer-value.directive.html",'<div id="div-values-{{$ctrl.filter.id}}" class="inline-label">\n\n  <input ng-model="$ctrl.value"\n         ng-model-options="::$ctrl.filterModelOptions"\n         ng-required="true"\n         class="advanced-filters--number-field"\n         id="values-{{$ctrl.filter.id}}"\n         name="v[{{$ctrl.filter.id}}]"\n         min="0"\n         type="number"\n         value=""\n         ng-disabled="isLoading"/>\n  <label for="values-{{$ctrl.filter.id}}"\n         class="advanced-filters--affix">\n    {{ ::$ctrl.unit }}\n  </label>\n\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/filters/filter-string-value/filter-string-value.directive.html",'<div id="div-values-{{$ctrl.filter.name}}">\n\n  <input ng-model="$ctrl.value"\n         ng-model-options="::$ctrl.filterModelOptions"\n         ng-required="true"\n         class="advanced-filters--text-field"\n         id="values-{{$ctrl.filter.name}}"\n         name="v[{{$ctrl.filter.name}}]"\n         type="text" />\n\n  <label for="values-{{$ctrl.filter.name}}"\n         class="hidden-for-sighted">\n    {{ ::$ctrl.I18n.t(\'js.work_packages.description_enter_text\') }}\n  </label>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/filters/filter-toggled-multiselect-value/filter-toggled-multiselect-value.directive.html",'<div class="inline-label"\n     id="div-values-{{$ctrl.filter.id}}">\n\n  <select filter-value-select\n          ng-if="!$ctrl.isMultiselect"\n          name="v[{{$ctrl.filter.id}}][]"\n          ng-model="$ctrl.value"\n          ng-disabled="$ctrl.disabled"\n          ng-attr-id="values-{{$ctrl.filter.id}}"\n          class="advanced-filters--select"\n          ng-options="value.name for value in $ctrl.availableOptions track by value.$href">\n    <option value="" disabled ng-bind="::$ctrl.text.placeholder" ng-if="$ctrl.hasNoValue"></option>\n  </select>\n\n  <select multiple\n          filter-value-select\n          ng-if="$ctrl.isMultiselect"\n          name="v[{{$ctrl.filter.id}}][]"\n          ng-model="$ctrl.value"\n          ng-disabled="$ctrl.disabled"\n          ng-attr-id="values-{{$ctrl.filter.id}}"\n          class="advanced-filters--select"\n          ng-options="value.name for value in $ctrl.availableOptions track by value.$href">\n    <option value="" disabled ng-bind="::$ctrl.text.placeholder" ng-if="$ctrl.hasNoValue"></option>\n  </select>\n\n  <a href class="form-label no-decoration-on-hover -transparent" ng-click="$ctrl.toggleMultiselect()">\n    <op-icon ng-if="$ctrl.isMultiselect"\n             icon-classes="icon4 icon-minus2"\n             icon-title="{{ ::$ctrl.text.disableMulti }}"></op-icon>\n    <op-icon ng-if="!$ctrl.isMultiselect"\n             icon-classes="icon4 icon-add"\n             icon-title="{{ ::$ctrl.text.enableMulti }}"></op-icon>\n  </a>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/filters/query-filters/query-filters.directive.html",'<fieldset id="filters" class="advanced-filters--container">\n  <legend ng-bind="I18n.t(\'js.label_selected_filter_list\')"></legend>\n\n  <ul class="advanced-filters--filters">\n    <li query-filter\n        ng-repeat="filter in filters.current"\n        id="filter_{{filter.id}}"\n        class="advanced-filters--filter">\n\n      <!-- Name -->\n      <label for="operators-{{filter.id}}"\n             class="advanced-filters--filter-name"\n             title="{{::filter.name}}">\n        {{ ::filter.name }}\n      </label>\n\n      <!-- Operator -->\n      <div class="advanced-filters--filter-operator">\n\n         <label for="operators-{{filter.id}}" class="hidden-for-sighted">\n          {{ ::filter.name }}\n          {{ ::I18n.t(\'js.filter.description.text_open_filter\') }}\n        </label>\n\n        <select require\n                focus="{{$index == focusElementIndex}}"\n                class="advanced-filters--select"\n                id="operators-{{filter.id}}"\n                name="op[{{filter.id}}]"\n                ng-model="filter.operator"\n                style="vertical-align: top;"\n                ng-disabled="isLoading"\n                ng-options="operator.name for operator in availableOperators track by operator.href">\n        </select>\n      </div>\n\n      <!-- Values -->\n      <div class="advanced-filters--filter-value"\n           ng-if="showValuesInput"\n           ng-switch="filter.currentSchema.values.type">\n\n          <filter-integer-value ng-switch-when="[1]Integer"\n                                filter="filter">\n          </filter-integer-value>\n\n          <filter-date-value ng-switch-when="[1]Date"\n                             filter="filter">\n          </filter-date-value>\n\n          <filter-dates-value ng-switch-when="[2]Date"\n                              filter="filter">\n          </filter-dates-value>\n\n          <filter-date-time-value ng-switch-when="[1]DateTime"\n                                  filter="filter">\n          </filter-date-time-value>\n\n          <filter-date-times-value ng-switch-when="[2]DateTime"\n                                   filter="filter">\n          </filter-date-times-value>\n\n          <filter-string-value ng-switch-when="[1]String"\n                               filter="filter">\n          </filter-string-value>\n\n          <filter-string-value ng-switch-when="[1]Float"\n                               filter="filter">\n          </filter-string-value>\n\n          <filter-boolean-value ng-switch-when="[1]Boolean"\n                                filter="filter">\n          </filter-boolean-value>\n\n          <filter-toggled-multiselect-value ng-switch-default\n                                            filter="filter">\n          </filter-toggled-multiselect-value>\n      </div>\n\n      <div class="advanced-filters--filter-value"\n           ng-if="!showValuesInput">\n      </div>\n\n      <div class="advanced-filters--remove-filter">\n        <accessible-by-keyboard execute="deactivateFilter(filter)">\n          <op-icon icon-classes="icon-close advanced-filters--remove-filter-icon" icon-title="{{I18n.t(\'js.button_delete\')}}"></op-icon>\n        </accessible-by-keyboard>\n      </div>\n\n    </li>\n\n    <li class="advanced-filters--spacer" ng-if="filters.current.length > 0"></li>\n\n    <li class="advanced-filters--add-filter">\n      <!-- Add filters -->\n      <label for="add_filter_select" aria-hidden="true" class="advanced-filters--add-filter-label">\n        <op-icon icon-classes="icon-add icon4"></op-icon>\n        {{ I18n.t(\'js.work_packages.label_filter_add\') }}:\n      </label>\n      <label for="add_filter_select" class="hidden-for-sighted">\n        {{ I18n.t(\'js.work_packages.label_filter_add\') }}\n        {{ I18n.t(\'js.filter.description.text_open_filter\') }}\n        {{ I18n.t(\'js.filter.description.text_close_filter\') }}\n      </label>\n\n      <div class="advanced-filters--add-filter-value">\n        <select class="advanced-filters--select"\n          id="add_filter_select"\n          focus="{{focusElementIndex == -1}}"\n          ng-model="filterToBeAdded"\n          ng-options="filter.name for filter in remainingFilters | orderBy: \'name\'" />\n        </select>\n      </div>\n    </li>\n  </ul>\n</fieldset>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/modals/columns-modal/columns-modal.service.html",'<div class="ng-modal-window columns-modal loading-indicator--location"\n     data-indicator-name="modal">\n  <div class="ng-modal-inner">\n    <div class="modal-header">\n      <a>\n        <i\n            class="icon-close"\n            ng-click="$ctrl.closeMe()"\n            title="{{ ::$ctrl.text.closePopup }}">\n        </i>\n      </a>\n    </div>\n\n    <h3>{{ ::$ctrl.text.columnsLabel }}</h3>\n\n    <div class="columns-modal-content select2-modal-content"\n        ng-if="!$ctrl.impaired">\n\n      <label\n          for="selected_columns"\n          class="hidden-for-sighted">\n        {{ ::$ctrl.text.selectedColumns }}\n      </label>\n\n      <ui-select\n          sortable="true"\n          ng-model="$ctrl.selectedColumns"\n          theme="select2"\n          id="selected_columns"\n          focus\n          multiple\n          aria-labelledby="column_multiselect_description"\n          title="{{ ::$ctrl.text.columnsLabel }}">\n        <ui-select-match>{{ $item.name }}</ui-select-match>\n        <ui-select-choices\n            repeat="column in $ctrl.unusedColumns | filter: { name: $select.search } | orderBy:\'name\'"\n            refresh="$ctrl.updateUnusedColumns($select.selected)"\n            refresh-delay="0">\n          <div ng-bind-html="column.name | highlight: $select.search"></div>\n        </ui-select-choices>\n      </ui-select>\n\n      <span class="tooltip--right -multiline" tabindex="0" title\n            data-tooltip="{{ ::$ctrl.text.multiSelectLabel }}"\n            aria-labelledby="column_multiselect_description">\n              <op-icon icon-classes="icon icon-help1"></op-icon>\n            </span>\n      <div class="hidden-for-sighted" id="column_multiselect_description">\n        {{ ::$ctrl.text.multiSelectLabel }}\n      </div>\n    </div>\n\n    <div\n        class="columns-modal-content select2-modal-content"\n        ng-if="$ctrl.impaired">\n      <label\n          for="selected_columns"\n          class="hidden-for-sighted">\n        {{ ::$ctrl.text.selectedColumns }}\n      </label>\n\n      <div ng-repeat="column in $ctrl.availableColumns | orderBy:\'name\'">\n        <label class="form--label-with-check-box" for="column-{{column.id}}">\n          <div class="form--check-box-container">\n            <input id="column-{{column.id}}"\n                   type="checkbox"\n                   title="{{ column.name }}"\n                   ng-model="$ctrl.selectedColumnMap[column.id]"\n                   ng-change="$ctrl.setSelectedColumn(column)"\n                   focus="$first" />\n          </div>\n          {{column.name}}\n        </label>\n      </div>\n    </div>\n    <div>\n      <button class="button -highlight" ng-click="$ctrl.updateSelectedColumns()">\n        {{ ::$ctrl.text.applyButton }}\n      </button>\n      <button class="button" ng-click="$ctrl.closeMe()">\n        {{ ::$ctrl.text.cancelButton }}\n      </button>\n    </div>\n  </div>\n</div>\n');
}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/modals/confirm-dialog/confirm-dialog.modal.html",'<div class="confirm-form-submit--modal">\n  <div class="modal--header">\n    <span class="icon-context icon-attention"></span>\n    <h2 ng-bind="::text.title"></h2>\n  </div>\n  <div class="ngdialog-body modal--main">\n    <p ng-bind="::text.text"></p>\n  </div>\n  <div class="modal--footer">\n    <button class="confirm-form-submit--cancel button"\n            ng-click="cancel()"\n            ng-bind="::text.button_cancel"\n            ng-attr-title="{{ ::text.button_cancel }}">\n    </button>\n    <button class="confirm-form-submit--continue button -highlight"\n            ng-click="confirmAndClose()"\n            ng-bind="::text.button_continue"\n            ng-attr-title="{{ ::text.button_continue }}">\n    </button>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/modals/export-modal/export-modal.service.html",'<div class="ng-modal-window">\n  <div class="ng-modal-inner">\n    <div class="modal-header">\n      <a>\n        <i\n            class="icon-close"\n            ng-click="$ctrl.closeMe()"\n            title="{{ ::I18n.t(\'js.close_popup_title\') }}">\n        </i>\n      </a>\n    </div>\n\n    <h3>{{ ::I18n.t(\'js.label_export\') }}</h3>\n\n    <ul class="export-options">\n      <li ng-repeat="option in $ctrl.exportOptions">\n        <a ng-href="{{ ::option.url }}" focus="$first" id="export-{{ ::option.identifier }}">\n          <op-icon icon-classes="icon-export-{{ ::option.identifier }} icon-big"></op-icon>\n          <span class="export-label">{{ ::option.label }}</span>\n        </a>\n      </li>\n    </ul>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/modals/grouping-modal/grouping-modal.service.html",'<div class="ng-modal-window">\n  <div class="ng-modal-inner">\n    <div class="modal-header">\n      <a>\n        <i\n            class="icon-close"\n            ng-click="$ctrl.closeMe()"\n            title="{{ ::I18n.t(\'js.close_popup_title\') }}">\n        </i>\n      </a>\n    </div>\n\n    <h3>{{ ::I18n.t(\'js.label_group_by\') }}</h3>\n\n    <form>\n      <div class="form--field -full-width">\n        <label\n            for="selected_columns_new"\n            class="form--label hidden-for-sighted">\n          {{ ::I18n.t(\'js.label_group_by\') }}\n        </label>\n        <div class="form--field-container">\n          <div class="form--select-container">\n            <select\n                ng-model="vm.current"\n                focus="true"\n                title="{{ fieldController.editTitle }}"\n                id="selected_columns_new"\n                class="form--select"\n                ng-options="groupBy.name for groupBy in vm.available | orderBy: \'name\' track by groupBy.$href">\n                <option value="">{{::I18n.t(\'js.placeholders.default\')}}</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      <div>\n        <button class="button -highlight" ng-click="updateGroupBy()">\n          {{ ::I18n.t(\'js.modals.button_apply\') }}\n        </button>\n        <button class="button" ng-click="$ctrl.closeMe()">\n          {{ ::I18n.t(\'js.modals.button_cancel\') }}\n        </button>\n      </div>\n    </form>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/modals/request-for-confirmation/request-for-confirmation.modal.html",'<div class="request-for-confirmation--modal">\n  <div>\n    <div class="modal--header">\n      <span class="icon-context icon-locked"></span>\n      <h2 ng-bind="::text.title_confirmation"></h2>\n    </div>\n\n    <div class="modal--main">\n      <form class="request-for-confirmation--form form -vertical" ng-submit="closeThisDialog()">\n        <div class="form--field -required">\n          <label class="form--label"\n                 for="request_for_confirmation_password"\n                 ng-attr-aria-label="::text.field_description"\n                 ng-bind="::text.password">\n          </label>\n          <div class="form--field-container">\n            <div class="form--text-field-container">\n              <input type="password" ng-model="dialog.password_value" id="request_for_confirmation_password" class="form--text-field">\n            </div>\n          </div>\n          <div class="form--field-instructions" ng-bind="::text.field_description"></div>\n        </div>\n      </form>\n    </div>\n\n    <div class="modal--footer">\n      <button class="request-for-confirmation--submit-button button -highlight"\n              ng-click="closeThisDialog()"\n              ng-bind="::text.confirm_button"\n              ng-attr-title="::text.confirm_button"\n              ng-disabled="dialog.password_value == null || dialog.password_value.length === 0">\n      </button>\n    </div>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/modals/save-modal/save-modal.service.html",'<div class="ng-modal-window">\n  <div class="ng-modal-inner">\n    <div class="modal-header">\n      <a>\n        <i\n            class="icon-close"\n            ng-click="$ctrl.closeMe()"\n            title="{{ ::I18n.t(\'js.close_popup_title\') }}">\n        </i>\n      </a>\n    </div>\n\n\n    <form name="modalSaveForm" class="form">\n\n      <h3>{{ ::I18n.t(\'js.label_save_as\') }}</h3>\n      <div class="form--field -required">\n        <label class="form--label">\n          {{ ::I18n.t(\'js.modals.label_name\') }}\n        </label>\n        <div class="form--field-container">\n          <div class="form--text-field-container">\n            <input\n                class="form--text-field"\n                type="text"\n                name="save_query_name"\n                id="save-query-name"\n                ng-model="queryName" focus required />\n          </div>\n        </div>\n      </div>\n\n      <section class="form--section">\n        <h3>{{ ::I18n.t(\'js.label_visibility_settings\') }}</h3>\n        <query-sharing-form\n          is-save="true"\n          on-change="setValues(isStarred, isPublic)"\n          is-starred="isStarred"\n          is-public="isPublic">\n        </query-sharing-form>\n      </section>\n\n      <div class="form--space">\n        <button class="button -highlight -with-icon icon-checkmark"\n                ng-click="saveQueryAs(queryName)"\n                ng-disabled="modalSaveForm.$invalid">\n          {{ ::I18n.t(\'js.modals.button_save\') }}\n        </button>\n        <button class="button" ng-click="$ctrl.closeMe()">\n          {{ ::I18n.t(\'js.modals.button_cancel\') }}\n        </button>\n      </div>\n    </form>\n\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/modals/settings-modal/settings-modal.service.html",'<div class="ng-modal-window">\n  <div class="ng-modal-inner">\n    <div class="modal-header">\n      <a>\n        <i\n            class="icon-close"\n            ng-click="$ctrl.closeMe()"\n            title="{{ ::I18n.t(\'js.close_popup_title\') }}">\n        </i>\n      </a>\n    </div>\n\n    <h3>{{ ::I18n.t(\'js.modals.label_settings\') }}</h3>\n\n    <form name="modalSettingsForm" class="form">\n      <div class="form--field -required">\n        <label class="form--label" for="query_name">\n          {{ ::I18n.t(\'js.modals.label_name\') }}\n        </label>\n        <div class="form--field-container">\n          <div class="form--text-field-container">\n            <input\n                id="query_name"\n                class="form--text-field"\n                type="text"\n                name="query_name"\n                ng-model="queryName"\n                focus\n                required />\n          </div>\n        </div>\n      </div>\n      <div class="form--space">\n        <button\n            class="button -highlight"\n            ng-click="updateQuery()"\n            ng-disabled="modalSettingsForm.$invalid">\n          {{ ::I18n.t(\'js.modals.button_submit\') }}\n        </button>\n        <button class="button" ng-click="$ctrl.closeMe()">\n          {{ ::I18n.t(\'js.modals.button_cancel\') }}\n        </button>\n      </div>\n    </form>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/modals/share-modal/query-sharing-form.html",'<div class="form--field -wide-label">\n  <div class="form--field-container -vertical">\n    <label class="form--label-with-check-box">\n      <div class="form--check-box-container">\n        <input type="checkbox"\n               name="is_public"\n               id="show-public"\n               ng-model="$ctrl.isPublic"\n               ng-change="$ctrl.changed()"\n               ng-disabled="!$ctrl.canPublish"\n               class="form--check-box"\n               focus />\n      </div>\n      {{ ::$ctrl.text.visibleForOthers }}\n    </label>\n    <label class="form--label-with-check-box">\n      <div class="form--check-box-container">\n        <input type="checkbox"\n               name="show_in_menu"\n               id="show-in-menu"\n               ng-model="$ctrl.isStarred"\n               ng-change="$ctrl.changed()"\n               ng-disabled="!$ctrl.canStar"\n               class="form--check-box" />\n      </div>\n      {{ ::$ctrl.text.showInMenu }}\n    </label>\n  </div>\n</div>\n\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/modals/share-modal/share-modal.service.html",'<div class="ng-modal-window">\n  <div class="ng-modal-inner">\n    <div class="modal-header">\n      <a>\n        <i\n            class="icon-close"\n            ng-click="$ctrl.closeModal()"\n            title="{{ ::I18n.t(\'js.close_popup_title\') }}">\n        </i>\n      </a>\n    </div>\n\n    <h3>{{ ::I18n.t(\'js.label_visibility_settings\') }}</h3>\n\n    <query-sharing-form\n      on-change="$ctrl.setValues(isStarred, isPublic)"\n      is-starred="$ctrl.isStarred"\n      is-public="$ctrl.isPublic">\n    </query-sharing-form>\n\n    <button class="button -highlight -with-icon icon-checkmark" ng-click="$ctrl.saveQuery()">\n      {{ ::I18n.t(\'js.modals.button_save\') }}\n    </button>\n    <button class="button" ng-click="$ctrl.closeModal()">\n      {{ ::I18n.t(\'js.modals.button_cancel\') }}\n    </button>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/modals/sorting-modal/sorting-modal.service.html",'<div class="ng-modal-window">\n  <div class="ng-modal-inner modal-content">\n    <div class="modal-header">\n      <a><op-icon icon-classes="icon-close" ng-click="$ctrl.closeMe()" title="{{ ::I18n.t(\'js.close_popup_title\') }}"></op-icon></a></div>\n\n    <h3>{{ ::I18n.t(\'js.label_sorting\') }}</h3>\n\n    <form name="modalSortingForm">\n      <div id="modal-sorting"\n           class="modal-content-container loading-indicator--location"\n           data-indicator-name="sorting-modal">\n        <div class="form--row" ng-repeat="sort in sortationObjects">\n          <div class="form--field -full-width">\n            <label\n                for="modal-sorting-attribute-{{$index}}"\n                class="form--label hidden-for-sighted">\n              {{ I18n.t(\'js.filter.sorting.criteria.\' + { 1: \'one\', 2: \'two\', 3: \'three\'}[$index + 1]) }}\n            </label>\n            <div class="form--field-container">\n              <div class="form--select-container">\n                <select\n                    id="modal-sorting-attribute-{{$index}}"\n                    ng-model="sort.column"\n                    focus="!$index"\n                    class="form--select"\n                    ng-options="column.name for column in availableColumnsAndCurrent(sort.column) | orderBy:\'name\' track by column.$href">\n                  <option value="">{{::I18n.t(\'js.placeholders.default\')}}</option>\n                </select>\n              </div>\n            </div>\n          </div>\n          <div class="form--field -full-width">\n            <div class="form--field-container">\n              <label class="option-label" ng-repeat="availableDirection in availableDirections">\n                <input type="radio"\n                       ng-model="sort.direction"\n                       ng-value="availableDirection.$href"\n                       name="modal-sorting-attribute-{{sort.column.name}}--sort-direction">\n                {{availableDirection.name}}\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n      <button class="button -highlight"\n              ng-disabled="modalSortingForm.$invalid"\n              ng-click="updateSortation()">\n        {{ ::I18n.t(\'js.modals.button_apply\') }}\n      </button>\n      <button class="button" ng-click="$ctrl.closeMe()">\n        {{ ::I18n.t(\'js.modals.button_cancel\') }}\n      </button>\n    </form>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/routing/main/work-packages.html",'<div ui-view class="work-packages-page--ui-view"></div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/routing/main/work-packages.new.html",'<div\n    class="work-package--new-state work-packages--show-view toolbar-container"\n    ng-if="$ctrl.newWorkPackage">\n  <div class="toolbar">\n    <div class="title-container">\n      <h2>{{ $ctrl.header }}</h2>\n    </div>\n    <ul class="toolbar-items hide-when-print">\n      <li class="toolbar-item hidden-for-mobile">\n        <wp-zen-mode-toggle-button>\n        </wp-zen-mode-toggle-button>\n      </li>\n      <li class="toolbar-item hidden-for-mobile">\n        <button id="create-wp-menu-button"\n                title="{{ I18n.t(\'js.button_settings\') }}"\n                class="button last work-packages-settings-button toolbar-icon"\n                has-dropdown-menu\n                target="CreateWpDropdownMenu"\n                locals="query">\n          <i class="button--icon icon-show-more"></i>\n        </button>\n      </li>\n    </ul>\n  </div>\n\n  <wp-edit-field-group work-package="$ctrl.newWorkPackage"\n                       success-state="$ctrl.successState"\n                       in-edit-mode="true">\n    <wp-subject work-package="$ctrl.newWorkPackage"></wp-subject>\n    <wp-single-view work-package="$ctrl.newWorkPackage"></wp-single-view>\n    <edit-actions-bar\n        on-cancel="$ctrl.cancelAndBackToList()"\n    ></edit-actions-bar>\n  </wp-edit-field-group>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/routing/wp-details/wp.list.details.html",'<div class="work-packages--details loading-indicator--location"\n      data-indicator-name="wpDetails"\n      ng-if="$ctrl.workPackage">\n    <div id="tabs">\n      <ul class="tabrow">\n        <!-- The hrefs with empty URLs are necessary for IE10 to focus these links\n        properly. Thus, don\'t remove the hrefs or the empty URLs! -->\n        <li ui-sref="work-packages.list.details.overview({})"\n            ui-sref-active="selected">\n          <a href="" ng-bind="::$ctrl.text.tabs.overview"/>\n        </li>\n        <li ui-sref="work-packages.list.details.activity({})"\n            ui-sref-active="selected">\n          <a href="" ng-bind="::$ctrl.text.tabs.activity"/>\n        </li>\n        <li ui-sref="work-packages.list.details.relations({})"\n            ui-sref-active="selected">\n          <a href="" ng-bind="::$ctrl.text.tabs.relations"/>\n          <wp-relations-count wp-id="::$ctrl.workPackage.id"></wp-relations-count>\n        </li>\n        <li ng-if="$ctrl.canViewWorkPackageWatchers()"\n            ui-sref="work-packages.list.details.watchers({})"\n            ui-sref-active="selected">\n          <a href="" ng-bind="::$ctrl.text.tabs.watchers"/>\n        </li>\n        <li class="tab-icon">\n          <accessible-by-keyboard execute="$ctrl.switchToFullscreen()"\n                                  link-aria-label="{{ ::$ctrl.text.goTofullScreen }}"\n                                  link-title="{{ ::$ctrl.text.goTofullScreen }}"\n                                  link-class="work-packages--details-fullscreen-icon"\n                                  span-class="icon-context icon-to-fullscreen">\n          </accessible-by-keyboard>\n        </li>\n        <li class="tab-icon">\n          <accessible-by-keyboard execute="$ctrl.close()"\n                                  link-aria-label="{{ ::$ctrl.text.closeDetailsView }}"\n                                  link-title="{{ ::$ctrl.text.closeDetailsView }}"\n                                  link-class="work-packages--details-close-icon"\n                                  span-class="icon-context icon-close">\n          </accessible-by-keyboard>\n        </li>\n      </ul>\n    </div>\n    <div class="work-packages--details-content">\n    <span class="hidden-for-sighted" tabindex="-1" focus="$ctrl.shouldFocus" ng-bind="$ctrl.focusAnchorLabel">\n    </span>\n\n\n      <wp-edit-field-group work-package="$ctrl.workPackage">\n        <wp-subject></wp-subject>\n        <div class="work-package-details-tab" ui-view></div>\n      </wp-edit-field-group>\n    </div>\n\n    <div class="work-packages--details-toolbar-container" ng-if="$ctrl.workPackage">\n      <wp-details-toolbar work-package=\'$ctrl.workPackage\'></wp-details-toolbar>\n    </div>\n</div\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/routing/wp-list/wp.list.html",'<div class="work-packages-list-view--container">\n  <div class="toolbar-container">\n    <div class="toolbar">\n      <selectable-title\n          focus\n          selected-title="selectedTitle">\n      </selectable-title>\n\n      <ul class="toolbar-items hide-when-print" ng-if="tableInformationLoaded">\n        <li class="toolbar-item">\n          <wp-create-button\n              allowed="allowed(\'work_packages\', \'createWorkPackage\')"\n              project-identifier="projectIdentifier"\n              state-name="work-packages.list.new">\n          </wp-create-button>\n        </li>\n        <li class="toolbar-item hidden-for-mobile">\n          <wp-filter-button>\n          </wp-filter-button>\n        </li>\n        <li class="toolbar-item hidden-for-mobile">\n          <wp-details-view-button>\n          </wp-details-view-button>\n        </li>\n        <li class="toolbar-item hidden-for-mobile">\n          <wp-timeline-toggle-button>\n          </wp-timeline-toggle-button>\n        </li>\n        <li class="toolbar-item hidden-for-mobile">\n          <wp-zen-mode-toggle-button>\n          </wp-zen-mode-toggle-button>\n        </li>\n        <li class="toolbar-item hidden-for-mobile">\n          <button id="work-packages-settings-button"\n                  title="{{ I18n.t(\'js.button_settings\') }}"\n                  class="button last work-packages-settings-button toolbar-icon"\n                  has-dropdown-menu\n                  target="SettingsDropdownMenu"\n                  locals="query">\n            <op-icon icon-classes="button--icon icon-show-more"></op-icon>\n          </button>\n        </li>\n      </ul>\n    </div>\n  </div>\n\n\n  <filter-container></filter-container>\n\n  <accessible-by-keyboard\n    link-class="hidden-for-sighted skip-navigation-link"\n    link-aria-label="{{ ::text.text_jump_to_pagination }}"\n    execute="setAnchorToNextElement()">\n    <span ng-bind="::text.jump_to_pagination"></span>\n  </accessible-by-keyboard>\n\n  <!-- (TABLE + TIMELINE) + DETAILS view -->\n  <div class="work-packages-split-view">\n\n    <!-- (TABLE + TIMELINE) and FOOTER vertical split-->\n    <div class="work-packages-split-view--tabletimeline-side loading-indicator--location" data-indicator-name="table">\n\n      <!-- TABLE + TIMELINE horizontal split -->\n      <wp-table project-identifier="projectIdentifier" ng-if="tableInformationLoaded"></wp-table>\n\n      <!-- Footer -->\n      <div class="work-packages-split-view--tabletimeline-footer hide-when-print" ng-if="tableInformationLoaded">\n        <wp-table-pagination></wp-table-pagination>\n      </div>\n    </div>\n\n    <!-- Details view -->\n    <div class="work-packages-split-view--details-side" ui-view></div>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/routing/wp-list/wp.list.new.html",'<div\n    class="work-packages--details"\n    ng-if="$ctrl.newWorkPackage"\n>\n  <wp-edit-field-group work-package="$ctrl.newWorkPackage"\n                       success-state="$ctrl.successState"\n                       in-edit-mode="true">\n    <div class="work-packages--details-content -create-mode">\n      <span class="hidden-for-sighted" tabindex="-1" focus ng-bind="focusAnchorLabel"></span>\n      <div has-edit-mode="true"\n           wp-edit-form="$ctrl.newWorkPackage"\n           wp-edit-form-on-save="$ctrl.refreshAfterSave(workPackage, \'work-packages.list.details.overview\')">\n        <h2>\n          <div class="work-packages-show-view-button wp--details--switch-fullscreen hidden-for-accessibility"\n               ng-click="$ctrl.switchToFullscreen()">\n            <span class="icon-context icon-to-fullscreen"></span>\n          </div>\n          {{ $ctrl.header }}\n        </h2>\n          <wp-subject work-package="$ctrl.newWorkPackage"></wp-subject>\n          <wp-single-view work-package="$ctrl.newWorkPackage"></wp-single-view>\n      </div>\n    </div>\n\n    <div class="work-packages--details-toolbar-container">\n      <edit-actions-bar\n          on-cancel="$ctrl.cancelAndBackToList()"\n      ></edit-actions-bar>\n    </div>\n  </wp-edit-field-group>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/routing/wp-show/wp.show.html",'<div wp-edit-field-group work-package="$ctrl.workPackage"\n     class="work-packages--show-view"\n     ng-if="$ctrl.workPackage">\n    <div class="toolbar-container">\n      <div id="toolbar">\n        <div class="wp-show--header-container">\n          <div class="wp-show--back-button">\n              <accessible-by-keyboard execute="$ctrl.goToList()"\n                              link-class="work-packages-list-view-button button"\n                              link-aria-label="{{ ::$ctrl.text.goToList }}"\n                              link-title="{{ ::$ctrl.text.goToList }}">\n                <op-icon icon-classes="button--icon icon-back-up"></op-icon>\n            </accessible-by-keyboard>\n          </div>\n          <ul class="subject-header">\n            <li class="subject-header-inner">\n              <wp-subject></wp-subject>\n            </li>\n          </ul>\n        </div>\n        <ul id="toolbar-items" class="toolbar-items">\n          <li class="toolbar-item">\n            <wp-create-button project-identifier="$ctrl.projectIdentifier"\n                              allowed="!!$ctrl.workPackage.addChild"\n                              state-name="work-packages.new"></wp-create-button>\n          </li>\n          <li class="toolbar-item" ng-if="$ctrl.displayWatchButton">\n            <wp-watcher-button work-package="$ctrl.workPackage"></wp-watcher-button>\n          </li>\n          <li class="toolbar-item">\n            <wp-zen-mode-toggle-button>\n            </wp-zen-mode-toggle-button>\n          </li>\n          <li class="toolbar-item action_menu_main" id="action-show-more-dropdown-menu">\n            <button class="button dropdown-relative toolbar-icon"\n                    ng-disabled="!actionsAvailable"\n                    has-dropdown-menu\n                    target="ShowMoreDropdownMenu"\n                    locals="permittedActions,actionsAvailable,triggerMoreMenuAction"\n                    title="{{I18n.t(\'js.button_more\')}}">\n              <op-icon icon-classes="button--icon icon-show-more"></op-icon>\n            </button>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <div class="work-packages-full-view--split-container">\n      <div class="work-packages-full-view--split-left">\n        <div class="work-packages--panel-inner">\n          <wp-single-view work-package="$ctrl.workPackage"></wp-single-view>\n        </div>\n      </div>\n      <div class="work-packages-full-view--split-right">\n        <div class="work-packages--panel-inner">\n          <span class="hidden-for-sighted" tabindex="-1" focus ng-bind="$ctrl.focusAnchorLabel"></span>\n          <div id="tabs">\n            <ul class="tabrow">\n              <!-- The hrefs with empty URLs are necessary for IE10 to focus these links\n              properly. Thus, don\'t remove the hrefs or the empty URLs! -->\n              <li ui-sref="work-packages.show.activity({workPackageId: $ctrl.workPackage.id})"\n                  ui-sref-active="selected">\n                <a href="" ng-bind="::$ctrl.text.tabs.activity"/>\n              </li>\n              <li ui-sref="work-packages.show.relations({workPackageId: $ctrl.workPackage.id})"\n                  ui-sref-active="selected">\n                <a href="" ng-bind="::$ctrl.text.tabs.relations"/>\n                <wp-relations-count wp-id="::$ctrl.workPackage.id"></wp-relations-count>\n              </li>\n              <li ng-if="$ctrl.canViewWorkPackageWatchers()"\n                  ui-sref="work-packages.show.watchers({workPackageId: $ctrl.workPackage.id})"\n                  ui-sref-active="selected">\n                <a href="" ng-bind="::$ctrl.text.tabs.watchers"/>\n              </li>\n            </ul>\n          </div>\n          <div class="tabcontent" ui-view>\n          </div>\n        </div>\n      </div>\n    </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/table-pagination/table-pagination.directive.html",'<div class="pagination" ng-if="totalEntries">\n  <nav class="pagination--pages">\n    <ul class="pagination--items">\n\n      <li ng-show="paginationOptions.page != 1" class="pagination--item">\n        <a ng-click="showPage(paginationOptions.page - 1)"\n           rel="prev start"\n           aria-label="{{ ::text.label_previous }}"\n           data-click-on-keypress="[13, 32]"\n           id= "pagination--prev-link"\n           role="link"\n           href="">&#60;</a>\n      </li>\n\n      <li ng-if="prePageNumbers.length" ng-repeat="pageNumber in prePageNumbers"\n        class="pagination--item">\n        <a ng-click="showPage(pageNumber)"\n           rel="next"\n           data-click-on-keypress="[13, 32]"\n           role="link"\n           href=""\n           ng-bind="pageNumber"></a>\n      </li>\n      <li ng-if="prePageNumbers.length" class="pagination--space">…</li>\n\n      <li ng-if="pageNumbers.length > 1"\n          ng-repeat="pageNumber in pageNumbers"\n          ng-class="{ \'-current\': pageNumber == paginationOptions.page }"\n          class="pagination--item pagination-number">\n        <em ng-if="pageNumber == paginationOptions.page">{{ pageNumber }}</em>\n        <a ng-if="pageNumber != paginationOptions.page"\n           ng-click="showPage(pageNumber)"\n           data-click-on-keypress="[13, 32]"\n           rel="next"\n           role="link"\n           href=""\n           ng-bind="pageNumber"></a>\n      </li>\n\n      <li ng-if="postPageNumbers.length" class="pagination--space">…</li>\n\n      <li ng-if="postPageNumbers" ng-repeat="pageNumber in postPageNumbers" class="pagination--item pagination-number">\n        <a ng-click="showPage(pageNumber)"\n           rel="next"\n           data-click-on-keypress="[13, 32]"\n           role="link"\n           href=""\n           ng-bind="pageNumber"></a>\n      </li>\n      <li ng-show="totalEntries && paginationOptions.page < pageNumbers[pageNumbers.length - 1]"\n        class="pagination--item">\n        <a ng-click="showPage(paginationOptions.page + 1)"\n           rel="next"\n           class="pagination--next-link"\n           aria-label="{{ ::text.label_next }}"\n           data-click-on-keypress="[13, 32]"\n           id="pagination--next-link"\n           role="link"\n           href="">&#62;</a>\n      </li>\n\n      <li class="pagination--range">\n        <span ng-bind="currentRange"></span>\n        <span ng-if="pageNumbers.length === 1"\n              id="pagination-empty-text"\n              tabindex="0"\n              class="hidden-for-sighted"\n              ng-bind="::text.no_other_page"></span>\n      </li>\n    </ul>\n  </nav>\n\n  <div class="pagination--options" ng-if="totalEntries > perPageOptions[0]">\n    <ul class="pagination--items">\n      <li class="pagination--label" ng-bind="::text.per_page" title="{{ ::text.per_page }}"></li>\n\n      <li ng-repeat="perPageOption in perPageOptions"\n          ng-class="{ \'-current\': perPageOption == paginationOptions.perPage }"\n          class="pagination--item">\n\n       <span ng-if="perPageOption != paginationOptions.perPage">\n         <a ng-click="selectPerPage(perPageOption)"\n            data-click-on-keypress="[13, 32]"\n            role="link"\n            href=""\n            ng-bind="perPageOption"></a>\n       </span>\n\n       <span ng-if="perPageOption == paginationOptions.perPage">{{ perPageOption }}</span>\n      </li>\n    </ul>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/types/form-configuration/group-edit-in-place.directive.html",'<span ng-if="!editing" ng-click="enterEditingMode()" class="group-edit-handler">\n  {{ name }}\n</span>\n<input\n  ng-if="editing"\n  class="group-edit-in-place--input"\n  type="text"\n  ng-model="name"\n  ng-blur="saveEdition()"\n  ng-keydown="keyDown($event)">\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/user/user-link/user-link.directive.html",'<a ng-href="{{ href }}"\n   ng-attr-title="::text.label"\n   ng-bind="::text.name">\n</a>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/work-packages/work-package-comment/work-package-comment.directive.html",'<div id="work-package-activites-container">\n  <div id="work-package-comment-container">\n\n    <ng-transclude ng-if="!vm.showAbove"></ng-transclude>\n    <div class="work-package--details--long-field work-packages--activity--add-comment" ng-if="vm.canAddComment">\n      <div class="wp-edit-field inplace-edit" ng-switch="vm.active">\n        <form ng-switch-when="true"\n              name="wp-edit-form-coment"\n              ng-submit="vm.handleUserSubmit()"\n              role="form"\n              field-name="\'comment\'"\n              wp-attachments-formattable\n              tabindex="-1">\n\n          <label for="{{::vm.htmlId}}"\n                 class="hidden-for-sighted">\n            {{::vm.text.addComment}}\n          </label>\n\n          <ng-include src="vm.field.template"></ng-include>\n        </form>\n        <div class="inplace-edit--read" ng-switch-when="false">\n          <accessible-by-keyboard\n            class="inplace-editing--trigger-container"\n            span-class="inplace-editing--container wp-edit-field--display-field"\n            link-class="inplace-editing--trigger-link"\n            link-aria-label="{{ ::vm.text.editTitle }}"\n            execute="vm.activate()">\n            <span class="inplace-edit--read-value -default">\n              <span ng-bind="::vm.text.placeholder"></span>\n            </span>\n            <span class="inplace-edit--icon-wrapper">\n              <op-icon icon-classes="icon-edit" icon-title="{{ ::vm.text.editTitle }}"></op-icon>\n            </span>\n          </accessible-by-keyboard>\n        </div>\n      </div>\n  </div>\n  <ng-transclude ng-if="vm.showAbove"></ng-transclude>\n</div>\n');
}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/work-packages/wp-relations-count/wp-relations-count.directive.html",'<span class="wp-relations-count" ng-if="$ctrl.count > 0" ng-bind="$ctrl.count"></span>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/work-packages/wp-single-view/wp-single-view.directive.html",'<div ng-if="$ctrl.workPackage" class="work-package--single-view">\n  <div class="work-packages--info-row" ng-if="!$ctrl.workPackage.isNew">\n    <span ng-bind="$ctrl.idLabel"/>:\n    <span ng-bind="$ctrl.text.infoRow.createdBy"/>\n    <user-link class="user-link" user="$ctrl.workPackage.author"></user-link>.\n    <span ng-bind="$ctrl.text.infoRow.lastUpdatedOn"/>\n    <op-date-time date-time-value="$ctrl.workPackage.updatedAt"></op-date-time>.\n  </div>\n\n  <div class="attributes-group -special-fields">\n    <div class="attributes-group--header">\n      <div class="attributes-group--header-container">\n      </div>\n    </div>\n    <div class="-columns-2">\n      <div class="attributes-key-value"\n           ng-class="{\'-span-all-columns\': descriptor.spanAll }"\n           ng-repeat="descriptor in $ctrl.specialFields track by descriptor.name">\n        <div class="attributes-key-value--key"\n             wp-replacement-label="descriptor.name">\n          {{ descriptor.label }}\n          <span class="required" ng-if="descriptor.field.required && descriptor.field.writable"> *</span>\n          <attribute-help-text title-text="descriptor.label" attribute="descriptor.name" attribute-scope="WorkPackage"></attribute-help-text>\n        </div>\n        <div class="attributes-key-value--value-container">\n          <wp-edit-field work-package-id="$ctrl.workPackage.id" field-name="descriptor.name"></wp-edit-field>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="attributes-group">\n    <div class="attributes-group--header">\n      <div class="attributes-group--header-container">\n        <h3 class="attributes-group--header-text"\n            ng-bind="$ctrl.text.fields.description"></h3>\n      </div>\n    </div>\n    <div class="single-attribute wiki work-packages--details--description">\n      <wp-edit-field field-name="\'description\'"\n                     work-package-id="$ctrl.workPackage.id"\n                     wrapper-classes="\'-no-label\'"\n                     display-placeholder="$ctrl.I18n.t(\'js.work_packages.placeholders.description\')"\n                     wp-attachments-formattable>\n      </wp-edit-field>\n    </div>\n  </div>\n\n  <div ng-repeat="group in $ctrl.groupedFields track by group.name"\n       ng-hide="$ctrl.shouldHideGroup(group)"\n       data-group-name="{{ group.name }}"\n       class="attributes-group">\n\n    <div class="attributes-group--header">\n      <div class="attributes-group--header-container">\n        <h3 class="attributes-group--header-text"\n            ng-bind="group.name"></h3>\n      </div>\n    </div>\n\n    <div class="-columns-2">\n      <div class="attributes-key-value"\n           ng-class="{\'-span-all-columns\': descriptor.spanAll }"\n           ng-repeat="descriptor in group.members track by descriptor.name"\n           ng-if="!$ctrl.shouldHideField(descriptor)">\n        <div\n            class="attributes-key-value--key"\n            ng-if="!descriptor.multiple"\n            wp-replacement-label="descriptor.name">\n\n          {{ descriptor.label }}\n          <span class="required" ng-if="descriptor.field.required && descriptor.field.writable"> *</span>\n          <attribute-help-text attribute="descriptor.name" attribute-scope="WorkPackage"></attribute-help-text>\n        </div>\n        <div ng-if="!descriptor.multiple"\n             class="attributes-key-value--value-container">\n\n          <wp-edit-field ng-if="descriptor.field.isFormattable"\n                         class="wp-edit-formattable-field"\n                         work-package-id="$ctrl.workPackage.id"\n                         field-name="descriptor.name"\n                         wp-attachments-formattable>\n          </wp-edit-field>\n          <wp-edit-field ng-if="!descriptor.field.isFormattable"\n                         work-package-id="$ctrl.workPackage.id"\n                         field-name="descriptor.name">\n          </wp-edit-field>\n        </div>\n        <div\n            class="attributes-key-value--key"\n            ng-if="descriptor.multiple"\n            wp-replacement-label="descriptor.label">\n          {{ descriptor.label }}\n          <attribute-help-text attribute="descriptor.name" attribute-scope="WorkPackage"></attribute-help-text>\n        </div>\n        <div\n            ng-if="descriptor.multiple"\n            class="attributes-key-value--value-container -minimal">\n          <wp-edit-field field-name="descriptor.fields[0].name"\n                         work-package-id="$ctrl.workPackage.id"\n                         wrapper-classes="\'-small -shrink\'"\n                         display-placeholder="::$ctrl.text[descriptor.name][descriptor.fields[0].name]">\n          </wp-edit-field>\n\n          <span class="attributes-key-value--value-separator"></span>\n\n          <wp-edit-field field-name="descriptor.fields[1].name"\n                         work-package-id="$ctrl.workPackage.id"\n                         wrapper-classes="\'-small -shrink\'"\n                         display-placeholder="::$ctrl.text[descriptor.name][descriptor.fields[1].name]">\n          </wp-edit-field>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="work-packages--attachments attributes-group">\n  <div class="work-packages--atachments-container">\n    <div class="attributes-group--header"\n         ng-if="$ctrl.workPackage.attachments.elements.length">\n      <div class="attributes-group--header-container">\n        <h3 class="attributes-group--header-text">\n          {{ ::$ctrl.I18n.t(\'js.label_attachments\') }}\n        </h3>\n      </div>\n    </div>\n\n    <wp-attachment-list work-package="$ctrl.workPackage"></wp-attachment-list>\n    <wp-attachments-upload work-package="$ctrl.workPackage">\n      <div class="work-package--attachments--drop-box">\n        <div class="work-package--attachments--label">\n          <op-icon icon-classes="icon-attachment"></op-icon>\n          <p>\n            {{ ::$ctrl.text.dropFiles }} <br>\n            {{ ::$ctrl.text.dropFilesHint }}\n          </p>\n        </div>\n      </div>\n    </wp-attachments-upload>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/work-packages/wp-subject/wp-subject.directive.html",'<div ng-if="$ctrl.workPackage" class="work-packages--subject-type-row">\n  <div class="work-packages--type-selector work-packages--subject-element">\n    <wp-edit-field work-package-id="$ctrl.workPackage.id"\n                   wrapper-classes="\'work-packages--type-selector work-packages--subject-element -no-label\'"\n                   field-name="\'type\'">\n    </wp-edit-field>\n  </div>\n  <div class="work-packages--details--subject work-packages--subject-element">\n    <wp-edit-field work-package-id="$ctrl.workPackage.id"\n                   wrapper-classes="\'work-packages--details--subject work-packages--subject-element -no-label\'"\n                   field-name="\'subject\'">\n    </wp-edit-field>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/work-packages/wp-watcher-button/wp-watcher-button.directive.html",'<button ng-click="vm.toggleWatch()" title="{{ vm.buttonTitle }}" ng-disabled="vm.disabled"\n        class="button toolbar-icon" ng-class="vm.buttonClass" id="{{ vm.buttonId }}">\n\n  <op-icon icon-classes="button--icon {{vm.watchIconClass}}"></op-icon>\n\n  <span class="button--text" ng-if="vm.showText" ng-bind="vm.buttonText"></span>\n</button>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-activity/activity-entry.directive.html",'<div id="activity-{{ activityNo }}">\n  <div ng-switch="activityType">\n    <revision-activity work-package="workPackage"\n                       activity="activity"\n                       activity-no="activityNo"\n                       activity-label="activityLabel"\n                       ng-switch-when="Revision">\n    </revision-activity>\n    <user-activity work-package="workPackage"\n                   activity="activity"\n                   activity-no="activityNo"\n                   activity-label="activityLabel"\n                   is-initial="isInitial"\n                   autocomplete-path="{{ autocompletePath }}"\n                   ng-switch-default>\n    </user-activity>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-attachments/wp-attachment-list/wp-attachment-list-item.html",'<span class="inplace-editing--trigger-container">\n  <span class="inplace-editing--trigger-link"\n        focus-within="\'.inplace-edit--icon-wrapper\'">\n    <span class="inplace-editing--container">\n      <span class="inplace-edit--read-value">\n        <op-icon icon-classes="icon-context icon-attachment"></op-icon>\n        <a\n            class="work-package--attachments--filename"\n            ng-href="{{ ::attachment.downloadLocation.href || \'#\' }}"\n            download>\n\n          {{ ::attachment.fileName || attachment.customName || attachment.name }}\n        </a>\n      </span>\n      <a\n          href=""\n          class="inplace-edit--icon-wrapper work-package--atachments--delete-button"\n          ng-if="!!attachment.$links.delete || $ctrl.workPackage.isNew"\n          ng-click="$ctrl.workPackage.removeAttachment(attachment)"\n          confirm-popup="{{ ::$ctrl.text.destroyConfirmation }}">\n        <op-icon icon-classes="icon-delete" icon-title="{{ ::$ctrl.text.removeFile({fileName: attachment.fileName}) }}"></op-icon>\n      </a>\n    </span>\n  </span>\n</span>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-attachments/wp-attachment-list/wp-attachment-list.directive.html",'<div class="work-package--attachments--files">\n  <div class="work-package--details--long-field">\n    <span\n        class="inplace-edit--read"\n        ng-include="::$ctrl.itemTemplateUrl"\n        ng-if="$ctrl.workPackage.pendingAttachments"\n        ng-repeat="attachment in $ctrl.workPackage.pendingAttachments track by attachment.name+$index">\n    </span>\n    <span\n        class="inplace-edit--read"\n        ng-include="::$ctrl.itemTemplateUrl"\n        ng-if="$ctrl.workPackage.attachments.elements"\n        ng-repeat="attachment in $ctrl.workPackage.attachments.elements track by attachment.name+$index">\n    </span>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-buttons/wp-button.template.html",'<button id="{{ ::vm.buttonId }}"\n        class="button {{ ::vm.buttonClass }}"\n        title="{{ vm.label }}"\n        ng-click="vm.performAction()"\n        ng-attr-accesskey="{{ ::vm.accessKey }}"\n        ng-disabled="vm.disabled || (!vm.isToggle() && vm.isActive())"\n        ng-class="{ \'-active\': vm.isActive() }">\n  <op-icon icon-classes="{{ ::vm.iconClass }} button--icon"></op-icon>\n</button>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-buttons/wp-create-button/wp-create-button.directive.html",'<div class="wp-create-button">\n  <button class="button -alt-highlight add-work-package"\n          ng-if="$ctrl.projectIdentifier"\n          has-dropdown-menu\n          target="TypesContextMenu"\n          ng-init="projectIdentifier = $ctrl.projectIdentifier; stateName = $ctrl.stateName"\n          locals="projectIdentifier, stateName"\n          ng-disabled="$ctrl.isDisabled()"\n          aria-label="{{ ::$ctrl.text.explanation }}">\n\n    <op-icon icon-classes="button--icon icon-add"></op-icon>\n    <span class="button--text"\n          ng-bind="::$ctrl.text.createWithDropdown"\n          aria-hidden="true"></span>\n    <op-icon icon-classes="button--icon icon-small icon-pulldown"></op-icon>\n  </button>\n  <button class="button -alt-highlight add-work-package"\n          ng-if="!$ctrl.projectIdentifier"\n          ng-click="$ctrl.createWorkPackage()"\n          ng-disabled="$ctrl.isDisabled()"\n          aria-label="{{ ::$ctrl.text.explanation }}">\n\n    <op-icon icon-classes="button--icon icon-add"></op-icon>\n    <span class="button--text"\n          ng-bind="::$ctrl.text.createButton"\n          aria-hidden="true"></span>\n  </button>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-buttons/wp-filter-button/wp-filter-button.directive.html",'<button id="{{ ::vm.buttonId }}"\n        class="button"\n        title="{{ vm.label }}"\n        ng-click="vm.performAction()"\n        ng-attr-accesskey="{{ ::vm.accessKey }}"\n        ng-disabled="vm.disabled"\n        ng-class="{ \'-active\': vm.isActive() }"\n        aria-label="{{ vm.label }}">\n  <op-icon icon-classes="{{ ::vm.iconClass }} button--icon"></op-icon>\n  <span class="button--text" ng-bind="::vm.buttonText"></span>\n  <span class="badge -secondary" ng-if="vm.initialized">{{ vm.filterCount }}</span>\n</button>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-buttons/wp-timeline-toggle-button/wp-timeline-toggle-button.html",'<ul id="work-packages-timeline-mode-selection" class="toolbar-button-group">\n  <li>\n    <button id="{{ ::vm.buttonId }}"\n            class="button timeline-toolbar--button toolbar-icon"\n            title="{{ vm.label }}"\n            ng-click="vm.toggleTimeline()"\n            ng-disabled="vm.disabled || (!vm.isToggle() && vm.isActive())"\n            ng-class="{ \'-active\': vm.isActive() }">\n      <op-icon icon-classes="{{ ::vm.iconClass }} button--icon"></op-icon>\n    </button>\n  </li>\n  <li ng-if="vm.isActive()">\n    <button id="work-packages-timeline-zoom-out-button"\n            class="button timeline-toolbar--button toolbar-icon"\n            title="{{ vm.text.zoomOut }}"\n            ng-disabled="vm.currentZoom == vm.maxZoomLevel"\n            ng-click="vm.updateZoom(1)">\n      <op-icon icon-classes="icon-zoom-out button--icon"></op-icon>\n    </button>\n  </li>\n  <li ng-if="vm.isActive()">\n    <button id="work-packages-timeline-zoom-in-button"\n            class="button timeline-toolbar--button toolbar-icon"\n            title="{{ vm.text.zoomIn }}"\n            ng-disabled="vm.currentZoom == vm.minZoomLevel"\n            ng-click="vm.updateZoom(-1)">\n      <op-icon icon-classes="icon-zoom-in button--icon"></op-icon>\n    </button>\n  </li>\n</ul>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-details/wp-details-toolbar.directive.html",'<div class="work-packages--details-toolbar">\n  <wp-watcher-button work-package="workPackage"\n                     show-text="true"\n                     ng-if="displayWatchButton">\n  </wp-watcher-button>\n\n  <button class="button dropdown-relative"\n          ng-disabled="!actionsAvailable"\n          has-dropdown-menu\n          accesskey="7"\n          target="DetailsMoreDropdownMenu"\n          locals="permittedActions,actionsAvailable,triggerMoreMenuAction">\n    <span class="button--text" ng-bind="::I18n.t(\'js.button_more\')"></span>\n    <op-icon icon-classes="button--dropdown-indicator"></op-icon>\n  </button>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-display/field-types/wp-display-progress-field.directive.html",'<span title="{{ vm.field.displayText }}">\n  <progress-bar progress="vm.field.value"\n                width="80px">\n  </progress-bar>\n<span>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-display/field-types/wp-display-resources-field.directive.html",'<span title="{{vm.field.value.join(\', \')}}">\n  <div ng-if="vm.field.value.length > 0" class="custom-option">\n    <span> {{ vm.field.valueAbridged }}</span>\n  </div>\n  <div ng-if="vm.field.value.length > 2" class="custom-option">\n    <span class="badge -secondary"> {{vm.field.value.length}} </span>\n  </div>\n\n  <div title="I18n.t(\'js.work_packages.no_value\')" ng-if="vm.field.value.length == 0" class="custom-option -empty">\n    -\n  </div>\n</span>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-edit-form/wp-edit-form.template.html",'<div class="wp-inline-edit--active-field wp-edit-field inplace-edit {{ ::vm.field.name }}"\n     ng-class="{\'-error\': vm.isErrorenous }">\n  <form ng-click="vm.stopPropagation($event)"\n        ng-dblclick="vm.stopPropagation($event)"\n        ng-submit="vm.handleUserSubmit()"\n        role="form"\n        tabindex="-1">\n\n    <label for="{{::vm.htmlId}}"\n           class="hidden-for-sighted">\n      {{::vm.fieldLabel}}\n\n      {{::vm.errorMessageOnLabel}}\n    </label>\n\n    <ng-include src="vm.field.template"></ng-include>\n  </form>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-edit/field-controls/wp-edit-field-controls.directive.html",'<div class="inplace-edit--dashboard">\n  <div class="inplace-edit--controls"\n       ng-hide="!vm.fieldController.active">\n    <accessible-by-keyboard execute="vm.onSave()"\n                            ng-disabled="vm.field.required && vm.field.isEmpty()"\n                            is-disabled="vm.field.required && vm.field.isEmpty()"\n                            link-title="{{ vm.saveTitle }}"\n                            class="inplace-edit--control inplace-edit--control--save">\n      <op-icon icon-classes="icon-checkmark" icon-title="{{ ::vm.saveTitle }}"></op-icon>\n    </accessible-by-keyboard>\n    <accessible-by-keyboard execute="vm.onCancel()"\n                            link-title="{{ vm.cancelTitle }}"\n                            class="inplace-edit--control inplace-edit--control--cancel">\n      <op-icon icon-classes="icon-close" icon-title="{{ vm.cancelTitle }}"></op-icon>\n    </accessible-by-keyboard>\n</div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-edit/field-types/wp-edit-boolean-field.directive.html",'<input type="checkbox"\n       class="wp-inline-edit--field wp-inline-edit--boolean-field"\n       wp-edit-field-requirements="vm.field.schema"\n       ng-model="vm.field.value"\n       ng-false-value="false"\n       ng-change="vm.handleUserSubmit()"\n       ng-focus="vm.handleUserFocus()"\n       ng-blur="vm.handleUserBlur()"\n       ng-disabled="vm.field.inFlight"\n       ng-attr-id="{{vm.htmlId}}" />\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-edit/field-types/wp-edit-date-field.directive.html",'<op-date-picker\n  tabindex="-1"\n  on-change="vm.handleUserSubmit()"\n  on-change="vm.handleUserSubmit()">\n\n  <input ng-model="vm.field.value"\n         type="text"\n         class="wp-inline-edit--field"\n         transform-date-value\n         ng-blur="vm.onlyInAccessibilityMode(vm.handleUserBlur)"\n         ng-keydown="vm.handleUserKeydown($event)"\n         ng-required="vm.field.required"\n         ng-disabled="vm.field.inFlight"\n         ng-attr-id="{{vm.htmlId}}" />\n\n</op-date-picker>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-edit/field-types/wp-edit-duration-field.directive.html",'<input type="number"\n       step="0.01"\n       class="wp-inline-edit--field"\n       wp-edit-field-requirements="vm.field.schema"\n       ng-model="vm.field.value"\n       transform-duration-value\n       ng-required="vm.field.required"\n       ng-focus="vm.handleUserFocus()"\n       ng-blur="vm.handleUserBlur()"\n       ng-keydown="vm.handleUserKeydown($event)"\n       ng-disabled="vm.field.inFlight"\n       ng-attr-id="{{vm.htmlId}}" />\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-edit/field-types/wp-edit-float-field.directive.html",'<input type="text"\n       class="wp-inline-edit--field"\n       wp-edit-field-requirements="vm.field.schema"\n       ng-model="vm.field.value"\n       ng-required="vm.field.required"\n       ng-focus="vm.handleUserFocus()"\n       ng-blur="vm.handleUserBlur()"\n       ng-keydown="vm.handleUserKeydown($event)"\n       transform-float-value\n       ng-disabled="vm.field.inFlight"\n       ng-attr-id="{{vm.htmlId}}" />\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-edit/field-types/wp-edit-integer-field.directive.html",'<input type="number"\n       class="wp-inline-edit--field"\n       wp-edit-field-requirements="vm.field.schema"\n       ng-model="vm.field.value"\n       ng-required="vm.field.required"\n       ng-focus="vm.handleUserFocus()"\n       ng-blur="vm.handleUserBlur()"\n       ng-keydown="vm.handleUserKeydown($event)"\n       ng-disabled="vm.field.inFlight"\n       ng-attr-id="{{vm.htmlId}}" />\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-edit/field-types/wp-edit-multi-select-field.directive.html",'<div ng-class="vm.field.isMultiselect ? \'textarea-wrapper\' : \'\'"\n    class="inline-label">\n\n  <select\n    ng-if="!vm.field.isMultiselect"\n    ng-model="vm.field.value"\n    class="focus-input wp-inline-edit--field inplace-edit--field -animated form--select"\n    wp-edit-field-requirements="vm.field.schema"\n    ng-options="value as (value.name || value.value) for value in vm.field.options track by value.href"\n    ng-required="vm.field.required"\n    ng-focus="vm.handleUserFocus()"\n    ng-disabled="vm.field.inFlight"\n    ng-attr-id="{{vm.htmlId}}"\n    ng-keydown="vm.handleUserKeydown($event, true)"\n    ng-change="vm.handleUserSubmit()"\n  >\n    <option\n      value=""\n      ng-bind="vm.field.text.requiredPlaceholder"\n      ng-if="vm.field.currentValueInvalid || vm.field.options.length == 0"\n      ng-selected="vm.field.currentValueInvalid || vm.field.options.length == 0"\n      disabled\n    >\n    </option>\n  </select>\n\n  <select\n    ng-if="vm.field.isMultiselect"\n    ng-model="vm.field.value"\n    class="focus-input wp-inline-edit--field inplace-edit--textarea -animated form--select"\n    wp-edit-field-requirements="vm.field.schema"\n    ng-options="value as (value.name || value.value) for value in vm.field.options track by value.href"\n    ng-required="vm.field.required"\n    ng-focus="vm.handleUserFocus()"\n    ng-disabled="vm.field.inFlight"\n    ng-attr-id="{{vm.htmlId}}"\n    multiple=""\n    size=5\n  >\n    <option\n      value=""\n      ng-bind="vm.field.text.requiredPlaceholder"\n      ng-if="vm.field.currentValueInvalid || vm.field.options.length == 0"\n      ng-selected="vm.field.currentValueInvalid || vm.field.options.length == 0"\n      disabled\n    >\n    </option>\n  </select>\n\n  <a href class="wp-inline-edit--toggle-multiselect form-label no-decoration-on-hover -transparent" ng-click="vm.field.toggleMultiselect()">\n    <op-icon ng-if="vm.field.isMultiselect"\n             icon-classes="icon-minus2 icon4"\n             icon-title="{{I18n.t(\'js.work_packages.label_switch_to_single_select\')}}"></op-icon>\n    <op-icon ng-if="!vm.field.isMultiselect"\n             icon-classes="icon-add icon4"\n             icon-title="{{I18n.t(\'js.work_packages.label_switch_to_multi_select\')}}"></op-icon>\n  </a>\n\n  <wp-edit-field-controls ng-show="!vm.inEditMode"\n                          ng-if="vm.field.isMultiselect"\n                          field-controller="vm"\n                          on-save="vm.handleUserSubmit()"\n                          on-cancel="vm.handleUserCancel()"\n                          save-title="{{ vm.field.text.save }}"\n                          cancel-title="{{ vm.field.text.cancel }}">\n  </wp-edit-field-controls>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-edit/field-types/wp-edit-select-field.directive.html",'<select ng-model="vm.field.selectedOption"\n        ng-model-options="{ getterSetter:true }"\n        class="wp-inline-edit--field form--select"\n        wp-edit-field-requirements="vm.field.schema"\n        ng-options="value as (value.name || value.value) for value in vm.field.options track by value.href"\n        ng-change="vm.handleUserSubmit()"\n        ng-required="vm.field.required"\n        ng-focus="vm.handleUserFocus()"\n        ng-keydown="vm.handleUserKeydown($event, true)"\n        ng-disabled="vm.field.inFlight"\n        ng-attr-id="{{vm.htmlId}}"\n        role="listbox">\n  <option value=""\n          ng-bind="vm.field.text.requiredPlaceholder"\n          ng-if="vm.field.currentValueInvalid"\n          ng-selected="vm.field.currentValueInvalid"\n          disabled>\n  </option>\n</select>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-edit/field-types/wp-edit-text-field.directive.html",'<input type="text"\n       class="wp-inline-edit--field"\n       wp-edit-field-requirements="vm.field.schema"\n       ng-model="vm.field.value"\n       ng-required="vm.field.required"\n       ng-focus="vm.handleUserFocus()"\n       ng-disabled="vm.field.inFlight"\n       ng-keydown="vm.handleUserKeydown($event)"\n       focus="vm.field.name === \'subject\'"\n       ng-attr-id="{{vm.htmlId}}" />\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-edit/field-types/wp-edit-wiki-textarea-field.directive.html",'<div class="textarea-wrapper" ng-class="{\'-preview\': vm.field.isPreview}">\n  <textarea\n          wiki-toolbar\n          op-auto-complete\n          msd-elastic="\\n"\n          preview-toggle="vm.field.togglePreview()"\n          style="min-height: 114px"\n          class="focus-input wp-inline-edit--field inplace-edit--textarea -animated"\n          name="value"\n          ng-hide="vm.field.isPreview"\n          ng-required="vm.field.required"\n          ng-disabled="vm.field.isBusy || vm.field.inFlight"\n          ng-model="vm.field.rawValue"\n          ng-attr-id="{{vm.htmlId}}">  </textarea>\n    <div class="inplace-edit--preview" ng-show="vm.field.isPreview && !vm.field.isBusy">\n        <span bind-unescaped-html="vm.field.previewHtml"></span>\n    </div>\n    <div ng-if="vm.field.isFormattable && !vm.field.isPreview"\n         class="wp-edit-field-attachment-label">\n      <span ng-bind="vm.field.text.attachmentLabel"></span>\n    </div>\n    <wp-edit-field-controls ng-show="!vm.inEditMode"\n                            field-controller="vm"\n                            on-save="vm.handleUserSubmit()"\n                            on-cancel="vm.handleUserCancel()"\n                            save-title="{{ vm.field.text.save }}"\n                            cancel-title="{{ vm.field.text.cancel }}">\n    </wp-edit-field-controls>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-edit/op-date-picker/op-date-picker.directive.html","<div>\n  <ng-transclude></ng-transclude>\n</div>\n")}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-edit/wp-edit-field/wp-edit-field.directive.html",'<div ng-class="[\n      vm.editFieldContainerClass,\n      vm.fieldName,\n      vm.active && \'-active\' || \'\',\n      vm.wrapperClasses || \'-small\'\n     ]">\n\n  <div class="__d_edit_container">\n  </div>\n\n  <div ng-click="vm.activateIfEditable($event)"\n       data-click-on-keypress="[13, 32]"\n       tabindex="-1"\n       class="__d_display_container"></div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-edit/wp-edit-field/wp-replacement-label.directive.html",'<ng-transclude\n  ng-click="vm.activate($event)"\n  tabindex="-1">\n</ng-transclude>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-inline-create/wp-inline-create.directive.html",'<tr ng-if="!$ctrl.isHidden" class="wp-inline-create-button-row">\n  <td colspan="{{ $ctrl.colspan }}" class="-no-highlighting">\n    <div\n        class="wp-inline-create-button"\n        ng-show="$ctrl.isAllowed">\n      <a class="wp-inline-create--add-link"\n              href="javascript:"\n              role="link"\n              focus="$ctrl.focus"\n              focus-priority="true"\n              ng-click="$ctrl.addWorkPackageRow()"\n              ng-disabled="!$ctrl.isAllowed"\n              aria-label="{{ ::$ctrl.text.create }}"\n              data-click-on-keypress="[13, 32]"\n              aria-haspopup="true">\n        <op-icon icon-classes="icon icon-add"></op-icon>\n      </a>\n    </div>\n  </td>\n</tr>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-panels/activity-panel/activity-panel-default.directive.html",'<work-package-comment work-package="vm.workPackage"\n                      activities="vm.activities">\n\n\n  <div class="detail-activity">\n    <ul class="work-package-details-activities-list">\n      <li ng-repeat="activity in vm.visibleActivities()"\n          class="work-package-details-activities-activity"\n          ng-init="inf = vm.info(activity, $index); showToggler = vm.showToggler()">\n\n        <h3 class="activity-date"\n            ng-class="{\'-with-toggler\': $first && showToggler}"\n            ng-if="$first || inf.isNextDate">\n          <span class="activity-date--label" ng-bind="inf.date"></span>\n          <accessible-by-keyboard execute="vm.toggleComments()"\n                                  ng-if="$first && showToggler"\n                                  link-class="activity-comments--toggler button -small -transparent"\n                                  link-aria-label="{{ vm.togglerText }}">\n            <span ng-bind="vm.togglerText"></span>\n          </accessible-by-keyboard>\n        </h3>\n\n          <activity-entry work-package="vm.workPackage"\n                          activity="activity"\n                          activity-no="inf.number(vm.isReversed())"\n                          is-initial="inf.isInitial()">\n          </activity-entry>\n      </li>\n    </ul>\n  </div>\n</work-package-comment>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-panels/activity-panel/activity-panel-overview.directive.html",'<work-package-comment work-package="vm.workPackage"\n                      activities="vm.activities">\n  \n  <ul class=\'work-package-details-activities-list\'>\n    <li ng-repeat="activity in vm.activities | latestItems : 3 : vm.reverse "\n        class="work-package-details-activities-activity"\n\n        ng-init="inf = vm.info(activity, $index)">\n\n      <activity-entry work-package="vm.workPackage"\n                      activity="activity"\n                      activity-no="inf.number(true)"\n                      is-initial="inf.isInitial(true)">\n      </activity-entry>\n    </li>\n  </ul>\n</work-package-comment>\n');
}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-panels/overview-panel/overview-panel.directive.html",'<wp-single-view work-package="$ctrl.workPackage" ng-if="$ctrl.workPackage"></wp-single-view>\n\n<div class="attributes-group" ng-if="$ctrl.workPackage">\n  <div class="attributes-group--header">\n    <div class="attributes-group--header-container">\n      <h3 class="attributes-group--header-text">{{ I18n.t(\'js.label_latest_activity\') }}</h3>\n    </div>\n  </div>\n\n  <activity-panel template="overview" work-package="$ctrl.workPackage"></activity-panel>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-panels/relations-panel/relations-panel.directive.html",'<div class="detail-panel-description detail-panel--autocomplete-target" ng-if="$ctrl.workPackage">\n  <div class="detail-panel-description-content">\n    <wp-relations work-package="$ctrl.workPackage"\n    ></wp-relations>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-panels/watchers-panel/watchers-panel.directive.html",'<div id="detail-panel-watchers">\n  <div class="notification-box -error" ng-show="vm.error">\n    <div class="notification-box--content">\n      <p>{{ ::vm.text.loadingError }}</p>\n    </div>\n  </div>\n  <div ng-hide="vm.error">\n    <div class="work-package--watchers work-package--details--long-field"\n         ng-class="{\'-read-only\': !vm.allowedToRemove}">\n      <wp-watcher watcher="watcher"\n                  ng-repeat="watcher in vm.watching track by watcher.id"></wp-watcher>\n    </div>\n    <div class="work-package--watchers-lookup" ng-show="vm.allowedToAdd">\n      <form name="watcherForm" novalidate>\n        <input type="text"\n               class="wp-watcher--autocomplete ui-autocomplete--input"\n               ng-class="{ \'-error\': noResults }"\n               placeholder="{{ ::vm.text.autocomplete.placeholder }}">\n      </form>\n    </div>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-query-select/wp-query-select.template.html",'<div class="dropdown dropdown-relative" id="querySelectDropdown">\n  <div class="search-query-wrapper">\n    <label for="title-filter" class="hidden-for-sighted">{{ ::i18n.label }}</label>\n    <input type="text"\n           class="ui-autocomplete--input"\n           id="query-title-filter"\n           placeholder="{{ i18n.loading }}">\n    <i id="magnifier" class="icon-search"></i>\n  </div>\n  <p class="query-select-dropdown--no-results" hidden ng-bind="::i18n.no_results"></p>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-relations/wp-relation-row/wp-relation-row.template.html",'<div class="relation-row"\n     ng-class="[\'relation-row-{{ $ctrl.relatedWorkPackage.id }}\']"\n     focus-within="\'.wp-relations-controls-section accessible-by-keyboard\'">\n    <div class="grid-block hierarchy-item">\n\n        <div class="grid-content medium-3 collapse">\n            <span class="relation-row--type"\n                  ng-click="$ctrl.userInputs.showRelationTypesForm = true"\n                  tabindex="0"\n                  ng-if="!$ctrl.userInputs.showRelationTypesForm">\n\n\n              <span ng-if="$ctrl.groupByWorkPackageType"\n                    ng-bind="$ctrl.normalizedRelationType"></span>\n              <span ng-if="!$ctrl.groupByWorkPackageType"\n                    ng-bind="$ctrl.relatedWorkPackage.type.name"></span>\n              <span class="hidden-for-sighted" ng-bind="::$ctrl.text.updateRelation"></span>\n            </span>\n            <div class="wp-edit-field inplace-edit"\n                 ng-if="$ctrl.userInputs.showRelationTypesForm">\n                <select class="wp-inline-edit--field form--select"\n                        ng-model="$ctrl.selectedRelationType"\n                        role="listbox"\n                        focus\n                        ng-options="relationType.name for relationType in $ctrl.availableRelationTypes"\n                        ng-change="$ctrl.saveRelationType()"></select>\n            </div>\n        </div>\n\n        <div class="grid-content medium-5 collapse" wp-single-relation\n             ng-if="$ctrl.relatedWorkPackage">\n            <a ui-sref=".({ workPackageId: $ctrl.relatedWorkPackage.id})"\n               class="wp-relations--subject-field"\n               aria-label="{{ $ctrl.normalizedRelationType + \' \' + singleRelationCtrl.getFullIdentifier($ctrl.relatedWorkPackage, true) }}">\n                {{ singleRelationCtrl.getFullIdentifier($ctrl.relatedWorkPackage, true) }}\n            </a>\n        </div>\n\n        <div class="grid-content medium-2 collapse wp-relations-status-field">\n            <div wp-edit-form="$ctrl.relatedWorkPackage" ng-if="$ctrl.relatedWorkPackage">\n                <div wp-edit-field="\'status\'"></div>\n            </div>\n        </div>\n\n        <div class="grid-content medium-2 collapse wp-relations-controls-section"\n             ng-class="{\'-expanded\': $ctrl.userInputs.showRelationInfo }">\n            <accessible-by-keyboard link-aria-label="{{ ::$ctrl.text.description_label }}"\n                                    link-title="{{ ::$ctrl.text.description_label }}"\n                                    link-class="wp-relations--description-btn"\n                                    ng-class="{\'-visible\': $ctrl.showDescriptionInfo }"\n                                    execute="$ctrl.userInputs.showRelationInfo = !$ctrl.userInputs.showRelationInfo">\n                <op-icon icon-classes="icon-info1 wp-relations--icon wp-relations--description-icon" icon-title="{{ ::$ctrl.text.toggleDescription }}"></op-icon>\n            </accessible-by-keyboard>\n            <accessible-by-keyboard ng-if="$ctrl.relation.delete"\n                                    execute="$ctrl.removeRelation($ctrl.relation)"\n                                    aria-hidden="false"\n                                    link-aria-label="{{ ::$ctrl.text.remove }}"\n                                    link-title="{{ ::$ctrl.text.remove }}"\n                                    link-class="relation-row--remove-btn">\n                <op-icon icon-classes="icon-remove wp-relations--icon" icon-title="{{ ::$ctrl.text.removeButton }}"></op-icon>\n            </accessible-by-keyboard>\n        </div>\n    </div>\n\n    <div class="grid-block hierarchy-item description-container"\n         ng-show="$ctrl.userInputs.showRelationInfo">\n        <div class="wp-relation--description-read-value"\n             ng-class="{\'-placeholder\': !$ctrl.relation.description }"\n             ng-click="$ctrl.startDescriptionEdit()"\n             ng-hide="$ctrl.userInputs.showDescriptionEditForm"\n             ng-bind="$ctrl.relation.description || $ctrl.text.placeholder.description">\n        </div>\n        <div class="wp-relation--description-wrapper textarea-wrapper"\n             ng-show="$ctrl.userInputs.showDescriptionEditForm">\n          <textarea\n                  msd-elastic="\\n"\n                  autofocus\n                  class="wp-relation--description-textarea"\n                  name="description"\n                  ng-keyup="$ctrl.handleDescriptionKey($event)"\n                  ng-model="$ctrl.userInputs.newRelationText"></textarea>\n            <wp-edit-field-controls field-controller="$ctrl.fieldController"\n                                    on-save="$ctrl.saveDescription()"\n                                    on-cancel="$ctrl.cancelDescriptionEdit()"\n                                    save-title="{{ vm.field.text.save }}"\n                                    cancel-title="{{ vm.field.text.cancel }}">\n            </wp-edit-field-controls>\n        </div>\n    </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-relations/wp-relations-create/add-child.template.html",'<div>\n    <div class="wp-relations-create-button -full-width"\n         ng-if="!$ctrl.showRelationsCreateForm">\n        <div class="grid-block">\n            <div class="grid-content collapse"\n                 ng-if="$ctrl.canAddChildren">\n                <a class="wp-inline-create--add-link relation-create"\n                   ng-click="$ctrl.createNewChildWorkPackage()"\n                   id="hierarchy--add-new-child"\n                   href>\n                    <op-icon icon-classes="icon icon-add"></op-icon>\n                    <span>{{ ::$ctrl.text.addNewChild }}</span>\n                </a>\n            </div>\n            <div class="grid-content collapse"\n                 ng-if="$ctrl.canLinkChildren">\n                <a class="wp-inline-create--add-link relation-create -focus-after-save"\n                   ng-click="$ctrl.toggleRelationsCreateForm()"\n                   href\n                   id="hierarchy--add-exisiting-child">\n                    <op-icon icon-classes="icon icon-add"></op-icon>\n                    <span>{{ ::$ctrl.text.addExistingChild }}</span>\n                </a>\n            </div>\n        </div>\n    </div>\n    <div class="loading-indicator--location"\n             data-indicator-name="relationAddChild">\n      <div class="grid-block v-align wp-relations--child-form" ng-if="$ctrl.showRelationsCreateForm">\n          <div class="grid-content medium-10">\n              <wp-relations-autocomplete\n                      work-package="$ctrl.workPackage"\n                      loading-promise-name="relationAddChild"\n                      selected-wp-id="$ctrl.selectedWpId"\n                      selected-relation-type="$ctrl.selectedRelationType"\n                      filter-candidates-for="children"\n                      focus>\n\n              </wp-relations-autocomplete>\n          </div>\n          <div class="grid-content medium-2 collapse wp-relations-controls-section relation-row">\n              <accessible-by-keyboard\n                      link-class="wp-create-relation--save"\n                      is-disabled="$ctrl.isDisabled"\n                      execute="$ctrl.createRelation()"\n                      aria-hidden="false">\n                  <op-icon icon-classes="icon-checkmark" icon-title="{{ ::$ctrl.text.save }}"></op-icon>\n              </accessible-by-keyboard>\n              <accessible-by-keyboard\n                      link-class="wp-create-relation--cancel"\n                      execute="$ctrl.toggleRelationsCreateForm()"\n                      aria-hidden="false">\n                  <op-icon icon-classes="icon-remove" icon-title="{{ ::$ctrl.text.abort }}"></op-icon>\n              </accessible-by-keyboard>\n          </div>\n      </div>\n    </div>\n</div>\n\n\n\n\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-relations/wp-relations-create/add-fixed-type.template.html",'<div class="loading-indicator--location"\n     data-indicator-name="relationAddFixed">\n    <div class="grid-block v-align collapse  wp-relations-create"\n         ng-if="$ctrl.showRelationsCreateForm || $ctrl.externalFormToggle">\n        <div class="grid-content medium-10 collapse">\n            <wp-relations-autocomplete\n                    selected-wp-id="$ctrl.selectedWpId"\n                    loading-promise-name="relationAddFixed"\n                    selected-relation-type="$ctrl.selectedRelationType"\n                    focus>\n            </wp-relations-autocomplete>\n        </div>\n        <div class="grid-content medium-2 collapse wp-relations-controls-section relation-row">\n            <accessible-by-keyboard\n                    execute="$ctrl.createRelation()"\n                    is-disabled="$ctrl.isDisabled"\n                    aria-hidden="false">\n                <op-icon icon-classes="icon-checkmark" icon-title="{{ ::$ctrl.text.save }}"></op-icon>\n            </accessible-by-keyboard>\n            <accessible-by-keyboard\n                    execute="$ctrl.toggleRelationsCreateForm()"\n                    aria-hidden="false">\n                <op-icon icon-classes="icon-remove" icon-title="{{ ::$ctrl.text.abort }}"></op-icon>\n            </accessible-by-keyboard>\n        </div>\n</div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-relations/wp-relations-create/dynamic-relation-types.template.html",'<div class="wp-relations-create">\n    <div class="wp-relations-create-button"\n         ng-if="!$ctrl.showRelationsCreateForm">\n        <div class="grid-block">\n            <div class="grid-content collapse wp-inline-create-button">\n                <a class="wp-inline-create--add-link relation-create -focus-after-save"\n                   ng-click="$ctrl.toggleRelationsCreateForm()"\n                   href\n                   id="relation--add-relation">\n                    <op-icon icon-classes="icon icon-add"></op-icon>\n                    <span>{{ ::$ctrl.text.addNewRelation }}</span>\n                </a>\n            </div>\n        </div>\n    </div>\n    <div class="loading-indicator--location"\n         data-indicator-name="relationAddDynamic">\n        <div class="grid-block v-align wp-relations-create--form" ng-if="$ctrl.showRelationsCreateForm">\n            <div class="grid-content collapse medium-3">\n                <label class="hidden-for-sighted" for="relation-type--select">{{ ::$ctrl.text.relationType }}</label>\n                <select class="form--select relationTypeSelect"\n                        id="relation-type--select"\n                        role="listbox"\n                        ng-model="$ctrl.selectedRelationType"\n                        ng-options="type.name as type.label for type in $ctrl.relationTypes"\n                        focus>\n                </select>\n            </div>\n            <div class="grid-content medium-7">\n                <wp-relations-autocomplete\n                        work-package="$ctrl.workPackage"\n                        loading-promise-name="relationAddDynamic"\n                        selected-wp-id="$ctrl.selectedWpId"\n                        selected-relation-type="$ctrl.selectedRelationType">\n                </wp-relations-autocomplete>\n            </div>\n            <div class="grid-content medium-2 collapse wp-relations-controls-section relation-row">\n                <accessible-by-keyboard\n                        execute="$ctrl.createRelation()"\n                        is-disabled="$ctrl.isDisabled || !$ctrl.selectedWpId"\n                        link-class="wp-create-relation--save"\n                        aria-hidden="false">\n                    <op-icon icon-classes="icon-checkmark" icon-title="{{ ::$ctrl.text.save }}"></op-icon>\n                </accessible-by-keyboard>\n                <accessible-by-keyboard\n                        execute="$ctrl.toggleRelationsCreateForm()"\n                        link-class="wp-create-relation--cancel"\n                        aria-hidden="false">\n                    <op-icon icon-classes="icon-remove" icon-title="{{ ::$ctrl.text.abort }}"></op-icon>\n                </accessible-by-keyboard>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-relations/wp-relations-create/empty-parents.template.html",'<div class="wp-relations-create">\n    <div class="wp-relations-create-button -full-width"\n         ng-if="!$ctrl.showRelationsCreateForm">\n        <div class="grid-block">\n            <div class="grid-content collapse wp-inline-create-button">\n                <a class="wp-inline-create--add-link relation-create -focus-after-save"\n                   ng-click="$ctrl.toggleRelationsCreateForm()"\n                   href\n                   id="hierarchy--add-parent">\n                    <op-icon icon-classes="icon icon-add"></op-icon>\n                    <span>{{ ::$ctrl.text.addParent }}</span>\n                </a>\n            </div>\n        </div>\n    </div>\n    <div class="loading-indicator--location"\n         data-indicator-name="relationAddParent">\n        <div class="grid-block v-align wp-relations--parent-form"\n             ng-if="$ctrl.showRelationsCreateForm || $ctrl.externalFormToggle">\n            <div class="grid-content medium-10 collapse">\n                <wp-relations-autocomplete\n                        work-package="$ctrl.workPackage"\n                        loading-promise-name="relationAddParent"\n                        selected-wp-id="$ctrl.selectedWpId"\n                        selected-relation-type="$ctrl.selectedRelationType"\n                        filter-candidates-for="parent"\n                        focus>\n                </wp-relations-autocomplete>\n            </div>\n            <div class="grid-content medium-2 collapse wp-relations-controls-section relation-row">\n                <accessible-by-keyboard\n                        link-class="wp-create-relation--save"\n                        is-disabled="$ctrl.isDisabled"\n                        execute="$ctrl.createRelation()"\n                        class="wp-relations--save"\n                        aria-hidden="false">\n                    <op-icon icon-classes="icon-checkmark" icon-title="{{ ::$ctrl.text.save }}"></op-icon>\n                </accessible-by-keyboard>\n                <accessible-by-keyboard\n                        link-class="wp-create-relation--cancel"\n                        execute="$ctrl.toggleRelationsCreateForm()"\n                        aria-hidden="false">\n                    <op-icon icon-classes="icon-remove" icon-title="{{ ::$ctrl.text.abort }}"></op-icon>\n                </accessible-by-keyboard>\n            </div>\n        </div>\n    </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-relations/wp-relations-create/wp-relations-autocomplete/wp-relations-autocomplete.template.html",'<form name="add_relation_form" class="form">\n  <input type="text"\n         class="wp-relations--autocomplete ui-autocomplete--input"\n         ng-class="{ \'-error\': noResults }"\n         placeholder="{{ ::text.placeholder }}">\n</form>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-relations/wp-relations-group/wp-relations-group.template.html",'<div class="attributes-group">\n    <div class="attributes-group--header">\n        <div class="attributes-group--header-container">\n            <h3 class="attributes-group--header-text relation-group--header">\n                {{ $ctrl.header }}\n            </h3>\n        </div>\n        <div class="attributes-group--header-toggle" ng-if="$ctrl.firstGroup">\n          <div id="wp-relation-group-by-toggle"\n               class="panel-toggler ng-scope ng-isolate-scope">\n              <accessible-by-keyboard link-class="icon-context icon-small icon-group-by button -transparent"\n                                      execute="$ctrl.toggleButton()">\n                  <span ng-if="!$ctrl.groupByWorkPackageType" ng-bind="::$ctrl.text.groupByType"></span>\n                  <span ng-if="$ctrl.groupByWorkPackageType" ng-bind="::$ctrl.text.groupByRelation"></span>\n              </accessible-by-keyboard>\n            </div>\n        </div>\n    </div>\n\n    <div class="content" ng-if="$ctrl.relatedWorkPackages">\n        <wp-relation-row\n                work-package="$ctrl.workPackage"\n                group-by-work-package-type="$ctrl.groupByWorkPackageType"\n                related-work-package="relatedWorkPackage"\n                ng-repeat="relatedWorkPackage in $ctrl.relatedWorkPackages"></wp-relation-row>\n    </div>\n</div>\n\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-relations/wp-relations-hierarchy-row/wp-relations-hierarchy-row.template.html",'<div class="relation-row"\n     ng-class="$ctrl.relationClassName"\n     focus-within>\n    <div class="grid-block v-align hierarchy-item"\n         ng-if="!$ctrl.showEditForm && $ctrl.relationReady">\n        <div class="grid-content medium-7 collapse" wp-single-relation>\n            <span ng-style="{\'padding-left\': $ctrl.indentBy + \'px\'}"\n                  class="wp-relations-hierarchy-subject">\n                <a ui-sref=".({ workPackageId: $ctrl.relatedWorkPackage.id})"\n                   class="wp-relations--subject-field"\n                   ng-if="!$ctrl.isCurrentElement()"\n                   aria-label="{{ ($ctrl.isParent() ? $ctrl.text.parent : $ctrl.text.children) + \' \' + singleRelationCtrl.getFullIdentifier($ctrl.relatedWorkPackage) }}"\n                   ng-attr-id="{{ $ctrl.isParent() ? \'hierarchy--parent\' : \'\'}}">\n                    {{ singleRelationCtrl.getFullIdentifier($ctrl.relatedWorkPackage) }}\n                </a>\n                <span ng-if="$ctrl.isCurrentElement()"\n                      title="{{$singleRelation.getFullIdentifier($ctrl.relatedWorkPackage)}}">\n                        {{ singleRelationCtrl.getFullIdentifier($ctrl.relatedWorkPackage) }}\n                </span>\n            </span>\n        </div>\n        <div class="grid-content medium-3 collapse wp-relations-status-field">\n            <div wp-edit-form="$ctrl.relatedWorkPackage" ng-if="$ctrl.relationReady">\n                <div wp-edit-field="\'status\'">\n                </div>\n            </div>\n        </div>\n        <div class="grid-content medium-2 collapse wp-relations-controls-section focus-within--depending">\n          <accessible-by-keyboard ng-if="$ctrl.canModifyHierarchy && $ctrl.isParent()"\n                                  aria-hidden="false"\n                                  execute="$ctrl.showEditForm = true"\n                                  link-class="wp-relation--edit">\n              <op-icon icon-classes="icon-edit" icon-title="{{ ::$ctrl.text.change_parent }}"></op-icon>\n          </accessible-by-keyboard>\n\n          <accessible-by-keyboard ng-if="$ctrl.canModifyHierarchy && $ctrl.relationType"\n                                  aria-hidden="false"\n                                  execute="$ctrl.removeRelation()"\n                                  link-class="wp-relation--remove">\n              <op-icon icon-classes="icon-remove"\n                       icon-title="{{ $ctrl.isParent() ? $ctrl.text.remove_parent : $ctrl.text.remove_child }}"></op-icon>\n          </accessible-by-keyboard>\n        </div>\n    </div>\n\n    <div ng-if="$ctrl.isParent() && !$ctrl.relatedWorkPackage || $ctrl.showEditForm">\n        <wp-relations-create template="empty-parents"\n                             fixed-relation-type="parent"\n                             ng-if="$ctrl.canModifyHierarchy"\n                             external-form-toggle="$ctrl.showEditForm"\n                             work-package="$ctrl.workPackage"></wp-relations-create>\n    </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-relations/wp-relations-hierarchy/wp-relations-hierarchy.template.html",'<div class="wp-relations-hierarchy-section">\n    <div class="attributes-group--header">\n        <div class="attributes-group--header-container">\n            <h3 class="attributes-group--header-text">\n                {{ ::$ctrl.text.hierarchyHeadline }}\n            </h3>\n        </div>\n    </div>\n\n    <wp-relations-hierarchy-row\n            work-package="$ctrl.workPackage"\n            related-work-package="$ctrl.workPackage.parent"\n            relation-type="parent"></wp-relations-hierarchy-row>\n\n    <div class="relation-row self">\n        <div class="grid-block v-align hierarchy-item">\n            <div class="grid-content medium-7 collapse">\n                <span style="padding-left: 20px"\n                      class="wp-relations-hierarchy-subject">\n                    <span ng-bind="$ctrl.workPackage.subjectWithType">\n                    </span>\n                </span>\n            </div>\n        </div>\n    </div>\n\n    <wp-relations-hierarchy-row\n            work-package="$ctrl.workPackage"\n            related-work-package="relatedWorkPackage"\n            indent-by="40"\n            relation-type="child"\n            ng-repeat="relatedWorkPackage in $ctrl.workPackage.children"></wp-relations-hierarchy-row>\n\n    <wp-relations-create\n            fixed-relation-type="children"\n            work-package="$ctrl.workPackage"\n            template="add-child"\n            ng-if="$ctrl.canModifyHierarchy && $ctrl.canHaveChildren"></wp-relations-create>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-relations/wp-relations.template.html",'<div>\n    <div ng-repeat="(type, relatedWorkPackages) in $ctrl.relationGroups">\n    <wp-relations-group header="type"\n                        group-by-work-package-type="$ctrl.groupByWorkPackageType"\n                        first-group="$first"\n                        related-work-packages="relatedWorkPackages"\n                        work-package="$ctrl.workPackage"></wp-relations-group>\n    </div>\n    <wp-relations-create related-work-packages="$ctrl.currentRelations"\n                     ng-if="$ctrl.canAddRelation"\n                     work-package="$ctrl.workPackage"\n                     template="dynamic-relation-types"></wp-relations-create>\n\n    <wp-relations-hierarchy work-package="$ctrl.workPackage"></wp-relations-hierarchy>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-table/sort-header/sort-header.directive.html",'<div class="generic-table--sort-header-outer" ng-switch="columnType">\n  <span class="generic-table--sort-header" ng-switch-when="hierarchy">\n    <span\n       class="hierarchy-header--icon"\n       ng-click="toggleHierarchy($event)"\n       ng-attr-title="{{ text.toggleHierarchy }}"\n       tabindex="-1"\n       aria-hidden="true">\n      <op-icon icon-classes="icon {{ hierarchyIcon }}"></op-icon>\n    </span>\n    <a href="javascript://"\n       ng-if="sortable"\n       ng-class="[directionClass && \'sort\', directionClass]"\n       lang-attribute\n       lang="{{locale}}"\n       id="{{ column.id }}">{{column.name}}</a>\n    <a ng-if="!sortable">{{column.name}}</a>\n    <op-icon icon-classes="dropdown-indicator icon-small icon-pulldown"\n             icon-title="{{ text.openMenu }}"></op-icon>\n  </span>\n  <span class="generic-table--sort-header" ng-switch-when="relation">\n    <a ng-attr-title="{{ column.name }}">\n      <op-icon icon-classes="icon-context icon-relations relations-header--icon"></op-icon>\n      {{columnName}}\n    </a>\n    <op-icon icon-classes="dropdown-indicator icon-small icon-pulldown"\n             icon-title="{{ text.openMenu }}"></op-icon>\n  </span>\n  <span class="generic-table--sort-header" ng-switch-default>\n    <a href="javascript://"\n       ng-if="sortable"\n       ng-class="[directionClass && \'sort\', directionClass]"\n       lang-attribute\n       lang="{{locale}}"\n       id="{{ column.id }}">{{column.name}}</a>\n    <a ng-if="!sortable">{{column.name}}</a>\n      <op-icon icon-classes="dropdown-indicator icon-small icon-pulldown"\n               icon-title="{{ text.openMenu }}"></op-icon>\n  </span>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-table/timeline/container/wp-timeline-container.html",'<div class="wp-table-timeline--outer">\n  <div class="wp-table-timeline--container">\n    <wp-timeline-header></wp-timeline-header>\n    <wp-timeline-static-elements></wp-timeline-static-elements>\n    <wp-timeline-grid></wp-timeline-grid>\n    <wp-timeline-relations></wp-timeline-relations>\n    <div class="wp-table-timeline--body"></div>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-table/timeline/header/wp-timeline-header.html",'<div class="wp-table-timeline--header">\n  <div class="wp-table-timeline--header-inner"></div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-table/wp-table.directive.html",'<div class="work-packages-split-view--tabletimeline-content">\n  <div class="work-packages-tabletimeline--table-side work-package-table--container">\n    <table class="keyboard-accessible-list generic-table work-package-table">\n      <colgroup>\n        <col highlight-col ng-repeat="column in columns track by column.href"/>\n        <col highlight-col/>\n      </colgroup>\n      <caption class="hidden-for-sighted">\n        <span ng-bind="::text.tableSummary"></span>\n        <span id="wp-table-sort-summary"></span>\n        <span ng-bind="::text.tableSummaryHints"></span>\n      </caption>\n      <thead class="-sticky">\n      <tr>\n        <th sort-header ng-repeat="column in columns track by column.href"\n            has-dropdown-menu\n            class="wp-table--table-header"\n            collision-container=".work-packages-tabletimeline--table-side"\n            target="columnContextMenu"\n            locals="columns, column"\n            locale="column.custom_field && columns.custom_field.name_locale || locale"\n            header-column="column">\n        </th>\n        <th class="wp-table--details-column -short hide-when-print">\n          <div class="generic-table--sort-header-outer">\n            <accessible-by-keyboard\n              execute="openColumnsModal()"\n              link-class="wp-table--columns-selection"\n              link-title="{{ ::text.addColumns }}"\n              link-aria-label="{{ ::text.addColumns }}">\n              <op-icon icon-classes="icon-button icon-small icon-add"></op-icon>\n            </accessible-by-keyboard>\n          </div>\n        </th>\n      </tr>\n      </thead>\n      <tbody class="work-package--empty-tbody" ng-if="query.hasError || rowcount === 0">\n      <tr id="empty-row-notification">\n        <td colspan="{{ columns.length + 1 }}">\n          <span ng-if="!query.hasError">\n            <op-icon icon-classes="icon-info1 icon-context"></op-icon>\n            <strong ng-bind="text.noResults.title"></strong>\n            <span ng-bind="text.noResults.description"></span>\n          </span>\n          <span ng-if="query.hasError">\n            <op-icon icon-classes="wp-table--faulty-query-icon icon-warning icon-context"></op-icon>\n            <strong ng-bind="text.faultyQuery.title"></strong>\n            <span ng-bind="text.faultyQuery.description"></span>\n          </span>\n        </td>\n      </tr>\n      </tbody>\n      <tbody class="results-tbody work-package--results-tbody">\n      </tbody>\n      <tbody wp-inline-create\n             ng-if="!!table"\n             project-identifier="projectIdentifier"\n             table="table">\n      </tbody>\n      <tfoot>\n        <tr wp-table-sums-row></tr>\n      </tfoot>\n    </table>\n  </div>\n\n  <div class="work-packages-tabletimeline--timeline-side">\n    <wp-timeline-container></wp-timeline-container>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/components/wp-watchers/wp-watcher-entry.directive.html",'<div class="inplace-edit--read watcher-element">\n  <span class="inplace-editing--trigger-container">\n    <span class="inplace-editing--trigger-link"\n          focus-within="accessible-by-keyboard">\n      <span class="inplace-editing--container">\n        <span class="inplace-edit--read-value" >\n          <span data-ng-class="{\'deleting\': $ctrl.state.deleting}">\n            <a ng-href="{{ $ctrl.watcher.showUser.href }}">\n              <img ng-attr-src="{{ $ctrl.watcher.avatar }}"\n                   ng-show="$ctrl.watcher.avatar"\n                   class="avatar-mini">\n              <span class="work-package--watcher-name">{{ $ctrl.watcher.name }}</span>\n            </a>\n          </span>\n        </span>\n        <accessible-by-keyboard execute="$ctrl.remove()"\n                                link-aria-label="{{ ::$ctrl.text.remove }}"\n                                link-title="{{ ::$ctrl.text.remove }}"\n                                link-class="inplace-edit--icon-wrapper remove-watcher-btn">\n          <op-icon icon-classes="icon-remove" icon-title="{{ ::$ctrl.text.remove }}"></op-icon>\n        </accessible-by-keyboard>\n      </span>\n    </span>\n  </span>\n</div>\n\n\n\n');
}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/components/accessible_by_keyboard.html",'<a data-ng-click=\'isDisabled || execute({ "$event": $event })\'\n   role="link"\n   class=\'{{ linkClass }}\'\n   ng-disabled="isDisabled"\n   title=\'{{ linkTitle }}\'\n   aria-label="{{ linkAriaLabel }}"\n   data-click-on-keypress="[13, 32]"\n   href>\n   <span ng-transclude class=\'{{ spanClass }}\'></span>\n</a>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/components/accessible_checkbox.html",'<span class="accessible-checkbox">\n  <label for="{{ checkboxId }}" class="hidden-for-sighted">{{ checkboxTitle }}</label>\n  <input type="checkbox"\n         ng-model="model"\n         name="{{ name }}"\n         value="{{ checkboxValue }}"\n         id="{{ checkboxId }}"/>\n</span>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/components/accessible_element.html",'<span>\n  <span aria-hidden="true" role="presentation" tabindex="-1" ng-bind="visibleText"></span>\n  <span class="hidden-for-sighted" ng-bind="readableText"></span>\n</span>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/components/authoring.html","<span ng-bind-html=\"I18n.t('js.label_added_time_by', { author: authorLink, age: timestamp })\"></span>\n")}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/components/empty_element.html","<accessible-element visible-text=\"'-'\" readable-text=\"I18n.t('js.timelines.empty')\">\n</accessible-element>\n")}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/components/icon_wrapper.html",'<span class="icon-context icon-button icon-{{iconName}} {{cssClass}}" title="{{title}}">\n  <span class="hidden-for-sighted">{{title}}</span>\n</span>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/components/modal_loading.html",'<div ng-if="isLoading"\n     id="ajax-indicator">\n  <span>{{ I18n.t(\'js.label_loading\') }}</span>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/components/notifications.html",'<div class="notification-box--wrapper">\n  <div class="notification-box--casing">\n    <notification-box data-content="notification" data-ng-repeat="notification in stack"></notification-box>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/components/selectable_title.html",'<div class="title-container">\n  <div class="text">\n    <h2>\n      <span has-dropdown-menu\n            target="wpQuerySelectService"\n            collision-container="#content"\n            locals="selectedTitle">\n        <accessible-by-keyboard\n                link-class="wp-table--query-menu-link"\n                link-title="{{ I18n.t(\'js.toolbar.search_query_title\') }}" >\n          <op-icon icon-classes="icon-pulldown icon-button icon-small hide-when-print"></op-icon>\n          {{ selectedTitle | characters:50 }}\n        </accessible-by-keyboard>\n      </span>\n    </h2>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/components/sort_link.html",'<a href="" ng-click="sort()" ng-transclude class="sort" ng-class="sortDirection" title="{{sortTitle}}"></a>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/components/upload-progress.html",'<li>\n  <span class="filename">{{file}}</span>\n  <progress data-ng-hide="completed" max="100" value="{{value}}">{{value}}%</progress>\n  <span class="upload-completed" data-ng-show="completed || error">\n    <op-icon icon-classes="icon-close" data-ng-show="error"></op-icon>\n    <op-icon icon-classes="icon-checkmark" data-ng-show="completed"></op-icon>\n  </span>\n</li>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/components/user_field.html",'<span class="user-avatar--container">\n  <img class="user-avatar--avatar"\n       ng-if="userName && user.avatar"\n       ng-src="{{user.avatar}}" alt="Avatar" title="{{userName}}" />\n  <span class="user-avatar--user-with-role">\n    <span class="user-avatar--user" ng-if="userName">\n      <a ng-if="user.subtype !== \'Group\'" ng-href="{{ userPath(user.id) }}" ng-bind="user.name"\n         class="user-field-user-link"/>\n      <span ng-if="user.subtype == \'Group\'" ng-bind="user.name" class="user-field-user-link"/>\n    </span>\n    <span class="user-avatar--user" ng-if="!userName"> - </span>\n    <span class="user-avatar--role" ng-if="user.role" ng-bind="user.role"/>\n  </span>\n</span>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/components/zoom_slider.html",'<label for="{{ ::ctrl.sliderId }}" class="hidden-for-sighted"\n  ng-bind="::labelText"></label>\n<input type="range" id="{{ ::ctrl.sliderId }}"\n  min="{{ ::ctrl.minValue }}" max="{{ ::ctrl.maxValue }}"\n  value="{{ ctrl.selectedScaleIndex + 1 }}">\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/layout/menu_item.html",'<li>\n  <a ng-href="{{path}}"\n     object-id="objectId"\n     ng-class="[type, normalizedTitle]"\n     data-ui-route="{{ uiRouteStateName }}"\n     data-ui-route-params="{{ uiRouteParams }}"\n     data-ui-route=""\n     lang="{{lang || \'en\'}}"\n     title="{{title}}">\n    <span class="menu-item--title ellipsis" ng-bind="title"></span>\n</li>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/timelines/timeline_column_data.html","<span class=\"tl-historical\" ng-if=\"historicalDataDiffers\">\n  <span ng-bind=\"historicalData\" class=\"historical-data\"></span>\n  <a href=\"javascript://\" title=\"{{labelTimelineChanged}}\"\n     ng-class=\"[\n       'icon',\n       'tl-icon-' + (isDateColumn && historicalDateKind || 'changed'),\n       'icon-' + (isDateColumn && 'time' || 'arrow-left-right')\n     ]\"></a>\n  <br/>\n</span>\n\n<span ng-class=\"[\n  'tl-column',\n  isDateColumn && 'tl-current',\n  isDateColumn && historicalDataDiffers && 'tl-' + historicalDateKind\n]\" ng-bind=\"columnData\"></span>\n")}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/timelines/timeline_table.html",'<table class="tl-main-table">\n  <thead>\n    <tr>\n      <th class="tl-first-column" ng-style="{height: height}">{{I18n.t(\'js.timelines.filter.column.name\')}}</th>\n      <th timeline-column-name\n          ng-repeat="columnName in columns"\n          column-name="columnName"\n          locale-prefix="js.timelines.filter.column"\n          custom-fields="timeline.custom_fields"></th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr timeline-grouping-label\n        ng-repeat-start="row in rows"\n        ng-if="isGrouping"\n        ng-show="showGroupingLabel()">\n      <td class="tl-grouping" colspan="{{columns.length + 1}}">\n        <span class="tl-word-ellipsis">{{row.firstLevelGroupingName}}</span>\n      </td>\n    </tr>\n\n    <tr timeline-table-row\n        ng-repeat-end\n        ng-class="{\n          \'tl-first-row\': $first,\n          \'tl-last-row\': $last,\n          \'tl-project-row\': rowObjectType === \'Project\'\n        }"\n        ng-if="!(hideTreeRoot && $first || rowObjectType === \'Project\' && (excludeEmpty && !row.childNodes)) && (rowObjectType === \'Project\' && row.level === 1 || !!(row.ancestors | ancestorsExpanded))">\n\n      <!-- tree node expansion toggle -->\n\n      <td ng-class="[\n            \'tl-first-column\',\n            \'tl-indent-\' + indent,\n            row.childNodes.length > 0 && (row.isExpanded() && \'tl-expanded\' || \'tl-collapsed\')\n          ]">\n        <a ng-class="[\'icon-context icon-small\', (row.isExpanded() && \'icon-pulldown\' || \'icon-arrow-right5\')]" ng-click="toggleRowExpansion(row)" ng-if="row.childNodes.length > 0"></a>\n\n        <span class="tl-word-ellipsis">\n          <span ng-if="changeDetected">\n            <a title="{{I18n.t(\'js.timelines.change\')}}"\n               ng-class="{\n                 \'icon icon-add\': rowObject.isNewlyAdded(),\n                 \'icon icon-delete\': rowObject.isDeleted(),\n                 \'icon icon-arrow-left-right\': !rowObject.isDeleted() && !rowObject.isNewlyAdded()\n               }" />\n          </span>\n\n          <span>\n            <a href="{{row.url}}" title="{{row.text}}" target="_blank" ng-class="{\'tl-discreet-link\': true, \'tl-project\': rowObjectType === \'Project\'}">{{ row.text | characters:40 }}</a>\n          </span>\n\n          <div ng-show="row.lastVisible" class="tl-invisible" style="height: 15px; width: 15px;"></div>\n        </span>\n      </td>\n\n      <td timeline-column-data\n          ng-repeat="columnName in columns"\n          column-name="columnName"\n          row-object="rowObject"\n          timeline="timeline"\n          custom-fields="timeline.custom_fields">\n      </td>\n    </tr>\n  </tbody>\n\n</table>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/timelines/timeline_table_container.html",'<div ng-class="{timeline: !warning, \'tl-under-construction\': underConstruction}" >\n  <div class="tl-left">\n    <div class="tl-left-top tl-decoration"></div>\n    <div class="tl-left-main">\n      <timeline-table/>\n    </div>\n  </div>\n  <div class="tl-right">\n    <div class="tl-right-top tl-decoration"></div>\n    <div class="tl-right-main"></div>\n  </div>\n  <div class="tl-scrollcontainer">\n    <!--div class="tl-decoration"></div-->\n    <div class="tl-chart" ng-hide="timeline.options.hide_chart" tabindex="0"></div>\n  </div>\n  <div class="tl-tooltip fade above in">\n    <div class="tl-tooltip-inner"></div>\n    <div class="tl-tooltip-arrow"></div>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/timelines/toolbar.html",'<div class="tl-toolbar legacy-actions--inline-label" ng-show="!warning">\n  <div class="tl-toolbar-container">\n    <a href="javascript://" ng-if=\'ctrl.timeline.USE_MODALS\' ng-click="ctrl.timeline.addPlanningElement()" title="{{I18n.t(\'js.timelines.new_work_package\')}}" class="icon icon-add">\n      <span class="hidden-for-sighted">{{ I18n.t(\'js.timelines.new_work_package\') }}</span>\n    </a>\n  </div>\n\n  <div class="tl-toolbar-container">\n    <a href="javascript://" title="{{ I18n.t(\'js.timelines.zoom.out\') }}" class="icon icon-zoom-out" ng-click="ctrl.decreaseZoom()"></a>\n  </div>\n\n  <div class="tl-toolbar-container" style="width: 100px; height: 20px;">\n    <zoom-slider scales="::ctrl.timeline.ZOOM_SCALES"\n      selected-scale="ctrl.currentScale"></zoom-slider>\n  </div>\n\n  <div class="tl-toolbar-container">\n    <a href="javascript://" title="{{ I18n.t(\'js.timelines.zoom.in\') }}" class="icon icon-zoom-in" ng-click="ctrl.increaseZoom()"></a>\n  </div>\n\n\n  <div class="tl-toolbar-container">\n    <form>\n      <label for="tl-toolbar-zooms" class="hidden-for-sighted">{{ I18n.t(\'js.tl_toolbar.zooms\') }}</label>\n      <select id="tl-toolbar-zooms" name="zooms" ng-model="ctrl.currentScale" ng-options="scale as I18n.t(\'js.\' + ctrl.timeline.ZOOM_CONFIGURATIONS[scale].name) for scale in ctrl.timeline.ZOOM_SCALES">\n      </select>\n    </form>\n  </div>\n\n  <div class="tl-toolbar-container">\n    <a href="javascript://" title="{{ I18n.t(\'js.timelines.outline\') }}" class="icon icon-outline" ng-click="ctrl.resetOutline()"></a>\n  </div>\n\n  <div class="tl-toolbar-container">\n    <form>\n      <label for="tl-toolbar-outlines" class="hidden-for-sighted">{{ I18n.t(\'js.tl_toolbar.outlines\') }}</label>\n      <select id="tl-toolbar-outlines" name="outlines" ng-model="ctrl.currentOutlineLevel" ng-options="I18n.t(\'js.\' + ctrl.timeline.OUTLINE_CONFIGURATIONS[level].name) for level in ctrl.timeline.OUTLINE_LEVELS">\n      </select>\n    </form>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/work_packages/activities/_link.html",'<a id ="{{ activityHtmlId }}-link"\n   ng-bind="\'#\' + activityNo"\n   ui-sref="work-packages.show.activity({ workPackageId: workPackageId, \'#\': activityHtmlId})"></a>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/work_packages/activities/_revision.html",'<div class="work-package-details-activities-activity-contents"\n     tabindex="0"\n     aria-label="{{ activityLabel }}">\n  <div class="comments-number">\n    <activity-link work-package="workPackage"\n                   activity-no="activityNo"\n                   on-focus="focus()"\n                   on-blur="blur()"></activity-link>\n  </div>\n  <div ng-if="userAvatar">\n    <img class="avatar" ng-src="{{ userAvatar }}" alt="Avatar" title="{{userName}}" />\n  </div>\n  <span class="user" ng-if="userActive">\n    <a ng-href="{{ userPath }}"\n       aria-label="{{ userLabel }}"\n       ng-bind="userName"></a>\n  </span>\n  <span class="user" ng-if="!userActive">{{ userName }}</span>\n  <span class="revision-activity--revision-link date"></span>\n  <span class="user-comment wiki">\n    <span class="message" ng-bind-html="message"/>\n  </span>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/work_packages/activities/_user.html",'<div class="work-package-details-activities-activity-contents"\n     tabindex="0"\n     aria-label="{{ activityLabelWithComment || activityLabel  }}"\n     ng-mouseover="focus()"\n     ng-mouseout="blur()">\n  <div ng-if="userAvatar">\n    <img class="avatar" ng-src="{{ userAvatar }}" alt="Avatar" title="{{userName}}" />\n  </div>\n  <span class="user" ng-if="userActive">\n    <a ng-href="{{ userPath }}"\n       aria-label="{{ userLabel }}"\n       ng-bind="userName">\n    </a>\n  </span>\n  <span class="user" ng-if="!userActive">{{ userName }}</span>\n  <span class="date">{{ isInitial ? I18n.t(\'js.label_created_on\') : I18n.t(\'js.label_updated_on\') }} <op-date-time date-time-value="activity.createdAt" /></span>\n  <div class="comments-number">\n    <activity-link work-package="workPackage"\n                   activity-no="activityNo"\n                   ></activity-link>\n    <div class="comments-icons"\n         ng-show="activity._type == \'Activity::Comment\' && (focussing() || accessibilityModeEnabled)">\n      <accessible-by-keyboard ng-if="userCanQuote"\n                              execute="quoteComment()"\n                              link-title="{{ I18n.t(\'js.label_quote_comment\') }}">\n        <op-icon icon-classes="action-icon icon-quote" icon-title="{{ I18n.t(\'js.label_quote_comment\') }}"></op-icon>\n      </accessible-by-keyboard>\n      <accessible-by-keyboard ng-if="userCanEdit"\n                              execute="editComment()"\n                              link-title="{{ I18n.t(\'js.label_edit_comment\') }}"\n                              class="edit-activity--{{activityNo}}">\n        <op-icon icon-classes="action-icon icon-edit" icon-title="{{ I18n.t(\'js.label_edit_comment\') }}"></op-icon>\n      </accessible-by-keyboard>\n    </div>\n  </div>\n  <div class="user-comment wiki">\n    <div ng-if="inEdit" class="inplace-edit">\n      <div class="user-comment--form inplace-edit--write-value">\n        <div class="textarea-wrapper" ng-class="{\'-preview\': isPreview}">\n          <textarea wiki-toolbar\n                    msd-elastic="\\n"\n                    class="edit-comment-text focus-input inplace-edit--textarea"\n                    id="inplace-edit--write-value--activity-comment"\n                    ng-hide="isPreview"\n                    ng-model="activity.editedComment"\n                    preview-toggle="toggleCommentPreview()"\n                    required>\n          </textarea>\n          <div class="inplace-edit--preview" ng-if="isPreview">\n            <span bind-unescaped-html="previewHtml"></span>\n          </div>\n          <div class="inplace-edit--dashboard">\n            <div class="inplace-edit--controls">\n              <accessible-by-keyboard execute="updateComment()"\n                                      ng-disabled="editCommentForm.$invalid"\n                                      class="inplace-edit--control inplace-edit--control--save">\n                <op-icon icon-classes="action-icon icon-checkmark" icon-title="{{ I18n.t(\'js.button_save\') }}"></op-icon>\n              </accessible-by-keyboard>\n              <accessible-by-keyboard execute="cancelEdit()"\n                                      class="inplace-edit--control inplace-edit--control--cancel">\n                <op-icon icon-classes="action-icon icon-close" icon-title="{{ I18n.t(\'js.button_cancel\') }}"></op-icon>\n              </accessible-by-keyboard>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <span ng-if="!inEdit"\n          class="message"\n          ng-show="activity._type == \'Activity::Comment\'"\n          bind-unescaped-html="postedComment"/>\n    <ul class="work-package-details-activities-messages" ng-if="!isInitial">\n      <li ng-repeat="detail in details track by $index">\n        <span class="message" ng-bind-html="detail"/>\n      </li>\n    </ul>\n  </div>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/work_packages/menus/details_more_dropdown_menu.html",'<div class="dropdown dropdown-relative dropdown-anchor-right dropdown-anchor-top" id="moreDropdown">\n  <ul class="dropdown-menu" ng-if="actionsAvailable">\n    <li ng-repeat="(action, properties) in permittedActions"\n        class="{{action}}">\n      <!-- The hrefs with empty URLs are necessary for IE10 to focus these links\n      properly. Thus, don\'t remove the hrefs or the empty URLs! -->\n      <a href="" focus="{{ !$index }}"\n         ng-class="{{ action }}"\n         ng-click="triggerMoreMenuAction(action, properties.link)">\n        <op-icon icon-classes="icon-context {{ properties.css.join(\' \') }}"></op-icon>\n        {{ I18n.t(\'js.button_\' + action) }}\n      </a>\n    </li>\n  </ul>\n</div>\n')}])},function(module,exports){angular.module("openproject.templates").run(["$templateCache",function(c){c.put("/templates/work_packages/query_columns.html",'<table style="border-collapse: collapse; border:0;">\n  <tbody>\n    <tr>\n      <td style="padding-left:3px">\n        <label for="available_columns">{{ I18n.t(\'js.description_available_columns\') }}</label>\n        <br/>\n        <select id="available_columns"\n                multiple="multiple"\n                name="available_columns[]"\n                ng-model="markedAvailableColumns"\n                ng-options="column.name as column.title for column in availableUnusedColumns"\n                size="10"\n                style="width:150px">\n        </select>\n      </td>\n      <td class="table-buttons" align="center" valign="middle">\n        <label class="hidden-for-sighted" for="add_selected_columns">{{ I18n.t(\'js.label_add_selected_columns\') }}</label>\n        <input id="add_selected_columns"\n               type="button"\n               value="→"\n               ng-click="showColumns(markedAvailableColumns)"\n               title="{{ I18n.t(\'js.label_add_selected_columns\') }}"\n               ng-disabled="loading"><br>\n        <label class="hidden-for-sighted" for="add_selected_columns">{{ I18n.t(\'js.label_remove_columns\') }}</label>\n        <input type="button"\n               value="←"\n               ng-click="hideColumns(markedSelectedColumns)"\n               title="{{ I18n.t(\'js.label_remove_columns\') }}"\n               ng-disabled="loading">\n      </td>\n      <td>\n        <label for="selected_columns">{{ I18n.t(\'js.description_selected_columns\') }}</label>\n        <br/>\n        <select id="selected_columns"\n                name="c[]"\n                multiple="multiple"\n                ng-model="markedSelectedColumns"\n                name="c[]"\n                size="10"\n                style="width:150px">\n          <option ng-repeat="column in columns" value="{{ column.name }}">{{ column.title }}</option>\n        </select>\n      </td>\n      <td class="table-buttons" align="center" valign="middle">\n        <label class="hidden-for-sighted" for="move_up">{{ I18n.t(\'js.label_sort_higher\') }}</label>\n        <input id="move_up" type="button" value="↑" ng-click="moveSelectedColumnBy(-1);" title="{{ I18n.t(\'js.label_sort_higher\') }}" ng-disabled="loading"><br>\n        <label class="hidden-for-sighted" for="move_up">{{ I18n.t(\'js.label_sort_lower\') }}</label>\n        <input id="move_down" type="button" value="↓" ng-click="moveSelectedColumnBy(1);" title="{{ I18n.t(\'js.label_sort_lower\') }}" ng-disabled="loading">\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}])},function(module,exports){module.exports=function(){throw new Error("define cannot be used indirect")}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(34)(132)},function(module,exports,__webpack_require__){__webpack_require__(264)}]);