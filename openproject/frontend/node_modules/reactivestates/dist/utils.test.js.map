{"version":3,"sources":["../src/utils.test.ts"],"names":["InputState_1","require","utils_1","describe","it","switchState","input","value","pathA","IfThen","s","pathB","changes$","subscribe","assert","isFalse","hasValue","putValue","isTrue"],"mappings":"oEAAA,IAAAA,aAAAC,QAAA,gBAEAC,QAAAD,QAAA,WAEAE,SAAS,QAAS,WAEdC,GAAG,SAAU,WAET,IAAMC,EAAcL,aAAAM,MAAiB,GAC/BC,EAAQP,aAAAM,MAAM,KAKdE,EAAuBN,QAAAO,OAAOJ,EAAa,SAAAK,GAAK,OAAM,IAANA,GAASH,GACzDI,EAAuBT,QAAAO,OAAOJ,EAAa,SAAAK,GAAK,OAAM,IAANA,GAASH,GAC/DC,EAAMI,WAAWC,YACjBF,EAAMC,WAAWC,YAGjBC,OAAOC,QAAQP,EAAMQ,YACrBF,OAAOC,QAAQJ,EAAMK,YAGrBX,EAAYY,SAAS,GACrBH,OAAOI,OAAOV,EAAMQ,YACpBF,OAAOC,QAAQJ,EAAMK,YAGrBX,EAAYY,SAAS,GACrBH,OAAOC,QAAQP,EAAMQ,YACrBF,OAAOI,OAAOP,EAAMK","file":"utils.test.js","sourcesContent":["import {input} from \"./InputState\";\nimport {State} from \"./State\";\nimport {IfThen} from \"./utils\";\n\ndescribe(\"Utils\", function () {\n\n    it(\"IfThen\", function () {\n        // switch and value to process differently based on the switch\n        const switchState = input<0 | 1 | 2>(0);\n        const value = input(\"a\");\n\n        // 0. do noting\n        // 1. path A\n        // 2. path B\n        const pathA: State<string> = IfThen(switchState, s => s === 1, value);\n        const pathB: State<string> = IfThen(switchState, s => s === 2, value);\n        pathA.changes$().subscribe();\n        pathB.changes$().subscribe();\n\n        // Test: switch = 0\n        assert.isFalse(pathA.hasValue());\n        assert.isFalse(pathB.hasValue());\n\n        // Test: switch = 1\n        switchState.putValue(1);\n        assert.isTrue(pathA.hasValue());\n        assert.isFalse(pathB.hasValue());\n\n        // Test: switch = 2\n        switchState.putValue(2);\n        assert.isFalse(pathA.hasValue());\n        assert.isTrue(pathB.hasValue());\n    });\n\n});\n"],"sourceRoot":"/"}