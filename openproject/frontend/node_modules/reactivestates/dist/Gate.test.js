"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var InputState_1=require("./InputState"),Gate_1=require("./Gate"),Combiner_1=require("./Combiner");describe("Gate",function(){it("does not pass input after creation",function(){var e=InputState_1.input(1);Gate_1.gateFor(e).values$().subscribe(function(){throw new Error})}),it("pass input after passOne()",function(e){var t=InputState_1.input(1),a=Gate_1.gateFor(t);a.values$().subscribe(function(t){assert.equal(t,1),e()}),a.passOne()}),it("pass inputs on every passOne() call",function(){var e=InputState_1.input(1),t=Gate_1.gateFor(e),a=[];t.values$().subscribe(function(e){a.push(e)}),t.passOne(),e.putValue(2),t.passOne(),assert.deepEqual(a,[1,2])}),it("pass input after passOne() but not following values",function(e){var t=InputState_1.input(1),a=Gate_1.gateFor(t);a.values$().subscribe(function(e){assert.equal(e,1)}),a.passOne(),t.putValue(2),e()}),it("pass nonValue input with passOne",function(e){var t=InputState_1.input(),a=Gate_1.gateFor(t),s=0;a.nonValues$().subscribe(function(){2===++s&&e()}),a.passOne()}),it("correctly passes nonValues and values",function(){var e=InputState_1.input(),t=Gate_1.gateFor(e),a=[];t.changes$().subscribe(function(e){a.push(e)}),t.passOne(),t.passOne(),e.putValue(1),t.passOne(),t.passOne(),e.putValue(2),t.passOne(),t.passOne(),e.clear(),t.passOne(),t.passOne(),assert.deepEqual(a,[void 0,void 0,void 0,1,1,2,2,void 0,void 0])}),it("correctly passes nonValues and values from a combined input",function(){var e=InputState_1.input(),t=InputState_1.input(),a=InputState_1.input(),s=Combiner_1.combine(e,t,a),n=Gate_1.gateFor(s),u=[];n.changes$().subscribe(function(e){u.push([s.isNonValue(e),e])}),n.passOne(),e.putValue(1),n.passOne(),t.putValue(2),n.passOne(),a.putValue(3),n.passOne(),t.clear(),n.passOne(),assert.deepEqual(u,[[!0,void 0],[!0,[void 0,void 0,void 0]],[!0,[1,void 0,void 0]],[!0,[1,2,void 0]],[!1,[1,2,3]],[!0,[1,void 0,3]]])})});
//# sourceMappingURL=Gate.test.js.map
